var Hw=Object.defineProperty;var qw=(e,r,n)=>r in e?Hw(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;var Hr=(e,r,n)=>qw(e,typeof r!="symbol"?r+"":r,n);function Ww(e,r){for(var n=0;n<r.length;n++){const i=r[n];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in e)){const d=Object.getOwnPropertyDescriptor(i,l);d&&Object.defineProperty(e,l,d.get?d:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(l){if(l.ep)return;l.ep=!0;const d=n(l);fetch(l.href,d)}})();var Gw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fd={exports:{}},Fa={},Ud={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function Lw(){if(Kp)return tt;Kp=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.iterator;function k(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,M={};function R(L,de,Re){this.props=L,this.context=de,this.refs=M,this.updater=Re||A}R.prototype.isReactComponent={},R.prototype.setState=function(L,de){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,de,"setState")},R.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function $(){}$.prototype=R.prototype;function G(L,de,Re){this.props=L,this.context=de,this.refs=M,this.updater=Re||A}var J=G.prototype=new $;J.constructor=G,b(J,R.prototype),J.isPureReactComponent=!0;var ce=Array.isArray,O=Object.prototype.hasOwnProperty,te={current:null},oe={key:!0,ref:!0,__self:!0,__source:!0};function z(L,de,Re){var U,Pe={},Be=null,be=null;if(de!=null)for(U in de.ref!==void 0&&(be=de.ref),de.key!==void 0&&(Be=""+de.key),de)O.call(de,U)&&!oe.hasOwnProperty(U)&&(Pe[U]=de[U]);var me=arguments.length-2;if(me===1)Pe.children=Re;else if(1<me){for(var _e=Array(me),E=0;E<me;E++)_e[E]=arguments[E+2];Pe.children=_e}if(L&&L.defaultProps)for(U in me=L.defaultProps,me)Pe[U]===void 0&&(Pe[U]=me[U]);return{$$typeof:e,type:L,key:Be,ref:be,props:Pe,_owner:te.current}}function W(L,de){return{$$typeof:e,type:L.type,key:de,ref:L.ref,props:L.props,_owner:L._owner}}function H(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function ue(L){var de={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Re){return de[Re]})}var ge=/\/+/g;function j(L,de){return typeof L=="object"&&L!==null&&L.key!=null?ue(""+L.key):de.toString(36)}function I(L,de,Re,U,Pe){var Be=typeof L;(Be==="undefined"||Be==="boolean")&&(L=null);var be=!1;if(L===null)be=!0;else switch(Be){case"string":case"number":be=!0;break;case"object":switch(L.$$typeof){case e:case r:be=!0}}if(be)return be=L,Pe=Pe(be),L=U===""?"."+j(be,0):U,ce(Pe)?(Re="",L!=null&&(Re=L.replace(ge,"$&/")+"/"),I(Pe,de,Re,"",function(E){return E})):Pe!=null&&(H(Pe)&&(Pe=W(Pe,Re+(!Pe.key||be&&be.key===Pe.key?"":(""+Pe.key).replace(ge,"$&/")+"/")+L)),de.push(Pe)),1;if(be=0,U=U===""?".":U+":",ce(L))for(var me=0;me<L.length;me++){Be=L[me];var _e=U+j(Be,me);be+=I(Be,de,Re,_e,Pe)}else if(_e=k(L),typeof _e=="function")for(L=_e.call(L),me=0;!(Be=L.next()).done;)Be=Be.value,_e=U+j(Be,me++),be+=I(Be,de,Re,_e,Pe);else if(Be==="object")throw de=String(L),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.");return be}function q(L,de,Re){if(L==null)return L;var U=[],Pe=0;return I(L,U,"","",function(Be){return de.call(Re,Be,Pe++)}),U}function ne(L){if(L._status===-1){var de=L._result;de=de(),de.then(function(Re){(L._status===0||L._status===-1)&&(L._status=1,L._result=Re)},function(Re){(L._status===0||L._status===-1)&&(L._status=2,L._result=Re)}),L._status===-1&&(L._status=0,L._result=de)}if(L._status===1)return L._result.default;throw L._result}var fe={current:null},ie={transition:null},Ne={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:ie,ReactCurrentOwner:te};function Ee(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:q,forEach:function(L,de,Re){q(L,function(){de.apply(this,arguments)},Re)},count:function(L){var de=0;return q(L,function(){de++}),de},toArray:function(L){return q(L,function(de){return de})||[]},only:function(L){if(!H(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},tt.Component=R,tt.Fragment=n,tt.Profiler=l,tt.PureComponent=G,tt.StrictMode=i,tt.Suspense=g,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ne,tt.act=Ee,tt.cloneElement=function(L,de,Re){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var U=b({},L.props),Pe=L.key,Be=L.ref,be=L._owner;if(de!=null){if(de.ref!==void 0&&(Be=de.ref,be=te.current),de.key!==void 0&&(Pe=""+de.key),L.type&&L.type.defaultProps)var me=L.type.defaultProps;for(_e in de)O.call(de,_e)&&!oe.hasOwnProperty(_e)&&(U[_e]=de[_e]===void 0&&me!==void 0?me[_e]:de[_e])}var _e=arguments.length-2;if(_e===1)U.children=Re;else if(1<_e){me=Array(_e);for(var E=0;E<_e;E++)me[E]=arguments[E+2];U.children=me}return{$$typeof:e,type:L.type,key:Pe,ref:Be,props:U,_owner:be}},tt.createContext=function(L){return L={$$typeof:f,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:d,_context:L},L.Consumer=L},tt.createElement=z,tt.createFactory=function(L){var de=z.bind(null,L);return de.type=L,de},tt.createRef=function(){return{current:null}},tt.forwardRef=function(L){return{$$typeof:u,render:L}},tt.isValidElement=H,tt.lazy=function(L){return{$$typeof:x,_payload:{_status:-1,_result:L},_init:ne}},tt.memo=function(L,de){return{$$typeof:_,type:L,compare:de===void 0?null:de}},tt.startTransition=function(L){var de=ie.transition;ie.transition={};try{L()}finally{ie.transition=de}},tt.unstable_act=Ee,tt.useCallback=function(L,de){return fe.current.useCallback(L,de)},tt.useContext=function(L){return fe.current.useContext(L)},tt.useDebugValue=function(){},tt.useDeferredValue=function(L){return fe.current.useDeferredValue(L)},tt.useEffect=function(L,de){return fe.current.useEffect(L,de)},tt.useId=function(){return fe.current.useId()},tt.useImperativeHandle=function(L,de,Re){return fe.current.useImperativeHandle(L,de,Re)},tt.useInsertionEffect=function(L,de){return fe.current.useInsertionEffect(L,de)},tt.useLayoutEffect=function(L,de){return fe.current.useLayoutEffect(L,de)},tt.useMemo=function(L,de){return fe.current.useMemo(L,de)},tt.useReducer=function(L,de,Re){return fe.current.useReducer(L,de,Re)},tt.useRef=function(L){return fe.current.useRef(L)},tt.useState=function(L){return fe.current.useState(L)},tt.useSyncExternalStore=function(L,de,Re){return fe.current.useSyncExternalStore(L,de,Re)},tt.useTransition=function(){return fe.current.useTransition()},tt.version="18.3.1",tt}var Yp;function e0(){return Yp||(Yp=1,Ud.exports=Lw()),Ud.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function Kw(){if(Zp)return Fa;Zp=1;var e=e0(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(u,g,_){var x,v={},k=null,A=null;_!==void 0&&(k=""+_),g.key!==void 0&&(k=""+g.key),g.ref!==void 0&&(A=g.ref);for(x in g)i.call(g,x)&&!d.hasOwnProperty(x)&&(v[x]=g[x]);if(u&&u.defaultProps)for(x in g=u.defaultProps,g)v[x]===void 0&&(v[x]=g[x]);return{$$typeof:r,type:u,key:k,ref:A,props:v,_owner:l.current}}return Fa.Fragment=n,Fa.jsx=f,Fa.jsxs=f,Fa}var Dp;function Yw(){return Dp||(Dp=1,Fd.exports=Kw()),Fd.exports}var a=Yw(),Y=e0();const Rg=Jf(Y),Zw=Ww({__proto__:null,default:Rg},[Y]);var El={},Od={exports:{}},hr={},Id={exports:{}},$d={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function Dw(){return Qp||(Qp=1,function(e){function r(ie,Ne){var Ee=ie.length;ie.push(Ne);e:for(;0<Ee;){var L=Ee-1>>>1,de=ie[L];if(0<l(de,Ne))ie[L]=Ne,ie[Ee]=de,Ee=L;else break e}}function n(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var Ne=ie[0],Ee=ie.pop();if(Ee!==Ne){ie[0]=Ee;e:for(var L=0,de=ie.length,Re=de>>>1;L<Re;){var U=2*(L+1)-1,Pe=ie[U],Be=U+1,be=ie[Be];if(0>l(Pe,Ee))Be<de&&0>l(be,Pe)?(ie[L]=be,ie[Be]=Ee,L=Be):(ie[L]=Pe,ie[U]=Ee,L=U);else if(Be<de&&0>l(be,Ee))ie[L]=be,ie[Be]=Ee,L=Be;else break e}}return Ne}function l(ie,Ne){var Ee=ie.sortIndex-Ne.sortIndex;return Ee!==0?Ee:ie.id-Ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var f=Date,u=f.now();e.unstable_now=function(){return f.now()-u}}var g=[],_=[],x=1,v=null,k=3,A=!1,b=!1,M=!1,R=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(ie){for(var Ne=n(_);Ne!==null;){if(Ne.callback===null)i(_);else if(Ne.startTime<=ie)i(_),Ne.sortIndex=Ne.expirationTime,r(g,Ne);else break;Ne=n(_)}}function ce(ie){if(M=!1,J(ie),!b)if(n(g)!==null)b=!0,ne(O);else{var Ne=n(_);Ne!==null&&fe(ce,Ne.startTime-ie)}}function O(ie,Ne){b=!1,M&&(M=!1,$(z),z=-1),A=!0;var Ee=k;try{for(J(Ne),v=n(g);v!==null&&(!(v.expirationTime>Ne)||ie&&!ue());){var L=v.callback;if(typeof L=="function"){v.callback=null,k=v.priorityLevel;var de=L(v.expirationTime<=Ne);Ne=e.unstable_now(),typeof de=="function"?v.callback=de:v===n(g)&&i(g),J(Ne)}else i(g);v=n(g)}if(v!==null)var Re=!0;else{var U=n(_);U!==null&&fe(ce,U.startTime-Ne),Re=!1}return Re}finally{v=null,k=Ee,A=!1}}var te=!1,oe=null,z=-1,W=5,H=-1;function ue(){return!(e.unstable_now()-H<W)}function ge(){if(oe!==null){var ie=e.unstable_now();H=ie;var Ne=!0;try{Ne=oe(!0,ie)}finally{Ne?j():(te=!1,oe=null)}}else te=!1}var j;if(typeof G=="function")j=function(){G(ge)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,q=I.port2;I.port1.onmessage=ge,j=function(){q.postMessage(null)}}else j=function(){R(ge,0)};function ne(ie){oe=ie,te||(te=!0,j())}function fe(ie,Ne){z=R(function(){ie(e.unstable_now())},Ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_continueExecution=function(){b||A||(b=!0,ne(O))},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return k},e.unstable_getFirstCallbackNode=function(){return n(g)},e.unstable_next=function(ie){switch(k){case 1:case 2:case 3:var Ne=3;break;default:Ne=k}var Ee=k;k=Ne;try{return ie()}finally{k=Ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ie,Ne){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var Ee=k;k=ie;try{return Ne()}finally{k=Ee}},e.unstable_scheduleCallback=function(ie,Ne,Ee){var L=e.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?L+Ee:L):Ee=L,ie){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=Ee+de,ie={id:x++,callback:Ne,priorityLevel:ie,startTime:Ee,expirationTime:de,sortIndex:-1},Ee>L?(ie.sortIndex=Ee,r(_,ie),n(g)===null&&ie===n(_)&&(M?($(z),z=-1):M=!0,fe(ce,Ee-L))):(ie.sortIndex=de,r(g,ie),b||A||(b=!0,ne(O))),ie},e.unstable_shouldYield=ue,e.unstable_wrapCallback=function(ie){var Ne=k;return function(){var Ee=k;k=Ne;try{return ie.apply(this,arguments)}finally{k=Ee}}}}($d)),$d}var Xp;function Qw(){return Xp||(Xp=1,Id.exports=Dw()),Id.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function Xw(){if(Jp)return hr;Jp=1;var e=e0(),r=Qw();function n(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function d(t,s){f(t,s),f(t+"Capture",s)}function f(t,s){for(l[t]=s,t=0;t<s.length;t++)i.add(s[t])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},v={};function k(t){return g.call(v,t)?!0:g.call(x,t)?!1:_.test(t)?v[t]=!0:(x[t]=!0,!1)}function A(t,s,o,c){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function b(t,s,o,c){if(s===null||typeof s>"u"||A(t,s,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function M(t,s,o,c,h,w,B){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=s,this.sanitizeURL=w,this.removeEmptyString=B}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){R[t]=new M(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];R[s]=new M(s,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){R[t]=new M(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){R[t]=new M(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){R[t]=new M(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){R[t]=new M(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){R[t]=new M(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){R[t]=new M(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){R[t]=new M(t,5,!1,t.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function G(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace($,G);R[s]=new M(s,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace($,G);R[s]=new M(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace($,G);R[s]=new M(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){R[t]=new M(t,1,!1,t.toLowerCase(),null,!1,!1)}),R.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){R[t]=new M(t,1,!1,t.toLowerCase(),null,!0,!0)});function J(t,s,o,c){var h=R.hasOwnProperty(s)?R[s]:null;(h!==null?h.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,o,h,c)&&(o=null),c||h===null?k(s)&&(o===null?t.removeAttribute(s):t.setAttribute(s,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(s=h.attributeName,c=h.attributeNamespace,o===null?t.removeAttribute(s):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,c?t.setAttributeNS(c,s,o):t.setAttribute(s,o))))}var ce=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),te=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),ue=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),ie=Symbol.iterator;function Ne(t){return t===null||typeof t!="object"?null:(t=ie&&t[ie]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Object.assign,L;function de(t){if(L===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+t}var Re=!1;function U(t,s){if(!t||Re)return"";Re=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ve){var c=ve}Reflect.construct(t,[],s)}else{try{s.call()}catch(ve){c=ve}t.call(s.prototype)}else{try{throw Error()}catch(ve){c=ve}t()}}catch(ve){if(ve&&c&&typeof ve.stack=="string"){for(var h=ve.stack.split(`
`),w=c.stack.split(`
`),B=h.length-1,D=w.length-1;1<=B&&0<=D&&h[B]!==w[D];)D--;for(;1<=B&&0<=D;B--,D--)if(h[B]!==w[D]){if(B!==1||D!==1)do if(B--,D--,0>D||h[B]!==w[D]){var re=`
`+h[B].replace(" at new "," at ");return t.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",t.displayName)),re}while(1<=B&&0<=D);break}}}finally{Re=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?de(t):""}function Pe(t){switch(t.tag){case 5:return de(t.type);case 16:return de("Lazy");case 13:return de("Suspense");case 19:return de("SuspenseList");case 0:case 2:case 15:return t=U(t.type,!1),t;case 11:return t=U(t.type.render,!1),t;case 1:return t=U(t.type,!0),t;default:return""}}function Be(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oe:return"Fragment";case te:return"Portal";case W:return"Profiler";case z:return"StrictMode";case j:return"Suspense";case I:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ue:return(t.displayName||"Context")+".Consumer";case H:return(t._context.displayName||"Context")+".Provider";case ge:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q:return s=t.displayName||null,s!==null?s:Be(t.type)||"Memo";case ne:s=t._payload,t=t._init;try{return Be(t(s))}catch{}}return null}function be(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(s);case 8:return s===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function me(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _e(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function E(t){var s=_e(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),c=""+t[s];if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,w=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return h.call(this)},set:function(B){c=""+B,w.call(this,B)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(B){c=""+B},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function P(t){t._valueTracker||(t._valueTracker=E(t))}function K(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return t&&(c=_e(t)?t.checked?"true":"false":t.value),t=c,t!==o?(s.setValue(t),!0):!1}function Z(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function X(t,s){var o=s.checked;return Ee({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function se(t,s){var o=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;o=me(s.value!=null?s.value:o),t._wrapperState={initialChecked:c,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function S(t,s){s=s.checked,s!=null&&J(t,"checked",s,!1)}function p(t,s){S(t,s);var o=me(s.value),c=s.type;if(o!=null)c==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?C(t,s.type,o):s.hasOwnProperty("defaultValue")&&C(t,s.type,me(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function m(t,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,o||s===t.value||(t.value=s),t.defaultValue=s}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function C(t,s,o){(s!=="number"||Z(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var F=Array.isArray;function Q(t,s,o,c){if(t=t.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=s.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&c&&(t[o].defaultSelected=!0)}else{for(o=""+me(o),s=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,c&&(t[h].defaultSelected=!0);return}s!==null||t[h].disabled||(s=t[h])}s!==null&&(s.selected=!0)}}function he(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return Ee({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Se(t,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(n(92));if(F(o)){if(1<o.length)throw Error(n(93));o=o[0]}s=o}s==null&&(s=""),o=s}t._wrapperState={initialValue:me(o)}}function Fe(t,s){var o=me(s.value),c=me(s.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),s.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),c!=null&&(t.defaultValue=""+c)}function Ie(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function De(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function T(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?De(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var y,N=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,c,h){MSApp.execUnsafeLocalFunction(function(){return t(s,o,c,h)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(y=y||document.createElement("div"),y.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=y.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function V(t,s){if(s){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=s;return}}t.textContent=s}var ae={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];Object.keys(ae).forEach(function(t){we.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),ae[s]=ae[t]})});function xe(t,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||ae.hasOwnProperty(t)&&ae[t]?(""+s).trim():s+"px"}function Ke(t,s){t=t.style;for(var o in s)if(s.hasOwnProperty(o)){var c=o.indexOf("--")===0,h=xe(o,s[o],c);o==="float"&&(o="cssFloat"),c?t.setProperty(o,h):t[o]=h}}var Qe=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ye(t,s){if(s){if(Qe[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function We(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var st=null;function lt(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ns=null,Kr=null,Yr=null;function ei(t){if(t=va(t)){if(typeof Ns!="function")throw Error(n(280));var s=t.stateNode;s&&(s=$o(s),Ns(t.stateNode,t.type,s))}}function ti(t){Kr?Yr?Yr.push(t):Yr=[t]:Kr=t}function Mr(){if(Kr){var t=Kr,s=Yr;if(Yr=Kr=null,ei(t),s)for(t=0;t<s.length;t++)ei(s[t])}}function Zc(t,s){return t(s)}function Dc(){}var ho=!1;function Qc(t,s,o){if(ho)return t(s,o);ho=!0;try{return Zc(t,s,o)}finally{ho=!1,(Kr!==null||Yr!==null)&&(Dc(),Mr())}}function yt(t,s){var o=t.stateNode;if(o===null)return null;var c=$o(o);if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,s,typeof o));return o}var po=!1;if(u)try{var ri={};Object.defineProperty(ri,"passive",{get:function(){po=!0}}),window.addEventListener("test",ri,ri),window.removeEventListener("test",ri,ri)}catch{po=!1}function b0(t,s,o,c,h,w,B,D,re){var ve=Array.prototype.slice.call(arguments,3);try{s.apply(o,ve)}catch(ke){this.onError(ke)}}var _s=!1,ni=null,si=!1,ta=null,_t={onError:function(t){_s=!0,ni=t}};function Xc(t,s,o,c,h,w,B,D,re){_s=!1,ni=null,b0.apply(_t,arguments)}function Jc(t,s,o,c,h,w,B,D,re){if(Xc.apply(this,arguments),_s){if(_s){var ve=ni;_s=!1,ni=null}else throw Error(n(198));si||(si=!0,ta=ve)}}function dn(t){var s=t,o=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(o=s.return),t=s.return;while(t)}return s.tag===3?o:null}function mo(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function go(t){if(dn(t)!==t)throw Error(n(188))}function eu(t){var s=t.alternate;if(!s){if(s=dn(t),s===null)throw Error(n(188));return s!==t?null:t}for(var o=t,c=s;;){var h=o.return;if(h===null)break;var w=h.alternate;if(w===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===w.child){for(w=h.child;w;){if(w===o)return go(h),t;if(w===c)return go(h),s;w=w.sibling}throw Error(n(188))}if(o.return!==c.return)o=h,c=w;else{for(var B=!1,D=h.child;D;){if(D===o){B=!0,o=h,c=w;break}if(D===c){B=!0,c=h,o=w;break}D=D.sibling}if(!B){for(D=w.child;D;){if(D===o){B=!0,o=w,c=h;break}if(D===c){B=!0,c=w,o=h;break}D=D.sibling}if(!B)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:s}function yo(t){return t=eu(t),t!==null?xo(t):null}function xo(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=xo(t);if(s!==null)return s;t=t.sibling}return null}var ct=r.unstable_scheduleCallback,wo=r.unstable_cancelCallback,tu=r.unstable_shouldYield,ee=r.unstable_requestPaint,He=r.unstable_now,rt=r.unstable_getCurrentPriorityLevel,Je=r.unstable_ImmediatePriority,Es=r.unstable_UserBlockingPriority,Zr=r.unstable_NormalPriority,N0=r.unstable_LowPriority,_0=r.unstable_IdlePriority,vo=null,Dr=null;function n1(t){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(vo,t,void 0,(t.current.flags&128)===128)}catch{}}var Fr=Math.clz32?Math.clz32:a1,s1=Math.log,i1=Math.LN2;function a1(t){return t>>>=0,t===0?32:31-(s1(t)/i1|0)|0}var bo=64,No=4194304;function ra(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _o(t,s){var o=t.pendingLanes;if(o===0)return 0;var c=0,h=t.suspendedLanes,w=t.pingedLanes,B=o&268435455;if(B!==0){var D=B&~h;D!==0?c=ra(D):(w&=B,w!==0&&(c=ra(w)))}else B=o&~h,B!==0?c=ra(B):w!==0&&(c=ra(w));if(c===0)return 0;if(s!==0&&s!==c&&(s&h)===0&&(h=c&-c,w=s&-s,h>=w||h===16&&(w&4194240)!==0))return s;if((c&4)!==0&&(c|=o&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=c;0<s;)o=31-Fr(s),h=1<<o,c|=t[o],s&=~h;return c}function o1(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function l1(t,s){for(var o=t.suspendedLanes,c=t.pingedLanes,h=t.expirationTimes,w=t.pendingLanes;0<w;){var B=31-Fr(w),D=1<<B,re=h[B];re===-1?((D&o)===0||(D&c)!==0)&&(h[B]=o1(D,s)):re<=s&&(t.expiredLanes|=D),w&=~D}}function ru(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function E0(){var t=bo;return bo<<=1,(bo&4194240)===0&&(bo=64),t}function nu(t){for(var s=[],o=0;31>o;o++)s.push(t);return s}function na(t,s,o){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Fr(s),t[s]=o}function c1(t,s){var o=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Fr(o),w=1<<h;s[h]=0,c[h]=-1,t[h]=-1,o&=~w}}function su(t,s){var o=t.entangledLanes|=s;for(t=t.entanglements;o;){var c=31-Fr(o),h=1<<c;h&s|t[c]&s&&(t[c]|=s),o&=~h}}var ut=0;function j0(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var k0,iu,S0,A0,T0,au=!1,Eo=[],Un=null,On=null,In=null,sa=new Map,ia=new Map,$n=[],u1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C0(t,s){switch(t){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":sa.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ia.delete(s.pointerId)}}function aa(t,s,o,c,h,w){return t===null||t.nativeEvent!==w?(t={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:w,targetContainers:[h]},s!==null&&(s=va(s),s!==null&&iu(s)),t):(t.eventSystemFlags|=c,s=t.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),t)}function d1(t,s,o,c,h){switch(s){case"focusin":return Un=aa(Un,t,s,o,c,h),!0;case"dragenter":return On=aa(On,t,s,o,c,h),!0;case"mouseover":return In=aa(In,t,s,o,c,h),!0;case"pointerover":var w=h.pointerId;return sa.set(w,aa(sa.get(w)||null,t,s,o,c,h)),!0;case"gotpointercapture":return w=h.pointerId,ia.set(w,aa(ia.get(w)||null,t,s,o,c,h)),!0}return!1}function B0(t){var s=js(t.target);if(s!==null){var o=dn(s);if(o!==null){if(s=o.tag,s===13){if(s=mo(o),s!==null){t.blockedOn=s,T0(t.priority,function(){S0(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jo(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var o=lu(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);st=c,o.target.dispatchEvent(c),st=null}else return s=va(o),s!==null&&iu(s),t.blockedOn=o,!1;s.shift()}return!0}function R0(t,s,o){jo(t)&&o.delete(s)}function f1(){au=!1,Un!==null&&jo(Un)&&(Un=null),On!==null&&jo(On)&&(On=null),In!==null&&jo(In)&&(In=null),sa.forEach(R0),ia.forEach(R0)}function oa(t,s){t.blockedOn===s&&(t.blockedOn=null,au||(au=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,f1)))}function la(t){function s(h){return oa(h,t)}if(0<Eo.length){oa(Eo[0],t);for(var o=1;o<Eo.length;o++){var c=Eo[o];c.blockedOn===t&&(c.blockedOn=null)}}for(Un!==null&&oa(Un,t),On!==null&&oa(On,t),In!==null&&oa(In,t),sa.forEach(s),ia.forEach(s),o=0;o<$n.length;o++)c=$n[o],c.blockedOn===t&&(c.blockedOn=null);for(;0<$n.length&&(o=$n[0],o.blockedOn===null);)B0(o),o.blockedOn===null&&$n.shift()}var ii=ce.ReactCurrentBatchConfig,ko=!0;function h1(t,s,o,c){var h=ut,w=ii.transition;ii.transition=null;try{ut=1,ou(t,s,o,c)}finally{ut=h,ii.transition=w}}function p1(t,s,o,c){var h=ut,w=ii.transition;ii.transition=null;try{ut=4,ou(t,s,o,c)}finally{ut=h,ii.transition=w}}function ou(t,s,o,c){if(ko){var h=lu(t,s,o,c);if(h===null)ju(t,s,c,So,o),C0(t,c);else if(d1(h,t,s,o,c))c.stopPropagation();else if(C0(t,c),s&4&&-1<u1.indexOf(t)){for(;h!==null;){var w=va(h);if(w!==null&&k0(w),w=lu(t,s,o,c),w===null&&ju(t,s,c,So,o),w===h)break;h=w}h!==null&&c.stopPropagation()}else ju(t,s,c,null,o)}}var So=null;function lu(t,s,o,c){if(So=null,t=lt(c),t=js(t),t!==null)if(s=dn(t),s===null)t=null;else if(o=s.tag,o===13){if(t=mo(s),t!==null)return t;t=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return So=t,null}function P0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rt()){case Je:return 1;case Es:return 4;case Zr:case N0:return 16;case _0:return 536870912;default:return 16}default:return 16}}var zn=null,cu=null,Ao=null;function M0(){if(Ao)return Ao;var t,s=cu,o=s.length,c,h="value"in zn?zn.value:zn.textContent,w=h.length;for(t=0;t<o&&s[t]===h[t];t++);var B=o-t;for(c=1;c<=B&&s[o-c]===h[w-c];c++);return Ao=h.slice(t,1<c?1-c:void 0)}function To(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Co(){return!0}function F0(){return!1}function wr(t){function s(o,c,h,w,B){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=w,this.target=B,this.currentTarget=null;for(var D in t)t.hasOwnProperty(D)&&(o=t[D],this[D]=o?o(w):w[D]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Co:F0,this.isPropagationStopped=F0,this}return Ee(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Co)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Co)},persist:function(){},isPersistent:Co}),s}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uu=wr(ai),ca=Ee({},ai,{view:0,detail:0}),m1=wr(ca),du,fu,ua,Bo=Ee({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ua&&(ua&&t.type==="mousemove"?(du=t.screenX-ua.screenX,fu=t.screenY-ua.screenY):fu=du=0,ua=t),du)},movementY:function(t){return"movementY"in t?t.movementY:fu}}),U0=wr(Bo),g1=Ee({},Bo,{dataTransfer:0}),y1=wr(g1),x1=Ee({},ca,{relatedTarget:0}),hu=wr(x1),w1=Ee({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),v1=wr(w1),b1=Ee({},ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),N1=wr(b1),_1=Ee({},ai,{data:0}),O0=wr(_1),E1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S1(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=k1[t])?!!s[t]:!1}function pu(){return S1}var A1=Ee({},ca,{key:function(t){if(t.key){var s=E1[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=To(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?j1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pu,charCode:function(t){return t.type==="keypress"?To(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?To(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),T1=wr(A1),C1=Ee({},Bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I0=wr(C1),B1=Ee({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pu}),R1=wr(B1),P1=Ee({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),M1=wr(P1),F1=Ee({},Bo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),U1=wr(F1),O1=[9,13,27,32],mu=u&&"CompositionEvent"in window,da=null;u&&"documentMode"in document&&(da=document.documentMode);var I1=u&&"TextEvent"in window&&!da,$0=u&&(!mu||da&&8<da&&11>=da),z0=" ",V0=!1;function H0(t,s){switch(t){case"keyup":return O1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oi=!1;function $1(t,s){switch(t){case"compositionend":return q0(s);case"keypress":return s.which!==32?null:(V0=!0,z0);case"textInput":return t=s.data,t===z0&&V0?null:t;default:return null}}function z1(t,s){if(oi)return t==="compositionend"||!mu&&H0(t,s)?(t=M0(),Ao=cu=zn=null,oi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return $0&&s.locale!=="ko"?null:s.data;default:return null}}var V1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W0(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!V1[t.type]:s==="textarea"}function G0(t,s,o,c){ti(c),s=Uo(s,"onChange"),0<s.length&&(o=new uu("onChange","change",null,o,c),t.push({event:o,listeners:s}))}var fa=null,ha=null;function H1(t){ch(t,0)}function Ro(t){var s=fi(t);if(K(s))return t}function q1(t,s){if(t==="change")return s}var L0=!1;if(u){var gu;if(u){var yu="oninput"in document;if(!yu){var K0=document.createElement("div");K0.setAttribute("oninput","return;"),yu=typeof K0.oninput=="function"}gu=yu}else gu=!1;L0=gu&&(!document.documentMode||9<document.documentMode)}function Y0(){fa&&(fa.detachEvent("onpropertychange",Z0),ha=fa=null)}function Z0(t){if(t.propertyName==="value"&&Ro(ha)){var s=[];G0(s,ha,t,lt(t)),Qc(H1,s)}}function W1(t,s,o){t==="focusin"?(Y0(),fa=s,ha=o,fa.attachEvent("onpropertychange",Z0)):t==="focusout"&&Y0()}function G1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ro(ha)}function L1(t,s){if(t==="click")return Ro(s)}function K1(t,s){if(t==="input"||t==="change")return Ro(s)}function Y1(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Ur=typeof Object.is=="function"?Object.is:Y1;function pa(t,s){if(Ur(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var o=Object.keys(t),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!g.call(s,h)||!Ur(t[h],s[h]))return!1}return!0}function D0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Q0(t,s){var o=D0(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=s&&c>=s)return{node:o,offset:s-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=D0(o)}}function X0(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?X0(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function J0(){for(var t=window,s=Z();s instanceof t.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)t=s.contentWindow;else break;s=Z(t.document)}return s}function xu(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function Z1(t){var s=J0(),o=t.focusedElem,c=t.selectionRange;if(s!==o&&o&&o.ownerDocument&&X0(o.ownerDocument.documentElement,o)){if(c!==null&&xu(o)){if(s=c.start,t=c.end,t===void 0&&(t=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(t,o.value.length);else if(t=(s=o.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,w=Math.min(c.start,h);c=c.end===void 0?w:Math.min(c.end,h),!t.extend&&w>c&&(h=c,c=w,w=h),h=Q0(o,w);var B=Q0(o,c);h&&B&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==B.node||t.focusOffset!==B.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),t.removeAllRanges(),w>c?(t.addRange(s),t.extend(B.node,B.offset)):(s.setEnd(B.node,B.offset),t.addRange(s)))}}for(s=[],t=o;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)t=s[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var D1=u&&"documentMode"in document&&11>=document.documentMode,li=null,wu=null,ma=null,vu=!1;function eh(t,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;vu||li==null||li!==Z(c)||(c=li,"selectionStart"in c&&xu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ma&&pa(ma,c)||(ma=c,c=Uo(wu,"onSelect"),0<c.length&&(s=new uu("onSelect","select",null,s,o),t.push({event:s,listeners:c}),s.target=li)))}function Po(t,s){var o={};return o[t.toLowerCase()]=s.toLowerCase(),o["Webkit"+t]="webkit"+s,o["Moz"+t]="moz"+s,o}var ci={animationend:Po("Animation","AnimationEnd"),animationiteration:Po("Animation","AnimationIteration"),animationstart:Po("Animation","AnimationStart"),transitionend:Po("Transition","TransitionEnd")},bu={},th={};u&&(th=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);function Mo(t){if(bu[t])return bu[t];if(!ci[t])return t;var s=ci[t],o;for(o in s)if(s.hasOwnProperty(o)&&o in th)return bu[t]=s[o];return t}var rh=Mo("animationend"),nh=Mo("animationiteration"),sh=Mo("animationstart"),ih=Mo("transitionend"),ah=new Map,oh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vn(t,s){ah.set(t,s),d(s,[t])}for(var Nu=0;Nu<oh.length;Nu++){var _u=oh[Nu],Q1=_u.toLowerCase(),X1=_u[0].toUpperCase()+_u.slice(1);Vn(Q1,"on"+X1)}Vn(rh,"onAnimationEnd"),Vn(nh,"onAnimationIteration"),Vn(sh,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(ih,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ga));function lh(t,s,o){var c=t.type||"unknown-event";t.currentTarget=o,Jc(c,s,void 0,t),t.currentTarget=null}function ch(t,s){s=(s&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],h=c.event;c=c.listeners;e:{var w=void 0;if(s)for(var B=c.length-1;0<=B;B--){var D=c[B],re=D.instance,ve=D.currentTarget;if(D=D.listener,re!==w&&h.isPropagationStopped())break e;lh(h,D,ve),w=re}else for(B=0;B<c.length;B++){if(D=c[B],re=D.instance,ve=D.currentTarget,D=D.listener,re!==w&&h.isPropagationStopped())break e;lh(h,D,ve),w=re}}}if(si)throw t=ta,si=!1,ta=null,t}function pt(t,s){var o=s[Bu];o===void 0&&(o=s[Bu]=new Set);var c=t+"__bubble";o.has(c)||(uh(s,t,2,!1),o.add(c))}function Eu(t,s,o){var c=0;s&&(c|=4),uh(o,t,c,s)}var Fo="_reactListening"+Math.random().toString(36).slice(2);function ya(t){if(!t[Fo]){t[Fo]=!0,i.forEach(function(o){o!=="selectionchange"&&(J1.has(o)||Eu(o,!1,t),Eu(o,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Fo]||(s[Fo]=!0,Eu("selectionchange",!1,s))}}function uh(t,s,o,c){switch(P0(s)){case 1:var h=h1;break;case 4:h=p1;break;default:h=ou}o=h.bind(null,s,o,t),h=void 0,!po||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?t.addEventListener(s,o,{capture:!0,passive:h}):t.addEventListener(s,o,!0):h!==void 0?t.addEventListener(s,o,{passive:h}):t.addEventListener(s,o,!1)}function ju(t,s,o,c,h){var w=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var B=c.tag;if(B===3||B===4){var D=c.stateNode.containerInfo;if(D===h||D.nodeType===8&&D.parentNode===h)break;if(B===4)for(B=c.return;B!==null;){var re=B.tag;if((re===3||re===4)&&(re=B.stateNode.containerInfo,re===h||re.nodeType===8&&re.parentNode===h))return;B=B.return}for(;D!==null;){if(B=js(D),B===null)return;if(re=B.tag,re===5||re===6){c=w=B;continue e}D=D.parentNode}}c=c.return}Qc(function(){var ve=w,ke=lt(o),Ae=[];e:{var je=ah.get(t);if(je!==void 0){var Me=uu,Oe=t;switch(t){case"keypress":if(To(o)===0)break e;case"keydown":case"keyup":Me=T1;break;case"focusin":Oe="focus",Me=hu;break;case"focusout":Oe="blur",Me=hu;break;case"beforeblur":case"afterblur":Me=hu;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=U0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=y1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=R1;break;case rh:case nh:case sh:Me=v1;break;case ih:Me=M1;break;case"scroll":Me=m1;break;case"wheel":Me=U1;break;case"copy":case"cut":case"paste":Me=N1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=I0}var $e=(s&4)!==0,St=!$e&&t==="scroll",pe=$e?je!==null?je+"Capture":null:je;$e=[];for(var le=ve,ye;le!==null;){ye=le;var Te=ye.stateNode;if(ye.tag===5&&Te!==null&&(ye=Te,pe!==null&&(Te=yt(le,pe),Te!=null&&$e.push(xa(le,Te,ye)))),St)break;le=le.return}0<$e.length&&(je=new Me(je,Oe,null,o,ke),Ae.push({event:je,listeners:$e}))}}if((s&7)===0){e:{if(je=t==="mouseover"||t==="pointerover",Me=t==="mouseout"||t==="pointerout",je&&o!==st&&(Oe=o.relatedTarget||o.fromElement)&&(js(Oe)||Oe[fn]))break e;if((Me||je)&&(je=ke.window===ke?ke:(je=ke.ownerDocument)?je.defaultView||je.parentWindow:window,Me?(Oe=o.relatedTarget||o.toElement,Me=ve,Oe=Oe?js(Oe):null,Oe!==null&&(St=dn(Oe),Oe!==St||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(Me=null,Oe=ve),Me!==Oe)){if($e=U0,Te="onMouseLeave",pe="onMouseEnter",le="mouse",(t==="pointerout"||t==="pointerover")&&($e=I0,Te="onPointerLeave",pe="onPointerEnter",le="pointer"),St=Me==null?je:fi(Me),ye=Oe==null?je:fi(Oe),je=new $e(Te,le+"leave",Me,o,ke),je.target=St,je.relatedTarget=ye,Te=null,js(ke)===ve&&($e=new $e(pe,le+"enter",Oe,o,ke),$e.target=ye,$e.relatedTarget=St,Te=$e),St=Te,Me&&Oe)t:{for($e=Me,pe=Oe,le=0,ye=$e;ye;ye=ui(ye))le++;for(ye=0,Te=pe;Te;Te=ui(Te))ye++;for(;0<le-ye;)$e=ui($e),le--;for(;0<ye-le;)pe=ui(pe),ye--;for(;le--;){if($e===pe||pe!==null&&$e===pe.alternate)break t;$e=ui($e),pe=ui(pe)}$e=null}else $e=null;Me!==null&&dh(Ae,je,Me,$e,!1),Oe!==null&&St!==null&&dh(Ae,St,Oe,$e,!0)}}e:{if(je=ve?fi(ve):window,Me=je.nodeName&&je.nodeName.toLowerCase(),Me==="select"||Me==="input"&&je.type==="file")var ze=q1;else if(W0(je))if(L0)ze=K1;else{ze=G1;var Ge=W1}else(Me=je.nodeName)&&Me.toLowerCase()==="input"&&(je.type==="checkbox"||je.type==="radio")&&(ze=L1);if(ze&&(ze=ze(t,ve))){G0(Ae,ze,o,ke);break e}Ge&&Ge(t,je,ve),t==="focusout"&&(Ge=je._wrapperState)&&Ge.controlled&&je.type==="number"&&C(je,"number",je.value)}switch(Ge=ve?fi(ve):window,t){case"focusin":(W0(Ge)||Ge.contentEditable==="true")&&(li=Ge,wu=ve,ma=null);break;case"focusout":ma=wu=li=null;break;case"mousedown":vu=!0;break;case"contextmenu":case"mouseup":case"dragend":vu=!1,eh(Ae,o,ke);break;case"selectionchange":if(D1)break;case"keydown":case"keyup":eh(Ae,o,ke)}var Le;if(mu)e:{switch(t){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else oi?H0(t,o)&&(Ze="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Ze="onCompositionStart");Ze&&($0&&o.locale!=="ko"&&(oi||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&oi&&(Le=M0()):(zn=ke,cu="value"in zn?zn.value:zn.textContent,oi=!0)),Ge=Uo(ve,Ze),0<Ge.length&&(Ze=new O0(Ze,t,null,o,ke),Ae.push({event:Ze,listeners:Ge}),Le?Ze.data=Le:(Le=q0(o),Le!==null&&(Ze.data=Le)))),(Le=I1?$1(t,o):z1(t,o))&&(ve=Uo(ve,"onBeforeInput"),0<ve.length&&(ke=new O0("onBeforeInput","beforeinput",null,o,ke),Ae.push({event:ke,listeners:ve}),ke.data=Le))}ch(Ae,s)})}function xa(t,s,o){return{instance:t,listener:s,currentTarget:o}}function Uo(t,s){for(var o=s+"Capture",c=[];t!==null;){var h=t,w=h.stateNode;h.tag===5&&w!==null&&(h=w,w=yt(t,o),w!=null&&c.unshift(xa(t,w,h)),w=yt(t,s),w!=null&&c.push(xa(t,w,h))),t=t.return}return c}function ui(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dh(t,s,o,c,h){for(var w=s._reactName,B=[];o!==null&&o!==c;){var D=o,re=D.alternate,ve=D.stateNode;if(re!==null&&re===c)break;D.tag===5&&ve!==null&&(D=ve,h?(re=yt(o,w),re!=null&&B.unshift(xa(o,re,D))):h||(re=yt(o,w),re!=null&&B.push(xa(o,re,D)))),o=o.return}B.length!==0&&t.push({event:s,listeners:B})}var ew=/\r\n?/g,tw=/\u0000|\uFFFD/g;function fh(t){return(typeof t=="string"?t:""+t).replace(ew,`
`).replace(tw,"")}function Oo(t,s,o){if(s=fh(s),fh(t)!==s&&o)throw Error(n(425))}function Io(){}var ku=null,Su=null;function Au(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Tu=typeof setTimeout=="function"?setTimeout:void 0,rw=typeof clearTimeout=="function"?clearTimeout:void 0,hh=typeof Promise=="function"?Promise:void 0,nw=typeof queueMicrotask=="function"?queueMicrotask:typeof hh<"u"?function(t){return hh.resolve(null).then(t).catch(sw)}:Tu;function sw(t){setTimeout(function(){throw t})}function Cu(t,s){var o=s,c=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(c===0){t.removeChild(h),la(s);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=h}while(o);la(s)}function Hn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function ph(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return t;s--}else o==="/$"&&s++}t=t.previousSibling}return null}var di=Math.random().toString(36).slice(2),Qr="__reactFiber$"+di,wa="__reactProps$"+di,fn="__reactContainer$"+di,Bu="__reactEvents$"+di,iw="__reactListeners$"+di,aw="__reactHandles$"+di;function js(t){var s=t[Qr];if(s)return s;for(var o=t.parentNode;o;){if(s=o[fn]||o[Qr]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(t=ph(t);t!==null;){if(o=t[Qr])return o;t=ph(t)}return s}t=o,o=t.parentNode}return null}function va(t){return t=t[Qr]||t[fn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function $o(t){return t[wa]||null}var Ru=[],hi=-1;function qn(t){return{current:t}}function mt(t){0>hi||(t.current=Ru[hi],Ru[hi]=null,hi--)}function ht(t,s){hi++,Ru[hi]=t.current,t.current=s}var Wn={},Kt=qn(Wn),lr=qn(!1),ks=Wn;function pi(t,s){var o=t.type.contextTypes;if(!o)return Wn;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var h={},w;for(w in o)h[w]=s[w];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=h),h}function cr(t){return t=t.childContextTypes,t!=null}function zo(){mt(lr),mt(Kt)}function mh(t,s,o){if(Kt.current!==Wn)throw Error(n(168));ht(Kt,s),ht(lr,o)}function gh(t,s,o){var c=t.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var h in c)if(!(h in s))throw Error(n(108,be(t)||"Unknown",h));return Ee({},o,c)}function Vo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wn,ks=Kt.current,ht(Kt,t),ht(lr,lr.current),!0}function yh(t,s,o){var c=t.stateNode;if(!c)throw Error(n(169));o?(t=gh(t,s,ks),c.__reactInternalMemoizedMergedChildContext=t,mt(lr),mt(Kt),ht(Kt,t)):mt(lr),ht(lr,o)}var hn=null,Ho=!1,Pu=!1;function xh(t){hn===null?hn=[t]:hn.push(t)}function ow(t){Ho=!0,xh(t)}function Gn(){if(!Pu&&hn!==null){Pu=!0;var t=0,s=ut;try{var o=hn;for(ut=1;t<o.length;t++){var c=o[t];do c=c(!0);while(c!==null)}hn=null,Ho=!1}catch(h){throw hn!==null&&(hn=hn.slice(t+1)),ct(Je,Gn),h}finally{ut=s,Pu=!1}}return null}var mi=[],gi=0,qo=null,Wo=0,jr=[],kr=0,Ss=null,pn=1,mn="";function As(t,s){mi[gi++]=Wo,mi[gi++]=qo,qo=t,Wo=s}function wh(t,s,o){jr[kr++]=pn,jr[kr++]=mn,jr[kr++]=Ss,Ss=t;var c=pn;t=mn;var h=32-Fr(c)-1;c&=~(1<<h),o+=1;var w=32-Fr(s)+h;if(30<w){var B=h-h%5;w=(c&(1<<B)-1).toString(32),c>>=B,h-=B,pn=1<<32-Fr(s)+h|o<<h|c,mn=w+t}else pn=1<<w|o<<h|c,mn=t}function Mu(t){t.return!==null&&(As(t,1),wh(t,1,0))}function Fu(t){for(;t===qo;)qo=mi[--gi],mi[gi]=null,Wo=mi[--gi],mi[gi]=null;for(;t===Ss;)Ss=jr[--kr],jr[kr]=null,mn=jr[--kr],jr[kr]=null,pn=jr[--kr],jr[kr]=null}var vr=null,br=null,xt=!1,Or=null;function vh(t,s){var o=Cr(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=t,s=t.deletions,s===null?(t.deletions=[o],t.flags|=16):s.push(o)}function bh(t,s){switch(t.tag){case 5:var o=t.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,vr=t,br=Hn(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,vr=t,br=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=Ss!==null?{id:pn,overflow:mn}:null,t.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=Cr(18,null,null,0),o.stateNode=s,o.return=t,t.child=o,vr=t,br=null,!0):!1;default:return!1}}function Uu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ou(t){if(xt){var s=br;if(s){var o=s;if(!bh(t,s)){if(Uu(t))throw Error(n(418));s=Hn(o.nextSibling);var c=vr;s&&bh(t,s)?vh(c,o):(t.flags=t.flags&-4097|2,xt=!1,vr=t)}}else{if(Uu(t))throw Error(n(418));t.flags=t.flags&-4097|2,xt=!1,vr=t}}}function Nh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vr=t}function Go(t){if(t!==vr)return!1;if(!xt)return Nh(t),xt=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!Au(t.type,t.memoizedProps)),s&&(s=br)){if(Uu(t))throw _h(),Error(n(418));for(;s;)vh(t,s),s=Hn(s.nextSibling)}if(Nh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(s===0){br=Hn(t.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}t=t.nextSibling}br=null}}else br=vr?Hn(t.stateNode.nextSibling):null;return!0}function _h(){for(var t=br;t;)t=Hn(t.nextSibling)}function yi(){br=vr=null,xt=!1}function Iu(t){Or===null?Or=[t]:Or.push(t)}var lw=ce.ReactCurrentBatchConfig;function ba(t,s,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var c=o.stateNode}if(!c)throw Error(n(147,t));var h=c,w=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===w?s.ref:(s=function(B){var D=h.refs;B===null?delete D[w]:D[w]=B},s._stringRef=w,s)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Lo(t,s){throw t=Object.prototype.toString.call(s),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function Eh(t){var s=t._init;return s(t._payload)}function jh(t){function s(pe,le){if(t){var ye=pe.deletions;ye===null?(pe.deletions=[le],pe.flags|=16):ye.push(le)}}function o(pe,le){if(!t)return null;for(;le!==null;)s(pe,le),le=le.sibling;return null}function c(pe,le){for(pe=new Map;le!==null;)le.key!==null?pe.set(le.key,le):pe.set(le.index,le),le=le.sibling;return pe}function h(pe,le){return pe=Jn(pe,le),pe.index=0,pe.sibling=null,pe}function w(pe,le,ye){return pe.index=ye,t?(ye=pe.alternate,ye!==null?(ye=ye.index,ye<le?(pe.flags|=2,le):ye):(pe.flags|=2,le)):(pe.flags|=1048576,le)}function B(pe){return t&&pe.alternate===null&&(pe.flags|=2),pe}function D(pe,le,ye,Te){return le===null||le.tag!==6?(le=Td(ye,pe.mode,Te),le.return=pe,le):(le=h(le,ye),le.return=pe,le)}function re(pe,le,ye,Te){var ze=ye.type;return ze===oe?ke(pe,le,ye.props.children,Te,ye.key):le!==null&&(le.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===ne&&Eh(ze)===le.type)?(Te=h(le,ye.props),Te.ref=ba(pe,le,ye),Te.return=pe,Te):(Te=gl(ye.type,ye.key,ye.props,null,pe.mode,Te),Te.ref=ba(pe,le,ye),Te.return=pe,Te)}function ve(pe,le,ye,Te){return le===null||le.tag!==4||le.stateNode.containerInfo!==ye.containerInfo||le.stateNode.implementation!==ye.implementation?(le=Cd(ye,pe.mode,Te),le.return=pe,le):(le=h(le,ye.children||[]),le.return=pe,le)}function ke(pe,le,ye,Te,ze){return le===null||le.tag!==7?(le=Us(ye,pe.mode,Te,ze),le.return=pe,le):(le=h(le,ye),le.return=pe,le)}function Ae(pe,le,ye){if(typeof le=="string"&&le!==""||typeof le=="number")return le=Td(""+le,pe.mode,ye),le.return=pe,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case O:return ye=gl(le.type,le.key,le.props,null,pe.mode,ye),ye.ref=ba(pe,null,le),ye.return=pe,ye;case te:return le=Cd(le,pe.mode,ye),le.return=pe,le;case ne:var Te=le._init;return Ae(pe,Te(le._payload),ye)}if(F(le)||Ne(le))return le=Us(le,pe.mode,ye,null),le.return=pe,le;Lo(pe,le)}return null}function je(pe,le,ye,Te){var ze=le!==null?le.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ze!==null?null:D(pe,le,""+ye,Te);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case O:return ye.key===ze?re(pe,le,ye,Te):null;case te:return ye.key===ze?ve(pe,le,ye,Te):null;case ne:return ze=ye._init,je(pe,le,ze(ye._payload),Te)}if(F(ye)||Ne(ye))return ze!==null?null:ke(pe,le,ye,Te,null);Lo(pe,ye)}return null}function Me(pe,le,ye,Te,ze){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return pe=pe.get(ye)||null,D(le,pe,""+Te,ze);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case O:return pe=pe.get(Te.key===null?ye:Te.key)||null,re(le,pe,Te,ze);case te:return pe=pe.get(Te.key===null?ye:Te.key)||null,ve(le,pe,Te,ze);case ne:var Ge=Te._init;return Me(pe,le,ye,Ge(Te._payload),ze)}if(F(Te)||Ne(Te))return pe=pe.get(ye)||null,ke(le,pe,Te,ze,null);Lo(le,Te)}return null}function Oe(pe,le,ye,Te){for(var ze=null,Ge=null,Le=le,Ze=le=0,It=null;Le!==null&&Ze<ye.length;Ze++){Le.index>Ze?(It=Le,Le=null):It=Le.sibling;var at=je(pe,Le,ye[Ze],Te);if(at===null){Le===null&&(Le=It);break}t&&Le&&at.alternate===null&&s(pe,Le),le=w(at,le,Ze),Ge===null?ze=at:Ge.sibling=at,Ge=at,Le=It}if(Ze===ye.length)return o(pe,Le),xt&&As(pe,Ze),ze;if(Le===null){for(;Ze<ye.length;Ze++)Le=Ae(pe,ye[Ze],Te),Le!==null&&(le=w(Le,le,Ze),Ge===null?ze=Le:Ge.sibling=Le,Ge=Le);return xt&&As(pe,Ze),ze}for(Le=c(pe,Le);Ze<ye.length;Ze++)It=Me(Le,pe,Ze,ye[Ze],Te),It!==null&&(t&&It.alternate!==null&&Le.delete(It.key===null?Ze:It.key),le=w(It,le,Ze),Ge===null?ze=It:Ge.sibling=It,Ge=It);return t&&Le.forEach(function(es){return s(pe,es)}),xt&&As(pe,Ze),ze}function $e(pe,le,ye,Te){var ze=Ne(ye);if(typeof ze!="function")throw Error(n(150));if(ye=ze.call(ye),ye==null)throw Error(n(151));for(var Ge=ze=null,Le=le,Ze=le=0,It=null,at=ye.next();Le!==null&&!at.done;Ze++,at=ye.next()){Le.index>Ze?(It=Le,Le=null):It=Le.sibling;var es=je(pe,Le,at.value,Te);if(es===null){Le===null&&(Le=It);break}t&&Le&&es.alternate===null&&s(pe,Le),le=w(es,le,Ze),Ge===null?ze=es:Ge.sibling=es,Ge=es,Le=It}if(at.done)return o(pe,Le),xt&&As(pe,Ze),ze;if(Le===null){for(;!at.done;Ze++,at=ye.next())at=Ae(pe,at.value,Te),at!==null&&(le=w(at,le,Ze),Ge===null?ze=at:Ge.sibling=at,Ge=at);return xt&&As(pe,Ze),ze}for(Le=c(pe,Le);!at.done;Ze++,at=ye.next())at=Me(Le,pe,Ze,at.value,Te),at!==null&&(t&&at.alternate!==null&&Le.delete(at.key===null?Ze:at.key),le=w(at,le,Ze),Ge===null?ze=at:Ge.sibling=at,Ge=at);return t&&Le.forEach(function(Vw){return s(pe,Vw)}),xt&&As(pe,Ze),ze}function St(pe,le,ye,Te){if(typeof ye=="object"&&ye!==null&&ye.type===oe&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case O:e:{for(var ze=ye.key,Ge=le;Ge!==null;){if(Ge.key===ze){if(ze=ye.type,ze===oe){if(Ge.tag===7){o(pe,Ge.sibling),le=h(Ge,ye.props.children),le.return=pe,pe=le;break e}}else if(Ge.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===ne&&Eh(ze)===Ge.type){o(pe,Ge.sibling),le=h(Ge,ye.props),le.ref=ba(pe,Ge,ye),le.return=pe,pe=le;break e}o(pe,Ge);break}else s(pe,Ge);Ge=Ge.sibling}ye.type===oe?(le=Us(ye.props.children,pe.mode,Te,ye.key),le.return=pe,pe=le):(Te=gl(ye.type,ye.key,ye.props,null,pe.mode,Te),Te.ref=ba(pe,le,ye),Te.return=pe,pe=Te)}return B(pe);case te:e:{for(Ge=ye.key;le!==null;){if(le.key===Ge)if(le.tag===4&&le.stateNode.containerInfo===ye.containerInfo&&le.stateNode.implementation===ye.implementation){o(pe,le.sibling),le=h(le,ye.children||[]),le.return=pe,pe=le;break e}else{o(pe,le);break}else s(pe,le);le=le.sibling}le=Cd(ye,pe.mode,Te),le.return=pe,pe=le}return B(pe);case ne:return Ge=ye._init,St(pe,le,Ge(ye._payload),Te)}if(F(ye))return Oe(pe,le,ye,Te);if(Ne(ye))return $e(pe,le,ye,Te);Lo(pe,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"?(ye=""+ye,le!==null&&le.tag===6?(o(pe,le.sibling),le=h(le,ye),le.return=pe,pe=le):(o(pe,le),le=Td(ye,pe.mode,Te),le.return=pe,pe=le),B(pe)):o(pe,le)}return St}var xi=jh(!0),kh=jh(!1),Ko=qn(null),Yo=null,wi=null,$u=null;function zu(){$u=wi=Yo=null}function Vu(t){var s=Ko.current;mt(Ko),t._currentValue=s}function Hu(t,s,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),t===o)break;t=t.return}}function vi(t,s){Yo=t,$u=wi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&s)!==0&&(ur=!0),t.firstContext=null)}function Sr(t){var s=t._currentValue;if($u!==t)if(t={context:t,memoizedValue:s,next:null},wi===null){if(Yo===null)throw Error(n(308));wi=t,Yo.dependencies={lanes:0,firstContext:t}}else wi=wi.next=t;return s}var Ts=null;function qu(t){Ts===null?Ts=[t]:Ts.push(t)}function Sh(t,s,o,c){var h=s.interleaved;return h===null?(o.next=o,qu(s)):(o.next=h.next,h.next=o),s.interleaved=o,gn(t,c)}function gn(t,s){t.lanes|=s;var o=t.alternate;for(o!==null&&(o.lanes|=s),o=t,t=t.return;t!==null;)t.childLanes|=s,o=t.alternate,o!==null&&(o.childLanes|=s),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Ln=!1;function Wu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ah(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yn(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function Kn(t,s,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(it&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,gn(t,o)}return h=c.interleaved,h===null?(s.next=s,qu(c)):(s.next=h.next,h.next=s),c.interleaved=s,gn(t,o)}function Zo(t,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var c=s.lanes;c&=t.pendingLanes,o|=c,s.lanes=o,su(t,o)}}function Th(t,s){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,w=null;if(o=o.firstBaseUpdate,o!==null){do{var B={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};w===null?h=w=B:w=w.next=B,o=o.next}while(o!==null);w===null?h=w=s:w=w.next=s}else h=w=s;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:w,shared:c.shared,effects:c.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=s:t.next=s,o.lastBaseUpdate=s}function Do(t,s,o,c){var h=t.updateQueue;Ln=!1;var w=h.firstBaseUpdate,B=h.lastBaseUpdate,D=h.shared.pending;if(D!==null){h.shared.pending=null;var re=D,ve=re.next;re.next=null,B===null?w=ve:B.next=ve,B=re;var ke=t.alternate;ke!==null&&(ke=ke.updateQueue,D=ke.lastBaseUpdate,D!==B&&(D===null?ke.firstBaseUpdate=ve:D.next=ve,ke.lastBaseUpdate=re))}if(w!==null){var Ae=h.baseState;B=0,ke=ve=re=null,D=w;do{var je=D.lane,Me=D.eventTime;if((c&je)===je){ke!==null&&(ke=ke.next={eventTime:Me,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var Oe=t,$e=D;switch(je=s,Me=o,$e.tag){case 1:if(Oe=$e.payload,typeof Oe=="function"){Ae=Oe.call(Me,Ae,je);break e}Ae=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=$e.payload,je=typeof Oe=="function"?Oe.call(Me,Ae,je):Oe,je==null)break e;Ae=Ee({},Ae,je);break e;case 2:Ln=!0}}D.callback!==null&&D.lane!==0&&(t.flags|=64,je=h.effects,je===null?h.effects=[D]:je.push(D))}else Me={eventTime:Me,lane:je,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ke===null?(ve=ke=Me,re=Ae):ke=ke.next=Me,B|=je;if(D=D.next,D===null){if(D=h.shared.pending,D===null)break;je=D,D=je.next,je.next=null,h.lastBaseUpdate=je,h.shared.pending=null}}while(!0);if(ke===null&&(re=Ae),h.baseState=re,h.firstBaseUpdate=ve,h.lastBaseUpdate=ke,s=h.shared.interleaved,s!==null){h=s;do B|=h.lane,h=h.next;while(h!==s)}else w===null&&(h.shared.lanes=0);Rs|=B,t.lanes=B,t.memoizedState=Ae}}function Ch(t,s,o){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var c=t[s],h=c.callback;if(h!==null){if(c.callback=null,c=o,typeof h!="function")throw Error(n(191,h));h.call(c)}}}var Na={},Xr=qn(Na),_a=qn(Na),Ea=qn(Na);function Cs(t){if(t===Na)throw Error(n(174));return t}function Gu(t,s){switch(ht(Ea,s),ht(_a,t),ht(Xr,Na),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:T(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=T(s,t)}mt(Xr),ht(Xr,s)}function bi(){mt(Xr),mt(_a),mt(Ea)}function Bh(t){Cs(Ea.current);var s=Cs(Xr.current),o=T(s,t.type);s!==o&&(ht(_a,t),ht(Xr,o))}function Lu(t){_a.current===t&&(mt(Xr),mt(_a))}var bt=qn(0);function Qo(t){for(var s=t;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ku=[];function Yu(){for(var t=0;t<Ku.length;t++)Ku[t]._workInProgressVersionPrimary=null;Ku.length=0}var Xo=ce.ReactCurrentDispatcher,Zu=ce.ReactCurrentBatchConfig,Bs=0,Nt=null,Rt=null,Ut=null,Jo=!1,ja=!1,ka=0,cw=0;function Yt(){throw Error(n(321))}function Du(t,s){if(s===null)return!1;for(var o=0;o<s.length&&o<t.length;o++)if(!Ur(t[o],s[o]))return!1;return!0}function Qu(t,s,o,c,h,w){if(Bs=w,Nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Xo.current=t===null||t.memoizedState===null?hw:pw,t=o(c,h),ja){w=0;do{if(ja=!1,ka=0,25<=w)throw Error(n(301));w+=1,Ut=Rt=null,s.updateQueue=null,Xo.current=mw,t=o(c,h)}while(ja)}if(Xo.current=rl,s=Rt!==null&&Rt.next!==null,Bs=0,Ut=Rt=Nt=null,Jo=!1,s)throw Error(n(300));return t}function Xu(){var t=ka!==0;return ka=0,t}function Jr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Nt.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function Ar(){if(Rt===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=Rt.next;var s=Ut===null?Nt.memoizedState:Ut.next;if(s!==null)Ut=s,Rt=t;else{if(t===null)throw Error(n(310));Rt=t,t={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Ut===null?Nt.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function Sa(t,s){return typeof s=="function"?s(t):s}function Ju(t){var s=Ar(),o=s.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=Rt,h=c.baseQueue,w=o.pending;if(w!==null){if(h!==null){var B=h.next;h.next=w.next,w.next=B}c.baseQueue=h=w,o.pending=null}if(h!==null){w=h.next,c=c.baseState;var D=B=null,re=null,ve=w;do{var ke=ve.lane;if((Bs&ke)===ke)re!==null&&(re=re.next={lane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),c=ve.hasEagerState?ve.eagerState:t(c,ve.action);else{var Ae={lane:ke,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null};re===null?(D=re=Ae,B=c):re=re.next=Ae,Nt.lanes|=ke,Rs|=ke}ve=ve.next}while(ve!==null&&ve!==w);re===null?B=c:re.next=D,Ur(c,s.memoizedState)||(ur=!0),s.memoizedState=c,s.baseState=B,s.baseQueue=re,o.lastRenderedState=c}if(t=o.interleaved,t!==null){h=t;do w=h.lane,Nt.lanes|=w,Rs|=w,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function ed(t){var s=Ar(),o=s.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=o.dispatch,h=o.pending,w=s.memoizedState;if(h!==null){o.pending=null;var B=h=h.next;do w=t(w,B.action),B=B.next;while(B!==h);Ur(w,s.memoizedState)||(ur=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),o.lastRenderedState=w}return[w,c]}function Rh(){}function Ph(t,s){var o=Nt,c=Ar(),h=s(),w=!Ur(c.memoizedState,h);if(w&&(c.memoizedState=h,ur=!0),c=c.queue,td(Uh.bind(null,o,c,t),[t]),c.getSnapshot!==s||w||Ut!==null&&Ut.memoizedState.tag&1){if(o.flags|=2048,Aa(9,Fh.bind(null,o,c,h,s),void 0,null),Ot===null)throw Error(n(349));(Bs&30)!==0||Mh(o,s,h)}return h}function Mh(t,s,o){t.flags|=16384,t={getSnapshot:s,value:o},s=Nt.updateQueue,s===null?(s={lastEffect:null,stores:null},Nt.updateQueue=s,s.stores=[t]):(o=s.stores,o===null?s.stores=[t]:o.push(t))}function Fh(t,s,o,c){s.value=o,s.getSnapshot=c,Oh(s)&&Ih(t)}function Uh(t,s,o){return o(function(){Oh(s)&&Ih(t)})}function Oh(t){var s=t.getSnapshot;t=t.value;try{var o=s();return!Ur(t,o)}catch{return!0}}function Ih(t){var s=gn(t,1);s!==null&&Vr(s,t,1,-1)}function $h(t){var s=Jr();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:t},s.queue=t,t=t.dispatch=fw.bind(null,Nt,t),[s.memoizedState,t]}function Aa(t,s,o,c){return t={tag:t,create:s,destroy:o,deps:c,next:null},s=Nt.updateQueue,s===null?(s={lastEffect:null,stores:null},Nt.updateQueue=s,s.lastEffect=t.next=t):(o=s.lastEffect,o===null?s.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,s.lastEffect=t)),t}function zh(){return Ar().memoizedState}function el(t,s,o,c){var h=Jr();Nt.flags|=t,h.memoizedState=Aa(1|s,o,void 0,c===void 0?null:c)}function tl(t,s,o,c){var h=Ar();c=c===void 0?null:c;var w=void 0;if(Rt!==null){var B=Rt.memoizedState;if(w=B.destroy,c!==null&&Du(c,B.deps)){h.memoizedState=Aa(s,o,w,c);return}}Nt.flags|=t,h.memoizedState=Aa(1|s,o,w,c)}function Vh(t,s){return el(8390656,8,t,s)}function td(t,s){return tl(2048,8,t,s)}function Hh(t,s){return tl(4,2,t,s)}function qh(t,s){return tl(4,4,t,s)}function Wh(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Gh(t,s,o){return o=o!=null?o.concat([t]):null,tl(4,4,Wh.bind(null,s,t),o)}function rd(){}function Lh(t,s){var o=Ar();s=s===void 0?null:s;var c=o.memoizedState;return c!==null&&s!==null&&Du(s,c[1])?c[0]:(o.memoizedState=[t,s],t)}function Kh(t,s){var o=Ar();s=s===void 0?null:s;var c=o.memoizedState;return c!==null&&s!==null&&Du(s,c[1])?c[0]:(t=t(),o.memoizedState=[t,s],t)}function Yh(t,s,o){return(Bs&21)===0?(t.baseState&&(t.baseState=!1,ur=!0),t.memoizedState=o):(Ur(o,s)||(o=E0(),Nt.lanes|=o,Rs|=o,t.baseState=!0),s)}function uw(t,s){var o=ut;ut=o!==0&&4>o?o:4,t(!0);var c=Zu.transition;Zu.transition={};try{t(!1),s()}finally{ut=o,Zu.transition=c}}function Zh(){return Ar().memoizedState}function dw(t,s,o){var c=Qn(t);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},Dh(t))Qh(s,o);else if(o=Sh(t,s,o,c),o!==null){var h=nr();Vr(o,t,c,h),Xh(o,s,c)}}function fw(t,s,o){var c=Qn(t),h={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(Dh(t))Qh(s,h);else{var w=t.alternate;if(t.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var B=s.lastRenderedState,D=w(B,o);if(h.hasEagerState=!0,h.eagerState=D,Ur(D,B)){var re=s.interleaved;re===null?(h.next=h,qu(s)):(h.next=re.next,re.next=h),s.interleaved=h;return}}catch{}finally{}o=Sh(t,s,h,c),o!==null&&(h=nr(),Vr(o,t,c,h),Xh(o,s,c))}}function Dh(t){var s=t.alternate;return t===Nt||s!==null&&s===Nt}function Qh(t,s){ja=Jo=!0;var o=t.pending;o===null?s.next=s:(s.next=o.next,o.next=s),t.pending=s}function Xh(t,s,o){if((o&4194240)!==0){var c=s.lanes;c&=t.pendingLanes,o|=c,s.lanes=o,su(t,o)}}var rl={readContext:Sr,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},hw={readContext:Sr,useCallback:function(t,s){return Jr().memoizedState=[t,s===void 0?null:s],t},useContext:Sr,useEffect:Vh,useImperativeHandle:function(t,s,o){return o=o!=null?o.concat([t]):null,el(4194308,4,Wh.bind(null,s,t),o)},useLayoutEffect:function(t,s){return el(4194308,4,t,s)},useInsertionEffect:function(t,s){return el(4,2,t,s)},useMemo:function(t,s){var o=Jr();return s=s===void 0?null:s,t=t(),o.memoizedState=[t,s],t},useReducer:function(t,s,o){var c=Jr();return s=o!==void 0?o(s):s,c.memoizedState=c.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},c.queue=t,t=t.dispatch=dw.bind(null,Nt,t),[c.memoizedState,t]},useRef:function(t){var s=Jr();return t={current:t},s.memoizedState=t},useState:$h,useDebugValue:rd,useDeferredValue:function(t){return Jr().memoizedState=t},useTransition:function(){var t=$h(!1),s=t[0];return t=uw.bind(null,t[1]),Jr().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,o){var c=Nt,h=Jr();if(xt){if(o===void 0)throw Error(n(407));o=o()}else{if(o=s(),Ot===null)throw Error(n(349));(Bs&30)!==0||Mh(c,s,o)}h.memoizedState=o;var w={value:o,getSnapshot:s};return h.queue=w,Vh(Uh.bind(null,c,w,t),[t]),c.flags|=2048,Aa(9,Fh.bind(null,c,w,o,s),void 0,null),o},useId:function(){var t=Jr(),s=Ot.identifierPrefix;if(xt){var o=mn,c=pn;o=(c&~(1<<32-Fr(c)-1)).toString(32)+o,s=":"+s+"R"+o,o=ka++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=cw++,s=":"+s+"r"+o.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},pw={readContext:Sr,useCallback:Lh,useContext:Sr,useEffect:td,useImperativeHandle:Gh,useInsertionEffect:Hh,useLayoutEffect:qh,useMemo:Kh,useReducer:Ju,useRef:zh,useState:function(){return Ju(Sa)},useDebugValue:rd,useDeferredValue:function(t){var s=Ar();return Yh(s,Rt.memoizedState,t)},useTransition:function(){var t=Ju(Sa)[0],s=Ar().memoizedState;return[t,s]},useMutableSource:Rh,useSyncExternalStore:Ph,useId:Zh,unstable_isNewReconciler:!1},mw={readContext:Sr,useCallback:Lh,useContext:Sr,useEffect:td,useImperativeHandle:Gh,useInsertionEffect:Hh,useLayoutEffect:qh,useMemo:Kh,useReducer:ed,useRef:zh,useState:function(){return ed(Sa)},useDebugValue:rd,useDeferredValue:function(t){var s=Ar();return Rt===null?s.memoizedState=t:Yh(s,Rt.memoizedState,t)},useTransition:function(){var t=ed(Sa)[0],s=Ar().memoizedState;return[t,s]},useMutableSource:Rh,useSyncExternalStore:Ph,useId:Zh,unstable_isNewReconciler:!1};function Ir(t,s){if(t&&t.defaultProps){s=Ee({},s),t=t.defaultProps;for(var o in t)s[o]===void 0&&(s[o]=t[o]);return s}return s}function nd(t,s,o,c){s=t.memoizedState,o=o(c,s),o=o==null?s:Ee({},s,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var nl={isMounted:function(t){return(t=t._reactInternals)?dn(t)===t:!1},enqueueSetState:function(t,s,o){t=t._reactInternals;var c=nr(),h=Qn(t),w=yn(c,h);w.payload=s,o!=null&&(w.callback=o),s=Kn(t,w,h),s!==null&&(Vr(s,t,h,c),Zo(s,t,h))},enqueueReplaceState:function(t,s,o){t=t._reactInternals;var c=nr(),h=Qn(t),w=yn(c,h);w.tag=1,w.payload=s,o!=null&&(w.callback=o),s=Kn(t,w,h),s!==null&&(Vr(s,t,h,c),Zo(s,t,h))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var o=nr(),c=Qn(t),h=yn(o,c);h.tag=2,s!=null&&(h.callback=s),s=Kn(t,h,c),s!==null&&(Vr(s,t,c,o),Zo(s,t,c))}};function Jh(t,s,o,c,h,w,B){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,w,B):s.prototype&&s.prototype.isPureReactComponent?!pa(o,c)||!pa(h,w):!0}function ep(t,s,o){var c=!1,h=Wn,w=s.contextType;return typeof w=="object"&&w!==null?w=Sr(w):(h=cr(s)?ks:Kt.current,c=s.contextTypes,w=(c=c!=null)?pi(t,h):Wn),s=new s(o,w),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=nl,t.stateNode=s,s._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=w),s}function tp(t,s,o,c){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==t&&nl.enqueueReplaceState(s,s.state,null)}function sd(t,s,o,c){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},Wu(t);var w=s.contextType;typeof w=="object"&&w!==null?h.context=Sr(w):(w=cr(s)?ks:Kt.current,h.context=pi(t,w)),h.state=t.memoizedState,w=s.getDerivedStateFromProps,typeof w=="function"&&(nd(t,s,w,o),h.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&nl.enqueueReplaceState(h,h.state,null),Do(t,o,h,c),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Ni(t,s){try{var o="",c=s;do o+=Pe(c),c=c.return;while(c);var h=o}catch(w){h=`
Error generating stack: `+w.message+`
`+w.stack}return{value:t,source:s,stack:h,digest:null}}function id(t,s,o){return{value:t,source:null,stack:o??null,digest:s??null}}function ad(t,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var gw=typeof WeakMap=="function"?WeakMap:Map;function rp(t,s,o){o=yn(-1,o),o.tag=3,o.payload={element:null};var c=s.value;return o.callback=function(){ul||(ul=!0,bd=c),ad(t,s)},o}function np(t,s,o){o=yn(-1,o),o.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var h=s.value;o.payload=function(){return c(h)},o.callback=function(){ad(t,s)}}var w=t.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(o.callback=function(){ad(t,s),typeof c!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var B=s.stack;this.componentDidCatch(s.value,{componentStack:B!==null?B:""})}),o}function sp(t,s,o){var c=t.pingCache;if(c===null){c=t.pingCache=new gw;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(o)||(h.add(o),t=Cw.bind(null,t,s,o),s.then(t,t))}function ip(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function ap(t,s,o,c,h){return(t.mode&1)===0?(t===s?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=yn(-1,1),s.tag=2,Kn(o,s,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var yw=ce.ReactCurrentOwner,ur=!1;function rr(t,s,o,c){s.child=t===null?kh(s,null,o,c):xi(s,t.child,o,c)}function op(t,s,o,c,h){o=o.render;var w=s.ref;return vi(s,h),c=Qu(t,s,o,c,w,h),o=Xu(),t!==null&&!ur?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~h,xn(t,s,h)):(xt&&o&&Mu(s),s.flags|=1,rr(t,s,c,h),s.child)}function lp(t,s,o,c,h){if(t===null){var w=o.type;return typeof w=="function"&&!Ad(w)&&w.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=w,cp(t,s,w,c,h)):(t=gl(o.type,null,c,s,s.mode,h),t.ref=s.ref,t.return=s,s.child=t)}if(w=t.child,(t.lanes&h)===0){var B=w.memoizedProps;if(o=o.compare,o=o!==null?o:pa,o(B,c)&&t.ref===s.ref)return xn(t,s,h)}return s.flags|=1,t=Jn(w,c),t.ref=s.ref,t.return=s,s.child=t}function cp(t,s,o,c,h){if(t!==null){var w=t.memoizedProps;if(pa(w,c)&&t.ref===s.ref)if(ur=!1,s.pendingProps=c=w,(t.lanes&h)!==0)(t.flags&131072)!==0&&(ur=!0);else return s.lanes=t.lanes,xn(t,s,h)}return od(t,s,o,c,h)}function up(t,s,o){var c=s.pendingProps,h=c.children,w=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(Ei,Nr),Nr|=o;else{if((o&1073741824)===0)return t=w!==null?w.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,ht(Ei,Nr),Nr|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=w!==null?w.baseLanes:o,ht(Ei,Nr),Nr|=c}else w!==null?(c=w.baseLanes|o,s.memoizedState=null):c=o,ht(Ei,Nr),Nr|=c;return rr(t,s,h,o),s.child}function dp(t,s){var o=s.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function od(t,s,o,c,h){var w=cr(o)?ks:Kt.current;return w=pi(s,w),vi(s,h),o=Qu(t,s,o,c,w,h),c=Xu(),t!==null&&!ur?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~h,xn(t,s,h)):(xt&&c&&Mu(s),s.flags|=1,rr(t,s,o,h),s.child)}function fp(t,s,o,c,h){if(cr(o)){var w=!0;Vo(s)}else w=!1;if(vi(s,h),s.stateNode===null)il(t,s),ep(s,o,c),sd(s,o,c,h),c=!0;else if(t===null){var B=s.stateNode,D=s.memoizedProps;B.props=D;var re=B.context,ve=o.contextType;typeof ve=="object"&&ve!==null?ve=Sr(ve):(ve=cr(o)?ks:Kt.current,ve=pi(s,ve));var ke=o.getDerivedStateFromProps,Ae=typeof ke=="function"||typeof B.getSnapshotBeforeUpdate=="function";Ae||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(D!==c||re!==ve)&&tp(s,B,c,ve),Ln=!1;var je=s.memoizedState;B.state=je,Do(s,c,B,h),re=s.memoizedState,D!==c||je!==re||lr.current||Ln?(typeof ke=="function"&&(nd(s,o,ke,c),re=s.memoizedState),(D=Ln||Jh(s,o,D,c,je,re,ve))?(Ae||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(s.flags|=4194308)):(typeof B.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=re),B.props=c,B.state=re,B.context=ve,c=D):(typeof B.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{B=s.stateNode,Ah(t,s),D=s.memoizedProps,ve=s.type===s.elementType?D:Ir(s.type,D),B.props=ve,Ae=s.pendingProps,je=B.context,re=o.contextType,typeof re=="object"&&re!==null?re=Sr(re):(re=cr(o)?ks:Kt.current,re=pi(s,re));var Me=o.getDerivedStateFromProps;(ke=typeof Me=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(D!==Ae||je!==re)&&tp(s,B,c,re),Ln=!1,je=s.memoizedState,B.state=je,Do(s,c,B,h);var Oe=s.memoizedState;D!==Ae||je!==Oe||lr.current||Ln?(typeof Me=="function"&&(nd(s,o,Me,c),Oe=s.memoizedState),(ve=Ln||Jh(s,o,ve,c,je,Oe,re)||!1)?(ke||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(c,Oe,re),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(c,Oe,re)),typeof B.componentDidUpdate=="function"&&(s.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof B.componentDidUpdate!="function"||D===t.memoizedProps&&je===t.memoizedState||(s.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||D===t.memoizedProps&&je===t.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Oe),B.props=c,B.state=Oe,B.context=re,c=ve):(typeof B.componentDidUpdate!="function"||D===t.memoizedProps&&je===t.memoizedState||(s.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||D===t.memoizedProps&&je===t.memoizedState||(s.flags|=1024),c=!1)}return ld(t,s,o,c,w,h)}function ld(t,s,o,c,h,w){dp(t,s);var B=(s.flags&128)!==0;if(!c&&!B)return h&&yh(s,o,!1),xn(t,s,w);c=s.stateNode,yw.current=s;var D=B&&typeof o.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,t!==null&&B?(s.child=xi(s,t.child,null,w),s.child=xi(s,null,D,w)):rr(t,s,D,w),s.memoizedState=c.state,h&&yh(s,o,!0),s.child}function hp(t){var s=t.stateNode;s.pendingContext?mh(t,s.pendingContext,s.pendingContext!==s.context):s.context&&mh(t,s.context,!1),Gu(t,s.containerInfo)}function pp(t,s,o,c,h){return yi(),Iu(h),s.flags|=256,rr(t,s,o,c),s.child}var cd={dehydrated:null,treeContext:null,retryLane:0};function ud(t){return{baseLanes:t,cachePool:null,transitions:null}}function mp(t,s,o){var c=s.pendingProps,h=bt.current,w=!1,B=(s.flags&128)!==0,D;if((D=B)||(D=t!==null&&t.memoizedState===null?!1:(h&2)!==0),D?(w=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),ht(bt,h&1),t===null)return Ou(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((s.mode&1)===0?s.lanes=1:t.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(B=c.children,t=c.fallback,w?(c=s.mode,w=s.child,B={mode:"hidden",children:B},(c&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=B):w=yl(B,c,0,null),t=Us(t,c,o,null),w.return=s,t.return=s,w.sibling=t,s.child=w,s.child.memoizedState=ud(o),s.memoizedState=cd,t):dd(s,B));if(h=t.memoizedState,h!==null&&(D=h.dehydrated,D!==null))return xw(t,s,B,c,D,h,o);if(w){w=c.fallback,B=s.mode,h=t.child,D=h.sibling;var re={mode:"hidden",children:c.children};return(B&1)===0&&s.child!==h?(c=s.child,c.childLanes=0,c.pendingProps=re,s.deletions=null):(c=Jn(h,re),c.subtreeFlags=h.subtreeFlags&14680064),D!==null?w=Jn(D,w):(w=Us(w,B,o,null),w.flags|=2),w.return=s,c.return=s,c.sibling=w,s.child=c,c=w,w=s.child,B=t.child.memoizedState,B=B===null?ud(o):{baseLanes:B.baseLanes|o,cachePool:null,transitions:B.transitions},w.memoizedState=B,w.childLanes=t.childLanes&~o,s.memoizedState=cd,c}return w=t.child,t=w.sibling,c=Jn(w,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=o),c.return=s,c.sibling=null,t!==null&&(o=s.deletions,o===null?(s.deletions=[t],s.flags|=16):o.push(t)),s.child=c,s.memoizedState=null,c}function dd(t,s){return s=yl({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function sl(t,s,o,c){return c!==null&&Iu(c),xi(s,t.child,null,o),t=dd(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function xw(t,s,o,c,h,w,B){if(o)return s.flags&256?(s.flags&=-257,c=id(Error(n(422))),sl(t,s,B,c)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(w=c.fallback,h=s.mode,c=yl({mode:"visible",children:c.children},h,0,null),w=Us(w,h,B,null),w.flags|=2,c.return=s,w.return=s,c.sibling=w,s.child=c,(s.mode&1)!==0&&xi(s,t.child,null,B),s.child.memoizedState=ud(B),s.memoizedState=cd,w);if((s.mode&1)===0)return sl(t,s,B,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var D=c.dgst;return c=D,w=Error(n(419)),c=id(w,c,void 0),sl(t,s,B,c)}if(D=(B&t.childLanes)!==0,ur||D){if(c=Ot,c!==null){switch(B&-B){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|B))!==0?0:h,h!==0&&h!==w.retryLane&&(w.retryLane=h,gn(t,h),Vr(c,t,h,-1))}return Sd(),c=id(Error(n(421))),sl(t,s,B,c)}return h.data==="$?"?(s.flags|=128,s.child=t.child,s=Bw.bind(null,t),h._reactRetry=s,null):(t=w.treeContext,br=Hn(h.nextSibling),vr=s,xt=!0,Or=null,t!==null&&(jr[kr++]=pn,jr[kr++]=mn,jr[kr++]=Ss,pn=t.id,mn=t.overflow,Ss=s),s=dd(s,c.children),s.flags|=4096,s)}function gp(t,s,o){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s),Hu(t.return,s,o)}function fd(t,s,o,c,h){var w=t.memoizedState;w===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=o,w.tailMode=h)}function yp(t,s,o){var c=s.pendingProps,h=c.revealOrder,w=c.tail;if(rr(t,s,c.children,o),c=bt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gp(t,o,s);else if(t.tag===19)gp(t,o,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(ht(bt,c),(s.mode&1)===0)s.memoizedState=null;else switch(h){case"forwards":for(o=s.child,h=null;o!==null;)t=o.alternate,t!==null&&Qo(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),fd(s,!1,h,o,w);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(t=h.alternate,t!==null&&Qo(t)===null){s.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}fd(s,!0,o,null,w);break;case"together":fd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function il(t,s){(s.mode&1)===0&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function xn(t,s,o){if(t!==null&&(s.dependencies=t.dependencies),Rs|=s.lanes,(o&s.childLanes)===0)return null;if(t!==null&&s.child!==t.child)throw Error(n(153));if(s.child!==null){for(t=s.child,o=Jn(t,t.pendingProps),s.child=o,o.return=s;t.sibling!==null;)t=t.sibling,o=o.sibling=Jn(t,t.pendingProps),o.return=s;o.sibling=null}return s.child}function ww(t,s,o){switch(s.tag){case 3:hp(s),yi();break;case 5:Bh(s);break;case 1:cr(s.type)&&Vo(s);break;case 4:Gu(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,h=s.memoizedProps.value;ht(Ko,c._currentValue),c._currentValue=h;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(ht(bt,bt.current&1),s.flags|=128,null):(o&s.child.childLanes)!==0?mp(t,s,o):(ht(bt,bt.current&1),t=xn(t,s,o),t!==null?t.sibling:null);ht(bt,bt.current&1);break;case 19:if(c=(o&s.childLanes)!==0,(t.flags&128)!==0){if(c)return yp(t,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ht(bt,bt.current),c)break;return null;case 22:case 23:return s.lanes=0,up(t,s,o)}return xn(t,s,o)}var xp,hd,wp,vp;xp=function(t,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},hd=function(){},wp=function(t,s,o,c){var h=t.memoizedProps;if(h!==c){t=s.stateNode,Cs(Xr.current);var w=null;switch(o){case"input":h=X(t,h),c=X(t,c),w=[];break;case"select":h=Ee({},h,{value:void 0}),c=Ee({},c,{value:void 0}),w=[];break;case"textarea":h=he(t,h),c=he(t,c),w=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=Io)}Ye(o,c);var B;o=null;for(ve in h)if(!c.hasOwnProperty(ve)&&h.hasOwnProperty(ve)&&h[ve]!=null)if(ve==="style"){var D=h[ve];for(B in D)D.hasOwnProperty(B)&&(o||(o={}),o[B]="")}else ve!=="dangerouslySetInnerHTML"&&ve!=="children"&&ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&ve!=="autoFocus"&&(l.hasOwnProperty(ve)?w||(w=[]):(w=w||[]).push(ve,null));for(ve in c){var re=c[ve];if(D=h!=null?h[ve]:void 0,c.hasOwnProperty(ve)&&re!==D&&(re!=null||D!=null))if(ve==="style")if(D){for(B in D)!D.hasOwnProperty(B)||re&&re.hasOwnProperty(B)||(o||(o={}),o[B]="");for(B in re)re.hasOwnProperty(B)&&D[B]!==re[B]&&(o||(o={}),o[B]=re[B])}else o||(w||(w=[]),w.push(ve,o)),o=re;else ve==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,D=D?D.__html:void 0,re!=null&&D!==re&&(w=w||[]).push(ve,re)):ve==="children"?typeof re!="string"&&typeof re!="number"||(w=w||[]).push(ve,""+re):ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&(l.hasOwnProperty(ve)?(re!=null&&ve==="onScroll"&&pt("scroll",t),w||D===re||(w=[])):(w=w||[]).push(ve,re))}o&&(w=w||[]).push("style",o);var ve=w;(s.updateQueue=ve)&&(s.flags|=4)}},vp=function(t,s,o,c){o!==c&&(s.flags|=4)};function Ta(t,s){if(!xt)switch(t.tailMode){case"hidden":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Zt(t){var s=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(s)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=c,t.childLanes=o,s}function vw(t,s,o){var c=s.pendingProps;switch(Fu(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(s),null;case 1:return cr(s.type)&&zo(),Zt(s),null;case 3:return c=s.stateNode,bi(),mt(lr),mt(Kt),Yu(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(Go(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Or!==null&&(Ed(Or),Or=null))),hd(t,s),Zt(s),null;case 5:Lu(s);var h=Cs(Ea.current);if(o=s.type,t!==null&&s.stateNode!=null)wp(t,s,o,c,h),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(n(166));return Zt(s),null}if(t=Cs(Xr.current),Go(s)){c=s.stateNode,o=s.type;var w=s.memoizedProps;switch(c[Qr]=s,c[wa]=w,t=(s.mode&1)!==0,o){case"dialog":pt("cancel",c),pt("close",c);break;case"iframe":case"object":case"embed":pt("load",c);break;case"video":case"audio":for(h=0;h<ga.length;h++)pt(ga[h],c);break;case"source":pt("error",c);break;case"img":case"image":case"link":pt("error",c),pt("load",c);break;case"details":pt("toggle",c);break;case"input":se(c,w),pt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!w.multiple},pt("invalid",c);break;case"textarea":Se(c,w),pt("invalid",c)}Ye(o,w),h=null;for(var B in w)if(w.hasOwnProperty(B)){var D=w[B];B==="children"?typeof D=="string"?c.textContent!==D&&(w.suppressHydrationWarning!==!0&&Oo(c.textContent,D,t),h=["children",D]):typeof D=="number"&&c.textContent!==""+D&&(w.suppressHydrationWarning!==!0&&Oo(c.textContent,D,t),h=["children",""+D]):l.hasOwnProperty(B)&&D!=null&&B==="onScroll"&&pt("scroll",c)}switch(o){case"input":P(c),m(c,w,!0);break;case"textarea":P(c),Ie(c);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(c.onclick=Io)}c=h,s.updateQueue=c,c!==null&&(s.flags|=4)}else{B=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=De(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=B.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=B.createElement(o,{is:c.is}):(t=B.createElement(o),o==="select"&&(B=t,c.multiple?B.multiple=!0:c.size&&(B.size=c.size))):t=B.createElementNS(t,o),t[Qr]=s,t[wa]=c,xp(t,s,!1,!1),s.stateNode=t;e:{switch(B=We(o,c),o){case"dialog":pt("cancel",t),pt("close",t),h=c;break;case"iframe":case"object":case"embed":pt("load",t),h=c;break;case"video":case"audio":for(h=0;h<ga.length;h++)pt(ga[h],t);h=c;break;case"source":pt("error",t),h=c;break;case"img":case"image":case"link":pt("error",t),pt("load",t),h=c;break;case"details":pt("toggle",t),h=c;break;case"input":se(t,c),h=X(t,c),pt("invalid",t);break;case"option":h=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},h=Ee({},c,{value:void 0}),pt("invalid",t);break;case"textarea":Se(t,c),h=he(t,c),pt("invalid",t);break;default:h=c}Ye(o,h),D=h;for(w in D)if(D.hasOwnProperty(w)){var re=D[w];w==="style"?Ke(t,re):w==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&N(t,re)):w==="children"?typeof re=="string"?(o!=="textarea"||re!=="")&&V(t,re):typeof re=="number"&&V(t,""+re):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(l.hasOwnProperty(w)?re!=null&&w==="onScroll"&&pt("scroll",t):re!=null&&J(t,w,re,B))}switch(o){case"input":P(t),m(t,c,!1);break;case"textarea":P(t),Ie(t);break;case"option":c.value!=null&&t.setAttribute("value",""+me(c.value));break;case"select":t.multiple=!!c.multiple,w=c.value,w!=null?Q(t,!!c.multiple,w,!1):c.defaultValue!=null&&Q(t,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Io)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Zt(s),null;case 6:if(t&&s.stateNode!=null)vp(t,s,t.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(o=Cs(Ea.current),Cs(Xr.current),Go(s)){if(c=s.stateNode,o=s.memoizedProps,c[Qr]=s,(w=c.nodeValue!==o)&&(t=vr,t!==null))switch(t.tag){case 3:Oo(c.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Oo(c.nodeValue,o,(t.mode&1)!==0)}w&&(s.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Qr]=s,s.stateNode=c}return Zt(s),null;case 13:if(mt(bt),c=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xt&&br!==null&&(s.mode&1)!==0&&(s.flags&128)===0)_h(),yi(),s.flags|=98560,w=!1;else if(w=Go(s),c!==null&&c.dehydrated!==null){if(t===null){if(!w)throw Error(n(318));if(w=s.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Qr]=s}else yi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Zt(s),w=!1}else Or!==null&&(Ed(Or),Or=null),w=!0;if(!w)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=o,s):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(t===null||(bt.current&1)!==0?Pt===0&&(Pt=3):Sd())),s.updateQueue!==null&&(s.flags|=4),Zt(s),null);case 4:return bi(),hd(t,s),t===null&&ya(s.stateNode.containerInfo),Zt(s),null;case 10:return Vu(s.type._context),Zt(s),null;case 17:return cr(s.type)&&zo(),Zt(s),null;case 19:if(mt(bt),w=s.memoizedState,w===null)return Zt(s),null;if(c=(s.flags&128)!==0,B=w.rendering,B===null)if(c)Ta(w,!1);else{if(Pt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(B=Qo(t),B!==null){for(s.flags|=128,Ta(w,!1),c=B.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=o,o=s.child;o!==null;)w=o,t=c,w.flags&=14680066,B=w.alternate,B===null?(w.childLanes=0,w.lanes=t,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=B.childLanes,w.lanes=B.lanes,w.child=B.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=B.memoizedProps,w.memoizedState=B.memoizedState,w.updateQueue=B.updateQueue,w.type=B.type,t=B.dependencies,w.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return ht(bt,bt.current&1|2),s.child}t=t.sibling}w.tail!==null&&He()>ji&&(s.flags|=128,c=!0,Ta(w,!1),s.lanes=4194304)}else{if(!c)if(t=Qo(B),t!==null){if(s.flags|=128,c=!0,o=t.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),Ta(w,!0),w.tail===null&&w.tailMode==="hidden"&&!B.alternate&&!xt)return Zt(s),null}else 2*He()-w.renderingStartTime>ji&&o!==1073741824&&(s.flags|=128,c=!0,Ta(w,!1),s.lanes=4194304);w.isBackwards?(B.sibling=s.child,s.child=B):(o=w.last,o!==null?o.sibling=B:s.child=B,w.last=B)}return w.tail!==null?(s=w.tail,w.rendering=s,w.tail=s.sibling,w.renderingStartTime=He(),s.sibling=null,o=bt.current,ht(bt,c?o&1|2:o&1),s):(Zt(s),null);case 22:case 23:return kd(),c=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(Nr&1073741824)!==0&&(Zt(s),s.subtreeFlags&6&&(s.flags|=8192)):Zt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function bw(t,s){switch(Fu(s),s.tag){case 1:return cr(s.type)&&zo(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return bi(),mt(lr),mt(Kt),Yu(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 5:return Lu(s),null;case 13:if(mt(bt),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(n(340));yi()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return mt(bt),null;case 4:return bi(),null;case 10:return Vu(s.type._context),null;case 22:case 23:return kd(),null;case 24:return null;default:return null}}var al=!1,Dt=!1,Nw=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function _i(t,s){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){Et(t,s,c)}else o.current=null}function pd(t,s,o){try{o()}catch(c){Et(t,s,c)}}var bp=!1;function _w(t,s){if(ku=ko,t=J0(),xu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,w=c.focusNode;c=c.focusOffset;try{o.nodeType,w.nodeType}catch{o=null;break e}var B=0,D=-1,re=-1,ve=0,ke=0,Ae=t,je=null;t:for(;;){for(var Me;Ae!==o||h!==0&&Ae.nodeType!==3||(D=B+h),Ae!==w||c!==0&&Ae.nodeType!==3||(re=B+c),Ae.nodeType===3&&(B+=Ae.nodeValue.length),(Me=Ae.firstChild)!==null;)je=Ae,Ae=Me;for(;;){if(Ae===t)break t;if(je===o&&++ve===h&&(D=B),je===w&&++ke===c&&(re=B),(Me=Ae.nextSibling)!==null)break;Ae=je,je=Ae.parentNode}Ae=Me}o=D===-1||re===-1?null:{start:D,end:re}}else o=null}o=o||{start:0,end:0}}else o=null;for(Su={focusedElem:t,selectionRange:o},ko=!1,Ue=s;Ue!==null;)if(s=Ue,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Ue=t;else for(;Ue!==null;){s=Ue;try{var Oe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var $e=Oe.memoizedProps,St=Oe.memoizedState,pe=s.stateNode,le=pe.getSnapshotBeforeUpdate(s.elementType===s.type?$e:Ir(s.type,$e),St);pe.__reactInternalSnapshotBeforeUpdate=le}break;case 3:var ye=s.stateNode.containerInfo;ye.nodeType===1?ye.textContent="":ye.nodeType===9&&ye.documentElement&&ye.removeChild(ye.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Te){Et(s,s.return,Te)}if(t=s.sibling,t!==null){t.return=s.return,Ue=t;break}Ue=s.return}return Oe=bp,bp=!1,Oe}function Ca(t,s,o){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&t)===t){var w=h.destroy;h.destroy=void 0,w!==void 0&&pd(s,o,w)}h=h.next}while(h!==c)}}function ol(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&t)===t){var c=o.create;o.destroy=c()}o=o.next}while(o!==s)}}function md(t){var s=t.ref;if(s!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof s=="function"?s(t):s.current=t}}function Np(t){var s=t.alternate;s!==null&&(t.alternate=null,Np(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[Qr],delete s[wa],delete s[Bu],delete s[iw],delete s[aw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _p(t){return t.tag===5||t.tag===3||t.tag===4}function Ep(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_p(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gd(t,s,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(t,s):o.insertBefore(t,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(t,o)):(s=o,s.appendChild(t)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Io));else if(c!==4&&(t=t.child,t!==null))for(gd(t,s,o),t=t.sibling;t!==null;)gd(t,s,o),t=t.sibling}function yd(t,s,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?o.insertBefore(t,s):o.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(yd(t,s,o),t=t.sibling;t!==null;)yd(t,s,o),t=t.sibling}var Vt=null,$r=!1;function Yn(t,s,o){for(o=o.child;o!==null;)jp(t,s,o),o=o.sibling}function jp(t,s,o){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(vo,o)}catch{}switch(o.tag){case 5:Dt||_i(o,s);case 6:var c=Vt,h=$r;Vt=null,Yn(t,s,o),Vt=c,$r=h,Vt!==null&&($r?(t=Vt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Vt.removeChild(o.stateNode));break;case 18:Vt!==null&&($r?(t=Vt,o=o.stateNode,t.nodeType===8?Cu(t.parentNode,o):t.nodeType===1&&Cu(t,o),la(t)):Cu(Vt,o.stateNode));break;case 4:c=Vt,h=$r,Vt=o.stateNode.containerInfo,$r=!0,Yn(t,s,o),Vt=c,$r=h;break;case 0:case 11:case 14:case 15:if(!Dt&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var w=h,B=w.destroy;w=w.tag,B!==void 0&&((w&2)!==0||(w&4)!==0)&&pd(o,s,B),h=h.next}while(h!==c)}Yn(t,s,o);break;case 1:if(!Dt&&(_i(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(D){Et(o,s,D)}Yn(t,s,o);break;case 21:Yn(t,s,o);break;case 22:o.mode&1?(Dt=(c=Dt)||o.memoizedState!==null,Yn(t,s,o),Dt=c):Yn(t,s,o);break;default:Yn(t,s,o)}}function kp(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Nw),s.forEach(function(c){var h=Rw.bind(null,t,c);o.has(c)||(o.add(c),c.then(h,h))})}}function zr(t,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];try{var w=t,B=s,D=B;e:for(;D!==null;){switch(D.tag){case 5:Vt=D.stateNode,$r=!1;break e;case 3:Vt=D.stateNode.containerInfo,$r=!0;break e;case 4:Vt=D.stateNode.containerInfo,$r=!0;break e}D=D.return}if(Vt===null)throw Error(n(160));jp(w,B,h),Vt=null,$r=!1;var re=h.alternate;re!==null&&(re.return=null),h.return=null}catch(ve){Et(h,s,ve)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Sp(s,t),s=s.sibling}function Sp(t,s){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zr(s,t),en(t),c&4){try{Ca(3,t,t.return),ol(3,t)}catch($e){Et(t,t.return,$e)}try{Ca(5,t,t.return)}catch($e){Et(t,t.return,$e)}}break;case 1:zr(s,t),en(t),c&512&&o!==null&&_i(o,o.return);break;case 5:if(zr(s,t),en(t),c&512&&o!==null&&_i(o,o.return),t.flags&32){var h=t.stateNode;try{V(h,"")}catch($e){Et(t,t.return,$e)}}if(c&4&&(h=t.stateNode,h!=null)){var w=t.memoizedProps,B=o!==null?o.memoizedProps:w,D=t.type,re=t.updateQueue;if(t.updateQueue=null,re!==null)try{D==="input"&&w.type==="radio"&&w.name!=null&&S(h,w),We(D,B);var ve=We(D,w);for(B=0;B<re.length;B+=2){var ke=re[B],Ae=re[B+1];ke==="style"?Ke(h,Ae):ke==="dangerouslySetInnerHTML"?N(h,Ae):ke==="children"?V(h,Ae):J(h,ke,Ae,ve)}switch(D){case"input":p(h,w);break;case"textarea":Fe(h,w);break;case"select":var je=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!w.multiple;var Me=w.value;Me!=null?Q(h,!!w.multiple,Me,!1):je!==!!w.multiple&&(w.defaultValue!=null?Q(h,!!w.multiple,w.defaultValue,!0):Q(h,!!w.multiple,w.multiple?[]:"",!1))}h[wa]=w}catch($e){Et(t,t.return,$e)}}break;case 6:if(zr(s,t),en(t),c&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,w=t.memoizedProps;try{h.nodeValue=w}catch($e){Et(t,t.return,$e)}}break;case 3:if(zr(s,t),en(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{la(s.containerInfo)}catch($e){Et(t,t.return,$e)}break;case 4:zr(s,t),en(t);break;case 13:zr(s,t),en(t),h=t.child,h.flags&8192&&(w=h.memoizedState!==null,h.stateNode.isHidden=w,!w||h.alternate!==null&&h.alternate.memoizedState!==null||(vd=He())),c&4&&kp(t);break;case 22:if(ke=o!==null&&o.memoizedState!==null,t.mode&1?(Dt=(ve=Dt)||ke,zr(s,t),Dt=ve):zr(s,t),en(t),c&8192){if(ve=t.memoizedState!==null,(t.stateNode.isHidden=ve)&&!ke&&(t.mode&1)!==0)for(Ue=t,ke=t.child;ke!==null;){for(Ae=Ue=ke;Ue!==null;){switch(je=Ue,Me=je.child,je.tag){case 0:case 11:case 14:case 15:Ca(4,je,je.return);break;case 1:_i(je,je.return);var Oe=je.stateNode;if(typeof Oe.componentWillUnmount=="function"){c=je,o=je.return;try{s=c,Oe.props=s.memoizedProps,Oe.state=s.memoizedState,Oe.componentWillUnmount()}catch($e){Et(c,o,$e)}}break;case 5:_i(je,je.return);break;case 22:if(je.memoizedState!==null){Cp(Ae);continue}}Me!==null?(Me.return=je,Ue=Me):Cp(Ae)}ke=ke.sibling}e:for(ke=null,Ae=t;;){if(Ae.tag===5){if(ke===null){ke=Ae;try{h=Ae.stateNode,ve?(w=h.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(D=Ae.stateNode,re=Ae.memoizedProps.style,B=re!=null&&re.hasOwnProperty("display")?re.display:null,D.style.display=xe("display",B))}catch($e){Et(t,t.return,$e)}}}else if(Ae.tag===6){if(ke===null)try{Ae.stateNode.nodeValue=ve?"":Ae.memoizedProps}catch($e){Et(t,t.return,$e)}}else if((Ae.tag!==22&&Ae.tag!==23||Ae.memoizedState===null||Ae===t)&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===t)break e;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===t)break e;ke===Ae&&(ke=null),Ae=Ae.return}ke===Ae&&(ke=null),Ae.sibling.return=Ae.return,Ae=Ae.sibling}}break;case 19:zr(s,t),en(t),c&4&&kp(t);break;case 21:break;default:zr(s,t),en(t)}}function en(t){var s=t.flags;if(s&2){try{e:{for(var o=t.return;o!==null;){if(_p(o)){var c=o;break e}o=o.return}throw Error(n(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(V(h,""),c.flags&=-33);var w=Ep(t);yd(t,w,h);break;case 3:case 4:var B=c.stateNode.containerInfo,D=Ep(t);gd(t,D,B);break;default:throw Error(n(161))}}catch(re){Et(t,t.return,re)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Ew(t,s,o){Ue=t,Ap(t)}function Ap(t,s,o){for(var c=(t.mode&1)!==0;Ue!==null;){var h=Ue,w=h.child;if(h.tag===22&&c){var B=h.memoizedState!==null||al;if(!B){var D=h.alternate,re=D!==null&&D.memoizedState!==null||Dt;D=al;var ve=Dt;if(al=B,(Dt=re)&&!ve)for(Ue=h;Ue!==null;)B=Ue,re=B.child,B.tag===22&&B.memoizedState!==null?Bp(h):re!==null?(re.return=B,Ue=re):Bp(h);for(;w!==null;)Ue=w,Ap(w),w=w.sibling;Ue=h,al=D,Dt=ve}Tp(t)}else(h.subtreeFlags&8772)!==0&&w!==null?(w.return=h,Ue=w):Tp(t)}}function Tp(t){for(;Ue!==null;){var s=Ue;if((s.flags&8772)!==0){var o=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Dt||ol(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Dt)if(o===null)c.componentDidMount();else{var h=s.elementType===s.type?o.memoizedProps:Ir(s.type,o.memoizedProps);c.componentDidUpdate(h,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var w=s.updateQueue;w!==null&&Ch(s,w,c);break;case 3:var B=s.updateQueue;if(B!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}Ch(s,B,o)}break;case 5:var D=s.stateNode;if(o===null&&s.flags&4){o=D;var re=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&o.focus();break;case"img":re.src&&(o.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ve=s.alternate;if(ve!==null){var ke=ve.memoizedState;if(ke!==null){var Ae=ke.dehydrated;Ae!==null&&la(Ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dt||s.flags&512&&md(s)}catch(je){Et(s,s.return,je)}}if(s===t){Ue=null;break}if(o=s.sibling,o!==null){o.return=s.return,Ue=o;break}Ue=s.return}}function Cp(t){for(;Ue!==null;){var s=Ue;if(s===t){Ue=null;break}var o=s.sibling;if(o!==null){o.return=s.return,Ue=o;break}Ue=s.return}}function Bp(t){for(;Ue!==null;){var s=Ue;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{ol(4,s)}catch(re){Et(s,o,re)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var h=s.return;try{c.componentDidMount()}catch(re){Et(s,h,re)}}var w=s.return;try{md(s)}catch(re){Et(s,w,re)}break;case 5:var B=s.return;try{md(s)}catch(re){Et(s,B,re)}}}catch(re){Et(s,s.return,re)}if(s===t){Ue=null;break}var D=s.sibling;if(D!==null){D.return=s.return,Ue=D;break}Ue=s.return}}var jw=Math.ceil,ll=ce.ReactCurrentDispatcher,xd=ce.ReactCurrentOwner,Tr=ce.ReactCurrentBatchConfig,it=0,Ot=null,Ct=null,Ht=0,Nr=0,Ei=qn(0),Pt=0,Ba=null,Rs=0,cl=0,wd=0,Ra=null,dr=null,vd=0,ji=1/0,wn=null,ul=!1,bd=null,Zn=null,dl=!1,Dn=null,fl=0,Pa=0,Nd=null,hl=-1,pl=0;function nr(){return(it&6)!==0?He():hl!==-1?hl:hl=He()}function Qn(t){return(t.mode&1)===0?1:(it&2)!==0&&Ht!==0?Ht&-Ht:lw.transition!==null?(pl===0&&(pl=E0()),pl):(t=ut,t!==0||(t=window.event,t=t===void 0?16:P0(t.type)),t)}function Vr(t,s,o,c){if(50<Pa)throw Pa=0,Nd=null,Error(n(185));na(t,o,c),((it&2)===0||t!==Ot)&&(t===Ot&&((it&2)===0&&(cl|=o),Pt===4&&Xn(t,Ht)),fr(t,c),o===1&&it===0&&(s.mode&1)===0&&(ji=He()+500,Ho&&Gn()))}function fr(t,s){var o=t.callbackNode;l1(t,s);var c=_o(t,t===Ot?Ht:0);if(c===0)o!==null&&wo(o),t.callbackNode=null,t.callbackPriority=0;else if(s=c&-c,t.callbackPriority!==s){if(o!=null&&wo(o),s===1)t.tag===0?ow(Pp.bind(null,t)):xh(Pp.bind(null,t)),nw(function(){(it&6)===0&&Gn()}),o=null;else{switch(j0(c)){case 1:o=Je;break;case 4:o=Es;break;case 16:o=Zr;break;case 536870912:o=_0;break;default:o=Zr}o=Vp(o,Rp.bind(null,t))}t.callbackPriority=s,t.callbackNode=o}}function Rp(t,s){if(hl=-1,pl=0,(it&6)!==0)throw Error(n(327));var o=t.callbackNode;if(ki()&&t.callbackNode!==o)return null;var c=_o(t,t===Ot?Ht:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||s)s=ml(t,c);else{s=c;var h=it;it|=2;var w=Fp();(Ot!==t||Ht!==s)&&(wn=null,ji=He()+500,Ms(t,s));do try{Aw();break}catch(D){Mp(t,D)}while(!0);zu(),ll.current=w,it=h,Ct!==null?s=0:(Ot=null,Ht=0,s=Pt)}if(s!==0){if(s===2&&(h=ru(t),h!==0&&(c=h,s=_d(t,h))),s===1)throw o=Ba,Ms(t,0),Xn(t,c),fr(t,He()),o;if(s===6)Xn(t,c);else{if(h=t.current.alternate,(c&30)===0&&!kw(h)&&(s=ml(t,c),s===2&&(w=ru(t),w!==0&&(c=w,s=_d(t,w))),s===1))throw o=Ba,Ms(t,0),Xn(t,c),fr(t,He()),o;switch(t.finishedWork=h,t.finishedLanes=c,s){case 0:case 1:throw Error(n(345));case 2:Fs(t,dr,wn);break;case 3:if(Xn(t,c),(c&130023424)===c&&(s=vd+500-He(),10<s)){if(_o(t,0)!==0)break;if(h=t.suspendedLanes,(h&c)!==c){nr(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Tu(Fs.bind(null,t,dr,wn),s);break}Fs(t,dr,wn);break;case 4:if(Xn(t,c),(c&4194240)===c)break;for(s=t.eventTimes,h=-1;0<c;){var B=31-Fr(c);w=1<<B,B=s[B],B>h&&(h=B),c&=~w}if(c=h,c=He()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*jw(c/1960))-c,10<c){t.timeoutHandle=Tu(Fs.bind(null,t,dr,wn),c);break}Fs(t,dr,wn);break;case 5:Fs(t,dr,wn);break;default:throw Error(n(329))}}}return fr(t,He()),t.callbackNode===o?Rp.bind(null,t):null}function _d(t,s){var o=Ra;return t.current.memoizedState.isDehydrated&&(Ms(t,s).flags|=256),t=ml(t,s),t!==2&&(s=dr,dr=o,s!==null&&Ed(s)),t}function Ed(t){dr===null?dr=t:dr.push.apply(dr,t)}function kw(t){for(var s=t;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var h=o[c],w=h.getSnapshot;h=h.value;try{if(!Ur(w(),h))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Xn(t,s){for(s&=~wd,s&=~cl,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var o=31-Fr(s),c=1<<o;t[o]=-1,s&=~c}}function Pp(t){if((it&6)!==0)throw Error(n(327));ki();var s=_o(t,0);if((s&1)===0)return fr(t,He()),null;var o=ml(t,s);if(t.tag!==0&&o===2){var c=ru(t);c!==0&&(s=c,o=_d(t,c))}if(o===1)throw o=Ba,Ms(t,0),Xn(t,s),fr(t,He()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Fs(t,dr,wn),fr(t,He()),null}function jd(t,s){var o=it;it|=1;try{return t(s)}finally{it=o,it===0&&(ji=He()+500,Ho&&Gn())}}function Ps(t){Dn!==null&&Dn.tag===0&&(it&6)===0&&ki();var s=it;it|=1;var o=Tr.transition,c=ut;try{if(Tr.transition=null,ut=1,t)return t()}finally{ut=c,Tr.transition=o,it=s,(it&6)===0&&Gn()}}function kd(){Nr=Ei.current,mt(Ei)}function Ms(t,s){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,rw(o)),Ct!==null)for(o=Ct.return;o!==null;){var c=o;switch(Fu(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&zo();break;case 3:bi(),mt(lr),mt(Kt),Yu();break;case 5:Lu(c);break;case 4:bi();break;case 13:mt(bt);break;case 19:mt(bt);break;case 10:Vu(c.type._context);break;case 22:case 23:kd()}o=o.return}if(Ot=t,Ct=t=Jn(t.current,null),Ht=Nr=s,Pt=0,Ba=null,wd=cl=Rs=0,dr=Ra=null,Ts!==null){for(s=0;s<Ts.length;s++)if(o=Ts[s],c=o.interleaved,c!==null){o.interleaved=null;var h=c.next,w=o.pending;if(w!==null){var B=w.next;w.next=h,c.next=B}o.pending=c}Ts=null}return t}function Mp(t,s){do{var o=Ct;try{if(zu(),Xo.current=rl,Jo){for(var c=Nt.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Jo=!1}if(Bs=0,Ut=Rt=Nt=null,ja=!1,ka=0,xd.current=null,o===null||o.return===null){Pt=1,Ba=s,Ct=null;break}e:{var w=t,B=o.return,D=o,re=s;if(s=Ht,D.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var ve=re,ke=D,Ae=ke.tag;if((ke.mode&1)===0&&(Ae===0||Ae===11||Ae===15)){var je=ke.alternate;je?(ke.updateQueue=je.updateQueue,ke.memoizedState=je.memoizedState,ke.lanes=je.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var Me=ip(B);if(Me!==null){Me.flags&=-257,ap(Me,B,D,w,s),Me.mode&1&&sp(w,ve,s),s=Me,re=ve;var Oe=s.updateQueue;if(Oe===null){var $e=new Set;$e.add(re),s.updateQueue=$e}else Oe.add(re);break e}else{if((s&1)===0){sp(w,ve,s),Sd();break e}re=Error(n(426))}}else if(xt&&D.mode&1){var St=ip(B);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),ap(St,B,D,w,s),Iu(Ni(re,D));break e}}w=re=Ni(re,D),Pt!==4&&(Pt=2),Ra===null?Ra=[w]:Ra.push(w),w=B;do{switch(w.tag){case 3:w.flags|=65536,s&=-s,w.lanes|=s;var pe=rp(w,re,s);Th(w,pe);break e;case 1:D=re;var le=w.type,ye=w.stateNode;if((w.flags&128)===0&&(typeof le.getDerivedStateFromError=="function"||ye!==null&&typeof ye.componentDidCatch=="function"&&(Zn===null||!Zn.has(ye)))){w.flags|=65536,s&=-s,w.lanes|=s;var Te=np(w,D,s);Th(w,Te);break e}}w=w.return}while(w!==null)}Op(o)}catch(ze){s=ze,Ct===o&&o!==null&&(Ct=o=o.return);continue}break}while(!0)}function Fp(){var t=ll.current;return ll.current=rl,t===null?rl:t}function Sd(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Ot===null||(Rs&268435455)===0&&(cl&268435455)===0||Xn(Ot,Ht)}function ml(t,s){var o=it;it|=2;var c=Fp();(Ot!==t||Ht!==s)&&(wn=null,Ms(t,s));do try{Sw();break}catch(h){Mp(t,h)}while(!0);if(zu(),it=o,ll.current=c,Ct!==null)throw Error(n(261));return Ot=null,Ht=0,Pt}function Sw(){for(;Ct!==null;)Up(Ct)}function Aw(){for(;Ct!==null&&!tu();)Up(Ct)}function Up(t){var s=zp(t.alternate,t,Nr);t.memoizedProps=t.pendingProps,s===null?Op(t):Ct=s,xd.current=null}function Op(t){var s=t;do{var o=s.alternate;if(t=s.return,(s.flags&32768)===0){if(o=vw(o,s,Nr),o!==null){Ct=o;return}}else{if(o=bw(o,s),o!==null){o.flags&=32767,Ct=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pt=6,Ct=null;return}}if(s=s.sibling,s!==null){Ct=s;return}Ct=s=t}while(s!==null);Pt===0&&(Pt=5)}function Fs(t,s,o){var c=ut,h=Tr.transition;try{Tr.transition=null,ut=1,Tw(t,s,o,c)}finally{Tr.transition=h,ut=c}return null}function Tw(t,s,o,c){do ki();while(Dn!==null);if((it&6)!==0)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var w=o.lanes|o.childLanes;if(c1(t,w),t===Ot&&(Ct=Ot=null,Ht=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||dl||(dl=!0,Vp(Zr,function(){return ki(),null})),w=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||w){w=Tr.transition,Tr.transition=null;var B=ut;ut=1;var D=it;it|=4,xd.current=null,_w(t,o),Sp(o,t),Z1(Su),ko=!!ku,Su=ku=null,t.current=o,Ew(o),ee(),it=D,ut=B,Tr.transition=w}else t.current=o;if(dl&&(dl=!1,Dn=t,fl=h),w=t.pendingLanes,w===0&&(Zn=null),n1(o.stateNode),fr(t,He()),s!==null)for(c=t.onRecoverableError,o=0;o<s.length;o++)h=s[o],c(h.value,{componentStack:h.stack,digest:h.digest});if(ul)throw ul=!1,t=bd,bd=null,t;return(fl&1)!==0&&t.tag!==0&&ki(),w=t.pendingLanes,(w&1)!==0?t===Nd?Pa++:(Pa=0,Nd=t):Pa=0,Gn(),null}function ki(){if(Dn!==null){var t=j0(fl),s=Tr.transition,o=ut;try{if(Tr.transition=null,ut=16>t?16:t,Dn===null)var c=!1;else{if(t=Dn,Dn=null,fl=0,(it&6)!==0)throw Error(n(331));var h=it;for(it|=4,Ue=t.current;Ue!==null;){var w=Ue,B=w.child;if((Ue.flags&16)!==0){var D=w.deletions;if(D!==null){for(var re=0;re<D.length;re++){var ve=D[re];for(Ue=ve;Ue!==null;){var ke=Ue;switch(ke.tag){case 0:case 11:case 15:Ca(8,ke,w)}var Ae=ke.child;if(Ae!==null)Ae.return=ke,Ue=Ae;else for(;Ue!==null;){ke=Ue;var je=ke.sibling,Me=ke.return;if(Np(ke),ke===ve){Ue=null;break}if(je!==null){je.return=Me,Ue=je;break}Ue=Me}}}var Oe=w.alternate;if(Oe!==null){var $e=Oe.child;if($e!==null){Oe.child=null;do{var St=$e.sibling;$e.sibling=null,$e=St}while($e!==null)}}Ue=w}}if((w.subtreeFlags&2064)!==0&&B!==null)B.return=w,Ue=B;else e:for(;Ue!==null;){if(w=Ue,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Ca(9,w,w.return)}var pe=w.sibling;if(pe!==null){pe.return=w.return,Ue=pe;break e}Ue=w.return}}var le=t.current;for(Ue=le;Ue!==null;){B=Ue;var ye=B.child;if((B.subtreeFlags&2064)!==0&&ye!==null)ye.return=B,Ue=ye;else e:for(B=le;Ue!==null;){if(D=Ue,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:ol(9,D)}}catch(ze){Et(D,D.return,ze)}if(D===B){Ue=null;break e}var Te=D.sibling;if(Te!==null){Te.return=D.return,Ue=Te;break e}Ue=D.return}}if(it=h,Gn(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(vo,t)}catch{}c=!0}return c}finally{ut=o,Tr.transition=s}}return!1}function Ip(t,s,o){s=Ni(o,s),s=rp(t,s,1),t=Kn(t,s,1),s=nr(),t!==null&&(na(t,1,s),fr(t,s))}function Et(t,s,o){if(t.tag===3)Ip(t,t,o);else for(;s!==null;){if(s.tag===3){Ip(s,t,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Zn===null||!Zn.has(c))){t=Ni(o,t),t=np(s,t,1),s=Kn(s,t,1),t=nr(),s!==null&&(na(s,1,t),fr(s,t));break}}s=s.return}}function Cw(t,s,o){var c=t.pingCache;c!==null&&c.delete(s),s=nr(),t.pingedLanes|=t.suspendedLanes&o,Ot===t&&(Ht&o)===o&&(Pt===4||Pt===3&&(Ht&130023424)===Ht&&500>He()-vd?Ms(t,0):wd|=o),fr(t,s)}function $p(t,s){s===0&&((t.mode&1)===0?s=1:(s=No,No<<=1,(No&130023424)===0&&(No=4194304)));var o=nr();t=gn(t,s),t!==null&&(na(t,s,o),fr(t,o))}function Bw(t){var s=t.memoizedState,o=0;s!==null&&(o=s.retryLane),$p(t,o)}function Rw(t,s){var o=0;switch(t.tag){case 13:var c=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(s),$p(t,o)}var zp;zp=function(t,s,o){if(t!==null)if(t.memoizedProps!==s.pendingProps||lr.current)ur=!0;else{if((t.lanes&o)===0&&(s.flags&128)===0)return ur=!1,ww(t,s,o);ur=(t.flags&131072)!==0}else ur=!1,xt&&(s.flags&1048576)!==0&&wh(s,Wo,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;il(t,s),t=s.pendingProps;var h=pi(s,Kt.current);vi(s,o),h=Qu(null,s,c,t,h,o);var w=Xu();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,cr(c)?(w=!0,Vo(s)):w=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Wu(s),h.updater=nl,s.stateNode=h,h._reactInternals=s,sd(s,c,t,o),s=ld(null,s,c,!0,w,o)):(s.tag=0,xt&&w&&Mu(s),rr(null,s,h,o),s=s.child),s;case 16:c=s.elementType;e:{switch(il(t,s),t=s.pendingProps,h=c._init,c=h(c._payload),s.type=c,h=s.tag=Mw(c),t=Ir(c,t),h){case 0:s=od(null,s,c,t,o);break e;case 1:s=fp(null,s,c,t,o);break e;case 11:s=op(null,s,c,t,o);break e;case 14:s=lp(null,s,c,Ir(c.type,t),o);break e}throw Error(n(306,c,""))}return s;case 0:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Ir(c,h),od(t,s,c,h,o);case 1:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Ir(c,h),fp(t,s,c,h,o);case 3:e:{if(hp(s),t===null)throw Error(n(387));c=s.pendingProps,w=s.memoizedState,h=w.element,Ah(t,s),Do(s,c,null,o);var B=s.memoizedState;if(c=B.element,w.isDehydrated)if(w={element:c,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},s.updateQueue.baseState=w,s.memoizedState=w,s.flags&256){h=Ni(Error(n(423)),s),s=pp(t,s,c,o,h);break e}else if(c!==h){h=Ni(Error(n(424)),s),s=pp(t,s,c,o,h);break e}else for(br=Hn(s.stateNode.containerInfo.firstChild),vr=s,xt=!0,Or=null,o=kh(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(yi(),c===h){s=xn(t,s,o);break e}rr(t,s,c,o)}s=s.child}return s;case 5:return Bh(s),t===null&&Ou(s),c=s.type,h=s.pendingProps,w=t!==null?t.memoizedProps:null,B=h.children,Au(c,h)?B=null:w!==null&&Au(c,w)&&(s.flags|=32),dp(t,s),rr(t,s,B,o),s.child;case 6:return t===null&&Ou(s),null;case 13:return mp(t,s,o);case 4:return Gu(s,s.stateNode.containerInfo),c=s.pendingProps,t===null?s.child=xi(s,null,c,o):rr(t,s,c,o),s.child;case 11:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Ir(c,h),op(t,s,c,h,o);case 7:return rr(t,s,s.pendingProps,o),s.child;case 8:return rr(t,s,s.pendingProps.children,o),s.child;case 12:return rr(t,s,s.pendingProps.children,o),s.child;case 10:e:{if(c=s.type._context,h=s.pendingProps,w=s.memoizedProps,B=h.value,ht(Ko,c._currentValue),c._currentValue=B,w!==null)if(Ur(w.value,B)){if(w.children===h.children&&!lr.current){s=xn(t,s,o);break e}}else for(w=s.child,w!==null&&(w.return=s);w!==null;){var D=w.dependencies;if(D!==null){B=w.child;for(var re=D.firstContext;re!==null;){if(re.context===c){if(w.tag===1){re=yn(-1,o&-o),re.tag=2;var ve=w.updateQueue;if(ve!==null){ve=ve.shared;var ke=ve.pending;ke===null?re.next=re:(re.next=ke.next,ke.next=re),ve.pending=re}}w.lanes|=o,re=w.alternate,re!==null&&(re.lanes|=o),Hu(w.return,o,s),D.lanes|=o;break}re=re.next}}else if(w.tag===10)B=w.type===s.type?null:w.child;else if(w.tag===18){if(B=w.return,B===null)throw Error(n(341));B.lanes|=o,D=B.alternate,D!==null&&(D.lanes|=o),Hu(B,o,s),B=w.sibling}else B=w.child;if(B!==null)B.return=w;else for(B=w;B!==null;){if(B===s){B=null;break}if(w=B.sibling,w!==null){w.return=B.return,B=w;break}B=B.return}w=B}rr(t,s,h.children,o),s=s.child}return s;case 9:return h=s.type,c=s.pendingProps.children,vi(s,o),h=Sr(h),c=c(h),s.flags|=1,rr(t,s,c,o),s.child;case 14:return c=s.type,h=Ir(c,s.pendingProps),h=Ir(c.type,h),lp(t,s,c,h,o);case 15:return cp(t,s,s.type,s.pendingProps,o);case 17:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Ir(c,h),il(t,s),s.tag=1,cr(c)?(t=!0,Vo(s)):t=!1,vi(s,o),ep(s,c,h),sd(s,c,h,o),ld(null,s,c,!0,t,o);case 19:return yp(t,s,o);case 22:return up(t,s,o)}throw Error(n(156,s.tag))};function Vp(t,s){return ct(t,s)}function Pw(t,s,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(t,s,o,c){return new Pw(t,s,o,c)}function Ad(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mw(t){if(typeof t=="function")return Ad(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ge)return 11;if(t===q)return 14}return 2}function Jn(t,s){var o=t.alternate;return o===null?(o=Cr(t.tag,s,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=s,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,s=t.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function gl(t,s,o,c,h,w){var B=2;if(c=t,typeof t=="function")Ad(t)&&(B=1);else if(typeof t=="string")B=5;else e:switch(t){case oe:return Us(o.children,h,w,s);case z:B=8,h|=8;break;case W:return t=Cr(12,o,s,h|2),t.elementType=W,t.lanes=w,t;case j:return t=Cr(13,o,s,h),t.elementType=j,t.lanes=w,t;case I:return t=Cr(19,o,s,h),t.elementType=I,t.lanes=w,t;case fe:return yl(o,h,w,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H:B=10;break e;case ue:B=9;break e;case ge:B=11;break e;case q:B=14;break e;case ne:B=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return s=Cr(B,o,s,h),s.elementType=t,s.type=c,s.lanes=w,s}function Us(t,s,o,c){return t=Cr(7,t,c,s),t.lanes=o,t}function yl(t,s,o,c){return t=Cr(22,t,c,s),t.elementType=fe,t.lanes=o,t.stateNode={isHidden:!1},t}function Td(t,s,o){return t=Cr(6,t,null,s),t.lanes=o,t}function Cd(t,s,o){return s=Cr(4,t.children!==null?t.children:[],t.key,s),s.lanes=o,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function Fw(t,s,o,c,h){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nu(0),this.expirationTimes=nu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nu(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Bd(t,s,o,c,h,w,B,D,re){return t=new Fw(t,s,o,D,re),s===1?(s=1,w===!0&&(s|=8)):s=0,w=Cr(3,null,null,s),t.current=w,w.stateNode=t,w.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wu(w),t}function Uw(t,s,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:te,key:c==null?null:""+c,children:t,containerInfo:s,implementation:o}}function Hp(t){if(!t)return Wn;t=t._reactInternals;e:{if(dn(t)!==t||t.tag!==1)throw Error(n(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(cr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(cr(o))return gh(t,o,s)}return s}function qp(t,s,o,c,h,w,B,D,re){return t=Bd(o,c,!0,t,h,w,B,D,re),t.context=Hp(null),o=t.current,c=nr(),h=Qn(o),w=yn(c,h),w.callback=s??null,Kn(o,w,h),t.current.lanes=h,na(t,h,c),fr(t,c),t}function xl(t,s,o,c){var h=s.current,w=nr(),B=Qn(h);return o=Hp(o),s.context===null?s.context=o:s.pendingContext=o,s=yn(w,B),s.payload={element:t},c=c===void 0?null:c,c!==null&&(s.callback=c),t=Kn(h,s,B),t!==null&&(Vr(t,h,B,w),Zo(t,h,B)),B}function wl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Wp(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<s?o:s}}function Rd(t,s){Wp(t,s),(t=t.alternate)&&Wp(t,s)}function Ow(){return null}var Gp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pd(t){this._internalRoot=t}vl.prototype.render=Pd.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(n(409));xl(t,s,null,null)},vl.prototype.unmount=Pd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Ps(function(){xl(null,t,null,null)}),s[fn]=null}};function vl(t){this._internalRoot=t}vl.prototype.unstable_scheduleHydration=function(t){if(t){var s=A0();t={blockedOn:null,target:t,priority:s};for(var o=0;o<$n.length&&s!==0&&s<$n[o].priority;o++);$n.splice(o,0,t),o===0&&B0(t)}};function Md(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Lp(){}function Iw(t,s,o,c,h){if(h){if(typeof c=="function"){var w=c;c=function(){var ve=wl(B);w.call(ve)}}var B=qp(s,c,t,0,null,!1,!1,"",Lp);return t._reactRootContainer=B,t[fn]=B.current,ya(t.nodeType===8?t.parentNode:t),Ps(),B}for(;h=t.lastChild;)t.removeChild(h);if(typeof c=="function"){var D=c;c=function(){var ve=wl(re);D.call(ve)}}var re=Bd(t,0,!1,null,null,!1,!1,"",Lp);return t._reactRootContainer=re,t[fn]=re.current,ya(t.nodeType===8?t.parentNode:t),Ps(function(){xl(s,re,o,c)}),re}function Nl(t,s,o,c,h){var w=o._reactRootContainer;if(w){var B=w;if(typeof h=="function"){var D=h;h=function(){var re=wl(B);D.call(re)}}xl(s,B,t,h)}else B=Iw(o,s,t,h,c);return wl(B)}k0=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var o=ra(s.pendingLanes);o!==0&&(su(s,o|1),fr(s,He()),(it&6)===0&&(ji=He()+500,Gn()))}break;case 13:Ps(function(){var c=gn(t,1);if(c!==null){var h=nr();Vr(c,t,1,h)}}),Rd(t,1)}},iu=function(t){if(t.tag===13){var s=gn(t,134217728);if(s!==null){var o=nr();Vr(s,t,134217728,o)}Rd(t,134217728)}},S0=function(t){if(t.tag===13){var s=Qn(t),o=gn(t,s);if(o!==null){var c=nr();Vr(o,t,s,c)}Rd(t,s)}},A0=function(){return ut},T0=function(t,s){var o=ut;try{return ut=t,s()}finally{ut=o}},Ns=function(t,s,o){switch(s){case"input":if(p(t,o),s=o.name,o.type==="radio"&&s!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==t&&c.form===t.form){var h=$o(c);if(!h)throw Error(n(90));K(c),p(c,h)}}}break;case"textarea":Fe(t,o);break;case"select":s=o.value,s!=null&&Q(t,!!o.multiple,s,!1)}},Zc=jd,Dc=Ps;var $w={usingClientEntryPoint:!1,Events:[va,fi,$o,ti,Mr,jd]},Ma={findFiberByHostInstance:js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zw={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yo(t),t===null?null:t.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||Ow,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_l.isDisabled&&_l.supportsFiber)try{vo=_l.inject(zw),Dr=_l}catch{}}return hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$w,hr.createPortal=function(t,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Md(s))throw Error(n(200));return Uw(t,s,null,o)},hr.createRoot=function(t,s){if(!Md(t))throw Error(n(299));var o=!1,c="",h=Gp;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=Bd(t,1,!1,null,null,o,!1,c,h),t[fn]=s.current,ya(t.nodeType===8?t.parentNode:t),new Pd(s)},hr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=yo(s),t=t===null?null:t.stateNode,t},hr.flushSync=function(t){return Ps(t)},hr.hydrate=function(t,s,o){if(!bl(s))throw Error(n(200));return Nl(null,t,s,!0,o)},hr.hydrateRoot=function(t,s,o){if(!Md(t))throw Error(n(405));var c=o!=null&&o.hydratedSources||null,h=!1,w="",B=Gp;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(w=o.identifierPrefix),o.onRecoverableError!==void 0&&(B=o.onRecoverableError)),s=qp(s,null,t,1,o??null,h,!1,w,B),t[fn]=s.current,ya(t),c)for(t=0;t<c.length;t++)o=c[t],h=o._getVersion,h=h(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,h]:s.mutableSourceEagerHydrationData.push(o,h);return new vl(s)},hr.render=function(t,s,o){if(!bl(s))throw Error(n(200));return Nl(null,t,s,!1,o)},hr.unmountComponentAtNode=function(t){if(!bl(t))throw Error(n(40));return t._reactRootContainer?(Ps(function(){Nl(null,null,t,!1,function(){t._reactRootContainer=null,t[fn]=null})}),!0):!1},hr.unstable_batchedUpdates=jd,hr.unstable_renderSubtreeIntoContainer=function(t,s,o,c){if(!bl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Nl(t,s,o,!1,c)},hr.version="18.3.1-next-f1338f8080-20240426",hr}var em;function Pg(){if(em)return Od.exports;em=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Od.exports=Xw(),Od.exports}var tm;function Jw(){if(tm)return El;tm=1;var e=Pg();return El.createRoot=e.createRoot,El.hydrateRoot=e.hydrateRoot,El}var ev=Jw();const tv=Jf(ev);Pg();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},uc.apply(this,arguments)}var ms;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ms||(ms={}));const rm="popstate";function rv(e){e===void 0&&(e={});function r(i,l){let{pathname:d,search:f,hash:u}=i.location;return Af("",{pathname:d,search:f,hash:u},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){return typeof l=="string"?l:Fg(l)}return sv(r,n,null,e)}function xr(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function Mg(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function nv(){return Math.random().toString(36).substr(2,8)}function nm(e,r){return{usr:e.state,key:e.key,idx:r}}function Af(e,r,n,i){return n===void 0&&(n=null),uc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?Sc(r):r,{state:n,key:r&&r.key||i||nv()})}function Fg(e){let{pathname:r="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Sc(e){let r={};if(e){let n=e.indexOf("#");n>=0&&(r.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(r.search=e.substr(i),e=e.substr(0,i)),e&&(r.pathname=e)}return r}function sv(e,r,n,i){i===void 0&&(i={});let{window:l=document.defaultView,v5Compat:d=!1}=i,f=l.history,u=ms.Pop,g=null,_=x();_==null&&(_=0,f.replaceState(uc({},f.state,{idx:_}),""));function x(){return(f.state||{idx:null}).idx}function v(){u=ms.Pop;let R=x(),$=R==null?null:R-_;_=R,g&&g({action:u,location:M.location,delta:$})}function k(R,$){u=ms.Push;let G=Af(M.location,R,$);_=x()+1;let J=nm(G,_),ce=M.createHref(G);try{f.pushState(J,"",ce)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;l.location.assign(ce)}d&&g&&g({action:u,location:M.location,delta:1})}function A(R,$){u=ms.Replace;let G=Af(M.location,R,$);_=x();let J=nm(G,_),ce=M.createHref(G);f.replaceState(J,"",ce),d&&g&&g({action:u,location:M.location,delta:0})}function b(R){let $=l.location.origin!=="null"?l.location.origin:l.location.href,G=typeof R=="string"?R:Fg(R);return G=G.replace(/ $/,"%20"),xr($,"No window.location.(origin|href) available to create URL for href: "+G),new URL(G,$)}let M={get action(){return u},get location(){return e(l,f)},listen(R){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(rm,v),g=R,()=>{l.removeEventListener(rm,v),g=null}},createHref(R){return r(l,R)},createURL:b,encodeLocation(R){let $=b(R);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:k,replace:A,go(R){return f.go(R)}};return M}var sm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(sm||(sm={}));function iv(e,r,n){return n===void 0&&(n="/"),av(e,r,n)}function av(e,r,n,i){let l=typeof r=="string"?Sc(r):r,d=Ig(l.pathname||"/",n);if(d==null)return null;let f=Ug(e);ov(f);let u=null;for(let g=0;u==null&&g<f.length;++g){let _=wv(d);u=gv(f[g],_)}return u}function Ug(e,r,n,i){r===void 0&&(r=[]),n===void 0&&(n=[]),i===void 0&&(i="");let l=(d,f,u)=>{let g={relativePath:u===void 0?d.path||"":u,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};g.relativePath.startsWith("/")&&(xr(g.relativePath.startsWith(i),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(i.length));let _=qi([i,g.relativePath]),x=n.concat(g);d.children&&d.children.length>0&&(xr(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),Ug(d.children,r,x,_)),!(d.path==null&&!d.index)&&r.push({path:_,score:pv(_,d.index),routesMeta:x})};return e.forEach((d,f)=>{var u;if(d.path===""||!((u=d.path)!=null&&u.includes("?")))l(d,f);else for(let g of Og(d.path))l(d,f,g)}),r}function Og(e){let r=e.split("/");if(r.length===0)return[];let[n,...i]=r,l=n.endsWith("?"),d=n.replace(/\?$/,"");if(i.length===0)return l?[d,""]:[d];let f=Og(i.join("/")),u=[];return u.push(...f.map(g=>g===""?d:[d,g].join("/"))),l&&u.push(...f),u.map(g=>e.startsWith("/")&&g===""?"/":g)}function ov(e){e.sort((r,n)=>r.score!==n.score?n.score-r.score:mv(r.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const lv=/^:[\w-]+$/,cv=3,uv=2,dv=1,fv=10,hv=-2,im=e=>e==="*";function pv(e,r){let n=e.split("/"),i=n.length;return n.some(im)&&(i+=hv),r&&(i+=uv),n.filter(l=>!im(l)).reduce((l,d)=>l+(lv.test(d)?cv:d===""?dv:fv),i)}function mv(e,r){return e.length===r.length&&e.slice(0,-1).every((i,l)=>i===r[l])?e[e.length-1]-r[r.length-1]:0}function gv(e,r,n){let{routesMeta:i}=e,l={},d="/",f=[];for(let u=0;u<i.length;++u){let g=i[u],_=u===i.length-1,x=d==="/"?r:r.slice(d.length)||"/",v=yv({path:g.relativePath,caseSensitive:g.caseSensitive,end:_},x),k=g.route;if(!v)return null;Object.assign(l,v.params),f.push({params:l,pathname:qi([d,v.pathname]),pathnameBase:vv(qi([d,v.pathnameBase])),route:k}),v.pathnameBase!=="/"&&(d=qi([d,v.pathnameBase]))}return f}function yv(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=xv(e.path,e.caseSensitive,e.end),l=r.match(n);if(!l)return null;let d=l[0],f=d.replace(/(.)\/+$/,"$1"),u=l.slice(1);return{params:i.reduce((_,x,v)=>{let{paramName:k,isOptional:A}=x;if(k==="*"){let M=u[v]||"";f=d.slice(0,d.length-M.length).replace(/(.)\/+$/,"$1")}const b=u[v];return A&&!b?_[k]=void 0:_[k]=(b||"").replace(/%2F/g,"/"),_},{}),pathname:d,pathnameBase:f,pattern:e}}function xv(e,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),Mg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,u,g)=>(i.push({paramName:u,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),i]}function wv(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Mg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function Ig(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}const qi=e=>e.join("/").replace(/\/\/+/g,"/"),vv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function bv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $g=["post","put","patch","delete"];new Set($g);const Nv=["get",...$g];new Set(Nv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dc(){return dc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dc.apply(this,arguments)}const _v=Y.createContext(null),Ev=Y.createContext(null),zg=Y.createContext(null),Ac=Y.createContext(null),Tc=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),Vg=Y.createContext(null);function t0(){return Y.useContext(Ac)!=null}function jv(){return t0()||xr(!1),Y.useContext(Ac).location}function kv(e,r){return Sv(e,r)}function Sv(e,r,n,i){t0()||xr(!1);let{navigator:l}=Y.useContext(zg),{matches:d}=Y.useContext(Tc),f=d[d.length-1],u=f?f.params:{};f&&f.pathname;let g=f?f.pathnameBase:"/";f&&f.route;let _=jv(),x;if(r){var v;let R=typeof r=="string"?Sc(r):r;g==="/"||(v=R.pathname)!=null&&v.startsWith(g)||xr(!1),x=R}else x=_;let k=x.pathname||"/",A=k;if(g!=="/"){let R=g.replace(/^\//,"").split("/");A="/"+k.replace(/^\//,"").split("/").slice(R.length).join("/")}let b=iv(e,{pathname:A}),M=Rv(b&&b.map(R=>Object.assign({},R,{params:Object.assign({},u,R.params),pathname:qi([g,l.encodeLocation?l.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?g:qi([g,l.encodeLocation?l.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),d,n,i);return r&&M?Y.createElement(Ac.Provider,{value:{location:dc({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:ms.Pop}},M):M}function Av(){let e=Uv(),r=bv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},r),n?Y.createElement("pre",{style:l},n):null,null)}const Tv=Y.createElement(Av,null);class Cv extends Y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?Y.createElement(Tc.Provider,{value:this.props.routeContext},Y.createElement(Vg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Bv(e){let{routeContext:r,match:n,children:i}=e,l=Y.useContext(_v);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),Y.createElement(Tc.Provider,{value:r},i)}function Rv(e,r,n,i){var l;if(r===void 0&&(r=[]),n===void 0&&(n=null),i===void 0&&(i=null),e==null){var d;if(!n)return null;if(n.errors)e=n.matches;else if((d=i)!=null&&d.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let f=e,u=(l=n)==null?void 0:l.errors;if(u!=null){let x=f.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);x>=0||xr(!1),f=f.slice(0,Math.min(f.length,x+1))}let g=!1,_=-1;if(n&&i&&i.v7_partialHydration)for(let x=0;x<f.length;x++){let v=f[x];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(_=x),v.route.id){let{loaderData:k,errors:A}=n,b=v.route.loader&&k[v.route.id]===void 0&&(!A||A[v.route.id]===void 0);if(v.route.lazy||b){g=!0,_>=0?f=f.slice(0,_+1):f=[f[0]];break}}}return f.reduceRight((x,v,k)=>{let A,b=!1,M=null,R=null;n&&(A=u&&v.route.id?u[v.route.id]:void 0,M=v.route.errorElement||Tv,g&&(_<0&&k===0?(Ov("route-fallback"),b=!0,R=null):_===k&&(b=!0,R=v.route.hydrateFallbackElement||null)));let $=r.concat(f.slice(0,k+1)),G=()=>{let J;return A?J=M:b?J=R:v.route.Component?J=Y.createElement(v.route.Component,null):v.route.element?J=v.route.element:J=x,Y.createElement(Bv,{match:v,routeContext:{outlet:x,matches:$,isDataRoute:n!=null},children:J})};return n&&(v.route.ErrorBoundary||v.route.errorElement||k===0)?Y.createElement(Cv,{location:n.location,revalidation:n.revalidation,component:M,error:A,children:G(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):G()},null)}var Hg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Hg||{});function Pv(e){let r=Y.useContext(Ev);return r||xr(!1),r}function Mv(e){let r=Y.useContext(Tc);return r||xr(!1),r}function Fv(e){let r=Mv(),n=r.matches[r.matches.length-1];return n.route.id||xr(!1),n.route.id}function Uv(){var e;let r=Y.useContext(Vg),n=Pv(Hg.UseRouteError),i=Fv();return r!==void 0?r:(e=n.errors)==null?void 0:e[i]}const am={};function Ov(e,r,n){am[e]||(am[e]=!0)}function Iv(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Tf(e){xr(!1)}function $v(e){let{basename:r="/",children:n=null,location:i,navigationType:l=ms.Pop,navigator:d,static:f=!1,future:u}=e;t0()&&xr(!1);let g=r.replace(/^\/*/,"/"),_=Y.useMemo(()=>({basename:g,navigator:d,static:f,future:dc({v7_relativeSplatPath:!1},u)}),[g,u,d,f]);typeof i=="string"&&(i=Sc(i));let{pathname:x="/",search:v="",hash:k="",state:A=null,key:b="default"}=i,M=Y.useMemo(()=>{let R=Ig(x,g);return R==null?null:{location:{pathname:R,search:v,hash:k,state:A,key:b},navigationType:l}},[g,x,v,k,A,b,l]);return M==null?null:Y.createElement(zg.Provider,{value:_},Y.createElement(Ac.Provider,{children:n,value:M}))}function zv(e){let{children:r,location:n}=e;return kv(Cf(r),n)}new Promise(()=>{});function Cf(e,r){r===void 0&&(r=[]);let n=[];return Y.Children.forEach(e,(i,l)=>{if(!Y.isValidElement(i))return;let d=[...r,l];if(i.type===Y.Fragment){n.push.apply(n,Cf(i.props.children,d));return}i.type!==Tf&&xr(!1),!i.props.index||!i.props.children||xr(!1);let f={id:i.props.id||d.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=Cf(i.props.children,d)),n.push(f)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Vv="6";try{window.__reactRouterVersion=Vv}catch{}const Hv="startTransition",om=Zw[Hv];function qv(e){let{basename:r,children:n,future:i,window:l}=e,d=Y.useRef();d.current==null&&(d.current=rv({window:l,v5Compat:!0}));let f=d.current,[u,g]=Y.useState({action:f.action,location:f.location}),{v7_startTransition:_}=i||{},x=Y.useCallback(v=>{_&&om?om(()=>g(v)):g(v)},[g,_]);return Y.useLayoutEffect(()=>f.listen(x),[f,x]),Y.useEffect(()=>Iv(i),[i]),Y.createElement($v,{basename:r,children:n,location:u.location,navigationType:u.action,navigator:f,future:i})}var lm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lm||(lm={}));var cm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cm||(cm={}));var zd={},Ua={},um;function qg(){if(um)return Ua;um=1,Ua.byteLength=u,Ua.toByteArray=_,Ua.fromByteArray=k;for(var e=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,d=i.length;l<d;++l)e[l]=i[l],r[i.charCodeAt(l)]=l;r[45]=62,r[95]=63;function f(A){var b=A.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var M=A.indexOf("=");M===-1&&(M=b);var R=M===b?0:4-M%4;return[M,R]}function u(A){var b=f(A),M=b[0],R=b[1];return(M+R)*3/4-R}function g(A,b,M){return(b+M)*3/4-M}function _(A){var b,M=f(A),R=M[0],$=M[1],G=new n(g(A,R,$)),J=0,ce=$>0?R-4:R,O;for(O=0;O<ce;O+=4)b=r[A.charCodeAt(O)]<<18|r[A.charCodeAt(O+1)]<<12|r[A.charCodeAt(O+2)]<<6|r[A.charCodeAt(O+3)],G[J++]=b>>16&255,G[J++]=b>>8&255,G[J++]=b&255;return $===2&&(b=r[A.charCodeAt(O)]<<2|r[A.charCodeAt(O+1)]>>4,G[J++]=b&255),$===1&&(b=r[A.charCodeAt(O)]<<10|r[A.charCodeAt(O+1)]<<4|r[A.charCodeAt(O+2)]>>2,G[J++]=b>>8&255,G[J++]=b&255),G}function x(A){return e[A>>18&63]+e[A>>12&63]+e[A>>6&63]+e[A&63]}function v(A,b,M){for(var R,$=[],G=b;G<M;G+=3)R=(A[G]<<16&16711680)+(A[G+1]<<8&65280)+(A[G+2]&255),$.push(x(R));return $.join("")}function k(A){for(var b,M=A.length,R=M%3,$=[],G=16383,J=0,ce=M-R;J<ce;J+=G)$.push(v(A,J,J+G>ce?ce:J+G));return R===1?(b=A[M-1],$.push(e[b>>2]+e[b<<4&63]+"==")):R===2&&(b=(A[M-2]<<8)+A[M-1],$.push(e[b>>10]+e[b>>4&63]+e[b<<2&63]+"=")),$.join("")}return Ua}var jl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var dm;function r0(){return dm||(dm=1,jl.read=function(e,r,n,i,l){var d,f,u=l*8-i-1,g=(1<<u)-1,_=g>>1,x=-7,v=n?l-1:0,k=n?-1:1,A=e[r+v];for(v+=k,d=A&(1<<-x)-1,A>>=-x,x+=u;x>0;d=d*256+e[r+v],v+=k,x-=8);for(f=d&(1<<-x)-1,d>>=-x,x+=i;x>0;f=f*256+e[r+v],v+=k,x-=8);if(d===0)d=1-_;else{if(d===g)return f?NaN:(A?-1:1)*(1/0);f=f+Math.pow(2,i),d=d-_}return(A?-1:1)*f*Math.pow(2,d-i)},jl.write=function(e,r,n,i,l,d){var f,u,g,_=d*8-l-1,x=(1<<_)-1,v=x>>1,k=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=i?0:d-1,b=i?1:-1,M=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(u=isNaN(r)?1:0,f=x):(f=Math.floor(Math.log(r)/Math.LN2),r*(g=Math.pow(2,-f))<1&&(f--,g*=2),f+v>=1?r+=k/g:r+=k*Math.pow(2,1-v),r*g>=2&&(f++,g/=2),f+v>=x?(u=0,f=x):f+v>=1?(u=(r*g-1)*Math.pow(2,l),f=f+v):(u=r*Math.pow(2,v-1)*Math.pow(2,l),f=0));l>=8;e[n+A]=u&255,A+=b,u/=256,l-=8);for(f=f<<l|u,_+=l;_>0;e[n+A]=f&255,A+=b,f/=256,_-=8);e[n+A-b]|=M*128}),jl}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var fm;function Wv(){return fm||(fm=1,function(e){const r=qg(),n=r0(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=G,e.INSPECT_MAX_BYTES=50;const l=2147483647;e.kMaxLength=l,u.TYPED_ARRAY_SUPPORT=d(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{const T=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(T,y),T.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function f(T){if(T>l)throw new RangeError('The value "'+T+'" is invalid for option "size"');const y=new Uint8Array(T);return Object.setPrototypeOf(y,u.prototype),y}function u(T,y,N){if(typeof T=="number"){if(typeof y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(T)}return g(T,y,N)}u.poolSize=8192;function g(T,y,N){if(typeof T=="string")return k(T,y);if(ArrayBuffer.isView(T))return b(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(he(T,ArrayBuffer)||T&&he(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(he(T,SharedArrayBuffer)||T&&he(T.buffer,SharedArrayBuffer)))return M(T,y,N);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const V=T.valueOf&&T.valueOf();if(V!=null&&V!==T)return u.from(V,y,N);const ae=R(T);if(ae)return ae;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return u.from(T[Symbol.toPrimitive]("string"),y,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}u.from=function(T,y,N){return g(T,y,N)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function _(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function x(T,y,N){return _(T),T<=0?f(T):y!==void 0?typeof N=="string"?f(T).fill(y,N):f(T).fill(y):f(T)}u.alloc=function(T,y,N){return x(T,y,N)};function v(T){return _(T),f(T<0?0:$(T)|0)}u.allocUnsafe=function(T){return v(T)},u.allocUnsafeSlow=function(T){return v(T)};function k(T,y){if((typeof y!="string"||y==="")&&(y="utf8"),!u.isEncoding(y))throw new TypeError("Unknown encoding: "+y);const N=J(T,y)|0;let V=f(N);const ae=V.write(T,y);return ae!==N&&(V=V.slice(0,ae)),V}function A(T){const y=T.length<0?0:$(T.length)|0,N=f(y);for(let V=0;V<y;V+=1)N[V]=T[V]&255;return N}function b(T){if(he(T,Uint8Array)){const y=new Uint8Array(T);return M(y.buffer,y.byteOffset,y.byteLength)}return A(T)}function M(T,y,N){if(y<0||T.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<y+(N||0))throw new RangeError('"length" is outside of buffer bounds');let V;return y===void 0&&N===void 0?V=new Uint8Array(T):N===void 0?V=new Uint8Array(T,y):V=new Uint8Array(T,y,N),Object.setPrototypeOf(V,u.prototype),V}function R(T){if(u.isBuffer(T)){const y=$(T.length)|0,N=f(y);return N.length===0||T.copy(N,0,0,y),N}if(T.length!==void 0)return typeof T.length!="number"||Se(T.length)?f(0):A(T);if(T.type==="Buffer"&&Array.isArray(T.data))return A(T.data)}function $(T){if(T>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return T|0}function G(T){return+T!=T&&(T=0),u.alloc(+T)}u.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==u.prototype},u.compare=function(y,N){if(he(y,Uint8Array)&&(y=u.from(y,y.offset,y.byteLength)),he(N,Uint8Array)&&(N=u.from(N,N.offset,N.byteLength)),!u.isBuffer(y)||!u.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===N)return 0;let V=y.length,ae=N.length;for(let we=0,xe=Math.min(V,ae);we<xe;++we)if(y[we]!==N[we]){V=y[we],ae=N[we];break}return V<ae?-1:ae<V?1:0},u.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(y,N){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return u.alloc(0);let V;if(N===void 0)for(N=0,V=0;V<y.length;++V)N+=y[V].length;const ae=u.allocUnsafe(N);let we=0;for(V=0;V<y.length;++V){let xe=y[V];if(he(xe,Uint8Array))we+xe.length>ae.length?(u.isBuffer(xe)||(xe=u.from(xe)),xe.copy(ae,we)):Uint8Array.prototype.set.call(ae,xe,we);else if(u.isBuffer(xe))xe.copy(ae,we);else throw new TypeError('"list" argument must be an Array of Buffers');we+=xe.length}return ae};function J(T,y){if(u.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||he(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);const N=T.length,V=arguments.length>2&&arguments[2]===!0;if(!V&&N===0)return 0;let ae=!1;for(;;)switch(y){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return p(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N*2;case"hex":return N>>>1;case"base64":return F(T).length;default:if(ae)return V?-1:p(T).length;y=(""+y).toLowerCase(),ae=!0}}u.byteLength=J;function ce(T,y,N){let V=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0,y>>>=0,N<=y))return"";for(T||(T="utf8");;)switch(T){case"hex":return Ne(this,y,N);case"utf8":case"utf-8":return I(this,y,N);case"ascii":return fe(this,y,N);case"latin1":case"binary":return ie(this,y,N);case"base64":return j(this,y,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee(this,y,N);default:if(V)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),V=!0}}u.prototype._isBuffer=!0;function O(T,y,N){const V=T[y];T[y]=T[N],T[N]=V}u.prototype.swap16=function(){const y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let N=0;N<y;N+=2)O(this,N,N+1);return this},u.prototype.swap32=function(){const y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let N=0;N<y;N+=4)O(this,N,N+3),O(this,N+1,N+2);return this},u.prototype.swap64=function(){const y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let N=0;N<y;N+=8)O(this,N,N+7),O(this,N+1,N+6),O(this,N+2,N+5),O(this,N+3,N+4);return this},u.prototype.toString=function(){const y=this.length;return y===0?"":arguments.length===0?I(this,0,y):ce.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(y){if(!u.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:u.compare(this,y)===0},u.prototype.inspect=function(){let y="";const N=e.INSPECT_MAX_BYTES;return y=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(y+=" ... "),"<Buffer "+y+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(y,N,V,ae,we){if(he(y,Uint8Array)&&(y=u.from(y,y.offset,y.byteLength)),!u.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(N===void 0&&(N=0),V===void 0&&(V=y?y.length:0),ae===void 0&&(ae=0),we===void 0&&(we=this.length),N<0||V>y.length||ae<0||we>this.length)throw new RangeError("out of range index");if(ae>=we&&N>=V)return 0;if(ae>=we)return-1;if(N>=V)return 1;if(N>>>=0,V>>>=0,ae>>>=0,we>>>=0,this===y)return 0;let xe=we-ae,Ke=V-N;const Qe=Math.min(xe,Ke),Ye=this.slice(ae,we),We=y.slice(N,V);for(let st=0;st<Qe;++st)if(Ye[st]!==We[st]){xe=Ye[st],Ke=We[st];break}return xe<Ke?-1:Ke<xe?1:0};function te(T,y,N,V,ae){if(T.length===0)return-1;if(typeof N=="string"?(V=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),N=+N,Se(N)&&(N=ae?0:T.length-1),N<0&&(N=T.length+N),N>=T.length){if(ae)return-1;N=T.length-1}else if(N<0)if(ae)N=0;else return-1;if(typeof y=="string"&&(y=u.from(y,V)),u.isBuffer(y))return y.length===0?-1:oe(T,y,N,V,ae);if(typeof y=="number")return y=y&255,typeof Uint8Array.prototype.indexOf=="function"?ae?Uint8Array.prototype.indexOf.call(T,y,N):Uint8Array.prototype.lastIndexOf.call(T,y,N):oe(T,[y],N,V,ae);throw new TypeError("val must be string, number or Buffer")}function oe(T,y,N,V,ae){let we=1,xe=T.length,Ke=y.length;if(V!==void 0&&(V=String(V).toLowerCase(),V==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(T.length<2||y.length<2)return-1;we=2,xe/=2,Ke/=2,N/=2}function Qe(We,st){return we===1?We[st]:We.readUInt16BE(st*we)}let Ye;if(ae){let We=-1;for(Ye=N;Ye<xe;Ye++)if(Qe(T,Ye)===Qe(y,We===-1?0:Ye-We)){if(We===-1&&(We=Ye),Ye-We+1===Ke)return We*we}else We!==-1&&(Ye-=Ye-We),We=-1}else for(N+Ke>xe&&(N=xe-Ke),Ye=N;Ye>=0;Ye--){let We=!0;for(let st=0;st<Ke;st++)if(Qe(T,Ye+st)!==Qe(y,st)){We=!1;break}if(We)return Ye}return-1}u.prototype.includes=function(y,N,V){return this.indexOf(y,N,V)!==-1},u.prototype.indexOf=function(y,N,V){return te(this,y,N,V,!0)},u.prototype.lastIndexOf=function(y,N,V){return te(this,y,N,V,!1)};function z(T,y,N,V){N=Number(N)||0;const ae=T.length-N;V?(V=Number(V),V>ae&&(V=ae)):V=ae;const we=y.length;V>we/2&&(V=we/2);let xe;for(xe=0;xe<V;++xe){const Ke=parseInt(y.substr(xe*2,2),16);if(Se(Ke))return xe;T[N+xe]=Ke}return xe}function W(T,y,N,V){return Q(p(y,T.length-N),T,N,V)}function H(T,y,N,V){return Q(m(y),T,N,V)}function ue(T,y,N,V){return Q(F(y),T,N,V)}function ge(T,y,N,V){return Q(C(y,T.length-N),T,N,V)}u.prototype.write=function(y,N,V,ae){if(N===void 0)ae="utf8",V=this.length,N=0;else if(V===void 0&&typeof N=="string")ae=N,V=this.length,N=0;else if(isFinite(N))N=N>>>0,isFinite(V)?(V=V>>>0,ae===void 0&&(ae="utf8")):(ae=V,V=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const we=this.length-N;if((V===void 0||V>we)&&(V=we),y.length>0&&(V<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");ae||(ae="utf8");let xe=!1;for(;;)switch(ae){case"hex":return z(this,y,N,V);case"utf8":case"utf-8":return W(this,y,N,V);case"ascii":case"latin1":case"binary":return H(this,y,N,V);case"base64":return ue(this,y,N,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ge(this,y,N,V);default:if(xe)throw new TypeError("Unknown encoding: "+ae);ae=(""+ae).toLowerCase(),xe=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(T,y,N){return y===0&&N===T.length?r.fromByteArray(T):r.fromByteArray(T.slice(y,N))}function I(T,y,N){N=Math.min(T.length,N);const V=[];let ae=y;for(;ae<N;){const we=T[ae];let xe=null,Ke=we>239?4:we>223?3:we>191?2:1;if(ae+Ke<=N){let Qe,Ye,We,st;switch(Ke){case 1:we<128&&(xe=we);break;case 2:Qe=T[ae+1],(Qe&192)===128&&(st=(we&31)<<6|Qe&63,st>127&&(xe=st));break;case 3:Qe=T[ae+1],Ye=T[ae+2],(Qe&192)===128&&(Ye&192)===128&&(st=(we&15)<<12|(Qe&63)<<6|Ye&63,st>2047&&(st<55296||st>57343)&&(xe=st));break;case 4:Qe=T[ae+1],Ye=T[ae+2],We=T[ae+3],(Qe&192)===128&&(Ye&192)===128&&(We&192)===128&&(st=(we&15)<<18|(Qe&63)<<12|(Ye&63)<<6|We&63,st>65535&&st<1114112&&(xe=st))}}xe===null?(xe=65533,Ke=1):xe>65535&&(xe-=65536,V.push(xe>>>10&1023|55296),xe=56320|xe&1023),V.push(xe),ae+=Ke}return ne(V)}const q=4096;function ne(T){const y=T.length;if(y<=q)return String.fromCharCode.apply(String,T);let N="",V=0;for(;V<y;)N+=String.fromCharCode.apply(String,T.slice(V,V+=q));return N}function fe(T,y,N){let V="";N=Math.min(T.length,N);for(let ae=y;ae<N;++ae)V+=String.fromCharCode(T[ae]&127);return V}function ie(T,y,N){let V="";N=Math.min(T.length,N);for(let ae=y;ae<N;++ae)V+=String.fromCharCode(T[ae]);return V}function Ne(T,y,N){const V=T.length;(!y||y<0)&&(y=0),(!N||N<0||N>V)&&(N=V);let ae="";for(let we=y;we<N;++we)ae+=Fe[T[we]];return ae}function Ee(T,y,N){const V=T.slice(y,N);let ae="";for(let we=0;we<V.length-1;we+=2)ae+=String.fromCharCode(V[we]+V[we+1]*256);return ae}u.prototype.slice=function(y,N){const V=this.length;y=~~y,N=N===void 0?V:~~N,y<0?(y+=V,y<0&&(y=0)):y>V&&(y=V),N<0?(N+=V,N<0&&(N=0)):N>V&&(N=V),N<y&&(N=y);const ae=this.subarray(y,N);return Object.setPrototypeOf(ae,u.prototype),ae};function L(T,y,N){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+y>N)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(y,N,V){y=y>>>0,N=N>>>0,V||L(y,N,this.length);let ae=this[y],we=1,xe=0;for(;++xe<N&&(we*=256);)ae+=this[y+xe]*we;return ae},u.prototype.readUintBE=u.prototype.readUIntBE=function(y,N,V){y=y>>>0,N=N>>>0,V||L(y,N,this.length);let ae=this[y+--N],we=1;for(;N>0&&(we*=256);)ae+=this[y+--N]*we;return ae},u.prototype.readUint8=u.prototype.readUInt8=function(y,N){return y=y>>>0,N||L(y,1,this.length),this[y]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(y,N){return y=y>>>0,N||L(y,2,this.length),this[y]|this[y+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(y,N){return y=y>>>0,N||L(y,2,this.length),this[y]<<8|this[y+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(y,N){return y=y>>>0,N||L(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(y,N){return y=y>>>0,N||L(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},u.prototype.readBigUInt64LE=Ie(function(y){y=y>>>0,Z(y,"offset");const N=this[y],V=this[y+7];(N===void 0||V===void 0)&&X(y,this.length-8);const ae=N+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24,we=this[++y]+this[++y]*2**8+this[++y]*2**16+V*2**24;return BigInt(ae)+(BigInt(we)<<BigInt(32))}),u.prototype.readBigUInt64BE=Ie(function(y){y=y>>>0,Z(y,"offset");const N=this[y],V=this[y+7];(N===void 0||V===void 0)&&X(y,this.length-8);const ae=N*2**24+this[++y]*2**16+this[++y]*2**8+this[++y],we=this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+V;return(BigInt(ae)<<BigInt(32))+BigInt(we)}),u.prototype.readIntLE=function(y,N,V){y=y>>>0,N=N>>>0,V||L(y,N,this.length);let ae=this[y],we=1,xe=0;for(;++xe<N&&(we*=256);)ae+=this[y+xe]*we;return we*=128,ae>=we&&(ae-=Math.pow(2,8*N)),ae},u.prototype.readIntBE=function(y,N,V){y=y>>>0,N=N>>>0,V||L(y,N,this.length);let ae=N,we=1,xe=this[y+--ae];for(;ae>0&&(we*=256);)xe+=this[y+--ae]*we;return we*=128,xe>=we&&(xe-=Math.pow(2,8*N)),xe},u.prototype.readInt8=function(y,N){return y=y>>>0,N||L(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},u.prototype.readInt16LE=function(y,N){y=y>>>0,N||L(y,2,this.length);const V=this[y]|this[y+1]<<8;return V&32768?V|4294901760:V},u.prototype.readInt16BE=function(y,N){y=y>>>0,N||L(y,2,this.length);const V=this[y+1]|this[y]<<8;return V&32768?V|4294901760:V},u.prototype.readInt32LE=function(y,N){return y=y>>>0,N||L(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},u.prototype.readInt32BE=function(y,N){return y=y>>>0,N||L(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},u.prototype.readBigInt64LE=Ie(function(y){y=y>>>0,Z(y,"offset");const N=this[y],V=this[y+7];(N===void 0||V===void 0)&&X(y,this.length-8);const ae=this[y+4]+this[y+5]*2**8+this[y+6]*2**16+(V<<24);return(BigInt(ae)<<BigInt(32))+BigInt(N+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24)}),u.prototype.readBigInt64BE=Ie(function(y){y=y>>>0,Z(y,"offset");const N=this[y],V=this[y+7];(N===void 0||V===void 0)&&X(y,this.length-8);const ae=(N<<24)+this[++y]*2**16+this[++y]*2**8+this[++y];return(BigInt(ae)<<BigInt(32))+BigInt(this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+V)}),u.prototype.readFloatLE=function(y,N){return y=y>>>0,N||L(y,4,this.length),n.read(this,y,!0,23,4)},u.prototype.readFloatBE=function(y,N){return y=y>>>0,N||L(y,4,this.length),n.read(this,y,!1,23,4)},u.prototype.readDoubleLE=function(y,N){return y=y>>>0,N||L(y,8,this.length),n.read(this,y,!0,52,8)},u.prototype.readDoubleBE=function(y,N){return y=y>>>0,N||L(y,8,this.length),n.read(this,y,!1,52,8)};function de(T,y,N,V,ae,we){if(!u.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>ae||y<we)throw new RangeError('"value" argument is out of bounds');if(N+V>T.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(y,N,V,ae){if(y=+y,N=N>>>0,V=V>>>0,!ae){const Ke=Math.pow(2,8*V)-1;de(this,y,N,V,Ke,0)}let we=1,xe=0;for(this[N]=y&255;++xe<V&&(we*=256);)this[N+xe]=y/we&255;return N+V},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(y,N,V,ae){if(y=+y,N=N>>>0,V=V>>>0,!ae){const Ke=Math.pow(2,8*V)-1;de(this,y,N,V,Ke,0)}let we=V-1,xe=1;for(this[N+we]=y&255;--we>=0&&(xe*=256);)this[N+we]=y/xe&255;return N+V},u.prototype.writeUint8=u.prototype.writeUInt8=function(y,N,V){return y=+y,N=N>>>0,V||de(this,y,N,1,255,0),this[N]=y&255,N+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(y,N,V){return y=+y,N=N>>>0,V||de(this,y,N,2,65535,0),this[N]=y&255,this[N+1]=y>>>8,N+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(y,N,V){return y=+y,N=N>>>0,V||de(this,y,N,2,65535,0),this[N]=y>>>8,this[N+1]=y&255,N+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(y,N,V){return y=+y,N=N>>>0,V||de(this,y,N,4,4294967295,0),this[N+3]=y>>>24,this[N+2]=y>>>16,this[N+1]=y>>>8,this[N]=y&255,N+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(y,N,V){return y=+y,N=N>>>0,V||de(this,y,N,4,4294967295,0),this[N]=y>>>24,this[N+1]=y>>>16,this[N+2]=y>>>8,this[N+3]=y&255,N+4};function Re(T,y,N,V,ae){K(y,V,ae,T,N,7);let we=Number(y&BigInt(4294967295));T[N++]=we,we=we>>8,T[N++]=we,we=we>>8,T[N++]=we,we=we>>8,T[N++]=we;let xe=Number(y>>BigInt(32)&BigInt(4294967295));return T[N++]=xe,xe=xe>>8,T[N++]=xe,xe=xe>>8,T[N++]=xe,xe=xe>>8,T[N++]=xe,N}function U(T,y,N,V,ae){K(y,V,ae,T,N,7);let we=Number(y&BigInt(4294967295));T[N+7]=we,we=we>>8,T[N+6]=we,we=we>>8,T[N+5]=we,we=we>>8,T[N+4]=we;let xe=Number(y>>BigInt(32)&BigInt(4294967295));return T[N+3]=xe,xe=xe>>8,T[N+2]=xe,xe=xe>>8,T[N+1]=xe,xe=xe>>8,T[N]=xe,N+8}u.prototype.writeBigUInt64LE=Ie(function(y,N=0){return Re(this,y,N,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Ie(function(y,N=0){return U(this,y,N,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(y,N,V,ae){if(y=+y,N=N>>>0,!ae){const Qe=Math.pow(2,8*V-1);de(this,y,N,V,Qe-1,-Qe)}let we=0,xe=1,Ke=0;for(this[N]=y&255;++we<V&&(xe*=256);)y<0&&Ke===0&&this[N+we-1]!==0&&(Ke=1),this[N+we]=(y/xe>>0)-Ke&255;return N+V},u.prototype.writeIntBE=function(y,N,V,ae){if(y=+y,N=N>>>0,!ae){const Qe=Math.pow(2,8*V-1);de(this,y,N,V,Qe-1,-Qe)}let we=V-1,xe=1,Ke=0;for(this[N+we]=y&255;--we>=0&&(xe*=256);)y<0&&Ke===0&&this[N+we+1]!==0&&(Ke=1),this[N+we]=(y/xe>>0)-Ke&255;return N+V},u.prototype.writeInt8=function(y,N,V){return y=+y,N=N>>>0,V||de(this,y,N,1,127,-128),y<0&&(y=255+y+1),this[N]=y&255,N+1},u.prototype.writeInt16LE=function(y,N,V){return y=+y,N=N>>>0,V||de(this,y,N,2,32767,-32768),this[N]=y&255,this[N+1]=y>>>8,N+2},u.prototype.writeInt16BE=function(y,N,V){return y=+y,N=N>>>0,V||de(this,y,N,2,32767,-32768),this[N]=y>>>8,this[N+1]=y&255,N+2},u.prototype.writeInt32LE=function(y,N,V){return y=+y,N=N>>>0,V||de(this,y,N,4,2147483647,-2147483648),this[N]=y&255,this[N+1]=y>>>8,this[N+2]=y>>>16,this[N+3]=y>>>24,N+4},u.prototype.writeInt32BE=function(y,N,V){return y=+y,N=N>>>0,V||de(this,y,N,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[N]=y>>>24,this[N+1]=y>>>16,this[N+2]=y>>>8,this[N+3]=y&255,N+4},u.prototype.writeBigInt64LE=Ie(function(y,N=0){return Re(this,y,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Ie(function(y,N=0){return U(this,y,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Pe(T,y,N,V,ae,we){if(N+V>T.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function Be(T,y,N,V,ae){return y=+y,N=N>>>0,ae||Pe(T,y,N,4),n.write(T,y,N,V,23,4),N+4}u.prototype.writeFloatLE=function(y,N,V){return Be(this,y,N,!0,V)},u.prototype.writeFloatBE=function(y,N,V){return Be(this,y,N,!1,V)};function be(T,y,N,V,ae){return y=+y,N=N>>>0,ae||Pe(T,y,N,8),n.write(T,y,N,V,52,8),N+8}u.prototype.writeDoubleLE=function(y,N,V){return be(this,y,N,!0,V)},u.prototype.writeDoubleBE=function(y,N,V){return be(this,y,N,!1,V)},u.prototype.copy=function(y,N,V,ae){if(!u.isBuffer(y))throw new TypeError("argument should be a Buffer");if(V||(V=0),!ae&&ae!==0&&(ae=this.length),N>=y.length&&(N=y.length),N||(N=0),ae>0&&ae<V&&(ae=V),ae===V||y.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("sourceEnd out of bounds");ae>this.length&&(ae=this.length),y.length-N<ae-V&&(ae=y.length-N+V);const we=ae-V;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(N,V,ae):Uint8Array.prototype.set.call(y,this.subarray(V,ae),N),we},u.prototype.fill=function(y,N,V,ae){if(typeof y=="string"){if(typeof N=="string"?(ae=N,N=0,V=this.length):typeof V=="string"&&(ae=V,V=this.length),ae!==void 0&&typeof ae!="string")throw new TypeError("encoding must be a string");if(typeof ae=="string"&&!u.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);if(y.length===1){const xe=y.charCodeAt(0);(ae==="utf8"&&xe<128||ae==="latin1")&&(y=xe)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(N<0||this.length<N||this.length<V)throw new RangeError("Out of range index");if(V<=N)return this;N=N>>>0,V=V===void 0?this.length:V>>>0,y||(y=0);let we;if(typeof y=="number")for(we=N;we<V;++we)this[we]=y;else{const xe=u.isBuffer(y)?y:u.from(y,ae),Ke=xe.length;if(Ke===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for(we=0;we<V-N;++we)this[we+N]=xe[we%Ke]}return this};const me={};function _e(T,y,N){me[T]=class extends N{constructor(){super(),Object.defineProperty(this,"message",{value:y.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${T}]`,this.stack,delete this.name}get code(){return T}set code(ae){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ae,writable:!0})}toString(){return`${this.name} [${T}]: ${this.message}`}}}_e("ERR_BUFFER_OUT_OF_BOUNDS",function(T){return T?`${T} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),_e("ERR_INVALID_ARG_TYPE",function(T,y){return`The "${T}" argument must be of type number. Received type ${typeof y}`},TypeError),_e("ERR_OUT_OF_RANGE",function(T,y,N){let V=`The value of "${T}" is out of range.`,ae=N;return Number.isInteger(N)&&Math.abs(N)>2**32?ae=E(String(N)):typeof N=="bigint"&&(ae=String(N),(N>BigInt(2)**BigInt(32)||N<-(BigInt(2)**BigInt(32)))&&(ae=E(ae)),ae+="n"),V+=` It must be ${y}. Received ${ae}`,V},RangeError);function E(T){let y="",N=T.length;const V=T[0]==="-"?1:0;for(;N>=V+4;N-=3)y=`_${T.slice(N-3,N)}${y}`;return`${T.slice(0,N)}${y}`}function P(T,y,N){Z(y,"offset"),(T[y]===void 0||T[y+N]===void 0)&&X(y,T.length-(N+1))}function K(T,y,N,V,ae,we){if(T>N||T<y){const xe=typeof y=="bigint"?"n":"";let Ke;throw y===0||y===BigInt(0)?Ke=`>= 0${xe} and < 2${xe} ** ${(we+1)*8}${xe}`:Ke=`>= -(2${xe} ** ${(we+1)*8-1}${xe}) and < 2 ** ${(we+1)*8-1}${xe}`,new me.ERR_OUT_OF_RANGE("value",Ke,T)}P(V,ae,we)}function Z(T,y){if(typeof T!="number")throw new me.ERR_INVALID_ARG_TYPE(y,"number",T)}function X(T,y,N){throw Math.floor(T)!==T?(Z(T,N),new me.ERR_OUT_OF_RANGE("offset","an integer",T)):y<0?new me.ERR_BUFFER_OUT_OF_BOUNDS:new me.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${y}`,T)}const se=/[^+/0-9A-Za-z-_]/g;function S(T){if(T=T.split("=")[0],T=T.trim().replace(se,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function p(T,y){y=y||1/0;let N;const V=T.length;let ae=null;const we=[];for(let xe=0;xe<V;++xe){if(N=T.charCodeAt(xe),N>55295&&N<57344){if(!ae){if(N>56319){(y-=3)>-1&&we.push(239,191,189);continue}else if(xe+1===V){(y-=3)>-1&&we.push(239,191,189);continue}ae=N;continue}if(N<56320){(y-=3)>-1&&we.push(239,191,189),ae=N;continue}N=(ae-55296<<10|N-56320)+65536}else ae&&(y-=3)>-1&&we.push(239,191,189);if(ae=null,N<128){if((y-=1)<0)break;we.push(N)}else if(N<2048){if((y-=2)<0)break;we.push(N>>6|192,N&63|128)}else if(N<65536){if((y-=3)<0)break;we.push(N>>12|224,N>>6&63|128,N&63|128)}else if(N<1114112){if((y-=4)<0)break;we.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw new Error("Invalid code point")}return we}function m(T){const y=[];for(let N=0;N<T.length;++N)y.push(T.charCodeAt(N)&255);return y}function C(T,y){let N,V,ae;const we=[];for(let xe=0;xe<T.length&&!((y-=2)<0);++xe)N=T.charCodeAt(xe),V=N>>8,ae=N%256,we.push(ae),we.push(V);return we}function F(T){return r.toByteArray(S(T))}function Q(T,y,N,V){let ae;for(ae=0;ae<V&&!(ae+N>=y.length||ae>=T.length);++ae)y[ae+N]=T[ae];return ae}function he(T,y){return T instanceof y||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===y.name}function Se(T){return T!==T}const Fe=function(){const T="0123456789abcdef",y=new Array(256);for(let N=0;N<16;++N){const V=N*16;for(let ae=0;ae<16;++ae)y[V+ae]=T[N]+T[ae]}return y}();function Ie(T){return typeof BigInt>"u"?De:T}function De(){throw new Error("BigInt not supported")}}(zd)),zd}var Gv=Wv(),Bf;(function(e){e[e.SysFatal=1]="SysFatal",e[e.SysTransient=2]="SysTransient",e[e.DestinationInvalid=3]="DestinationInvalid",e[e.CanisterReject=4]="CanisterReject",e[e.CanisterError=5]="CanisterError"})(Bf||(Bf={}));const Lv="modulepreload",Kv=function(e){return"/"+e},hm={},Yv=function(r,n,i){let l=Promise.resolve();if(n&&n.length>0){let f=function(_){return Promise.all(_.map(x=>Promise.resolve(x).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),g=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));l=f(n.map(_=>{if(_=Kv(_),_ in hm)return;hm[_]=!0;const x=_.endsWith(".css"),v=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${v}`))return;const k=document.createElement("link");if(k.rel=x?"stylesheet":Lv,x||(k.as="script"),k.crossOrigin="",k.href=_,g&&k.setAttribute("nonce",g),document.head.appendChild(k),x)return new Promise((A,b)=>{k.addEventListener("load",A),k.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${_}`)))})}))}function d(f){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=f,window.dispatchEvent(u),!u.defaultPrevented)throw f}return l.then(f=>{for(const u of f||[])u.status==="rejected"&&d(u.reason);return r().catch(d)})},fc="abcdefghijklmnopqrstuvwxyz234567",Yi=Object.create(null);for(let e=0;e<fc.length;e++)Yi[fc[e]]=e;Yi[0]=Yi.o;Yi[1]=Yi.i;function Zv(e){let r=0,n=0,i="";function l(d){return r<0?n|=d>>-r:n=d<<r&248,r>3?(r-=8,1):(r<4&&(i+=fc[n>>3],r+=5),0)}for(let d=0;d<e.length;)d+=l(e[d]);return i+(r<0?fc[n>>3]:"")}function Dv(e){let r=0,n=0;const i=new Uint8Array(e.length*4/3|0);let l=0;function d(f){let u=Yi[f.toLowerCase()];if(u===void 0)throw new Error(`Invalid character: ${JSON.stringify(f)}`);u<<=3,n|=u>>>r,r+=5,r>=8&&(i[l++]=n,r-=8,r>0?n=u<<5-r&255:n=0)}for(const f of e)d(f);return i.slice(0,l)}const Qv=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function Xv(e){const r=new Uint8Array(e);let n=-1;for(let i=0;i<r.length;i++){const d=(r[i]^n)&255;n=Qv[d]^n>>>8}return(n^-1)>>>0}const Si=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function n0(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Jv(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Lt(e,...r){if(!n0(e))throw new Error("Uint8Array expected");if(r.length>0&&!r.includes(e.length))throw new Error("Uint8Array expected of length "+r+", got length="+e.length)}function pm(e,r=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(r&&e.finished)throw new Error("Hash#digest() has already been called")}function eb(e,r){Lt(e);const n=r.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Xa(...e){for(let r=0;r<e.length;r++)e[r].fill(0)}function Vd(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function tn(e,r){return e<<32-r|e>>>r}const Wg=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",tb=Array.from({length:256},(e,r)=>r.toString(16).padStart(2,"0"));function Zi(e){if(Lt(e),Wg)return e.toHex();let r="";for(let n=0;n<e.length;n++)r+=tb[e[n]];return r}const vn={_0:48,_9:57,A:65,F:70,a:97,f:102};function mm(e){if(e>=vn._0&&e<=vn._9)return e-vn._0;if(e>=vn.A&&e<=vn.F)return e-(vn.A-10);if(e>=vn.a&&e<=vn.f)return e-(vn.a-10)}function Gg(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Wg)return Uint8Array.fromHex(e);const r=e.length,n=r/2;if(r%2)throw new Error("hex string expected, got unpadded hex of length "+r);const i=new Uint8Array(n);for(let l=0,d=0;l<n;l++,d+=2){const f=mm(e.charCodeAt(d)),u=mm(e.charCodeAt(d+1));if(f===void 0||u===void 0){const g=e[d]+e[d+1];throw new Error('hex string expected, got non-hex character "'+g+'" at index '+d)}i[l]=f*16+u}return i}function Cc(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Lg(e){return typeof e=="string"&&(e=Cc(e)),Lt(e),e}function At(...e){let r=0;for(let i=0;i<e.length;i++){const l=e[i];Lt(l),r+=l.length}const n=new Uint8Array(r);for(let i=0,l=0;i<e.length;i++){const d=e[i];n.set(d,l),l+=d.length}return n}class rb{}function s0(e){const r=i=>e().update(Lg(i)).digest(),n=e();return r.outputLen=n.outputLen,r.blockLen=n.blockLen,r.create=()=>e(),r}function Kg(e=32){if(Si&&typeof Si.getRandomValues=="function")return Si.getRandomValues(new Uint8Array(e));if(Si&&typeof Si.randomBytes=="function")return Uint8Array.from(Si.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function nb(e,r,n,i){if(typeof e.setBigUint64=="function")return e.setBigUint64(r,n,i);const l=BigInt(32),d=BigInt(4294967295),f=Number(n>>l&d),u=Number(n&d),g=i?4:0,_=i?0:4;e.setUint32(r+g,f,i),e.setUint32(r+_,u,i)}function sb(e,r,n){return e&r^~e&n}function ib(e,r,n){return e&r^e&n^r&n}class Yg extends rb{constructor(r,n,i,l){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=r,this.outputLen=n,this.padOffset=i,this.isLE=l,this.buffer=new Uint8Array(r),this.view=Vd(this.buffer)}update(r){pm(this),r=Lg(r),Lt(r);const{view:n,buffer:i,blockLen:l}=this,d=r.length;for(let f=0;f<d;){const u=Math.min(l-this.pos,d-f);if(u===l){const g=Vd(r);for(;l<=d-f;f+=l)this.process(g,f);continue}i.set(r.subarray(f,f+u),this.pos),this.pos+=u,f+=u,this.pos===l&&(this.process(n,0),this.pos=0)}return this.length+=r.length,this.roundClean(),this}digestInto(r){pm(this),eb(r,this),this.finished=!0;const{buffer:n,view:i,blockLen:l,isLE:d}=this;let{pos:f}=this;n[f++]=128,Xa(this.buffer.subarray(f)),this.padOffset>l-f&&(this.process(i,0),f=0);for(let v=f;v<l;v++)n[v]=0;nb(i,l-8,BigInt(this.length*8),d),this.process(i,0);const u=Vd(r),g=this.outputLen;if(g%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const _=g/4,x=this.get();if(_>x.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<_;v++)u.setUint32(4*v,x[v],d)}digest(){const{buffer:r,outputLen:n}=this;this.digestInto(r);const i=r.slice(0,n);return this.destroy(),i}_cloneInto(r){r||(r=new this.constructor),r.set(...this.get());const{blockLen:n,buffer:i,length:l,finished:d,destroyed:f,pos:u}=this;return r.destroyed=f,r.finished=d,r.length=l,r.pos=u,l%n&&r.buffer.set(i),r}clone(){return this._cloneInto()}}const ts=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),rs=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),Qt=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),kl=BigInt(2**32-1),gm=BigInt(32);function ab(e,r=!1){return r?{h:Number(e&kl),l:Number(e>>gm&kl)}:{h:Number(e>>gm&kl)|0,l:Number(e&kl)|0}}function ob(e,r=!1){const n=e.length;let i=new Uint32Array(n),l=new Uint32Array(n);for(let d=0;d<n;d++){const{h:f,l:u}=ab(e[d],r);[i[d],l[d]]=[f,u]}return[i,l]}const ym=(e,r,n)=>e>>>n,xm=(e,r,n)=>e<<32-n|r>>>n,Ai=(e,r,n)=>e>>>n|r<<32-n,Ti=(e,r,n)=>e<<32-n|r>>>n,Sl=(e,r,n)=>e<<64-n|r>>>n-32,Al=(e,r,n)=>e>>>n-32|r<<64-n;function bn(e,r,n,i){const l=(r>>>0)+(i>>>0);return{h:e+n+(l/2**32|0)|0,l:l|0}}const lb=(e,r,n)=>(e>>>0)+(r>>>0)+(n>>>0),cb=(e,r,n,i)=>r+n+i+(e/2**32|0)|0,ub=(e,r,n,i)=>(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),db=(e,r,n,i,l)=>r+n+i+l+(e/2**32|0)|0,fb=(e,r,n,i,l)=>(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0)+(l>>>0),hb=(e,r,n,i,l,d)=>r+n+i+l+d+(e/2**32|0)|0,pb=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ns=new Uint32Array(64);class Zg extends Yg{constructor(r=32){super(64,r,8,!1),this.A=ts[0]|0,this.B=ts[1]|0,this.C=ts[2]|0,this.D=ts[3]|0,this.E=ts[4]|0,this.F=ts[5]|0,this.G=ts[6]|0,this.H=ts[7]|0}get(){const{A:r,B:n,C:i,D:l,E:d,F:f,G:u,H:g}=this;return[r,n,i,l,d,f,u,g]}set(r,n,i,l,d,f,u,g){this.A=r|0,this.B=n|0,this.C=i|0,this.D=l|0,this.E=d|0,this.F=f|0,this.G=u|0,this.H=g|0}process(r,n){for(let v=0;v<16;v++,n+=4)ns[v]=r.getUint32(n,!1);for(let v=16;v<64;v++){const k=ns[v-15],A=ns[v-2],b=tn(k,7)^tn(k,18)^k>>>3,M=tn(A,17)^tn(A,19)^A>>>10;ns[v]=M+ns[v-7]+b+ns[v-16]|0}let{A:i,B:l,C:d,D:f,E:u,F:g,G:_,H:x}=this;for(let v=0;v<64;v++){const k=tn(u,6)^tn(u,11)^tn(u,25),A=x+k+sb(u,g,_)+pb[v]+ns[v]|0,M=(tn(i,2)^tn(i,13)^tn(i,22))+ib(i,l,d)|0;x=_,_=g,g=u,u=f+A|0,f=d,d=l,l=i,i=A+M|0}i=i+this.A|0,l=l+this.B|0,d=d+this.C|0,f=f+this.D|0,u=u+this.E|0,g=g+this.F|0,_=_+this.G|0,x=x+this.H|0,this.set(i,l,d,f,u,g,_,x)}roundClean(){Xa(ns)}destroy(){this.set(0,0,0,0,0,0,0,0),Xa(this.buffer)}}class mb extends Zg{constructor(){super(28),this.A=rs[0]|0,this.B=rs[1]|0,this.C=rs[2]|0,this.D=rs[3]|0,this.E=rs[4]|0,this.F=rs[5]|0,this.G=rs[6]|0,this.H=rs[7]|0}}const Dg=ob(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),gb=Dg[0],yb=Dg[1],ss=new Uint32Array(80),is=new Uint32Array(80);class xb extends Yg{constructor(r=64){super(128,r,16,!1),this.Ah=Qt[0]|0,this.Al=Qt[1]|0,this.Bh=Qt[2]|0,this.Bl=Qt[3]|0,this.Ch=Qt[4]|0,this.Cl=Qt[5]|0,this.Dh=Qt[6]|0,this.Dl=Qt[7]|0,this.Eh=Qt[8]|0,this.El=Qt[9]|0,this.Fh=Qt[10]|0,this.Fl=Qt[11]|0,this.Gh=Qt[12]|0,this.Gl=Qt[13]|0,this.Hh=Qt[14]|0,this.Hl=Qt[15]|0}get(){const{Ah:r,Al:n,Bh:i,Bl:l,Ch:d,Cl:f,Dh:u,Dl:g,Eh:_,El:x,Fh:v,Fl:k,Gh:A,Gl:b,Hh:M,Hl:R}=this;return[r,n,i,l,d,f,u,g,_,x,v,k,A,b,M,R]}set(r,n,i,l,d,f,u,g,_,x,v,k,A,b,M,R){this.Ah=r|0,this.Al=n|0,this.Bh=i|0,this.Bl=l|0,this.Ch=d|0,this.Cl=f|0,this.Dh=u|0,this.Dl=g|0,this.Eh=_|0,this.El=x|0,this.Fh=v|0,this.Fl=k|0,this.Gh=A|0,this.Gl=b|0,this.Hh=M|0,this.Hl=R|0}process(r,n){for(let J=0;J<16;J++,n+=4)ss[J]=r.getUint32(n),is[J]=r.getUint32(n+=4);for(let J=16;J<80;J++){const ce=ss[J-15]|0,O=is[J-15]|0,te=Ai(ce,O,1)^Ai(ce,O,8)^ym(ce,O,7),oe=Ti(ce,O,1)^Ti(ce,O,8)^xm(ce,O,7),z=ss[J-2]|0,W=is[J-2]|0,H=Ai(z,W,19)^Sl(z,W,61)^ym(z,W,6),ue=Ti(z,W,19)^Al(z,W,61)^xm(z,W,6),ge=ub(oe,ue,is[J-7],is[J-16]),j=db(ge,te,H,ss[J-7],ss[J-16]);ss[J]=j|0,is[J]=ge|0}let{Ah:i,Al:l,Bh:d,Bl:f,Ch:u,Cl:g,Dh:_,Dl:x,Eh:v,El:k,Fh:A,Fl:b,Gh:M,Gl:R,Hh:$,Hl:G}=this;for(let J=0;J<80;J++){const ce=Ai(v,k,14)^Ai(v,k,18)^Sl(v,k,41),O=Ti(v,k,14)^Ti(v,k,18)^Al(v,k,41),te=v&A^~v&M,oe=k&b^~k&R,z=fb(G,O,oe,yb[J],is[J]),W=hb(z,$,ce,te,gb[J],ss[J]),H=z|0,ue=Ai(i,l,28)^Sl(i,l,34)^Sl(i,l,39),ge=Ti(i,l,28)^Al(i,l,34)^Al(i,l,39),j=i&d^i&u^d&u,I=l&f^l&g^f&g;$=M|0,G=R|0,M=A|0,R=b|0,A=v|0,b=k|0,{h:v,l:k}=bn(_|0,x|0,W|0,H|0),_=u|0,x=g|0,u=d|0,g=f|0,d=i|0,f=l|0;const q=lb(H,ge,I);i=cb(q,W,ue,j),l=q|0}({h:i,l}=bn(this.Ah|0,this.Al|0,i|0,l|0)),{h:d,l:f}=bn(this.Bh|0,this.Bl|0,d|0,f|0),{h:u,l:g}=bn(this.Ch|0,this.Cl|0,u|0,g|0),{h:_,l:x}=bn(this.Dh|0,this.Dl|0,_|0,x|0),{h:v,l:k}=bn(this.Eh|0,this.El|0,v|0,k|0),{h:A,l:b}=bn(this.Fh|0,this.Fl|0,A|0,b|0),{h:M,l:R}=bn(this.Gh|0,this.Gl|0,M|0,R|0),{h:$,l:G}=bn(this.Hh|0,this.Hl|0,$|0,G|0),this.set(i,l,d,f,u,g,_,x,v,k,A,b,M,R,$,G)}roundClean(){Xa(ss,is)}destroy(){Xa(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const i0=s0(()=>new Zg),wb=s0(()=>new mb),vb=s0(()=>new xb),bb=i0,Nb=wb;function _b(e){return Nb.create().update(new Uint8Array(e)).digest()}const Tl="__principal__",Eb=2,wm=4,jb="aaaaa-aa",kb=e=>{var r;return new Uint8Array(((r=e.match(/.{1,2}/g))!==null&&r!==void 0?r:[]).map(n=>parseInt(n,16)))},Sb=e=>e.reduce((r,n)=>r+n.toString(16).padStart(2,"0"),"");let et=class Il{constructor(r){this._arr=r,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([wm]))}static managementCanister(){return this.fromText(jb)}static selfAuthenticating(r){const n=_b(r);return new this(new Uint8Array([...n,Eb]))}static from(r){if(typeof r=="string")return Il.fromText(r);if(Object.getPrototypeOf(r)===Uint8Array.prototype)return new Il(r);if(typeof r=="object"&&r!==null&&r._isPrincipal===!0)return new Il(r._arr);throw new Error(`Impossible to convert ${JSON.stringify(r)} to Principal.`)}static fromHex(r){return new this(kb(r))}static fromText(r){let n=r;if(r.includes(Tl)){const f=JSON.parse(r);Tl in f&&(n=f[Tl])}const i=n.toLowerCase().replace(/-/g,"");let l=Dv(i);l=l.slice(4,l.length);const d=new this(l);if(d.toText()!==n)throw new Error(`Principal "${d.toText()}" does not have a valid checksum (original value "${n}" may not be a valid Principal ID).`);return d}static fromUint8Array(r){return new this(r)}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===wm}toUint8Array(){return this._arr}toHex(){return Sb(this._arr).toUpperCase()}toText(){const r=new ArrayBuffer(4);new DataView(r).setUint32(0,Xv(this._arr));const i=new Uint8Array(r),l=Uint8Array.from(this._arr),d=new Uint8Array([...i,...l]),u=Zv(d).match(/.{1,5}/g);if(!u)throw new Error;return u.join("-")}toString(){return this.toText()}toJSON(){return{[Tl]:this.toText()}}compareTo(r){for(let n=0;n<Math.min(this._arr.length,r._arr.length);n++){if(this._arr[n]<r._arr[n])return"lt";if(this._arr[n]>r._arr[n])return"gt"}return this._arr.length<r._arr.length?"lt":this._arr.length>r._arr.length?"gt":"eq"}ltEq(r){const n=this.compareTo(r);return n=="lt"||n=="eq"}gtEq(r){const n=this.compareTo(r);return n=="gt"||n=="eq"}};function Lr(...e){const r=new Uint8Array(e.reduce((i,l)=>i+l.byteLength,0));let n=0;for(const i of e)r.set(new Uint8Array(i),n),n+=i.byteLength;return r.buffer}function wt(e){return[...new Uint8Array(e)].map(r=>r.toString(16).padStart(2,"0")).join("")}const Ab=new RegExp(/^[0-9a-fA-F]+$/);function Pn(e){if(!Ab.test(e))throw new Error("Invalid hexadecimal string.");const r=[...e].reduce((n,i,l)=>(n[l/2|0]=(n[l/2|0]||"")+i,n),[]).map(n=>Number.parseInt(n,16));return new Uint8Array(r).buffer}function Qg(e,r){if(e.byteLength!==r.byteLength)return e.byteLength-r.byteLength;const n=new Uint8Array(e),i=new Uint8Array(r);for(let l=0;l<n.length;l++)if(n[l]!==i[l])return n[l]-i[l];return 0}function oo(e,r){return Qg(e,r)===0}function Ya(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function Tn(e){return e instanceof Uint8Array?Ya(e):e instanceof ArrayBuffer?e:Array.isArray(e)?Ya(new Uint8Array(e)):"buffer"in e?Tn(e.buffer):Ya(new Uint8Array(e))}class jt extends Error{constructor(r){super(r),this.message=r,this.name="AgentError",this.__proto__=jt.prototype,Object.setPrototypeOf(this,jt.prototype)}}function dt(...e){const r=new Uint8Array(e.reduce((i,l)=>i+l.byteLength,0));let n=0;for(const i of e)r.set(new Uint8Array(i),n),n+=i.byteLength;return r}class Ji{constructor(r,n=(r==null?void 0:r.byteLength)||0){this._buffer=Ks(r||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,n)}save(){return this._view}restore(r){this._view=r}get buffer(){return Ks(this._view.slice())}get byteLength(){return this._view.byteLength}read(r){const n=this._view.subarray(0,r);return this._view=this._view.subarray(r),n.slice().buffer}readUint8(){const r=this._view[0];return this._view=this._view.subarray(1),r}write(r){const n=new Uint8Array(r),i=this._view.byteLength;this._view.byteOffset+this._view.byteLength+n.byteLength>=this._buffer.byteLength?this.alloc(n.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+n.byteLength),this._view.set(n,i)}get end(){return this._view.byteLength===0}alloc(r){const n=new ArrayBuffer((this._buffer.byteLength+r)*1.2|0),i=new Uint8Array(n,0,this._view.byteLength+r);i.set(this._view),this._buffer=n,this._view=i}}function Hd(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function Ks(e){return e instanceof Uint8Array?Hd(e):e instanceof ArrayBuffer?e:Array.isArray(e)?Hd(new Uint8Array(e)):"buffer"in e?Ks(e.buffer):Hd(new Uint8Array(e))}function Tb(e){const n=new TextEncoder().encode(e);let i=0;for(const l of n)i=(i*223+l)%2**32;return i}function cn(e){if(/^_\d+_$/.test(e)||/^_0x[0-9a-fA-F]+_$/.test(e)){const r=+e.slice(1,-1);if(Number.isSafeInteger(r)&&r>=0&&r<2**32)return r}return Tb(e)}function Xg(){throw new Error("unexpected end of buffer")}function Ys(e,r){return e.byteLength<r&&Xg(),e.read(r)}function Zs(e){const r=e.readUint8();return r===void 0&&Xg(),r}function kt(e){if(typeof e=="number"&&(e=BigInt(e)),e<BigInt(0))throw new Error("Cannot leb encode negative values.");const r=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,n=new Ji(new ArrayBuffer(r),0);for(;;){const i=Number(e&BigInt(127));if(e/=BigInt(128),e===BigInt(0)){n.write(new Uint8Array([i]));break}else n.write(new Uint8Array([i|128]))}return n.buffer}function $t(e){let r=BigInt(1),n=BigInt(0),i;do i=Zs(e),n+=BigInt(i&127).valueOf()*r,r*=BigInt(128);while(i>=128);return n}function Ft(e){typeof e=="number"&&(e=BigInt(e));const r=e<BigInt(0);r&&(e=-e-BigInt(1));const n=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,i=new Ji(new ArrayBuffer(n),0);for(;;){const d=l(e);if(e/=BigInt(128),r&&e===BigInt(0)&&(d&64)!==0||!r&&e===BigInt(0)&&(d&64)===0){i.write(new Uint8Array([d]));break}else i.write(new Uint8Array([d|128]))}function l(d){const f=d%BigInt(128);return Number(r?BigInt(128)-f-BigInt(1):f)}return i.buffer}function cs(e){const r=new Uint8Array(e.buffer);let n=0;for(;n<r.byteLength;n++)if(r[n]<128){if((r[n]&64)===0)return $t(e);break}const i=new Uint8Array(Ys(e,n+1));let l=BigInt(0);for(let d=i.byteLength-1;d>=0;d--)l=l*BigInt(128)+BigInt(128-(i[d]&127)-1);return-l-BigInt(1)}function Cb(e,r){if(BigInt(e)<BigInt(0))throw new Error("Cannot write negative values.");return Jg(e,r)}function Jg(e,r){e=BigInt(e);const n=new Ji(new ArrayBuffer(Math.min(1,r)),0);let i=0,l=BigInt(256),d=BigInt(0),f=Number(e%l);for(n.write(new Uint8Array([f]));++i<r;)e<0&&d===BigInt(0)&&f!==0&&(d=BigInt(1)),f=Number((e/l-d)%BigInt(256)),n.write(new Uint8Array([f])),l*=BigInt(256);return n.buffer}function ey(e,r){let n=BigInt(Zs(e)),i=BigInt(1),l=0;for(;++l<r;){i*=BigInt(256);const d=BigInt(Zs(e));n=n+i*d}return n}function Bb(e,r){let n=ey(e,r);const i=BigInt(2)**(BigInt(8)*BigInt(r-1)+BigInt(7));return n>=i&&(n-=i*BigInt(2)),n}function Rf(e){const r=BigInt(e);if(e<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<r}const $l="DIDL",vm=400;function Ja(e,r,n){return e.map((i,l)=>n(i,r[l]))}class Rb{constructor(){this._typs=[],this._idx=new Map}has(r){return this._idx.has(r.name)}add(r,n){const i=this._typs.length;this._idx.set(r.name,i),this._typs.push(n)}merge(r,n){const i=this._idx.get(r.name),l=this._idx.get(n);if(i===void 0)throw new Error("Missing type index for "+r);if(l===void 0)throw new Error("Missing type index for "+n);this._typs[i]=this._typs[l],this._typs.splice(l,1),this._idx.delete(n)}encode(){const r=kt(this._typs.length),n=dt(...this._typs);return dt(r,n)}indexOf(r){if(!this._idx.has(r))throw new Error("Missing type index for "+r);return Ft(this._idx.get(r)||0)}}class Pb{visitType(r,n){throw new Error("Not implemented")}visitPrimitive(r,n){return this.visitType(r,n)}visitEmpty(r,n){return this.visitPrimitive(r,n)}visitBool(r,n){return this.visitPrimitive(r,n)}visitNull(r,n){return this.visitPrimitive(r,n)}visitReserved(r,n){return this.visitPrimitive(r,n)}visitText(r,n){return this.visitPrimitive(r,n)}visitNumber(r,n){return this.visitPrimitive(r,n)}visitInt(r,n){return this.visitNumber(r,n)}visitNat(r,n){return this.visitNumber(r,n)}visitFloat(r,n){return this.visitPrimitive(r,n)}visitFixedInt(r,n){return this.visitNumber(r,n)}visitFixedNat(r,n){return this.visitNumber(r,n)}visitPrincipal(r,n){return this.visitPrimitive(r,n)}visitConstruct(r,n){return this.visitType(r,n)}visitVec(r,n,i){return this.visitConstruct(r,i)}visitOpt(r,n,i){return this.visitConstruct(r,i)}visitRecord(r,n,i){return this.visitConstruct(r,i)}visitTuple(r,n,i){const l=n.map((d,f)=>[`_${f}_`,d]);return this.visitRecord(r,l,i)}visitVariant(r,n,i){return this.visitConstruct(r,i)}visitRec(r,n,i){return this.visitConstruct(n,i)}visitFunc(r,n){return this.visitConstruct(r,n)}visitService(r,n){return this.visitConstruct(r,n)}}class Bc{display(){return this.name}valueToString(r){return Tt(r)}buildTypeTable(r){r.has(this)||this._buildTypeTableImpl(r)}}class Pr extends Bc{checkType(r){if(this.name!==r.name)throw new Error(`type mismatch: type on the wire ${r.name}, expect type ${this.name}`);return r}_buildTypeTableImpl(r){}}class bs extends Bc{checkType(r){if(r instanceof Mn){const n=r.getType();if(typeof n>"u")throw new Error("type mismatch with uninitialized type");return n}throw new Error(`type mismatch: type on the wire ${r.name}, expect type ${this.name}`)}encodeType(r){return r.indexOf(this.name)}}class ty extends Pr{accept(r,n){return r.visitEmpty(this,n)}covariant(r){throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return Ft(-17)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}}class ry extends Bc{checkType(r){throw new Error("Method not implemented for unknown.")}accept(r,n){throw r.visitType(this,n)}covariant(r){throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(r,n){let i=n.decodeValue(r,n);Object(i)!==i&&(i=Object(i));let l;return n instanceof Mn?l=()=>n.getType():l=()=>n,Object.defineProperty(i,"type",{value:l,writable:!0,enumerable:!1,configurable:!0}),i}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}}class ny extends Pr{accept(r,n){return r.visitBool(this,n)}covariant(r){if(typeof r=="boolean")return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){return new Uint8Array([r?1:0])}encodeType(){return Ft(-2)}decodeValue(r,n){switch(this.checkType(n),Zs(r)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}}class hc extends Pr{accept(r,n){return r.visitNull(this,n)}covariant(r){if(r===null)return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(){return new ArrayBuffer(0)}encodeType(){return Ft(-1)}decodeValue(r,n){return this.checkType(n),null}get name(){return"null"}}class Di extends Pr{accept(r,n){return r.visitReserved(this,n)}covariant(r){return!0}encodeValue(){return new ArrayBuffer(0)}encodeType(){return Ft(-16)}decodeValue(r,n){return n.name!==this.name&&n.decodeValue(r,n),null}get name(){return"reserved"}}class sy extends Pr{accept(r,n){return r.visitText(this,n)}covariant(r){if(typeof r=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){const n=new TextEncoder().encode(r),i=kt(n.byteLength);return dt(i,n)}encodeType(){return Ft(-15)}decodeValue(r,n){this.checkType(n);const i=$t(r),l=Ys(r,Number(i));return new TextDecoder("utf8",{fatal:!0}).decode(l)}get name(){return"text"}valueToString(r){return'"'+r+'"'}}class iy extends Pr{accept(r,n){return r.visitInt(this,n)}covariant(r){if(typeof r=="bigint"||Number.isInteger(r))return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){return Ft(r)}encodeType(){return Ft(-4)}decodeValue(r,n){return this.checkType(n),cs(r)}get name(){return"int"}valueToString(r){return r.toString()}}class ay extends Pr{accept(r,n){return r.visitNat(this,n)}covariant(r){if(typeof r=="bigint"&&r>=BigInt(0)||Number.isInteger(r)&&r>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){return kt(r)}encodeType(){return Ft(-3)}decodeValue(r,n){return this.checkType(n),$t(r)}get name(){return"nat"}valueToString(r){return r.toString()}}class a0 extends Pr{constructor(r){if(super(),this._bits=r,r!==32&&r!==64)throw new Error("not a valid float type")}accept(r,n){return r.visitFloat(this,n)}covariant(r){if(typeof r=="number"||r instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){const n=new ArrayBuffer(this._bits/8),i=new DataView(n);return this._bits===32?i.setFloat32(0,r,!0):i.setFloat64(0,r,!0),n}encodeType(){const r=this._bits===32?-13:-14;return Ft(r)}decodeValue(r,n){this.checkType(n);const i=Ys(r,this._bits/8),l=new DataView(i);return this._bits===32?l.getFloat32(0,!0):l.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(r){return r.toString()}}class Ds extends Pr{constructor(r){super(),this._bits=r}accept(r,n){return r.visitFixedInt(this,n)}covariant(r){const n=Rf(this._bits-1)*BigInt(-1),i=Rf(this._bits-1)-BigInt(1);let l=!1;if(typeof r=="bigint")l=r>=n&&r<=i;else if(Number.isInteger(r)){const d=BigInt(r);l=d>=n&&d<=i}else l=!1;if(l)return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){return Jg(r,this._bits/8)}encodeType(){const r=Math.log2(this._bits)-3;return Ft(-9-r)}decodeValue(r,n){this.checkType(n);const i=Bb(r,this._bits/8);return this._bits<=32?Number(i):i}get name(){return`int${this._bits}`}valueToString(r){return r.toString()}}class ys extends Pr{constructor(r){super(),this._bits=r}accept(r,n){return r.visitFixedNat(this,n)}covariant(r){const n=Rf(this._bits);let i=!1;if(typeof r=="bigint"&&r>=BigInt(0)?i=r<n:Number.isInteger(r)&&r>=0?i=BigInt(r)<n:i=!1,i)return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){return Cb(r,this._bits/8)}encodeType(){const r=Math.log2(this._bits)-3;return Ft(-5-r)}decodeValue(r,n){this.checkType(n);const i=ey(r,this._bits/8);return this._bits<=32?Number(i):i}get name(){return`nat${this._bits}`}valueToString(r){return r.toString()}}class Rc extends bs{constructor(r){super(),this._type=r,this._blobOptimization=!1,r instanceof ys&&r._bits===8&&(this._blobOptimization=!0)}accept(r,n){return r.visitVec(this,this._type,n)}covariant(r){const n=this._type instanceof ys?this._type._bits:this._type instanceof Ds?this._type._bits:0;if(ArrayBuffer.isView(r)&&n==r.BYTES_PER_ELEMENT*8||Array.isArray(r)&&r.every((i,l)=>{try{return this._type.covariant(i)}catch(d){throw new Error(`Invalid ${this.display()} argument: 

index ${l} -> ${d.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){const n=kt(r.length);if(this._blobOptimization)return dt(n,new Uint8Array(r));if(ArrayBuffer.isView(r))return dt(n,new Uint8Array(r.buffer));const i=new Ji(new ArrayBuffer(n.byteLength+r.length),0);i.write(n);for(const l of r){const d=this._type.encodeValue(l);i.write(new Uint8Array(d))}return i.buffer}_buildTypeTableImpl(r){this._type.buildTypeTable(r);const n=Ft(-19),i=this._type.encodeType(r);r.add(this,dt(n,i))}decodeValue(r,n){const i=this.checkType(n);if(!(i instanceof Rc))throw new Error("Not a vector type");const l=Number($t(r));if(this._type instanceof ys){if(this._type._bits==8)return new Uint8Array(r.read(l));if(this._type._bits==16)return new Uint16Array(r.read(l*2));if(this._type._bits==32)return new Uint32Array(r.read(l*4));if(this._type._bits==64)return new BigUint64Array(r.read(l*8))}if(this._type instanceof Ds){if(this._type._bits==8)return new Int8Array(r.read(l));if(this._type._bits==16)return new Int16Array(r.read(l*2));if(this._type._bits==32)return new Int32Array(r.read(l*4));if(this._type._bits==64)return new BigInt64Array(r.read(l*8))}const d=[];for(let f=0;f<l;f++)d.push(this._type.decodeValue(r,i._type));return d}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(r){return"vec {"+r.map(i=>this._type.valueToString(i)).join("; ")+"}"}}class Qs extends bs{constructor(r){super(),this._type=r}accept(r,n){return r.visitOpt(this,this._type,n)}covariant(r){try{if(Array.isArray(r)&&(r.length===0||r.length===1&&this._type.covariant(r[0])))return!0}catch(n){throw new Error(`Invalid ${this.display()} argument: ${Tt(r)} 

-> ${n.message}`)}throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){return r.length===0?new Uint8Array([0]):dt(new Uint8Array([1]),this._type.encodeValue(r[0]))}_buildTypeTableImpl(r){this._type.buildTypeTable(r);const n=Ft(-18),i=this._type.encodeType(r);r.add(this,dt(n,i))}decodeValue(r,n){if(n instanceof hc)return[];if(n instanceof Di)return[];let i=n;if(n instanceof Mn){const l=n.getType();if(typeof l>"u")throw new Error("type mismatch with uninitialized type");i=l}if(i instanceof Qs)switch(Zs(r)){case 0:return[];case 1:{const l=r.save();try{return[this._type.decodeValue(r,i._type)]}catch{return r.restore(l),i._type.decodeValue(r,i._type),[]}}default:throw new Error("Not an option value")}else{if(this._type instanceof hc||this._type instanceof Qs||this._type instanceof Di)return i.decodeValue(r,i),[];{const l=r.save();try{return[this._type.decodeValue(r,n)]}catch{return r.restore(l),i.decodeValue(r,n),[]}}}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(r){return r.length===0?"null":`opt ${this._type.valueToString(r[0])}`}}class lo extends bs{constructor(r={}){super(),this._fields=Object.entries(r).sort((n,i)=>cn(n[0])-cn(i[0]))}accept(r,n){return r.visitRecord(this,this._fields,n)}tryAsTuple(){const r=[];for(let n=0;n<this._fields.length;n++){const[i,l]=this._fields[n];if(i!==`_${n}_`)return null;r.push(l)}return r}covariant(r){if(typeof r=="object"&&this._fields.every(([n,i])=>{if(!r.hasOwnProperty(n))throw new Error(`Record is missing key "${n}".`);try{return i.covariant(r[n])}catch(l){throw new Error(`Invalid ${this.display()} argument: 

field ${n} -> ${l.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){const n=this._fields.map(([l])=>r[l]),i=Ja(this._fields,n,([,l],d)=>l.encodeValue(d));return dt(...i)}_buildTypeTableImpl(r){this._fields.forEach(([d,f])=>f.buildTypeTable(r));const n=Ft(-20),i=kt(this._fields.length),l=this._fields.map(([d,f])=>dt(kt(cn(d)),f.encodeType(r)));r.add(this,dt(n,i,dt(...l)))}decodeValue(r,n){const i=this.checkType(n);if(!(i instanceof lo))throw new Error("Not a record type");const l={};let d=0,f=0;for(;f<i._fields.length;){const[u,g]=i._fields[f];if(d>=this._fields.length){g.decodeValue(r,g),f++;continue}const[_,x]=this._fields[d],v=cn(this._fields[d][0]),k=cn(u);if(v===k)l[_]=x.decodeValue(r,g),d++,f++;else if(k>v)if(x instanceof Qs||x instanceof Di)l[_]=[],d++;else throw new Error("Cannot find required field "+_);else g.decodeValue(r,g),f++}for(const[u,g]of this._fields.slice(d))if(g instanceof Qs||g instanceof Di)l[u]=[];else throw new Error("Cannot find required field "+u);return l}get name(){return`record {${this._fields.map(([n,i])=>n+":"+i.name).join("; ")}}`}display(){return`record {${this._fields.map(([n,i])=>n+":"+i.display()).join("; ")}}`}valueToString(r){const n=this._fields.map(([l])=>r[l]);return`record {${Ja(this._fields,n,([l,d],f)=>l+"="+d.valueToString(f)).join("; ")}}`}}class Pc extends lo{constructor(r){const n={};r.forEach((i,l)=>n["_"+l+"_"]=i),super(n),this._components=r}accept(r,n){return r.visitTuple(this,this._components,n)}covariant(r){if(Array.isArray(r)&&r.length>=this._fields.length&&this._components.every((n,i)=>{try{return n.covariant(r[i])}catch(l){throw new Error(`Invalid ${this.display()} argument: 

index ${i} -> ${l.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){const n=Ja(this._components,r,(i,l)=>i.encodeValue(l));return dt(...n)}decodeValue(r,n){const i=this.checkType(n);if(!(i instanceof Pc))throw new Error("not a tuple type");if(i._components.length<this._components.length)throw new Error("tuple mismatch");const l=[];for(const[d,f]of i._components.entries())d>=this._components.length?f.decodeValue(r,f):l.push(this._components[d].decodeValue(r,f));return l}display(){return`record {${this._components.map(n=>n.display()).join("; ")}}`}valueToString(r){return`record {${Ja(this._components,r,(i,l)=>i.valueToString(l)).join("; ")}}`}}class Mc extends bs{constructor(r={}){super(),this._fields=Object.entries(r).sort((n,i)=>cn(n[0])-cn(i[0]))}accept(r,n){return r.visitVariant(this,this._fields,n)}covariant(r){if(typeof r=="object"&&Object.entries(r).length===1&&this._fields.every(([n,i])=>{try{return!r.hasOwnProperty(n)||i.covariant(r[n])}catch(l){throw new Error(`Invalid ${this.display()} argument: 

variant ${n} -> ${l.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){for(let n=0;n<this._fields.length;n++){const[i,l]=this._fields[n];if(r.hasOwnProperty(i)){const d=kt(n),f=l.encodeValue(r[i]);return dt(d,f)}}throw Error("Variant has no data: "+r)}_buildTypeTableImpl(r){this._fields.forEach(([,d])=>{d.buildTypeTable(r)});const n=Ft(-21),i=kt(this._fields.length),l=this._fields.map(([d,f])=>dt(kt(cn(d)),f.encodeType(r)));r.add(this,dt(n,i,...l))}decodeValue(r,n){const i=this.checkType(n);if(!(i instanceof Mc))throw new Error("Not a variant type");const l=Number($t(r));if(l>=i._fields.length)throw Error("Invalid variant index: "+l);const[d,f]=i._fields[l];for(const[u,g]of this._fields)if(cn(d)===cn(u)){const _=g.decodeValue(r,f);return{[u]:_}}throw new Error("Cannot find field hash "+d)}get name(){return`variant {${this._fields.map(([n,i])=>n+":"+i.name).join("; ")}}`}display(){return`variant {${this._fields.map(([n,i])=>n+(i.name==="null"?"":`:${i.display()}`)).join("; ")}}`}valueToString(r){for(const[n,i]of this._fields)if(r.hasOwnProperty(n)){const l=i.valueToString(r[n]);return l==="null"?`variant {${n}}`:`variant {${n}=${l}}`}throw new Error("Variant has no data: "+r)}}class Mn extends bs{constructor(){super(...arguments),this._id=Mn._counter++,this._type=void 0}accept(r,n){if(!this._type)throw Error("Recursive type uninitialized.");return r.visitRec(this,this._type,n)}fill(r){this._type=r}getType(){return this._type}covariant(r){if(this._type&&this._type.covariant(r))return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(r)}_buildTypeTableImpl(r){if(!this._type)throw Error("Recursive type uninitialized.");r.add(this,new Uint8Array([])),this._type.buildTypeTable(r),r.merge(this,this._type.name)}decodeValue(r,n){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(r,n)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`${this.name}.${this._type.name}`}valueToString(r){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(r)}}Mn._counter=0;function o0(e){if(Zs(e)!==1)throw new Error("Cannot decode principal");const n=Number($t(e));return et.fromUint8Array(new Uint8Array(Ys(e,n)))}class oy extends Pr{accept(r,n){return r.visitPrincipal(this,n)}covariant(r){if(r&&r._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){const n=r.toUint8Array(),i=kt(n.byteLength);return dt(new Uint8Array([1]),i,n)}encodeType(){return Ft(-24)}decodeValue(r,n){return this.checkType(n),o0(r)}get name(){return"principal"}valueToString(r){return`${this.name} "${r.toText()}"`}}class l0 extends bs{constructor(r,n,i=[]){super(),this.argTypes=r,this.retTypes=n,this.annotations=i}static argsToString(r,n){if(r.length!==n.length)throw new Error("arity mismatch");return"("+r.map((i,l)=>i.valueToString(n[l])).join(", ")+")"}accept(r,n){return r.visitFunc(this,n)}covariant(r){if(Array.isArray(r)&&r.length===2&&r[0]&&r[0]._isPrincipal&&typeof r[1]=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue([r,n]){const i=r.toUint8Array(),l=kt(i.byteLength),d=dt(new Uint8Array([1]),l,i),f=new TextEncoder().encode(n),u=kt(f.byteLength);return dt(new Uint8Array([1]),d,u,f)}_buildTypeTableImpl(r){this.argTypes.forEach(_=>_.buildTypeTable(r)),this.retTypes.forEach(_=>_.buildTypeTable(r));const n=Ft(-22),i=kt(this.argTypes.length),l=dt(...this.argTypes.map(_=>_.encodeType(r))),d=kt(this.retTypes.length),f=dt(...this.retTypes.map(_=>_.encodeType(r))),u=kt(this.annotations.length),g=dt(...this.annotations.map(_=>this.encodeAnnotation(_)));r.add(this,dt(n,i,l,d,f,u,g))}decodeValue(r){if(Zs(r)!==1)throw new Error("Cannot decode function reference");const i=o0(r),l=Number($t(r)),d=Ys(r,l),u=new TextDecoder("utf8",{fatal:!0}).decode(d);return[i,u]}get name(){const r=this.argTypes.map(l=>l.name).join(", "),n=this.retTypes.map(l=>l.name).join(", "),i=" "+this.annotations.join(" ");return`(${r}) -> (${n})${i}`}valueToString([r,n]){return`func "${r.toText()}".${n}`}display(){const r=this.argTypes.map(l=>l.display()).join(", "),n=this.retTypes.map(l=>l.display()).join(", "),i=" "+this.annotations.join(" ");return`(${r})  (${n})${i}`}encodeAnnotation(r){if(r==="query")return new Uint8Array([1]);if(r==="oneway")return new Uint8Array([2]);if(r==="composite_query")return new Uint8Array([3]);throw new Error("Illegal function annotation")}}class ly extends bs{constructor(r){super(),this._fields=Object.entries(r).sort((n,i)=>n[0]<i[0]?-1:n[0]>i[0]?1:0)}accept(r,n){return r.visitService(this,n)}covariant(r){if(r&&r._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){const n=r.toUint8Array(),i=kt(n.length);return dt(new Uint8Array([1]),i,n)}_buildTypeTableImpl(r){this._fields.forEach(([d,f])=>f.buildTypeTable(r));const n=Ft(-23),i=kt(this._fields.length),l=this._fields.map(([d,f])=>{const u=new TextEncoder().encode(d),g=kt(u.length);return dt(g,u,f.encodeType(r))});r.add(this,dt(n,i,...l))}decodeValue(r){return o0(r)}get name(){return`service {${this._fields.map(([n,i])=>n+":"+i.name).join("; ")}}`}valueToString(r){return`service "${r.toText()}"`}}function Tt(e){const r=JSON.stringify(e,(n,i)=>typeof i=="bigint"?`BigInt(${i})`:i);return r&&r.length>vm?r.substring(0,vm-3)+"...":r}function Pf(e,r){if(r.length<e.length)throw Error("Wrong number of message arguments");const n=new Rb;e.forEach(g=>g.buildTypeTable(n));const i=new TextEncoder().encode($l),l=n.encode(),d=kt(r.length),f=dt(...e.map(g=>g.encodeType(n))),u=dt(...Ja(e,r,(g,_)=>{try{g.covariant(_)}catch(x){throw new Error(x.message+`

`)}return g.encodeValue(_)}));return dt(i,l,d,f,u)}function cy(e,r){const n=new Ji(r);if(r.byteLength<$l.length)throw new Error("Message length smaller than magic number");const i=Ys(n,$l.length),l=new TextDecoder().decode(i);if(l!==$l)throw new Error("Wrong magic number: "+JSON.stringify(l));function d(A){const b=[],M=Number($t(A));for(let G=0;G<M;G++){const J=Number(cs(A));switch(J){case-18:case-19:{const ce=Number(cs(A));b.push([J,ce]);break}case-20:case-21:{const ce=[];let O=Number($t(A)),te;for(;O--;){const oe=Number($t(A));if(oe>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if(typeof te=="number"&&te>=oe)throw new Error("field id collision or not sorted");te=oe;const z=Number(cs(A));ce.push([oe,z])}b.push([J,ce]);break}case-22:{const ce=[];let O=Number($t(A));for(;O--;)ce.push(Number(cs(A)));const te=[];let oe=Number($t(A));for(;oe--;)te.push(Number(cs(A)));const z=[];let W=Number($t(A));for(;W--;)switch(Number($t(A))){case 1:{z.push("query");break}case 2:{z.push("oneway");break}case 3:{z.push("composite_query");break}default:throw new Error("unknown annotation")}b.push([J,[ce,te,z]]);break}case-23:{let ce=Number($t(A));const O=[];for(;ce--;){const te=Number($t(A)),oe=new TextDecoder().decode(Ys(A,te)),z=cs(A);O.push([oe,z])}b.push([J,O]);break}default:throw new Error("Illegal op_code: "+J)}}const R=[],$=Number($t(A));for(let G=0;G<$;G++)R.push(Number(cs(A)));return[b,R]}const[f,u]=d(n);if(u.length<e.length)throw new Error("Wrong number of return values");const g=f.map(A=>Py());function _(A){if(A<-24)throw new Error("future value not supported");if(A<0)switch(A){case-1:return hy;case-2:return fy;case-3:return gy;case-4:return my;case-5:return _y;case-6:return Ey;case-7:return jy;case-8:return ky;case-9:return wy;case-10:return vy;case-11:return by;case-12:return Ny;case-13:return yy;case-14:return xy;case-15:return py;case-16:return dy;case-17:return uy;case-24:return Sy;default:throw new Error("Illegal op_code: "+A)}if(A>=f.length)throw new Error("type index out of range");return g[A]}function x(A){switch(A[0]){case-19:{const b=_(A[1]);return Ty(b)}case-18:{const b=_(A[1]);return Cy(b)}case-20:{const b={};for(const[$,G]of A[1]){const J=`_${$}_`;b[J]=_(G)}const M=By(b),R=M.tryAsTuple();return Array.isArray(R)?Ay(...R):M}case-21:{const b={};for(const[M,R]of A[1]){const $=`_${M}_`;b[$]=_(R)}return Ry(b)}case-22:{const[b,M,R]=A[1];return My(b.map($=>_($)),M.map($=>_($)),R)}case-23:{const b={},M=A[1];for(const[R,$]of M){let G=_($);if(G instanceof Mn&&(G=G.getType()),!(G instanceof l0))throw new Error("Illegal service definition: services can only contain functions");b[R]=G}return Fy(b)}default:throw new Error("Illegal op_code: "+A[0])}}f.forEach((A,b)=>{if(A[0]===-22){const M=x(A);g[b].fill(M)}}),f.forEach((A,b)=>{if(A[0]!==-22){const M=x(A);g[b].fill(M)}});const v=u.map(A=>_(A)),k=e.map((A,b)=>A.decodeValue(n,v[b]));for(let A=e.length;A<v.length;A++)v[A].decodeValue(n,v[A]);if(n.byteLength>0)throw new Error("decode: Left-over bytes");return k}const uy=new ty,dy=new Di,Mb=new ry,fy=new ny,hy=new hc,py=new sy,my=new iy,gy=new ay,yy=new a0(32),xy=new a0(64),wy=new Ds(8),vy=new Ds(16),by=new Ds(32),Ny=new Ds(64),_y=new ys(8),Ey=new ys(16),jy=new ys(32),ky=new ys(64),Sy=new oy;function Ay(...e){return new Pc(e)}function Ty(e){return new Rc(e)}function Cy(e){return new Qs(e)}function By(e){return new lo(e)}function Ry(e){return new Mc(e)}function Py(){return new Mn}function My(e,r,n=[]){return new l0(e,r,n)}function Fy(e){return new ly(e)}const Fb=Object.freeze(Object.defineProperty({__proto__:null,Bool:fy,BoolClass:ny,ConstructType:bs,Empty:uy,EmptyClass:ty,FixedIntClass:Ds,FixedNatClass:ys,Float32:yy,Float64:xy,FloatClass:a0,Func:My,FuncClass:l0,Int:my,Int16:vy,Int32:by,Int64:Ny,Int8:wy,IntClass:iy,Nat:gy,Nat16:Ey,Nat32:jy,Nat64:ky,Nat8:_y,NatClass:ay,Null:hy,NullClass:hc,Opt:Cy,OptClass:Qs,PrimitiveType:Pr,Principal:Sy,PrincipalClass:oy,Rec:Py,RecClass:Mn,Record:By,RecordClass:lo,Reserved:dy,ReservedClass:Di,Service:Fy,ServiceClass:ly,Text:py,TextClass:sy,Tuple:Ay,TupleClass:Pc,Type:Bc,Unknown:Mb,UnknownClass:ry,Variant:Ry,VariantClass:Mc,Vec:Ty,VecClass:Rc,Visitor:Pb,decode:cy,encode:Pf},Symbol.toStringTag,{value:"Module"}));var qd={},Wd={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var bm;function Fc(){return bm||(bm=1,function(e){var r=qg(),n=r0(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=G,e.INSPECT_MAX_BYTES=50;var l=2147483647;e.kMaxLength=l,u.TYPED_ARRAY_SUPPORT=d(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{var S=new Uint8Array(1),p={foo:function(){return 42}};return Object.setPrototypeOf(p,Uint8Array.prototype),Object.setPrototypeOf(S,p),S.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function f(S){if(S>l)throw new RangeError('The value "'+S+'" is invalid for option "size"');var p=new Uint8Array(S);return Object.setPrototypeOf(p,u.prototype),p}function u(S,p,m){if(typeof S=="number"){if(typeof p=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(S)}return g(S,p,m)}u.poolSize=8192;function g(S,p,m){if(typeof S=="string")return k(S,p);if(ArrayBuffer.isView(S))return b(S);if(S==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(Z(S,ArrayBuffer)||S&&Z(S.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Z(S,SharedArrayBuffer)||S&&Z(S.buffer,SharedArrayBuffer)))return M(S,p,m);if(typeof S=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var C=S.valueOf&&S.valueOf();if(C!=null&&C!==S)return u.from(C,p,m);var F=R(S);if(F)return F;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof S[Symbol.toPrimitive]=="function")return u.from(S[Symbol.toPrimitive]("string"),p,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}u.from=function(S,p,m){return g(S,p,m)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function _(S){if(typeof S!="number")throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function x(S,p,m){return _(S),S<=0?f(S):p!==void 0?typeof m=="string"?f(S).fill(p,m):f(S).fill(p):f(S)}u.alloc=function(S,p,m){return x(S,p,m)};function v(S){return _(S),f(S<0?0:$(S)|0)}u.allocUnsafe=function(S){return v(S)},u.allocUnsafeSlow=function(S){return v(S)};function k(S,p){if((typeof p!="string"||p==="")&&(p="utf8"),!u.isEncoding(p))throw new TypeError("Unknown encoding: "+p);var m=J(S,p)|0,C=f(m),F=C.write(S,p);return F!==m&&(C=C.slice(0,F)),C}function A(S){for(var p=S.length<0?0:$(S.length)|0,m=f(p),C=0;C<p;C+=1)m[C]=S[C]&255;return m}function b(S){if(Z(S,Uint8Array)){var p=new Uint8Array(S);return M(p.buffer,p.byteOffset,p.byteLength)}return A(S)}function M(S,p,m){if(p<0||S.byteLength<p)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<p+(m||0))throw new RangeError('"length" is outside of buffer bounds');var C;return p===void 0&&m===void 0?C=new Uint8Array(S):m===void 0?C=new Uint8Array(S,p):C=new Uint8Array(S,p,m),Object.setPrototypeOf(C,u.prototype),C}function R(S){if(u.isBuffer(S)){var p=$(S.length)|0,m=f(p);return m.length===0||S.copy(m,0,0,p),m}if(S.length!==void 0)return typeof S.length!="number"||X(S.length)?f(0):A(S);if(S.type==="Buffer"&&Array.isArray(S.data))return A(S.data)}function $(S){if(S>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return S|0}function G(S){return+S!=S&&(S=0),u.alloc(+S)}u.isBuffer=function(p){return p!=null&&p._isBuffer===!0&&p!==u.prototype},u.compare=function(p,m){if(Z(p,Uint8Array)&&(p=u.from(p,p.offset,p.byteLength)),Z(m,Uint8Array)&&(m=u.from(m,m.offset,m.byteLength)),!u.isBuffer(p)||!u.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===m)return 0;for(var C=p.length,F=m.length,Q=0,he=Math.min(C,F);Q<he;++Q)if(p[Q]!==m[Q]){C=p[Q],F=m[Q];break}return C<F?-1:F<C?1:0},u.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(p,m){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return u.alloc(0);var C;if(m===void 0)for(m=0,C=0;C<p.length;++C)m+=p[C].length;var F=u.allocUnsafe(m),Q=0;for(C=0;C<p.length;++C){var he=p[C];if(Z(he,Uint8Array))Q+he.length>F.length?u.from(he).copy(F,Q):Uint8Array.prototype.set.call(F,he,Q);else if(u.isBuffer(he))he.copy(F,Q);else throw new TypeError('"list" argument must be an Array of Buffers');Q+=he.length}return F};function J(S,p){if(u.isBuffer(S))return S.length;if(ArrayBuffer.isView(S)||Z(S,ArrayBuffer))return S.byteLength;if(typeof S!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);var m=S.length,C=arguments.length>2&&arguments[2]===!0;if(!C&&m===0)return 0;for(var F=!1;;)switch(p){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return me(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return P(S).length;default:if(F)return C?-1:me(S).length;p=(""+p).toLowerCase(),F=!0}}u.byteLength=J;function ce(S,p,m){var C=!1;if((p===void 0||p<0)&&(p=0),p>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,p>>>=0,m<=p))return"";for(S||(S="utf8");;)switch(S){case"hex":return Ne(this,p,m);case"utf8":case"utf-8":return I(this,p,m);case"ascii":return fe(this,p,m);case"latin1":case"binary":return ie(this,p,m);case"base64":return j(this,p,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee(this,p,m);default:if(C)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),C=!0}}u.prototype._isBuffer=!0;function O(S,p,m){var C=S[p];S[p]=S[m],S[m]=C}u.prototype.swap16=function(){var p=this.length;if(p%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var m=0;m<p;m+=2)O(this,m,m+1);return this},u.prototype.swap32=function(){var p=this.length;if(p%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var m=0;m<p;m+=4)O(this,m,m+3),O(this,m+1,m+2);return this},u.prototype.swap64=function(){var p=this.length;if(p%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var m=0;m<p;m+=8)O(this,m,m+7),O(this,m+1,m+6),O(this,m+2,m+5),O(this,m+3,m+4);return this},u.prototype.toString=function(){var p=this.length;return p===0?"":arguments.length===0?I(this,0,p):ce.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(p){if(!u.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p?!0:u.compare(this,p)===0},u.prototype.inspect=function(){var p="",m=e.INSPECT_MAX_BYTES;return p=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(p+=" ... "),"<Buffer "+p+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(p,m,C,F,Q){if(Z(p,Uint8Array)&&(p=u.from(p,p.offset,p.byteLength)),!u.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(m===void 0&&(m=0),C===void 0&&(C=p?p.length:0),F===void 0&&(F=0),Q===void 0&&(Q=this.length),m<0||C>p.length||F<0||Q>this.length)throw new RangeError("out of range index");if(F>=Q&&m>=C)return 0;if(F>=Q)return-1;if(m>=C)return 1;if(m>>>=0,C>>>=0,F>>>=0,Q>>>=0,this===p)return 0;for(var he=Q-F,Se=C-m,Fe=Math.min(he,Se),Ie=this.slice(F,Q),De=p.slice(m,C),T=0;T<Fe;++T)if(Ie[T]!==De[T]){he=Ie[T],Se=De[T];break}return he<Se?-1:Se<he?1:0};function te(S,p,m,C,F){if(S.length===0)return-1;if(typeof m=="string"?(C=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,X(m)&&(m=F?0:S.length-1),m<0&&(m=S.length+m),m>=S.length){if(F)return-1;m=S.length-1}else if(m<0)if(F)m=0;else return-1;if(typeof p=="string"&&(p=u.from(p,C)),u.isBuffer(p))return p.length===0?-1:oe(S,p,m,C,F);if(typeof p=="number")return p=p&255,typeof Uint8Array.prototype.indexOf=="function"?F?Uint8Array.prototype.indexOf.call(S,p,m):Uint8Array.prototype.lastIndexOf.call(S,p,m):oe(S,[p],m,C,F);throw new TypeError("val must be string, number or Buffer")}function oe(S,p,m,C,F){var Q=1,he=S.length,Se=p.length;if(C!==void 0&&(C=String(C).toLowerCase(),C==="ucs2"||C==="ucs-2"||C==="utf16le"||C==="utf-16le")){if(S.length<2||p.length<2)return-1;Q=2,he/=2,Se/=2,m/=2}function Fe(N,V){return Q===1?N[V]:N.readUInt16BE(V*Q)}var Ie;if(F){var De=-1;for(Ie=m;Ie<he;Ie++)if(Fe(S,Ie)===Fe(p,De===-1?0:Ie-De)){if(De===-1&&(De=Ie),Ie-De+1===Se)return De*Q}else De!==-1&&(Ie-=Ie-De),De=-1}else for(m+Se>he&&(m=he-Se),Ie=m;Ie>=0;Ie--){for(var T=!0,y=0;y<Se;y++)if(Fe(S,Ie+y)!==Fe(p,y)){T=!1;break}if(T)return Ie}return-1}u.prototype.includes=function(p,m,C){return this.indexOf(p,m,C)!==-1},u.prototype.indexOf=function(p,m,C){return te(this,p,m,C,!0)},u.prototype.lastIndexOf=function(p,m,C){return te(this,p,m,C,!1)};function z(S,p,m,C){m=Number(m)||0;var F=S.length-m;C?(C=Number(C),C>F&&(C=F)):C=F;var Q=p.length;C>Q/2&&(C=Q/2);for(var he=0;he<C;++he){var Se=parseInt(p.substr(he*2,2),16);if(X(Se))return he;S[m+he]=Se}return he}function W(S,p,m,C){return K(me(p,S.length-m),S,m,C)}function H(S,p,m,C){return K(_e(p),S,m,C)}function ue(S,p,m,C){return K(P(p),S,m,C)}function ge(S,p,m,C){return K(E(p,S.length-m),S,m,C)}u.prototype.write=function(p,m,C,F){if(m===void 0)F="utf8",C=this.length,m=0;else if(C===void 0&&typeof m=="string")F=m,C=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(C)?(C=C>>>0,F===void 0&&(F="utf8")):(F=C,C=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Q=this.length-m;if((C===void 0||C>Q)&&(C=Q),p.length>0&&(C<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");for(var he=!1;;)switch(F){case"hex":return z(this,p,m,C);case"utf8":case"utf-8":return W(this,p,m,C);case"ascii":case"latin1":case"binary":return H(this,p,m,C);case"base64":return ue(this,p,m,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ge(this,p,m,C);default:if(he)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),he=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(S,p,m){return p===0&&m===S.length?r.fromByteArray(S):r.fromByteArray(S.slice(p,m))}function I(S,p,m){m=Math.min(S.length,m);for(var C=[],F=p;F<m;){var Q=S[F],he=null,Se=Q>239?4:Q>223?3:Q>191?2:1;if(F+Se<=m){var Fe,Ie,De,T;switch(Se){case 1:Q<128&&(he=Q);break;case 2:Fe=S[F+1],(Fe&192)===128&&(T=(Q&31)<<6|Fe&63,T>127&&(he=T));break;case 3:Fe=S[F+1],Ie=S[F+2],(Fe&192)===128&&(Ie&192)===128&&(T=(Q&15)<<12|(Fe&63)<<6|Ie&63,T>2047&&(T<55296||T>57343)&&(he=T));break;case 4:Fe=S[F+1],Ie=S[F+2],De=S[F+3],(Fe&192)===128&&(Ie&192)===128&&(De&192)===128&&(T=(Q&15)<<18|(Fe&63)<<12|(Ie&63)<<6|De&63,T>65535&&T<1114112&&(he=T))}}he===null?(he=65533,Se=1):he>65535&&(he-=65536,C.push(he>>>10&1023|55296),he=56320|he&1023),C.push(he),F+=Se}return ne(C)}var q=4096;function ne(S){var p=S.length;if(p<=q)return String.fromCharCode.apply(String,S);for(var m="",C=0;C<p;)m+=String.fromCharCode.apply(String,S.slice(C,C+=q));return m}function fe(S,p,m){var C="";m=Math.min(S.length,m);for(var F=p;F<m;++F)C+=String.fromCharCode(S[F]&127);return C}function ie(S,p,m){var C="";m=Math.min(S.length,m);for(var F=p;F<m;++F)C+=String.fromCharCode(S[F]);return C}function Ne(S,p,m){var C=S.length;(!p||p<0)&&(p=0),(!m||m<0||m>C)&&(m=C);for(var F="",Q=p;Q<m;++Q)F+=se[S[Q]];return F}function Ee(S,p,m){for(var C=S.slice(p,m),F="",Q=0;Q<C.length-1;Q+=2)F+=String.fromCharCode(C[Q]+C[Q+1]*256);return F}u.prototype.slice=function(p,m){var C=this.length;p=~~p,m=m===void 0?C:~~m,p<0?(p+=C,p<0&&(p=0)):p>C&&(p=C),m<0?(m+=C,m<0&&(m=0)):m>C&&(m=C),m<p&&(m=p);var F=this.subarray(p,m);return Object.setPrototypeOf(F,u.prototype),F};function L(S,p,m){if(S%1!==0||S<0)throw new RangeError("offset is not uint");if(S+p>m)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(p,m,C){p=p>>>0,m=m>>>0,C||L(p,m,this.length);for(var F=this[p],Q=1,he=0;++he<m&&(Q*=256);)F+=this[p+he]*Q;return F},u.prototype.readUintBE=u.prototype.readUIntBE=function(p,m,C){p=p>>>0,m=m>>>0,C||L(p,m,this.length);for(var F=this[p+--m],Q=1;m>0&&(Q*=256);)F+=this[p+--m]*Q;return F},u.prototype.readUint8=u.prototype.readUInt8=function(p,m){return p=p>>>0,m||L(p,1,this.length),this[p]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(p,m){return p=p>>>0,m||L(p,2,this.length),this[p]|this[p+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(p,m){return p=p>>>0,m||L(p,2,this.length),this[p]<<8|this[p+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(p,m){return p=p>>>0,m||L(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+this[p+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(p,m){return p=p>>>0,m||L(p,4,this.length),this[p]*16777216+(this[p+1]<<16|this[p+2]<<8|this[p+3])},u.prototype.readIntLE=function(p,m,C){p=p>>>0,m=m>>>0,C||L(p,m,this.length);for(var F=this[p],Q=1,he=0;++he<m&&(Q*=256);)F+=this[p+he]*Q;return Q*=128,F>=Q&&(F-=Math.pow(2,8*m)),F},u.prototype.readIntBE=function(p,m,C){p=p>>>0,m=m>>>0,C||L(p,m,this.length);for(var F=m,Q=1,he=this[p+--F];F>0&&(Q*=256);)he+=this[p+--F]*Q;return Q*=128,he>=Q&&(he-=Math.pow(2,8*m)),he},u.prototype.readInt8=function(p,m){return p=p>>>0,m||L(p,1,this.length),this[p]&128?(255-this[p]+1)*-1:this[p]},u.prototype.readInt16LE=function(p,m){p=p>>>0,m||L(p,2,this.length);var C=this[p]|this[p+1]<<8;return C&32768?C|4294901760:C},u.prototype.readInt16BE=function(p,m){p=p>>>0,m||L(p,2,this.length);var C=this[p+1]|this[p]<<8;return C&32768?C|4294901760:C},u.prototype.readInt32LE=function(p,m){return p=p>>>0,m||L(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},u.prototype.readInt32BE=function(p,m){return p=p>>>0,m||L(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},u.prototype.readFloatLE=function(p,m){return p=p>>>0,m||L(p,4,this.length),n.read(this,p,!0,23,4)},u.prototype.readFloatBE=function(p,m){return p=p>>>0,m||L(p,4,this.length),n.read(this,p,!1,23,4)},u.prototype.readDoubleLE=function(p,m){return p=p>>>0,m||L(p,8,this.length),n.read(this,p,!0,52,8)},u.prototype.readDoubleBE=function(p,m){return p=p>>>0,m||L(p,8,this.length),n.read(this,p,!1,52,8)};function de(S,p,m,C,F,Q){if(!u.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(p>F||p<Q)throw new RangeError('"value" argument is out of bounds');if(m+C>S.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(p,m,C,F){if(p=+p,m=m>>>0,C=C>>>0,!F){var Q=Math.pow(2,8*C)-1;de(this,p,m,C,Q,0)}var he=1,Se=0;for(this[m]=p&255;++Se<C&&(he*=256);)this[m+Se]=p/he&255;return m+C},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(p,m,C,F){if(p=+p,m=m>>>0,C=C>>>0,!F){var Q=Math.pow(2,8*C)-1;de(this,p,m,C,Q,0)}var he=C-1,Se=1;for(this[m+he]=p&255;--he>=0&&(Se*=256);)this[m+he]=p/Se&255;return m+C},u.prototype.writeUint8=u.prototype.writeUInt8=function(p,m,C){return p=+p,m=m>>>0,C||de(this,p,m,1,255,0),this[m]=p&255,m+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(p,m,C){return p=+p,m=m>>>0,C||de(this,p,m,2,65535,0),this[m]=p&255,this[m+1]=p>>>8,m+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(p,m,C){return p=+p,m=m>>>0,C||de(this,p,m,2,65535,0),this[m]=p>>>8,this[m+1]=p&255,m+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(p,m,C){return p=+p,m=m>>>0,C||de(this,p,m,4,4294967295,0),this[m+3]=p>>>24,this[m+2]=p>>>16,this[m+1]=p>>>8,this[m]=p&255,m+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(p,m,C){return p=+p,m=m>>>0,C||de(this,p,m,4,4294967295,0),this[m]=p>>>24,this[m+1]=p>>>16,this[m+2]=p>>>8,this[m+3]=p&255,m+4},u.prototype.writeIntLE=function(p,m,C,F){if(p=+p,m=m>>>0,!F){var Q=Math.pow(2,8*C-1);de(this,p,m,C,Q-1,-Q)}var he=0,Se=1,Fe=0;for(this[m]=p&255;++he<C&&(Se*=256);)p<0&&Fe===0&&this[m+he-1]!==0&&(Fe=1),this[m+he]=(p/Se>>0)-Fe&255;return m+C},u.prototype.writeIntBE=function(p,m,C,F){if(p=+p,m=m>>>0,!F){var Q=Math.pow(2,8*C-1);de(this,p,m,C,Q-1,-Q)}var he=C-1,Se=1,Fe=0;for(this[m+he]=p&255;--he>=0&&(Se*=256);)p<0&&Fe===0&&this[m+he+1]!==0&&(Fe=1),this[m+he]=(p/Se>>0)-Fe&255;return m+C},u.prototype.writeInt8=function(p,m,C){return p=+p,m=m>>>0,C||de(this,p,m,1,127,-128),p<0&&(p=255+p+1),this[m]=p&255,m+1},u.prototype.writeInt16LE=function(p,m,C){return p=+p,m=m>>>0,C||de(this,p,m,2,32767,-32768),this[m]=p&255,this[m+1]=p>>>8,m+2},u.prototype.writeInt16BE=function(p,m,C){return p=+p,m=m>>>0,C||de(this,p,m,2,32767,-32768),this[m]=p>>>8,this[m+1]=p&255,m+2},u.prototype.writeInt32LE=function(p,m,C){return p=+p,m=m>>>0,C||de(this,p,m,4,2147483647,-2147483648),this[m]=p&255,this[m+1]=p>>>8,this[m+2]=p>>>16,this[m+3]=p>>>24,m+4},u.prototype.writeInt32BE=function(p,m,C){return p=+p,m=m>>>0,C||de(this,p,m,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),this[m]=p>>>24,this[m+1]=p>>>16,this[m+2]=p>>>8,this[m+3]=p&255,m+4};function Re(S,p,m,C,F,Q){if(m+C>S.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function U(S,p,m,C,F){return p=+p,m=m>>>0,F||Re(S,p,m,4),n.write(S,p,m,C,23,4),m+4}u.prototype.writeFloatLE=function(p,m,C){return U(this,p,m,!0,C)},u.prototype.writeFloatBE=function(p,m,C){return U(this,p,m,!1,C)};function Pe(S,p,m,C,F){return p=+p,m=m>>>0,F||Re(S,p,m,8),n.write(S,p,m,C,52,8),m+8}u.prototype.writeDoubleLE=function(p,m,C){return Pe(this,p,m,!0,C)},u.prototype.writeDoubleBE=function(p,m,C){return Pe(this,p,m,!1,C)},u.prototype.copy=function(p,m,C,F){if(!u.isBuffer(p))throw new TypeError("argument should be a Buffer");if(C||(C=0),!F&&F!==0&&(F=this.length),m>=p.length&&(m=p.length),m||(m=0),F>0&&F<C&&(F=C),F===C||p.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(C<0||C>=this.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),p.length-m<F-C&&(F=p.length-m+C);var Q=F-C;return this===p&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,C,F):Uint8Array.prototype.set.call(p,this.subarray(C,F),m),Q},u.prototype.fill=function(p,m,C,F){if(typeof p=="string"){if(typeof m=="string"?(F=m,m=0,C=this.length):typeof C=="string"&&(F=C,C=this.length),F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!u.isEncoding(F))throw new TypeError("Unknown encoding: "+F);if(p.length===1){var Q=p.charCodeAt(0);(F==="utf8"&&Q<128||F==="latin1")&&(p=Q)}}else typeof p=="number"?p=p&255:typeof p=="boolean"&&(p=Number(p));if(m<0||this.length<m||this.length<C)throw new RangeError("Out of range index");if(C<=m)return this;m=m>>>0,C=C===void 0?this.length:C>>>0,p||(p=0);var he;if(typeof p=="number")for(he=m;he<C;++he)this[he]=p;else{var Se=u.isBuffer(p)?p:u.from(p,F),Fe=Se.length;if(Fe===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(he=0;he<C-m;++he)this[he+m]=Se[he%Fe]}return this};var Be=/[^+/0-9A-Za-z-_]/g;function be(S){if(S=S.split("=")[0],S=S.trim().replace(Be,""),S.length<2)return"";for(;S.length%4!==0;)S=S+"=";return S}function me(S,p){p=p||1/0;for(var m,C=S.length,F=null,Q=[],he=0;he<C;++he){if(m=S.charCodeAt(he),m>55295&&m<57344){if(!F){if(m>56319){(p-=3)>-1&&Q.push(239,191,189);continue}else if(he+1===C){(p-=3)>-1&&Q.push(239,191,189);continue}F=m;continue}if(m<56320){(p-=3)>-1&&Q.push(239,191,189),F=m;continue}m=(F-55296<<10|m-56320)+65536}else F&&(p-=3)>-1&&Q.push(239,191,189);if(F=null,m<128){if((p-=1)<0)break;Q.push(m)}else if(m<2048){if((p-=2)<0)break;Q.push(m>>6|192,m&63|128)}else if(m<65536){if((p-=3)<0)break;Q.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((p-=4)<0)break;Q.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return Q}function _e(S){for(var p=[],m=0;m<S.length;++m)p.push(S.charCodeAt(m)&255);return p}function E(S,p){for(var m,C,F,Q=[],he=0;he<S.length&&!((p-=2)<0);++he)m=S.charCodeAt(he),C=m>>8,F=m%256,Q.push(F),Q.push(C);return Q}function P(S){return r.toByteArray(be(S))}function K(S,p,m,C){for(var F=0;F<C&&!(F+m>=p.length||F>=S.length);++F)p[F+m]=S[F];return F}function Z(S,p){return S instanceof p||S!=null&&S.constructor!=null&&S.constructor.name!=null&&S.constructor.name===p.name}function X(S){return S!==S}var se=function(){for(var S="0123456789abcdef",p=new Array(256),m=0;m<16;++m)for(var C=m*16,F=0;F<16;++F)p[C+F]=S[m]+S[F];return p}()}(Wd)),Wd}var zl={exports:{}},Ub=zl.exports,Nm;function Uc(){return Nm||(Nm=1,function(e){(function(r){var n,i=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,l=Math.ceil,d=Math.floor,f="[BigNumber Error] ",u=f+"Number primitive has more than 15 significant digits: ",g=1e14,_=14,x=9007199254740991,v=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],k=1e7,A=1e9;function b(te){var oe,z,W,H=U.prototype={constructor:U,toString:null,valueOf:null},ue=new U(1),ge=20,j=4,I=-7,q=21,ne=-1e7,fe=1e7,ie=!1,Ne=1,Ee=0,L={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},de="0123456789abcdefghijklmnopqrstuvwxyz",Re=!0;function U(E,P){var K,Z,X,se,S,p,m,C,F=this;if(!(F instanceof U))return new U(E,P);if(P==null){if(E&&E._isBigNumber===!0){F.s=E.s,!E.c||E.e>fe?F.c=F.e=null:E.e<ne?F.c=[F.e=0]:(F.e=E.e,F.c=E.c.slice());return}if((p=typeof E=="number")&&E*0==0){if(F.s=1/E<0?(E=-E,-1):1,E===~~E){for(se=0,S=E;S>=10;S/=10,se++);se>fe?F.c=F.e=null:(F.e=se,F.c=[E]);return}C=String(E)}else{if(!i.test(C=String(E)))return W(F,C,p);F.s=C.charCodeAt(0)==45?(C=C.slice(1),-1):1}(se=C.indexOf("."))>-1&&(C=C.replace(".","")),(S=C.search(/e/i))>0?(se<0&&(se=S),se+=+C.slice(S+1),C=C.substring(0,S)):se<0&&(se=C.length)}else{if(G(P,2,de.length,"Base"),P==10&&Re)return F=new U(E),me(F,ge+F.e+1,j);if(C=String(E),p=typeof E=="number"){if(E*0!=0)return W(F,C,p,P);if(F.s=1/E<0?(C=C.slice(1),-1):1,U.DEBUG&&C.replace(/^0\.0*|\./,"").length>15)throw Error(u+E)}else F.s=C.charCodeAt(0)===45?(C=C.slice(1),-1):1;for(K=de.slice(0,P),se=S=0,m=C.length;S<m;S++)if(K.indexOf(Z=C.charAt(S))<0){if(Z=="."){if(S>se){se=m;continue}}else if(!X&&(C==C.toUpperCase()&&(C=C.toLowerCase())||C==C.toLowerCase()&&(C=C.toUpperCase()))){X=!0,S=-1,se=0;continue}return W(F,String(E),p,P)}p=!1,C=z(C,P,10,F.s),(se=C.indexOf("."))>-1?C=C.replace(".",""):se=C.length}for(S=0;C.charCodeAt(S)===48;S++);for(m=C.length;C.charCodeAt(--m)===48;);if(C=C.slice(S,++m)){if(m-=S,p&&U.DEBUG&&m>15&&(E>x||E!==d(E)))throw Error(u+F.s*E);if((se=se-S-1)>fe)F.c=F.e=null;else if(se<ne)F.c=[F.e=0];else{if(F.e=se,F.c=[],S=(se+1)%_,se<0&&(S+=_),S<m){for(S&&F.c.push(+C.slice(0,S)),m-=_;S<m;)F.c.push(+C.slice(S,S+=_));S=_-(C=C.slice(S)).length}else S-=m;for(;S--;C+="0");F.c.push(+C)}}else F.c=[F.e=0]}U.clone=b,U.ROUND_UP=0,U.ROUND_DOWN=1,U.ROUND_CEIL=2,U.ROUND_FLOOR=3,U.ROUND_HALF_UP=4,U.ROUND_HALF_DOWN=5,U.ROUND_HALF_EVEN=6,U.ROUND_HALF_CEIL=7,U.ROUND_HALF_FLOOR=8,U.EUCLID=9,U.config=U.set=function(E){var P,K;if(E!=null)if(typeof E=="object"){if(E.hasOwnProperty(P="DECIMAL_PLACES")&&(K=E[P],G(K,0,A,P),ge=K),E.hasOwnProperty(P="ROUNDING_MODE")&&(K=E[P],G(K,0,8,P),j=K),E.hasOwnProperty(P="EXPONENTIAL_AT")&&(K=E[P],K&&K.pop?(G(K[0],-A,0,P),G(K[1],0,A,P),I=K[0],q=K[1]):(G(K,-A,A,P),I=-(q=K<0?-K:K))),E.hasOwnProperty(P="RANGE"))if(K=E[P],K&&K.pop)G(K[0],-A,-1,P),G(K[1],1,A,P),ne=K[0],fe=K[1];else if(G(K,-A,A,P),K)ne=-(fe=K<0?-K:K);else throw Error(f+P+" cannot be zero: "+K);if(E.hasOwnProperty(P="CRYPTO"))if(K=E[P],K===!!K)if(K)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ie=K;else throw ie=!K,Error(f+"crypto unavailable");else ie=K;else throw Error(f+P+" not true or false: "+K);if(E.hasOwnProperty(P="MODULO_MODE")&&(K=E[P],G(K,0,9,P),Ne=K),E.hasOwnProperty(P="POW_PRECISION")&&(K=E[P],G(K,0,A,P),Ee=K),E.hasOwnProperty(P="FORMAT"))if(K=E[P],typeof K=="object")L=K;else throw Error(f+P+" not an object: "+K);if(E.hasOwnProperty(P="ALPHABET"))if(K=E[P],typeof K=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(K))Re=K.slice(0,10)=="0123456789",de=K;else throw Error(f+P+" invalid: "+K)}else throw Error(f+"Object expected: "+E);return{DECIMAL_PLACES:ge,ROUNDING_MODE:j,EXPONENTIAL_AT:[I,q],RANGE:[ne,fe],CRYPTO:ie,MODULO_MODE:Ne,POW_PRECISION:Ee,FORMAT:L,ALPHABET:de}},U.isBigNumber=function(E){if(!E||E._isBigNumber!==!0)return!1;if(!U.DEBUG)return!0;var P,K,Z=E.c,X=E.e,se=E.s;e:if({}.toString.call(Z)=="[object Array]"){if((se===1||se===-1)&&X>=-A&&X<=A&&X===d(X)){if(Z[0]===0){if(X===0&&Z.length===1)return!0;break e}if(P=(X+1)%_,P<1&&(P+=_),String(Z[0]).length==P){for(P=0;P<Z.length;P++)if(K=Z[P],K<0||K>=g||K!==d(K))break e;if(K!==0)return!0}}}else if(Z===null&&X===null&&(se===null||se===1||se===-1))return!0;throw Error(f+"Invalid BigNumber: "+E)},U.maximum=U.max=function(){return Be(arguments,-1)},U.minimum=U.min=function(){return Be(arguments,1)},U.random=function(){var E=9007199254740992,P=Math.random()*E&2097151?function(){return d(Math.random()*E)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(K){var Z,X,se,S,p,m=0,C=[],F=new U(ue);if(K==null?K=ge:G(K,0,A),S=l(K/_),ie)if(crypto.getRandomValues){for(Z=crypto.getRandomValues(new Uint32Array(S*=2));m<S;)p=Z[m]*131072+(Z[m+1]>>>11),p>=9e15?(X=crypto.getRandomValues(new Uint32Array(2)),Z[m]=X[0],Z[m+1]=X[1]):(C.push(p%1e14),m+=2);m=S/2}else if(crypto.randomBytes){for(Z=crypto.randomBytes(S*=7);m<S;)p=(Z[m]&31)*281474976710656+Z[m+1]*1099511627776+Z[m+2]*4294967296+Z[m+3]*16777216+(Z[m+4]<<16)+(Z[m+5]<<8)+Z[m+6],p>=9e15?crypto.randomBytes(7).copy(Z,m):(C.push(p%1e14),m+=7);m=S/7}else throw ie=!1,Error(f+"crypto unavailable");if(!ie)for(;m<S;)p=P(),p<9e15&&(C[m++]=p%1e14);for(S=C[--m],K%=_,S&&K&&(p=v[_-K],C[m]=d(S/p)*p);C[m]===0;C.pop(),m--);if(m<0)C=[se=0];else{for(se=-1;C[0]===0;C.splice(0,1),se-=_);for(m=1,p=C[0];p>=10;p/=10,m++);m<_&&(se-=_-m)}return F.e=se,F.c=C,F}}(),U.sum=function(){for(var E=1,P=arguments,K=new U(P[0]);E<P.length;)K=K.plus(P[E++]);return K},z=function(){var E="0123456789";function P(K,Z,X,se){for(var S,p=[0],m,C=0,F=K.length;C<F;){for(m=p.length;m--;p[m]*=Z);for(p[0]+=se.indexOf(K.charAt(C++)),S=0;S<p.length;S++)p[S]>X-1&&(p[S+1]==null&&(p[S+1]=0),p[S+1]+=p[S]/X|0,p[S]%=X)}return p.reverse()}return function(K,Z,X,se,S){var p,m,C,F,Q,he,Se,Fe,Ie=K.indexOf("."),De=ge,T=j;for(Ie>=0&&(F=Ee,Ee=0,K=K.replace(".",""),Fe=new U(Z),he=Fe.pow(K.length-Ie),Ee=F,Fe.c=P(O(R(he.c),he.e,"0"),10,X,E),Fe.e=Fe.c.length),Se=P(K,Z,X,S?(p=de,E):(p=E,de)),C=F=Se.length;Se[--F]==0;Se.pop());if(!Se[0])return p.charAt(0);if(Ie<0?--C:(he.c=Se,he.e=C,he.s=se,he=oe(he,Fe,De,T,X),Se=he.c,Q=he.r,C=he.e),m=C+De+1,Ie=Se[m],F=X/2,Q=Q||m<0||Se[m+1]!=null,Q=T<4?(Ie!=null||Q)&&(T==0||T==(he.s<0?3:2)):Ie>F||Ie==F&&(T==4||Q||T==6&&Se[m-1]&1||T==(he.s<0?8:7)),m<1||!Se[0])K=Q?O(p.charAt(1),-De,p.charAt(0)):p.charAt(0);else{if(Se.length=m,Q)for(--X;++Se[--m]>X;)Se[m]=0,m||(++C,Se=[1].concat(Se));for(F=Se.length;!Se[--F];);for(Ie=0,K="";Ie<=F;K+=p.charAt(Se[Ie++]));K=O(K,C,p.charAt(0))}return K}}(),oe=function(){function E(Z,X,se){var S,p,m,C,F=0,Q=Z.length,he=X%k,Se=X/k|0;for(Z=Z.slice();Q--;)m=Z[Q]%k,C=Z[Q]/k|0,S=Se*m+C*he,p=he*m+S%k*k+F,F=(p/se|0)+(S/k|0)+Se*C,Z[Q]=p%se;return F&&(Z=[F].concat(Z)),Z}function P(Z,X,se,S){var p,m;if(se!=S)m=se>S?1:-1;else for(p=m=0;p<se;p++)if(Z[p]!=X[p]){m=Z[p]>X[p]?1:-1;break}return m}function K(Z,X,se,S){for(var p=0;se--;)Z[se]-=p,p=Z[se]<X[se]?1:0,Z[se]=p*S+Z[se]-X[se];for(;!Z[0]&&Z.length>1;Z.splice(0,1));}return function(Z,X,se,S,p){var m,C,F,Q,he,Se,Fe,Ie,De,T,y,N,V,ae,we,xe,Ke,Qe=Z.s==X.s?1:-1,Ye=Z.c,We=X.c;if(!Ye||!Ye[0]||!We||!We[0])return new U(!Z.s||!X.s||(Ye?We&&Ye[0]==We[0]:!We)?NaN:Ye&&Ye[0]==0||!We?Qe*0:Qe/0);for(Ie=new U(Qe),De=Ie.c=[],C=Z.e-X.e,Qe=se+C+1,p||(p=g,C=M(Z.e/_)-M(X.e/_),Qe=Qe/_|0),F=0;We[F]==(Ye[F]||0);F++);if(We[F]>(Ye[F]||0)&&C--,Qe<0)De.push(1),Q=!0;else{for(ae=Ye.length,xe=We.length,F=0,Qe+=2,he=d(p/(We[0]+1)),he>1&&(We=E(We,he,p),Ye=E(Ye,he,p),xe=We.length,ae=Ye.length),V=xe,T=Ye.slice(0,xe),y=T.length;y<xe;T[y++]=0);Ke=We.slice(),Ke=[0].concat(Ke),we=We[0],We[1]>=p/2&&we++;do{if(he=0,m=P(We,T,xe,y),m<0){if(N=T[0],xe!=y&&(N=N*p+(T[1]||0)),he=d(N/we),he>1)for(he>=p&&(he=p-1),Se=E(We,he,p),Fe=Se.length,y=T.length;P(Se,T,Fe,y)==1;)he--,K(Se,xe<Fe?Ke:We,Fe,p),Fe=Se.length,m=1;else he==0&&(m=he=1),Se=We.slice(),Fe=Se.length;if(Fe<y&&(Se=[0].concat(Se)),K(T,Se,y,p),y=T.length,m==-1)for(;P(We,T,xe,y)<1;)he++,K(T,xe<y?Ke:We,y,p),y=T.length}else m===0&&(he++,T=[0]);De[F++]=he,T[0]?T[y++]=Ye[V]||0:(T=[Ye[V]],y=1)}while((V++<ae||T[0]!=null)&&Qe--);Q=T[0]!=null,De[0]||De.splice(0,1)}if(p==g){for(F=1,Qe=De[0];Qe>=10;Qe/=10,F++);me(Ie,se+(Ie.e=F+C*_-1)+1,S,Q)}else Ie.e=C,Ie.r=+Q;return Ie}}();function Pe(E,P,K,Z){var X,se,S,p,m;if(K==null?K=j:G(K,0,8),!E.c)return E.toString();if(X=E.c[0],S=E.e,P==null)m=R(E.c),m=Z==1||Z==2&&(S<=I||S>=q)?ce(m,S):O(m,S,"0");else if(E=me(new U(E),P,K),se=E.e,m=R(E.c),p=m.length,Z==1||Z==2&&(P<=se||se<=I)){for(;p<P;m+="0",p++);m=ce(m,se)}else if(P-=S,m=O(m,se,"0"),se+1>p){if(--P>0)for(m+=".";P--;m+="0");}else if(P+=se-p,P>0)for(se+1==p&&(m+=".");P--;m+="0");return E.s<0&&X?"-"+m:m}function Be(E,P){for(var K,Z,X=1,se=new U(E[0]);X<E.length;X++)Z=new U(E[X]),(!Z.s||(K=$(se,Z))===P||K===0&&se.s===P)&&(se=Z);return se}function be(E,P,K){for(var Z=1,X=P.length;!P[--X];P.pop());for(X=P[0];X>=10;X/=10,Z++);return(K=Z+K*_-1)>fe?E.c=E.e=null:K<ne?E.c=[E.e=0]:(E.e=K,E.c=P),E}W=function(){var E=/^(-?)0([xbo])(?=\w[\w.]*$)/i,P=/^([^.]+)\.$/,K=/^\.([^.]+)$/,Z=/^-?(Infinity|NaN)$/,X=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(se,S,p,m){var C,F=p?S:S.replace(X,"");if(Z.test(F))se.s=isNaN(F)?null:F<0?-1:1;else{if(!p&&(F=F.replace(E,function(Q,he,Se){return C=(Se=Se.toLowerCase())=="x"?16:Se=="b"?2:8,!m||m==C?he:Q}),m&&(C=m,F=F.replace(P,"$1").replace(K,"0.$1")),S!=F))return new U(F,C);if(U.DEBUG)throw Error(f+"Not a"+(m?" base "+m:"")+" number: "+S);se.s=null}se.c=se.e=null}}();function me(E,P,K,Z){var X,se,S,p,m,C,F,Q=E.c,he=v;if(Q){e:{for(X=1,p=Q[0];p>=10;p/=10,X++);if(se=P-X,se<0)se+=_,S=P,m=Q[C=0],F=d(m/he[X-S-1]%10);else if(C=l((se+1)/_),C>=Q.length)if(Z){for(;Q.length<=C;Q.push(0));m=F=0,X=1,se%=_,S=se-_+1}else break e;else{for(m=p=Q[C],X=1;p>=10;p/=10,X++);se%=_,S=se-_+X,F=S<0?0:d(m/he[X-S-1]%10)}if(Z=Z||P<0||Q[C+1]!=null||(S<0?m:m%he[X-S-1]),Z=K<4?(F||Z)&&(K==0||K==(E.s<0?3:2)):F>5||F==5&&(K==4||Z||K==6&&(se>0?S>0?m/he[X-S]:0:Q[C-1])%10&1||K==(E.s<0?8:7)),P<1||!Q[0])return Q.length=0,Z?(P-=E.e+1,Q[0]=he[(_-P%_)%_],E.e=-P||0):Q[0]=E.e=0,E;if(se==0?(Q.length=C,p=1,C--):(Q.length=C+1,p=he[_-se],Q[C]=S>0?d(m/he[X-S]%he[S])*p:0),Z)for(;;)if(C==0){for(se=1,S=Q[0];S>=10;S/=10,se++);for(S=Q[0]+=p,p=1;S>=10;S/=10,p++);se!=p&&(E.e++,Q[0]==g&&(Q[0]=1));break}else{if(Q[C]+=p,Q[C]!=g)break;Q[C--]=0,p=1}for(se=Q.length;Q[--se]===0;Q.pop());}E.e>fe?E.c=E.e=null:E.e<ne&&(E.c=[E.e=0])}return E}function _e(E){var P,K=E.e;return K===null?E.toString():(P=R(E.c),P=K<=I||K>=q?ce(P,K):O(P,K,"0"),E.s<0?"-"+P:P)}return H.absoluteValue=H.abs=function(){var E=new U(this);return E.s<0&&(E.s=1),E},H.comparedTo=function(E,P){return $(this,new U(E,P))},H.decimalPlaces=H.dp=function(E,P){var K,Z,X,se=this;if(E!=null)return G(E,0,A),P==null?P=j:G(P,0,8),me(new U(se),E+se.e+1,P);if(!(K=se.c))return null;if(Z=((X=K.length-1)-M(this.e/_))*_,X=K[X])for(;X%10==0;X/=10,Z--);return Z<0&&(Z=0),Z},H.dividedBy=H.div=function(E,P){return oe(this,new U(E,P),ge,j)},H.dividedToIntegerBy=H.idiv=function(E,P){return oe(this,new U(E,P),0,1)},H.exponentiatedBy=H.pow=function(E,P){var K,Z,X,se,S,p,m,C,F,Q=this;if(E=new U(E),E.c&&!E.isInteger())throw Error(f+"Exponent not an integer: "+_e(E));if(P!=null&&(P=new U(P)),p=E.e>14,!Q.c||!Q.c[0]||Q.c[0]==1&&!Q.e&&Q.c.length==1||!E.c||!E.c[0])return F=new U(Math.pow(+_e(Q),p?E.s*(2-J(E)):+_e(E))),P?F.mod(P):F;if(m=E.s<0,P){if(P.c?!P.c[0]:!P.s)return new U(NaN);Z=!m&&Q.isInteger()&&P.isInteger(),Z&&(Q=Q.mod(P))}else{if(E.e>9&&(Q.e>0||Q.e<-1||(Q.e==0?Q.c[0]>1||p&&Q.c[1]>=24e7:Q.c[0]<8e13||p&&Q.c[0]<=9999975e7)))return se=Q.s<0&&J(E)?-0:0,Q.e>-1&&(se=1/se),new U(m?1/se:se);Ee&&(se=l(Ee/_+2))}for(p?(K=new U(.5),m&&(E.s=1),C=J(E)):(X=Math.abs(+_e(E)),C=X%2),F=new U(ue);;){if(C){if(F=F.times(Q),!F.c)break;se?F.c.length>se&&(F.c.length=se):Z&&(F=F.mod(P))}if(X){if(X=d(X/2),X===0)break;C=X%2}else if(E=E.times(K),me(E,E.e+1,1),E.e>14)C=J(E);else{if(X=+_e(E),X===0)break;C=X%2}Q=Q.times(Q),se?Q.c&&Q.c.length>se&&(Q.c.length=se):Z&&(Q=Q.mod(P))}return Z?F:(m&&(F=ue.div(F)),P?F.mod(P):se?me(F,Ee,j,S):F)},H.integerValue=function(E){var P=new U(this);return E==null?E=j:G(E,0,8),me(P,P.e+1,E)},H.isEqualTo=H.eq=function(E,P){return $(this,new U(E,P))===0},H.isFinite=function(){return!!this.c},H.isGreaterThan=H.gt=function(E,P){return $(this,new U(E,P))>0},H.isGreaterThanOrEqualTo=H.gte=function(E,P){return(P=$(this,new U(E,P)))===1||P===0},H.isInteger=function(){return!!this.c&&M(this.e/_)>this.c.length-2},H.isLessThan=H.lt=function(E,P){return $(this,new U(E,P))<0},H.isLessThanOrEqualTo=H.lte=function(E,P){return(P=$(this,new U(E,P)))===-1||P===0},H.isNaN=function(){return!this.s},H.isNegative=function(){return this.s<0},H.isPositive=function(){return this.s>0},H.isZero=function(){return!!this.c&&this.c[0]==0},H.minus=function(E,P){var K,Z,X,se,S=this,p=S.s;if(E=new U(E,P),P=E.s,!p||!P)return new U(NaN);if(p!=P)return E.s=-P,S.plus(E);var m=S.e/_,C=E.e/_,F=S.c,Q=E.c;if(!m||!C){if(!F||!Q)return F?(E.s=-P,E):new U(Q?S:NaN);if(!F[0]||!Q[0])return Q[0]?(E.s=-P,E):new U(F[0]?S:j==3?-0:0)}if(m=M(m),C=M(C),F=F.slice(),p=m-C){for((se=p<0)?(p=-p,X=F):(C=m,X=Q),X.reverse(),P=p;P--;X.push(0));X.reverse()}else for(Z=(se=(p=F.length)<(P=Q.length))?p:P,p=P=0;P<Z;P++)if(F[P]!=Q[P]){se=F[P]<Q[P];break}if(se&&(X=F,F=Q,Q=X,E.s=-E.s),P=(Z=Q.length)-(K=F.length),P>0)for(;P--;F[K++]=0);for(P=g-1;Z>p;){if(F[--Z]<Q[Z]){for(K=Z;K&&!F[--K];F[K]=P);--F[K],F[Z]+=g}F[Z]-=Q[Z]}for(;F[0]==0;F.splice(0,1),--C);return F[0]?be(E,F,C):(E.s=j==3?-1:1,E.c=[E.e=0],E)},H.modulo=H.mod=function(E,P){var K,Z,X=this;return E=new U(E,P),!X.c||!E.s||E.c&&!E.c[0]?new U(NaN):!E.c||X.c&&!X.c[0]?new U(X):(Ne==9?(Z=E.s,E.s=1,K=oe(X,E,0,3),E.s=Z,K.s*=Z):K=oe(X,E,0,Ne),E=X.minus(K.times(E)),!E.c[0]&&Ne==1&&(E.s=X.s),E)},H.multipliedBy=H.times=function(E,P){var K,Z,X,se,S,p,m,C,F,Q,he,Se,Fe,Ie,De,T=this,y=T.c,N=(E=new U(E,P)).c;if(!y||!N||!y[0]||!N[0])return!T.s||!E.s||y&&!y[0]&&!N||N&&!N[0]&&!y?E.c=E.e=E.s=null:(E.s*=T.s,!y||!N?E.c=E.e=null:(E.c=[0],E.e=0)),E;for(Z=M(T.e/_)+M(E.e/_),E.s*=T.s,m=y.length,Q=N.length,m<Q&&(Fe=y,y=N,N=Fe,X=m,m=Q,Q=X),X=m+Q,Fe=[];X--;Fe.push(0));for(Ie=g,De=k,X=Q;--X>=0;){for(K=0,he=N[X]%De,Se=N[X]/De|0,S=m,se=X+S;se>X;)C=y[--S]%De,F=y[S]/De|0,p=Se*C+F*he,C=he*C+p%De*De+Fe[se]+K,K=(C/Ie|0)+(p/De|0)+Se*F,Fe[se--]=C%Ie;Fe[se]=K}return K?++Z:Fe.splice(0,1),be(E,Fe,Z)},H.negated=function(){var E=new U(this);return E.s=-E.s||null,E},H.plus=function(E,P){var K,Z=this,X=Z.s;if(E=new U(E,P),P=E.s,!X||!P)return new U(NaN);if(X!=P)return E.s=-P,Z.minus(E);var se=Z.e/_,S=E.e/_,p=Z.c,m=E.c;if(!se||!S){if(!p||!m)return new U(X/0);if(!p[0]||!m[0])return m[0]?E:new U(p[0]?Z:X*0)}if(se=M(se),S=M(S),p=p.slice(),X=se-S){for(X>0?(S=se,K=m):(X=-X,K=p),K.reverse();X--;K.push(0));K.reverse()}for(X=p.length,P=m.length,X-P<0&&(K=m,m=p,p=K,P=X),X=0;P;)X=(p[--P]=p[P]+m[P]+X)/g|0,p[P]=g===p[P]?0:p[P]%g;return X&&(p=[X].concat(p),++S),be(E,p,S)},H.precision=H.sd=function(E,P){var K,Z,X,se=this;if(E!=null&&E!==!!E)return G(E,1,A),P==null?P=j:G(P,0,8),me(new U(se),E,P);if(!(K=se.c))return null;if(X=K.length-1,Z=X*_+1,X=K[X]){for(;X%10==0;X/=10,Z--);for(X=K[0];X>=10;X/=10,Z++);}return E&&se.e+1>Z&&(Z=se.e+1),Z},H.shiftedBy=function(E){return G(E,-x,x),this.times("1e"+E)},H.squareRoot=H.sqrt=function(){var E,P,K,Z,X,se=this,S=se.c,p=se.s,m=se.e,C=ge+4,F=new U("0.5");if(p!==1||!S||!S[0])return new U(!p||p<0&&(!S||S[0])?NaN:S?se:1/0);if(p=Math.sqrt(+_e(se)),p==0||p==1/0?(P=R(S),(P.length+m)%2==0&&(P+="0"),p=Math.sqrt(+P),m=M((m+1)/2)-(m<0||m%2),p==1/0?P="5e"+m:(P=p.toExponential(),P=P.slice(0,P.indexOf("e")+1)+m),K=new U(P)):K=new U(p+""),K.c[0]){for(m=K.e,p=m+C,p<3&&(p=0);;)if(X=K,K=F.times(X.plus(oe(se,X,C,1))),R(X.c).slice(0,p)===(P=R(K.c)).slice(0,p))if(K.e<m&&--p,P=P.slice(p-3,p+1),P=="9999"||!Z&&P=="4999"){if(!Z&&(me(X,X.e+ge+2,0),X.times(X).eq(se))){K=X;break}C+=4,p+=4,Z=1}else{(!+P||!+P.slice(1)&&P.charAt(0)=="5")&&(me(K,K.e+ge+2,1),E=!K.times(K).eq(se));break}}return me(K,K.e+ge+1,j,E)},H.toExponential=function(E,P){return E!=null&&(G(E,0,A),E++),Pe(this,E,P,1)},H.toFixed=function(E,P){return E!=null&&(G(E,0,A),E=E+this.e+1),Pe(this,E,P)},H.toFormat=function(E,P,K){var Z,X=this;if(K==null)E!=null&&P&&typeof P=="object"?(K=P,P=null):E&&typeof E=="object"?(K=E,E=P=null):K=L;else if(typeof K!="object")throw Error(f+"Argument not an object: "+K);if(Z=X.toFixed(E,P),X.c){var se,S=Z.split("."),p=+K.groupSize,m=+K.secondaryGroupSize,C=K.groupSeparator||"",F=S[0],Q=S[1],he=X.s<0,Se=he?F.slice(1):F,Fe=Se.length;if(m&&(se=p,p=m,m=se,Fe-=se),p>0&&Fe>0){for(se=Fe%p||p,F=Se.substr(0,se);se<Fe;se+=p)F+=C+Se.substr(se,p);m>0&&(F+=C+Se.slice(se)),he&&(F="-"+F)}Z=Q?F+(K.decimalSeparator||"")+((m=+K.fractionGroupSize)?Q.replace(new RegExp("\\d{"+m+"}\\B","g"),"$&"+(K.fractionGroupSeparator||"")):Q):F}return(K.prefix||"")+Z+(K.suffix||"")},H.toFraction=function(E){var P,K,Z,X,se,S,p,m,C,F,Q,he,Se=this,Fe=Se.c;if(E!=null&&(p=new U(E),!p.isInteger()&&(p.c||p.s!==1)||p.lt(ue)))throw Error(f+"Argument "+(p.isInteger()?"out of range: ":"not an integer: ")+_e(p));if(!Fe)return new U(Se);for(P=new U(ue),C=K=new U(ue),Z=m=new U(ue),he=R(Fe),se=P.e=he.length-Se.e-1,P.c[0]=v[(S=se%_)<0?_+S:S],E=!E||p.comparedTo(P)>0?se>0?P:C:p,S=fe,fe=1/0,p=new U(he),m.c[0]=0;F=oe(p,P,0,1),X=K.plus(F.times(Z)),X.comparedTo(E)!=1;)K=Z,Z=X,C=m.plus(F.times(X=C)),m=X,P=p.minus(F.times(X=P)),p=X;return X=oe(E.minus(K),Z,0,1),m=m.plus(X.times(C)),K=K.plus(X.times(Z)),m.s=C.s=Se.s,se=se*2,Q=oe(C,Z,se,j).minus(Se).abs().comparedTo(oe(m,K,se,j).minus(Se).abs())<1?[C,Z]:[m,K],fe=S,Q},H.toNumber=function(){return+_e(this)},H.toPrecision=function(E,P){return E!=null&&G(E,1,A),Pe(this,E,P,2)},H.toString=function(E){var P,K=this,Z=K.s,X=K.e;return X===null?Z?(P="Infinity",Z<0&&(P="-"+P)):P="NaN":(E==null?P=X<=I||X>=q?ce(R(K.c),X):O(R(K.c),X,"0"):E===10&&Re?(K=me(new U(K),ge+X+1,j),P=O(R(K.c),K.e,"0")):(G(E,2,de.length,"Base"),P=z(O(R(K.c),X,"0"),10,E,Z,!0)),Z<0&&K.c[0]&&(P="-"+P)),P},H.valueOf=H.toJSON=function(){return _e(this)},H._isBigNumber=!0,te!=null&&U.set(te),U}function M(te){var oe=te|0;return te>0||te===oe?oe:oe-1}function R(te){for(var oe,z,W=1,H=te.length,ue=te[0]+"";W<H;){for(oe=te[W++]+"",z=_-oe.length;z--;oe="0"+oe);ue+=oe}for(H=ue.length;ue.charCodeAt(--H)===48;);return ue.slice(0,H+1||1)}function $(te,oe){var z,W,H=te.c,ue=oe.c,ge=te.s,j=oe.s,I=te.e,q=oe.e;if(!ge||!j)return null;if(z=H&&!H[0],W=ue&&!ue[0],z||W)return z?W?0:-j:ge;if(ge!=j)return ge;if(z=ge<0,W=I==q,!H||!ue)return W?0:!H^z?1:-1;if(!W)return I>q^z?1:-1;for(j=(I=H.length)<(q=ue.length)?I:q,ge=0;ge<j;ge++)if(H[ge]!=ue[ge])return H[ge]>ue[ge]^z?1:-1;return I==q?0:I>q^z?1:-1}function G(te,oe,z,W){if(te<oe||te>z||te!==d(te))throw Error(f+(W||"Argument")+(typeof te=="number"?te<oe||te>z?" out of range: ":" not an integer: ":" not a primitive number: ")+String(te))}function J(te){var oe=te.c.length-1;return M(te.e/_)==oe&&te.c[oe]%2!=0}function ce(te,oe){return(te.length>1?te.charAt(0)+"."+te.slice(1):te)+(oe<0?"e":"e+")+oe}function O(te,oe,z){var W,H;if(oe<0){for(H=z+".";++oe;H+=z);te=H+te}else if(W=te.length,++oe>W){for(H=z,oe-=W;--oe;H+=z);te+=H}else oe<W&&(te=te.slice(0,oe)+"."+te.slice(oe));return te}n=b(),n.default=n.BigNumber=n,e.exports?e.exports=n:(r||(r=typeof self<"u"&&self?self:window),r.BigNumber=n)})(Ub)}(zl)),zl.exports}var Gd,_m;function Ob(){return _m||(_m=1,Gd=function(r,n,i){var l=new r.Uint8Array(i),d=n.pushInt,f=n.pushInt32,u=n.pushInt32Neg,g=n.pushInt64,_=n.pushInt64Neg,x=n.pushFloat,v=n.pushFloatSingle,k=n.pushFloatDouble,A=n.pushTrue,b=n.pushFalse,M=n.pushUndefined,R=n.pushNull,$=n.pushInfinity,G=n.pushInfinityNeg,J=n.pushNaN,ce=n.pushNaNNeg,O=n.pushArrayStart,te=n.pushArrayStartFixed,oe=n.pushArrayStartFixed32,z=n.pushArrayStartFixed64,W=n.pushObjectStart,H=n.pushObjectStartFixed,ue=n.pushObjectStartFixed32,ge=n.pushObjectStartFixed64,j=n.pushByteString,I=n.pushByteStringStart,q=n.pushUtf8String,ne=n.pushUtf8StringStart,fe=n.pushSimpleUnassigned,ie=n.pushTagStart,Ne=n.pushTagStart4,Ee=n.pushTagStart8,L=n.pushTagUnassigned,de=n.pushBreak,Re=r.Math.pow,U=0,Pe=0,Be=0;function be(ee){for(ee=ee|0,U=0,Pe=ee;(U|0)<(Pe|0)&&(Be=tu[l[U]&255](l[U]|0)|0,!((Be|0)>0)););return Be|0}function me(ee){return ee=ee|0,((U|0)+(ee|0)|0)<(Pe|0)?0:1}function _e(ee){return ee=ee|0,l[ee|0]<<8|l[ee+1|0]|0}function E(ee){return ee=ee|0,l[ee|0]<<24|l[ee+1|0]<<16|l[ee+2|0]<<8|l[ee+3|0]|0}function P(ee){return ee=ee|0,d(ee|0),U=U+1|0,0}function K(ee){return ee=ee|0,me(1)|0?1:(d(l[U+1|0]|0),U=U+2|0,0)}function Z(ee){return ee=ee|0,me(2)|0?1:(d(_e(U+1|0)|0),U=U+3|0,0)}function X(ee){return ee=ee|0,me(4)|0?1:(f(_e(U+1|0)|0,_e(U+3|0)|0),U=U+5|0,0)}function se(ee){return ee=ee|0,me(8)|0?1:(g(_e(U+1|0)|0,_e(U+3|0)|0,_e(U+5|0)|0,_e(U+7|0)|0),U=U+9|0,0)}function S(ee){return ee=ee|0,d(-1-(ee-32|0)|0),U=U+1|0,0}function p(ee){return ee=ee|0,me(1)|0?1:(d(-1-(l[U+1|0]|0)|0),U=U+2|0,0)}function m(ee){ee=ee|0;var He=0;return me(2)|0?1:(He=_e(U+1|0)|0,d(-1-(He|0)|0),U=U+3|0,0)}function C(ee){return ee=ee|0,me(4)|0?1:(u(_e(U+1|0)|0,_e(U+3|0)|0),U=U+5|0,0)}function F(ee){return ee=ee|0,me(8)|0?1:(_(_e(U+1|0)|0,_e(U+3|0)|0,_e(U+5|0)|0,_e(U+7|0)|0),U=U+9|0,0)}function Q(ee){ee=ee|0;var He=0,rt=0,Je=0;return Je=ee-64|0,me(Je|0)|0?1:(He=U+1|0,rt=(U+1|0)+(Je|0)|0,j(He|0,rt|0),U=rt|0,0)}function he(ee){ee=ee|0;var He=0,rt=0,Je=0;return me(1)|0||(Je=l[U+1|0]|0,He=U+2|0,rt=(U+2|0)+(Je|0)|0,me(Je+1|0)|0)?1:(j(He|0,rt|0),U=rt|0,0)}function Se(ee){ee=ee|0;var He=0,rt=0,Je=0;return me(2)|0||(Je=_e(U+1|0)|0,He=U+3|0,rt=(U+3|0)+(Je|0)|0,me(Je+2|0)|0)?1:(j(He|0,rt|0),U=rt|0,0)}function Fe(ee){ee=ee|0;var He=0,rt=0,Je=0;return me(4)|0||(Je=E(U+1|0)|0,He=U+5|0,rt=(U+5|0)+(Je|0)|0,me(Je+4|0)|0)?1:(j(He|0,rt|0),U=rt|0,0)}function Ie(ee){return ee=ee|0,1}function De(ee){return ee=ee|0,I(),U=U+1|0,0}function T(ee){ee=ee|0;var He=0,rt=0,Je=0;return Je=ee-96|0,me(Je|0)|0?1:(He=U+1|0,rt=(U+1|0)+(Je|0)|0,q(He|0,rt|0),U=rt|0,0)}function y(ee){ee=ee|0;var He=0,rt=0,Je=0;return me(1)|0||(Je=l[U+1|0]|0,He=U+2|0,rt=(U+2|0)+(Je|0)|0,me(Je+1|0)|0)?1:(q(He|0,rt|0),U=rt|0,0)}function N(ee){ee=ee|0;var He=0,rt=0,Je=0;return me(2)|0||(Je=_e(U+1|0)|0,He=U+3|0,rt=(U+3|0)+(Je|0)|0,me(Je+2|0)|0)?1:(q(He|0,rt|0),U=rt|0,0)}function V(ee){ee=ee|0;var He=0,rt=0,Je=0;return me(4)|0||(Je=E(U+1|0)|0,He=U+5|0,rt=(U+5|0)+(Je|0)|0,me(Je+4|0)|0)?1:(q(He|0,rt|0),U=rt|0,0)}function ae(ee){return ee=ee|0,1}function we(ee){return ee=ee|0,ne(),U=U+1|0,0}function xe(ee){return ee=ee|0,te(ee-128|0),U=U+1|0,0}function Ke(ee){return ee=ee|0,me(1)|0?1:(te(l[U+1|0]|0),U=U+2|0,0)}function Qe(ee){return ee=ee|0,me(2)|0?1:(te(_e(U+1|0)|0),U=U+3|0,0)}function Ye(ee){return ee=ee|0,me(4)|0?1:(oe(_e(U+1|0)|0,_e(U+3|0)|0),U=U+5|0,0)}function We(ee){return ee=ee|0,me(8)|0?1:(z(_e(U+1|0)|0,_e(U+3|0)|0,_e(U+5|0)|0,_e(U+7|0)|0),U=U+9|0,0)}function st(ee){return ee=ee|0,O(),U=U+1|0,0}function lt(ee){ee=ee|0;var He=0;return He=ee-160|0,me(He|0)|0?1:(H(He|0),U=U+1|0,0)}function Ns(ee){return ee=ee|0,me(1)|0?1:(H(l[U+1|0]|0),U=U+2|0,0)}function Kr(ee){return ee=ee|0,me(2)|0?1:(H(_e(U+1|0)|0),U=U+3|0,0)}function Yr(ee){return ee=ee|0,me(4)|0?1:(ue(_e(U+1|0)|0,_e(U+3|0)|0),U=U+5|0,0)}function ei(ee){return ee=ee|0,me(8)|0?1:(ge(_e(U+1|0)|0,_e(U+3|0)|0,_e(U+5|0)|0,_e(U+7|0)|0),U=U+9|0,0)}function ti(ee){return ee=ee|0,W(),U=U+1|0,0}function Mr(ee){return ee=ee|0,ie(ee-192|0|0),U=U+1|0,0}function Zc(ee){return ee=ee|0,ie(ee|0),U=U+1|0,0}function Dc(ee){return ee=ee|0,ie(ee|0),U=U+1|0,0}function ho(ee){return ee=ee|0,ie(ee|0),U=U+1|0,0}function Qc(ee){return ee=ee|0,ie(ee|0),U=U+1|0,0}function yt(ee){return ee=ee|0,ie(ee-192|0|0),U=U+1|0,0}function po(ee){return ee=ee|0,ie(ee|0),U=U+1|0,0}function ri(ee){return ee=ee|0,ie(ee|0),U=U+1|0,0}function b0(ee){return ee=ee|0,ie(ee|0),U=U+1|0,0}function _s(ee){return ee=ee|0,me(1)|0?1:(ie(l[U+1|0]|0),U=U+2|0,0)}function ni(ee){return ee=ee|0,me(2)|0?1:(ie(_e(U+1|0)|0),U=U+3|0,0)}function si(ee){return ee=ee|0,me(4)|0?1:(Ne(_e(U+1|0)|0,_e(U+3|0)|0),U=U+5|0,0)}function ta(ee){return ee=ee|0,me(8)|0?1:(Ee(_e(U+1|0)|0,_e(U+3|0)|0,_e(U+5|0)|0,_e(U+7|0)|0),U=U+9|0,0)}function _t(ee){return ee=ee|0,fe((ee|0)-224|0),U=U+1|0,0}function Xc(ee){return ee=ee|0,b(),U=U+1|0,0}function Jc(ee){return ee=ee|0,A(),U=U+1|0,0}function dn(ee){return ee=ee|0,R(),U=U+1|0,0}function mo(ee){return ee=ee|0,M(),U=U+1|0,0}function go(ee){return ee=ee|0,me(1)|0?1:(fe(l[U+1|0]|0),U=U+2|0,0)}function eu(ee){ee=ee|0;var He=0,rt=0,Je=1,Es=0,Zr=0,N0=0;return me(2)|0?1:(He=l[U+1|0]|0,rt=l[U+2|0]|0,(He|0)&128&&(Je=-1),Es=+(((He|0)&124)>>2),Zr=+(((He|0)&3)<<8|rt),+Es==0?x(+(+Je*5960464477539063e-23*+Zr)):+Es==31?+Je==1?+Zr>0?J():$():+Zr>0?ce():G():x(+(+Je*Re(2,+(+Es-25))*+(1024+Zr))),U=U+3|0,0)}function yo(ee){return ee=ee|0,me(4)|0?1:(v(l[U+1|0]|0,l[U+2|0]|0,l[U+3|0]|0,l[U+4|0]|0),U=U+5|0,0)}function xo(ee){return ee=ee|0,me(8)|0?1:(k(l[U+1|0]|0,l[U+2|0]|0,l[U+3|0]|0,l[U+4|0]|0,l[U+5|0]|0,l[U+6|0]|0,l[U+7|0]|0,l[U+8|0]|0),U=U+9|0,0)}function ct(ee){return ee=ee|0,1}function wo(ee){return ee=ee|0,de(),U=U+1|0,0}var tu=[P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,K,Z,X,se,ct,ct,ct,ct,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,p,m,C,F,ct,ct,ct,ct,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,he,Se,Fe,Ie,ct,ct,ct,De,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,y,N,V,ae,ct,ct,ct,we,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,Ke,Qe,Ye,We,ct,ct,ct,st,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,Ns,Kr,Yr,ei,ct,ct,ct,ti,Mr,Mr,Mr,Mr,Mr,Mr,yt,yt,yt,yt,yt,yt,yt,yt,yt,yt,yt,yt,yt,yt,yt,yt,yt,yt,_s,ni,si,ta,ct,ct,ct,ct,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,Xc,Jc,dn,mo,go,eu,yo,xo,ct,ct,ct,wo];return{parse:be}}),Gd}var Ld={},pr={},Em;function Oc(){if(Em)return pr;Em=1;const e=Uc().BigNumber;return pr.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},pr.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},pr.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},pr.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},pr.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},pr.SHIFT32=Math.pow(2,32),pr.SHIFT16=Math.pow(2,16),pr.MAX_SAFE_HIGH=2097151,pr.NEG_ONE=new e(-1),pr.TEN=new e(10),pr.TWO=new e(2),pr.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5},pr}var jm;function c0(){return jm||(jm=1,function(e){const{Buffer:r}=Fc(),n=Uc().BigNumber,i=Oc(),l=i.SHIFT32,d=i.SHIFT16,f=2097151;e.parseHalf=function(_){var x,v,k;return k=_[0]&128?-1:1,x=(_[0]&124)>>2,v=(_[0]&3)<<8|_[1],x?x===31?k*(v?NaN:1/0):k*Math.pow(2,x-25)*(1024+v):k*5960464477539063e-23*v};function u(g){return g<16?"0"+g.toString(16):g.toString(16)}e.arrayBufferToBignumber=function(g){const _=g.byteLength;let x="";for(let v=0;v<_;v++)x+=u(g[v]);return new n(x,16)},e.buildMap=g=>{const _=new Map,x=Object.keys(g),v=x.length;for(let k=0;k<v;k++)_.set(x[k],g[x[k]]);return _},e.buildInt32=(g,_)=>g*d+_,e.buildInt64=(g,_,x,v)=>{const k=e.buildInt32(g,_),A=e.buildInt32(x,v);return k>f?new n(k).times(l).plus(A):k*l+A},e.writeHalf=function(_,x){const v=r.allocUnsafe(4);v.writeFloatBE(x,0);const k=v.readUInt32BE(0);if((k&8191)!==0)return!1;var A=k>>16&32768;const b=k>>23&255,M=k&8388607;if(b>=113&&b<=142)A+=(b-112<<10)+(M>>13);else if(b>=103&&b<113){if(M&(1<<126-b)-1)return!1;A+=M+8388608>>126-b}else return!1;return _.writeUInt16BE(A,0),!0},e.keySorter=function(g,_){var x=g[0].byteLength,v=_[0].byteLength;return x>v?1:v>x?-1:g[0].compare(_[0])},e.isNegativeZero=g=>g===0&&1/g<0,e.nextPowerOf2=g=>{let _=0;if(g&&!(g&g-1))return g;for(;g!==0;)g>>=1,_+=1;return 1<<_}}(Ld)),Ld}var Kd,km;function Uy(){if(km)return Kd;km=1;const e=Oc(),r=e.MT,n=e.SIMPLE,i=e.SYMS;class l{constructor(f){if(typeof f!="number")throw new Error("Invalid Simple type: "+typeof f);if(f<0||f>255||(f|0)!==f)throw new Error("value must be a small positive integer: "+f);this.value=f}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(f){return f._pushInt(this.value,r.SIMPLE_FLOAT)}static isSimple(f){return f instanceof l}static decode(f,u){switch(u==null&&(u=!0),f){case n.FALSE:return!1;case n.TRUE:return!0;case n.NULL:return u?null:i.NULL;case n.UNDEFINED:return u?void 0:i.UNDEFINED;case-1:if(!u)throw new Error("Invalid BREAK");return i.BREAK;default:return new l(f)}}}return Kd=l,Kd}var Yd,Sm;function Oy(){if(Sm)return Yd;Sm=1;class e{constructor(n,i,l){if(this.tag=n,this.value=i,this.err=l,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(n){return n._pushTag(this.tag),n.pushAny(this.value)}convert(n){var i,l;if(l=n!=null?n[this.tag]:void 0,typeof l!="function"&&(l=e["_tag"+this.tag],typeof l!="function"))return this;try{return l.call(e,this.value)}catch(d){return i=d,this.err=i,this}}}return Yd=e,Yd}var Zd,Am;function Iy(){if(Am)return Zd;Am=1;const e=self.location?self.location.protocol+"//"+self.location.host:"",r=self.URL;class n{constructor(d="",f=e){this.super=new r(d,f),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(d){this.super.hash=d}set host(d){this.super.host=d}set hostname(d){this.super.hostname=d}set href(d){this.super.href=d}set origin(d){this.super.origin=d}set password(d){this.super.password=d}set pathname(d){this.super.pathname=d}set port(d){this.super.port=d}set protocol(d){this.super.protocol=d}set search(d){this.super.search=d}set searchParams(d){this.super.searchParams=d}set username(d){this.super.username=d}createObjectURL(d){return this.super.createObjectURL(d)}revokeObjectURL(d){this.super.revokeObjectURL(d)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}}function i(l){if(typeof l=="string")return new r(l).toString();if(!(l instanceof r)){const d=l.username&&l.password?`${l.username}:${l.password}@`:"",f=l.auth?l.auth+"@":"",u=l.port?":"+l.port:"",g=l.protocol?l.protocol+"//":"",_=l.host||"",x=l.hostname||"",v=l.search||(l.query?"?"+l.query:""),k=l.hash||"",A=l.pathname||"",b=l.path||A+v;return`${g}${d||f}${_||x+u}${b}${k}`}}return Zd={URLWithLegacySupport:n,URLSearchParams:self.URLSearchParams,defaultBase:e,format:i},Zd}var Dd,Tm;function Ib(){if(Tm)return Dd;Tm=1;const{URLWithLegacySupport:e,format:r}=Iy();return Dd=(n,i={},l={},d)=>{let f=i.protocol?i.protocol.replace(":",""):"http";f=(l[f]||d||f)+":";let u;try{u=new e(n)}catch{u={}}const g=Object.assign({},i,{protocol:f||u.protocol,host:i.host||u.host});return new e(n,r(g)).toString()},Dd}var Qd,Cm;function $y(){if(Cm)return Qd;Cm=1;const{URLWithLegacySupport:e,format:r,URLSearchParams:n,defaultBase:i}=Iy(),l=Ib();return Qd={URL:e,URLSearchParams:n,format:r,relative:l,defaultBase:i},Qd}var Xd,Bm;function zy(){if(Bm)return Xd;Bm=1;const{Buffer:e}=Fc(),r=r0(),n=Uc().BigNumber,i=Ob(),l=c0(),d=Oc(),f=Uy(),u=Oy(),{URL:g}=$y();class _{constructor(v){v=v||{},!v.size||v.size<65536?v.size=65536:v.size=l.nextPowerOf2(v.size),this._heap=new ArrayBuffer(v.size),this._heap8=new Uint8Array(this._heap),this._buffer=e.from(this._heap),this._reset(),this._knownTags=Object.assign({0:k=>new Date(k),1:k=>new Date(k*1e3),2:k=>l.arrayBufferToBignumber(k),3:k=>d.NEG_ONE.minus(l.arrayBufferToBignumber(k)),4:k=>d.TEN.pow(k[0]).times(k[1]),5:k=>d.TWO.pow(k[0]).times(k[1]),32:k=>new g(k),35:k=>new RegExp(k)},v.tags),this.parser=i(Gw,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var v=this._parents.pop();if(v.length>0)throw new Error(`Missing ${v.length} elements`);switch(v.type){case d.PARENT.TAG:this._push(this.createTag(v.ref[0],v.ref[1]));break;case d.PARENT.BYTE_STRING:this._push(this.createByteString(v.ref,v.length));break;case d.PARENT.UTF8_STRING:this._push(this.createUtf8String(v.ref,v.length));break;case d.PARENT.MAP:if(v.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(v.ref,v.length));break;case d.PARENT.OBJECT:if(v.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(v.ref,v.length));break;case d.PARENT.ARRAY:this._push(this.createArray(v.ref,v.length));break}this._currentParent&&this._currentParent.type===d.PARENT.TAG&&this._dec()}_dec(){const v=this._currentParent;v.length<0||(v.length--,v.length===0&&this._closeParent())}_push(v,k){const A=this._currentParent;switch(A.values++,A.type){case d.PARENT.ARRAY:case d.PARENT.BYTE_STRING:case d.PARENT.UTF8_STRING:A.length>-1?this._ref[this._ref.length-A.length]=v:this._ref.push(v),this._dec();break;case d.PARENT.OBJECT:A.tmpKey!=null?(this._ref[A.tmpKey]=v,A.tmpKey=null,this._dec()):(A.tmpKey=v,typeof A.tmpKey!="string"&&(A.type=d.PARENT.MAP,A.ref=l.buildMap(A.ref)));break;case d.PARENT.MAP:A.tmpKey!=null?(this._ref.set(A.tmpKey,v),A.tmpKey=null,this._dec()):A.tmpKey=v;break;case d.PARENT.TAG:this._ref.push(v),k||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(v,k,A){this._parents[this._depth]={type:k,length:A,ref:v,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:d.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(v,k){const A=this._knownTags[v];return A?A(k):new u(v,k)}createMap(v,k){return v}createObject(v,k){return v}createArray(v,k){return v}createByteString(v,k){return e.concat(v)}createByteStringFromHeap(v,k){return v===k?e.alloc(0):e.from(this._heap.slice(v,k))}createInt(v){return v}createInt32(v,k){return l.buildInt32(v,k)}createInt64(v,k,A,b){return l.buildInt64(v,k,A,b)}createFloat(v){return v}createFloatSingle(v,k,A,b){return r.read([v,k,A,b],0,!1,23,4)}createFloatDouble(v,k,A,b,M,R,$,G){return r.read([v,k,A,b,M,R,$,G],0,!1,52,8)}createInt32Neg(v,k){return-1-l.buildInt32(v,k)}createInt64Neg(v,k,A,b){const M=l.buildInt32(v,k),R=l.buildInt32(A,b);return M>d.MAX_SAFE_HIGH?d.NEG_ONE.minus(new n(M).times(d.SHIFT32).plus(R)):-1-(M*d.SHIFT32+R)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(v,k){return v.join("")}createUtf8StringFromHeap(v,k){return v===k?"":this._buffer.toString("utf8",v,k)}createSimpleUnassigned(v){return new f(v)}pushInt(v){this._push(this.createInt(v))}pushInt32(v,k){this._push(this.createInt32(v,k))}pushInt64(v,k,A,b){this._push(this.createInt64(v,k,A,b))}pushFloat(v){this._push(this.createFloat(v))}pushFloatSingle(v,k,A,b){this._push(this.createFloatSingle(v,k,A,b))}pushFloatDouble(v,k,A,b,M,R,$,G){this._push(this.createFloatDouble(v,k,A,b,M,R,$,G))}pushInt32Neg(v,k){this._push(this.createInt32Neg(v,k))}pushInt64Neg(v,k,A,b){this._push(this.createInt64Neg(v,k,A,b))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],d.PARENT.ARRAY,-1)}pushArrayStartFixed(v){this._createArrayStartFixed(v)}pushArrayStartFixed32(v,k){const A=l.buildInt32(v,k);this._createArrayStartFixed(A)}pushArrayStartFixed64(v,k,A,b){const M=l.buildInt64(v,k,A,b);this._createArrayStartFixed(M)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(v){this._createObjectStartFixed(v)}pushObjectStartFixed32(v,k){const A=l.buildInt32(v,k);this._createObjectStartFixed(A)}pushObjectStartFixed64(v,k,A,b){const M=l.buildInt64(v,k,A,b);this._createObjectStartFixed(M)}pushByteStringStart(){this._parents[this._depth]={type:d.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(v,k){this._push(this.createByteStringFromHeap(v,k))}pushUtf8StringStart(){this._parents[this._depth]={type:d.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(v,k){this._push(this.createUtf8StringFromHeap(v,k))}pushSimpleUnassigned(v){this._push(this.createSimpleUnassigned(v))}pushTagStart(v){this._parents[this._depth]={type:d.PARENT.TAG,length:1,ref:[v]}}pushTagStart4(v,k){this.pushTagStart(l.buildInt32(v,k))}pushTagStart8(v,k,A,b){this.pushTagStart(l.buildInt64(v,k,A,b))}pushTagUnassigned(v){this._push(this.createTag(v))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(v){if(v===0){this._push(this.createObject({}));return}this._createParent({},d.PARENT.OBJECT,v)}_createArrayStartFixed(v){if(v===0){this._push(this.createArray([]));return}this._createParent(new Array(v),d.PARENT.ARRAY,v)}_decode(v){if(v.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(v);const k=this.parser.parse(v.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(k>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(v){return this._decode(v),this._res[0]}decodeAll(v){return this._decode(v),this._res}static decode(v,k){return typeof v=="string"&&(v=e.from(v,k||"hex")),new _({size:v.length}).decodeFirst(v)}static decodeAll(v,k){return typeof v=="string"&&(v=e.from(v,k||"hex")),new _({size:v.length}).decodeAll(v)}}return _.decodeFirst=_.decode,Xd=_,Xd}var Jd,Rm;function $b(){if(Rm)return Jd;Rm=1;const{Buffer:e}=Fc(),r=zy(),n=c0();class i extends r{createTag(f,u){return`${f}(${u})`}createInt(f){return super.createInt(f).toString()}createInt32(f,u){return super.createInt32(f,u).toString()}createInt64(f,u,g,_){return super.createInt64(f,u,g,_).toString()}createInt32Neg(f,u){return super.createInt32Neg(f,u).toString()}createInt64Neg(f,u,g,_){return super.createInt64Neg(f,u,g,_).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(f){const u=super.createFloat(f);return n.isNegativeZero(f)?"-0_1":`${u}_1`}createFloatSingle(f,u,g,_){return`${super.createFloatSingle(f,u,g,_)}_2`}createFloatDouble(f,u,g,_,x,v,k,A){return`${super.createFloatDouble(f,u,g,_,x,v,k,A)}_3`}createByteString(f,u){const g=f.join(", ");return u===-1?`(_ ${g})`:`h'${g}`}createByteStringFromHeap(f,u){return`h'${e.from(super.createByteStringFromHeap(f,u)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(f){return`simple(${f})`}createArray(f,u){const g=super.createArray(f,u);return u===-1?`[_ ${g.join(", ")}]`:`[${g.join(", ")}]`}createMap(f,u){const g=super.createMap(f),_=Array.from(g.keys()).reduce(l(g),"");return u===-1?`{_ ${_}}`:`{${_}}`}createObject(f,u){const g=super.createObject(f),_=Object.keys(g).reduce(l(g),"");return u===-1?`{_ ${_}}`:`{${_}}`}createUtf8String(f,u){const g=f.join(", ");return u===-1?`(_ ${g})`:`"${g}"`}createUtf8StringFromHeap(f,u){return`"${e.from(super.createUtf8StringFromHeap(f,u)).toString("utf8")}"`}static diagnose(f,u){return typeof f=="string"&&(f=e.from(f,u||"hex")),new i().decodeFirst(f)}}Jd=i;function l(d){return(f,u)=>f?`${f}, ${u}: ${d[u]}`:`${u}: ${d[u]}`}return Jd}var ef,Pm;function zb(){if(Pm)return ef;Pm=1;const{Buffer:e}=Fc(),{URL:r}=$y(),n=Uc().BigNumber,i=c0(),l=Oc(),d=l.MT,f=l.NUMBYTES,u=l.SHIFT32,g=l.SYMS,_=l.TAG,x=l.MT.SIMPLE_FLOAT<<5|l.NUMBYTES.TWO,v=l.MT.SIMPLE_FLOAT<<5|l.NUMBYTES.FOUR,k=l.MT.SIMPLE_FLOAT<<5|l.NUMBYTES.EIGHT,A=l.MT.SIMPLE_FLOAT<<5|l.SIMPLE.TRUE,b=l.MT.SIMPLE_FLOAT<<5|l.SIMPLE.FALSE,M=l.MT.SIMPLE_FLOAT<<5|l.SIMPLE.UNDEFINED,R=l.MT.SIMPLE_FLOAT<<5|l.SIMPLE.NULL,$=new n("0x20000000000000"),G=e.from("f97e00","hex"),J=e.from("f9fc00","hex"),ce=e.from("f97c00","hex");function O(oe){return{}.toString.call(oe).slice(8,-1)}class te{constructor(z){z=z||{},this.streaming=typeof z.stream=="function",this.onData=z.stream,this.semanticTypes=[[r,this._pushUrl],[n,this._pushBigNumber]];const W=z.genTypes||[],H=W.length;for(let ue=0;ue<H;ue++)this.addSemanticType(W[ue][0],W[ue][1]);this._reset()}addSemanticType(z,W){const H=this.semanticTypes.length;for(let ue=0;ue<H;ue++)if(this.semanticTypes[ue][0]===z){const j=this.semanticTypes[ue][1];return this.semanticTypes[ue][1]=W,j}return this.semanticTypes.push([z,W]),null}push(z){return z&&(this.result[this.offset]=z,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=z.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(z,W,H){return this.result[this.offset]=z,this.resultMethod[this.offset]=W,this.resultLength[this.offset]=H,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(z){return this.pushWrite(z,1,1)}_pushUInt16BE(z){return this.pushWrite(z,2,2)}_pushUInt32BE(z){return this.pushWrite(z,3,4)}_pushDoubleBE(z){return this.pushWrite(z,4,8)}_pushNaN(){return this.push(G)}_pushInfinity(z){const W=z<0?J:ce;return this.push(W)}_pushFloat(z){const W=e.allocUnsafe(2);if(i.writeHalf(W,z)&&i.parseHalf(W)===z)return this._pushUInt8(x)&&this.push(W);const H=e.allocUnsafe(4);return H.writeFloatBE(z,0),H.readFloatBE(0)===z?this._pushUInt8(v)&&this.push(H):this._pushUInt8(k)&&this._pushDoubleBE(z)}_pushInt(z,W,H){const ue=W<<5;return z<24?this._pushUInt8(ue|z):z<=255?this._pushUInt8(ue|f.ONE)&&this._pushUInt8(z):z<=65535?this._pushUInt8(ue|f.TWO)&&this._pushUInt16BE(z):z<=4294967295?this._pushUInt8(ue|f.FOUR)&&this._pushUInt32BE(z):z<=Number.MAX_SAFE_INTEGER?this._pushUInt8(ue|f.EIGHT)&&this._pushUInt32BE(Math.floor(z/u))&&this._pushUInt32BE(z%u):W===d.NEG_INT?this._pushFloat(H):this._pushFloat(z)}_pushIntNum(z){return z<0?this._pushInt(-z-1,d.NEG_INT,z):this._pushInt(z,d.POS_INT)}_pushNumber(z){switch(!1){case z===z:return this._pushNaN(z);case isFinite(z):return this._pushInfinity(z);case z%1!==0:return this._pushIntNum(z);default:return this._pushFloat(z)}}_pushString(z){const W=e.byteLength(z,"utf8");return this._pushInt(W,d.UTF8_STRING)&&this.pushWrite(z,5,W)}_pushBoolean(z){return this._pushUInt8(z?A:b)}_pushUndefined(z){return this._pushUInt8(M)}_pushArray(z,W){const H=W.length;if(!z._pushInt(H,d.ARRAY))return!1;for(let ue=0;ue<H;ue++)if(!z.pushAny(W[ue]))return!1;return!0}_pushTag(z){return this._pushInt(z,d.TAG)}_pushDate(z,W){return z._pushTag(_.DATE_EPOCH)&&z.pushAny(Math.round(W/1e3))}_pushBuffer(z,W){return z._pushInt(W.length,d.BYTE_STRING)&&z.push(W)}_pushNoFilter(z,W){return z._pushBuffer(z,W.slice())}_pushRegexp(z,W){return z._pushTag(_.REGEXP)&&z.pushAny(W.source)}_pushSet(z,W){if(!z._pushInt(W.size,d.ARRAY))return!1;for(const H of W)if(!z.pushAny(H))return!1;return!0}_pushUrl(z,W){return z._pushTag(_.URI)&&z.pushAny(W.format())}_pushBigint(z){let W=_.POS_BIGINT;z.isNegative()&&(z=z.negated().minus(1),W=_.NEG_BIGINT);let H=z.toString(16);H.length%2&&(H="0"+H);const ue=e.from(H,"hex");return this._pushTag(W)&&this._pushBuffer(this,ue)}_pushBigNumber(z,W){if(W.isNaN())return z._pushNaN();if(!W.isFinite())return z._pushInfinity(W.isNegative()?-1/0:1/0);if(W.isInteger())return z._pushBigint(W);if(!(z._pushTag(_.DECIMAL_FRAC)&&z._pushInt(2,d.ARRAY)))return!1;const H=W.decimalPlaces(),ue=W.multipliedBy(new n(10).pow(H));return z._pushIntNum(-H)?ue.abs().isLessThan($)?z._pushIntNum(ue.toNumber()):z._pushBigint(ue):!1}_pushMap(z,W){return z._pushInt(W.size,d.MAP)?this._pushRawMap(W.size,Array.from(W)):!1}_pushObject(z){if(!z)return this._pushUInt8(R);for(var W=this.semanticTypes.length,H=0;H<W;H++)if(z instanceof this.semanticTypes[H][0])return this.semanticTypes[H][1].call(z,this,z);var ue=z.encodeCBOR;if(typeof ue=="function")return ue.call(z,this);var ge=Object.keys(z),j=ge.length;return this._pushInt(j,d.MAP)?this._pushRawMap(j,ge.map(I=>[I,z[I]])):!1}_pushRawMap(z,W){W=W.map(function(ue){return ue[0]=te.encode(ue[0]),ue}).sort(i.keySorter);for(var H=0;H<z;H++)if(!this.push(W[H][0])||!this.pushAny(W[H][1]))return!1;return!0}write(z){return this.pushAny(z)}pushAny(z){var W=O(z);switch(W){case"Number":return this._pushNumber(z);case"String":return this._pushString(z);case"Boolean":return this._pushBoolean(z);case"Object":return this._pushObject(z);case"Array":return this._pushArray(this,z);case"Uint8Array":return this._pushBuffer(this,e.isBuffer(z)?z:e.from(z));case"Null":return this._pushUInt8(R);case"Undefined":return this._pushUndefined(z);case"Map":return this._pushMap(this,z);case"Set":return this._pushSet(this,z);case"URL":return this._pushUrl(this,z);case"BigNumber":return this._pushBigNumber(this,z);case"Date":return this._pushDate(this,z);case"RegExp":return this._pushRegexp(this,z);case"Symbol":switch(z){case g.NULL:return this._pushObject(null);case g.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+z.toString())}default:throw new Error("Unknown type: "+typeof z+", "+(z?z.toString():""))}}finalize(){if(this.offset===0)return null;for(var z=this.result,W=this.resultLength,H=this.resultMethod,ue=this.offset,ge=0,j=0;j<ue;j++)ge+=W[j];var I=e.allocUnsafe(ge),q=0,ne=0;for(j=0;j<ue;j++){switch(ne=W[j],H[j]){case 0:z[j].copy(I,q);break;case 1:I.writeUInt8(z[j],q,!0);break;case 2:I.writeUInt16BE(z[j],q,!0);break;case 3:I.writeUInt32BE(z[j],q,!0);break;case 4:I.writeDoubleBE(z[j],q,!0);break;case 5:I.write(z[j],q,ne,"utf8");break;default:throw new Error("unkown method")}q+=ne}var fe=I;return this._reset(),fe}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(z){const W=new te;if(!W.pushAny(z))throw new Error("Failed to encode input");return W.finalize()}}return ef=te,ef}var Mm;function Vb(){return Mm||(Mm=1,function(e){e.Diagnose=$b(),e.Decoder=zy(),e.Encoder=zb(),e.Simple=Uy(),e.Tagged=Oy(),e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.decode=e.Decoder.decode,e.leveldb={decode:e.Decoder.decodeAll,encode:e.Encoder.encode,buffer:!0,name:"cbor"}}(qd)),qd}var Hb=Vb();const Vy=Jf(Hb);function Gr(e){return Ya(bb.create().update(new Uint8Array(e)).digest())}function Vl(e){if(e instanceof Vy.Tagged)return Vl(e.value);if(typeof e=="string")return Hy(e);if(typeof e=="number")return Gr(kt(e));if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return Gr(e);if(Array.isArray(e)){const r=e.map(Vl);return Gr(Lr(...r))}else{if(e&&typeof e=="object"&&e._isPrincipal)return Gr(e.toUint8Array());if(typeof e=="object"&&e!==null&&typeof e.toHash=="function")return Vl(e.toHash());if(typeof e=="object")return pc(e);if(typeof e=="bigint")return Gr(kt(e))}throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${e}`),{value:e})}const Hy=e=>{const r=new TextEncoder().encode(e);return Gr(r)};function eo(e){return pc(e)}function pc(e){const i=Object.entries(e).filter(([,f])=>f!==void 0).map(([f,u])=>{const g=Hy(f),_=Vl(u);return[g,_]}).sort(([f],[u])=>Qg(f,u)),l=Lr(...i.map(f=>Lr(...f)));return Gr(l)}var qb=function(e,r){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)r.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(n[i[l]]=e[i[l]]);return n};const Wb=new TextEncoder().encode(`
ic-request`);class u0{getPrincipal(){return this._principal||(this._principal=et.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(r){const{body:n}=r,i=qb(r,["body"]),l=eo(n);return Object.assign(Object.assign({},i),{body:{content:n,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign(Lr(Wb,l))}})}}class to{getPrincipal(){return et.anonymous()}async transformRequest(r){return Object.assign(Object.assign({},r),{body:{content:r.body}})}}var Oa={},Nn={},ft={},Fm;function qy(){if(Fm)return ft;Fm=1,Object.defineProperty(ft,"__esModule",{value:!0});const e=9007199254740992;function r(j,...I){const q=new Uint8Array(j.byteLength+I.reduce((fe,ie)=>fe+ie.byteLength,0));q.set(new Uint8Array(j),0);let ne=j.byteLength;for(const fe of I)q.set(new Uint8Array(fe),ne),ne+=fe.byteLength;return q.buffer}function n(j,I,q){q=q.replace(/[^0-9a-fA-F]/g,"");const ne=2**(I-24);q=q.slice(-ne*2).padStart(ne*2,"0");const fe=[(j<<5)+I].concat(q.match(/../g).map(ie=>parseInt(ie,16)));return new Uint8Array(fe).buffer}function i(j,I){if(I<24)return new Uint8Array([(j<<5)+I]).buffer;{const q=I<=255?24:I<=65535?25:I<=4294967295?26:27;return n(j,q,I.toString(16))}}function l(j){const I=[];for(let q=0;q<j.length;q++){let ne=j.charCodeAt(q);ne<128?I.push(ne):ne<2048?I.push(192|ne>>6,128|ne&63):ne<55296||ne>=57344?I.push(224|ne>>12,128|ne>>6&63,128|ne&63):(q++,ne=(ne&1023)<<10|j.charCodeAt(q)&1023,I.push(240|ne>>18,128|ne>>12&63,128|ne>>6&63,128|ne&63))}return r(new Uint8Array(i(3,j.length)),new Uint8Array(I))}function d(j,I){if(j==14277111)return r(new Uint8Array([217,217,247]),I);if(j<24)return r(new Uint8Array([192+j]),I);{const q=j<=255?24:j<=65535?25:j<=4294967295?26:27,ne=2**(q-24),fe=j.toString(16).slice(-ne*2).padStart(ne*2,"0"),ie=[192+q].concat(fe.match(/../g).map(Ne=>parseInt(Ne,16)));return new Uint8Array(ie).buffer}}ft.tagged=d;function f(j){return new Uint8Array(j).buffer}ft.raw=f;function u(j){if(isNaN(j))throw new RangeError("Invalid number.");j=Math.min(Math.max(0,j),23);const I=[0+j];return new Uint8Array(I).buffer}ft.uSmall=u;function g(j,I){if(j=parseInt(""+j,I),isNaN(j))throw new RangeError("Invalid number.");return j=Math.min(Math.max(0,j),255),j=j.toString(16),n(0,24,j)}ft.u8=g;function _(j,I){if(j=parseInt(""+j,I),isNaN(j))throw new RangeError("Invalid number.");return j=Math.min(Math.max(0,j),65535),j=j.toString(16),n(0,25,j)}ft.u16=_;function x(j,I){if(j=parseInt(""+j,I),isNaN(j))throw new RangeError("Invalid number.");return j=Math.min(Math.max(0,j),4294967295),j=j.toString(16),n(0,26,j)}ft.u32=x;function v(j,I){if(typeof j=="string"&&I==16){if(j.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return n(0,27,j)}if(j=parseInt(""+j,I),isNaN(j))throw new RangeError("Invalid number.");return j=Math.min(Math.max(0,j),e),j=j.toString(16),n(0,27,j)}ft.u64=v;function k(j){if(isNaN(j))throw new RangeError("Invalid number.");if(j===0)return u(0);j=Math.min(Math.max(0,-j),24)-1;const I=[32+j];return new Uint8Array(I).buffer}ft.iSmall=k;function A(j,I){if(j=parseInt(""+j,I),isNaN(j))throw new RangeError("Invalid number.");return j=Math.min(Math.max(0,-j-1),255),j=j.toString(16),n(1,24,j)}ft.i8=A;function b(j,I){if(j=parseInt(""+j,I),isNaN(j))throw new RangeError("Invalid number.");return j=Math.min(Math.max(0,-j-1),65535),j=j.toString(16),n(1,25,j)}ft.i16=b;function M(j,I){if(j=parseInt(""+j,I),isNaN(j))throw new RangeError("Invalid number.");return j=Math.min(Math.max(0,-j-1),4294967295),j=j.toString(16),n(1,26,j)}ft.i32=M;function R(j,I){if(typeof j=="string"&&I==16){if(j.startsWith("-")?j=j.slice(1):j="0",j.match(/[^0-9a-fA-F]/)||j.length>16)throw new RangeError("Invalid number.");let q=!1,ne=j.split("").reduceRight((fe,ie)=>{if(q)return ie+fe;let Ne=parseInt(ie,16)-1;return Ne>=0?(q=!0,Ne.toString(16)+fe):"f"+fe},"");return q?n(1,27,ne):v(0)}if(j=parseInt(""+j,I),isNaN(j))throw new RangeError("Invalid number.");return j=Math.min(Math.max(0,-j-1),9007199254740992),j=j.toString(16),n(1,27,j)}ft.i64=R;function $(j){return j>=0?j<24?u(j):j<=255?g(j):j<=65535?_(j):j<=4294967295?x(j):v(j):j>=-24?k(j):j>=-255?A(j):j>=-65535?b(j):j>=-4294967295?M(j):R(j)}ft.number=$;function G(j){return r(i(2,j.byteLength),j)}ft.bytes=G;function J(j){return l(j)}ft.string=J;function ce(j){return r(i(4,j.length),...j)}ft.array=ce;function O(j,I=!1){j instanceof Map||(j=new Map(Object.entries(j)));let q=Array.from(j.entries());return I&&(q=q.sort(([ne],[fe])=>ne.localeCompare(fe))),r(i(5,j.size),...q.map(([ne,fe])=>r(l(ne),fe)))}ft.map=O;function te(j){const I=new Float32Array([j]);return r(new Uint8Array([250]),new Uint8Array(I.buffer))}ft.singleFloat=te;function oe(j){const I=new Float64Array([j]);return r(new Uint8Array([251]),new Uint8Array(I.buffer))}ft.doubleFloat=oe;function z(j){return j?W():H()}ft.bool=z;function W(){return f(new Uint8Array([245]))}ft.true_=W;function H(){return f(new Uint8Array([244]))}ft.false_=H;function ue(){return f(new Uint8Array([246]))}ft.null_=ue;function ge(){return f(new Uint8Array([247]))}return ft.undefined_=ge,ft}var Um;function Gb(){if(Um)return Nn;Um=1;var e=Nn&&Nn.__importStar||function(u){if(u&&u.__esModule)return u;var g={};if(u!=null)for(var _ in u)Object.hasOwnProperty.call(u,_)&&(g[_]=u[_]);return g.default=u,g};Object.defineProperty(Nn,"__esModule",{value:!0});const r=e(qy()),n=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class i{constructor(g,_=!1){this._serializer=g,this._stable=_,this.name="jsonDefault",this.priority=-100}match(g){return["undefined","boolean","number","string","object"].indexOf(typeof g)!=-1}encode(g){switch(typeof g){case"undefined":return r.undefined_();case"boolean":return r.bool(g);case"number":return Math.floor(g)===g?r.number(g):r.doubleFloat(g);case"string":return r.string(g);case"object":if(g===null)return r.null_();if(Array.isArray(g))return r.array(g.map(_=>this._serializer.serializeValue(_)));if(n.find(_=>g instanceof _))return r.bytes(g.buffer);if(Object.getOwnPropertyNames(g).indexOf("toJSON")!==-1)return this.encode(g.toJSON());if(g instanceof Map){const _=new Map;for(const[x,v]of g.entries())_.set(x,this._serializer.serializeValue(v));return r.map(_,this._stable)}else{const _=new Map;for(const[x,v]of Object.entries(g))_.set(x,this._serializer.serializeValue(v));return r.map(_,this._stable)}default:throw new Error("Invalid value.")}}}Nn.JsonDefaultCborEncoder=i;class l{constructor(){this.name="cborEncoder",this.priority=-90}match(g){return typeof g=="object"&&typeof g.toCBOR=="function"}encode(g){return g.toCBOR()}}Nn.ToCborEncoder=l;class d{constructor(){this._encoders=new Set}static withDefaultEncoders(g=!1){const _=new this;return _.addEncoder(new i(_,g)),_.addEncoder(new l),_}removeEncoder(g){for(const _ of this._encoders.values())_.name==g&&this._encoders.delete(_)}addEncoder(g){this._encoders.add(g)}getEncoderFor(g){let _=null;for(const x of this._encoders)(!_||x.priority>_.priority)&&x.match(g)&&(_=x);if(_===null)throw new Error("Could not find an encoder for value.");return _}serializeValue(g){return this.getEncoderFor(g).encode(g)}serialize(g){return this.serializeValue(g)}}Nn.CborSerializer=d;class f extends d{serialize(g){return r.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(g))]))}}return Nn.SelfDescribeCborSerializer=f,Nn}var Om;function Lb(){return Om||(Om=1,function(e){function r(l){for(var d in l)e.hasOwnProperty(d)||(e[d]=l[d])}var n=Oa&&Oa.__importStar||function(l){if(l&&l.__esModule)return l;var d={};if(l!=null)for(var f in l)Object.hasOwnProperty.call(l,f)&&(d[f]=l[f]);return d.default=l,d};Object.defineProperty(e,"__esModule",{value:!0}),r(Gb());const i=n(qy());e.value=i}(Oa)),Oa}var _r=Lb();class Kb{get name(){return"Principal"}get priority(){return 0}match(r){return r&&r._isPrincipal===!0}encode(r){return _r.value.bytes(r.toUint8Array())}}class Yb{get name(){return"Buffer"}get priority(){return 1}match(r){return r instanceof ArrayBuffer||ArrayBuffer.isView(r)}encode(r){return _r.value.bytes(new Uint8Array(r))}}class Zb{get name(){return"BigInt"}get priority(){return 1}match(r){return typeof r=="bigint"}encode(r){return r>BigInt(0)?_r.value.tagged(2,_r.value.bytes(Pn(r.toString(16)))):_r.value.tagged(3,_r.value.bytes(Pn((BigInt("-1")*r).toString(16))))}}const Ic=_r.SelfDescribeCborSerializer.withDefaultEncoders(!0);Ic.addEncoder(new Kb);Ic.addEncoder(new Yb);Ic.addEncoder(new Zb);var Mf;(function(e){e[e.Uint64LittleEndian=71]="Uint64LittleEndian",e[e.Semantic=55799]="Semantic"})(Mf||(Mf={}));function tf(e){return Ic.serialize(e)}function Im(e){const r=e.byteLength;let n=BigInt(0);for(let i=0;i<r;i++)n=n*BigInt(256)+BigInt(e[i]);return n}class Db extends Vy.Decoder{createByteString(r){return Lr(...r)}createByteStringFromHeap(r,n){return r===n?new ArrayBuffer(0):new Uint8Array(this._heap.slice(r,n))}}function Cn(e){const r=new Uint8Array(e),n=new Db({size:r.byteLength,tags:{2:i=>Im(i),3:i=>-Im(i),[Mf.Semantic]:i=>i}});try{return n.decodeFirst(r)}catch(i){throw new Error(`Failed to decode CBOR: ${i}, input: ${wt(r)}`)}}const Cl=()=>{if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){const e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0]}if(typeof crypto<"u"&&crypto.getRandomValues){const e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}return typeof crypto<"u"&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(Math.random()*4294967295)};var Ff;(function(e){e.Call="call"})(Ff||(Ff={}));function Uf(){const e=new ArrayBuffer(16),r=new DataView(e),n=Cl(),i=Cl(),l=Cl(),d=Cl();return r.setUint32(0,n),r.setUint32(4,i),r.setUint32(8,l),r.setUint32(12,d),e}const $m=BigInt(1e6),Qb=60*1e3;class Bl{constructor(r){if(r<90*1e3){const u=BigInt(Date.now()+r)*$m/BigInt(1e9);this._value=u*BigInt(1e9);return}const d=BigInt(Math.floor(Date.now()+r-Qb))*$m/BigInt(1e9)/BigInt(60)*BigInt(60)*BigInt(1e9);this._value=d}toCBOR(){return _r.value.u64(this._value.toString(16),16)}toHash(){return kt(this._value)}}function zm(e=Uf){return async r=>{const n=r.request.headers;r.request.headers=n,r.endpoint==="call"&&(r.body.nonce=e())}}function Va(e){const r=[];return e.forEach((n,i)=>{r.push([i,n])}),r}class rf extends jt{constructor(r,n){super(r),this.response=n,this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}class Xb extends jt{constructor(r,n,i,l,d,f){super(r),this.response=n,this.requestId=i,this.senderPubkey=l,this.senderSig=d,this.ingressExpiry=f,this.name="AgentCallError",Object.setPrototypeOf(this,new.target.prototype)}}class Jb extends jt{constructor(r,n,i,l,d,f){super(r),this.response=n,this.requestId=i,this.senderPubkey=l,this.senderSig=d,this.ingressExpiry=f,this.name="AgentQueryError",Object.setPrototypeOf(this,new.target.prototype)}}class e2 extends jt{constructor(r,n,i,l,d,f){super(r),this.response=n,this.requestId=i,this.senderPubkey=l,this.senderSig=d,this.ingressExpiry=f,this.name="AgentReadStateError",Object.setPrototypeOf(this,new.target.prototype)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const d0=BigInt(0),mc=BigInt(1);function ro(e,r){if(typeof r!="boolean")throw new Error(e+" boolean expected, got "+r)}function Wy(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?d0:BigInt("0x"+e)}function un(e){return Wy(Zi(e))}function no(e){return Lt(e),Wy(Zi(Uint8Array.from(e).reverse()))}function Wt(e,r){return Gg(e.toString(16).padStart(r*2,"0"))}function $c(e,r){return Wt(e,r).reverse()}function or(e,r,n){let i;if(typeof r=="string")try{i=Gg(r)}catch(d){throw new Error(e+" must be hex string or Uint8Array, cause: "+d)}else if(n0(r))i=Uint8Array.from(r);else throw new Error(e+" must be hex string or Uint8Array");const l=i.length;if(typeof n=="number"&&l!==n)throw new Error(e+" of length "+n+" expected, got "+l);return i}const nf=e=>typeof e=="bigint"&&d0<=e;function Gy(e,r,n){return nf(e)&&nf(r)&&nf(n)&&r<=e&&e<n}function Ha(e,r,n,i){if(!Gy(r,n,i))throw new Error("expected valid "+e+": "+n+" <= n < "+i+", got "+r)}function Za(e){let r;for(r=0;e>d0;e>>=mc,r+=1);return r}function t2(e,r){return e>>BigInt(r)&mc}const Wi=e=>(mc<<BigInt(e))-mc;function r2(e){return typeof e=="function"&&Number.isSafeInteger(e.outputLen)}function co(e,r,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function i(l,d,f){const u=e[l];if(f&&u===void 0)return;const g=typeof u;if(g!==d||u===null)throw new Error(`param "${l}" is invalid: expected ${d}, got ${g}`)}Object.entries(r).forEach(([l,d])=>i(l,d,!1)),Object.entries(n).forEach(([l,d])=>i(l,d,!0))}const Vm=()=>{throw new Error("not implemented")};function so(e){const r=new WeakMap;return(n,...i)=>{const l=r.get(n);if(l!==void 0)return l;const d=e(n,...i);return r.set(n,d),d}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gr=BigInt(0),Gt=BigInt(1),qs=BigInt(2),n2=BigInt(3),Ly=BigInt(4),Ky=BigInt(5),Yy=BigInt(8);function Bt(e,r){const n=e%r;return n>=gr?n:r+n}function rn(e,r,n){let i=e;for(;r-- >gr;)i*=i,i%=n;return i}function Hm(e,r){if(e===gr)throw new Error("invert: expected non-zero number");if(r<=gr)throw new Error("invert: expected positive modulus, got "+r);let n=Bt(e,r),i=r,l=gr,d=Gt;for(;n!==gr;){const u=i/n,g=i%n,_=l-d*u;i=n,n=g,l=d,d=_}if(i!==Gt)throw new Error("invert: does not exist");return Bt(l,r)}function Zy(e,r){const n=(e.ORDER+Gt)/Ly,i=e.pow(r,n);if(!e.eql(e.sqr(i),r))throw new Error("Cannot find square root");return i}function s2(e,r){const n=(e.ORDER-Ky)/Yy,i=e.mul(r,qs),l=e.pow(i,n),d=e.mul(r,l),f=e.mul(e.mul(d,qs),l),u=e.mul(d,e.sub(f,e.ONE));if(!e.eql(e.sqr(u),r))throw new Error("Cannot find square root");return u}function i2(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let r=e-Gt,n=0;for(;r%qs===gr;)r/=qs,n++;let i=qs;const l=Js(e);for(;gc(l,i)===1;)if(i++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Zy;let d=l.pow(i,r);const f=(r+Gt)/qs;return function(g,_){if(g.is0(_))return _;if(gc(g,_)!==1)throw new Error("Cannot find square root");let x=n,v=g.mul(g.ONE,d),k=g.pow(_,r),A=g.pow(_,f);for(;!g.eql(k,g.ONE);){if(g.is0(k))return g.ZERO;let b=1,M=g.sqr(k);for(;!g.eql(M,g.ONE);)if(b++,M=g.sqr(M),b===x)throw new Error("Cannot find square root");const R=Gt<<BigInt(x-b-1),$=g.pow(v,R);x=b,v=g.sqr($),k=g.mul(k,v),A=g.mul(A,$)}return A}}function a2(e){return e%Ly===n2?Zy:e%Yy===Ky?s2:i2(e)}const o2=(e,r)=>(Bt(e,r)&Gt)===Gt,l2=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Dy(e){const r={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=l2.reduce((i,l)=>(i[l]="function",i),r);return co(e,n),e}function Hl(e,r,n){if(n<gr)throw new Error("invalid exponent, negatives unsupported");if(n===gr)return e.ONE;if(n===Gt)return r;let i=e.ONE,l=r;for(;n>gr;)n&Gt&&(i=e.mul(i,l)),l=e.sqr(l),n>>=Gt;return i}function Gs(e,r,n=!1){const i=new Array(r.length).fill(n?e.ZERO:void 0),l=r.reduce((f,u,g)=>e.is0(u)?f:(i[g]=f,e.mul(f,u)),e.ONE),d=e.inv(l);return r.reduceRight((f,u,g)=>e.is0(u)?f:(i[g]=e.mul(f,i[g]),e.mul(f,u)),d),i}function gc(e,r){const n=(e.ORDER-Gt)/qs,i=e.pow(r,n),l=e.eql(i,e.ONE),d=e.eql(i,e.ZERO),f=e.eql(i,e.neg(e.ONE));if(!l&&!d&&!f)throw new Error("invalid Legendre symbol result");return l?1:d?0:-1}function c2(e,r){r!==void 0&&Jv(r);const n=r!==void 0?r:e.toString(2).length,i=Math.ceil(n/8);return{nBitLength:n,nByteLength:i}}function Js(e,r,n=!1,i={}){if(e<=gr)throw new Error("invalid field: expected ORDER > 0, got "+e);let l,d;if(typeof r=="object"&&r!=null){if(i.sqrt||n)throw new Error("cannot specify opts in two arguments");const x=r;x.BITS&&(l=x.BITS),x.sqrt&&(d=x.sqrt),typeof x.isLE=="boolean"&&(n=x.isLE)}else typeof r=="number"&&(l=r),i.sqrt&&(d=i.sqrt);const{nBitLength:f,nByteLength:u}=c2(e,l);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let g;const _=Object.freeze({ORDER:e,isLE:n,BITS:f,BYTES:u,MASK:Wi(f),ZERO:gr,ONE:Gt,create:x=>Bt(x,e),isValid:x=>{if(typeof x!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof x);return gr<=x&&x<e},is0:x=>x===gr,isValidNot0:x=>!_.is0(x)&&_.isValid(x),isOdd:x=>(x&Gt)===Gt,neg:x=>Bt(-x,e),eql:(x,v)=>x===v,sqr:x=>Bt(x*x,e),add:(x,v)=>Bt(x+v,e),sub:(x,v)=>Bt(x-v,e),mul:(x,v)=>Bt(x*v,e),pow:(x,v)=>Hl(_,x,v),div:(x,v)=>Bt(x*Hm(v,e),e),sqrN:x=>x*x,addN:(x,v)=>x+v,subN:(x,v)=>x-v,mulN:(x,v)=>x*v,inv:x=>Hm(x,e),sqrt:d||(x=>(g||(g=a2(e)),g(_,x))),toBytes:x=>n?$c(x,u):Wt(x,u),fromBytes:x=>{if(x.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+x.length);return n?no(x):un(x)},invertBatch:x=>Gs(_,x),cmov:(x,v,k)=>k?v:x});return Object.freeze(_)}function Qy(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const r=e.toString(2).length;return Math.ceil(r/8)}function Xy(e){const r=Qy(e);return r+Math.ceil(r/2)}function u2(e,r,n=!1){const i=e.length,l=Qy(r),d=Xy(r);if(i<16||i<d||i>1024)throw new Error("expected "+d+"-1024 bytes of input, got "+i);const f=n?no(e):un(e),u=Bt(f,r-Gt)+Gt;return n?$c(u,l):Wt(u,l)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qi=BigInt(0),Ws=BigInt(1);function Da(e,r){const n=r.negate();return e?n:r}function yc(e,r,n){const i=r==="pz"?f=>f.pz:f=>f.ez,l=Gs(e.Fp,n.map(i));return n.map((f,u)=>f.toAffine(l[u])).map(e.fromAffine)}function Jy(e,r){if(!Number.isSafeInteger(e)||e<=0||e>r)throw new Error("invalid window size, expected [1.."+r+"], got W="+e)}function sf(e,r){Jy(e,r);const n=Math.ceil(r/e)+1,i=2**(e-1),l=2**e,d=Wi(e),f=BigInt(e);return{windows:n,windowSize:i,mask:d,maxNumber:l,shiftBy:f}}function qm(e,r,n){const{windowSize:i,mask:l,maxNumber:d,shiftBy:f}=n;let u=Number(e&l),g=e>>f;u>i&&(u-=d,g+=Ws);const _=r*i,x=_+Math.abs(u)-1,v=u===0,k=u<0,A=r%2!==0;return{nextN:g,offset:x,isZero:v,isNeg:k,isNegF:A,offsetF:_}}function d2(e,r){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,i)=>{if(!(n instanceof r))throw new Error("invalid point at index "+i)})}function f2(e,r){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,i)=>{if(!r.isValid(n))throw new Error("invalid scalar at index "+i)})}const af=new WeakMap,ex=new WeakMap;function of(e){return ex.get(e)||1}function Wm(e){if(e!==Qi)throw new Error("invalid wNAF")}function tx(e,r){return{constTimeNegate:Da,hasPrecomputes(n){return of(n)!==1},unsafeLadder(n,i,l=e.ZERO){let d=n;for(;i>Qi;)i&Ws&&(l=l.add(d)),d=d.double(),i>>=Ws;return l},precomputeWindow(n,i){const{windows:l,windowSize:d}=sf(i,r),f=[];let u=n,g=u;for(let _=0;_<l;_++){g=u,f.push(g);for(let x=1;x<d;x++)g=g.add(u),f.push(g);u=g.double()}return f},wNAF(n,i,l){let d=e.ZERO,f=e.BASE;const u=sf(n,r);for(let g=0;g<u.windows;g++){const{nextN:_,offset:x,isZero:v,isNeg:k,isNegF:A,offsetF:b}=qm(l,g,u);l=_,v?f=f.add(Da(A,i[b])):d=d.add(Da(k,i[x]))}return Wm(l),{p:d,f}},wNAFUnsafe(n,i,l,d=e.ZERO){const f=sf(n,r);for(let u=0;u<f.windows&&l!==Qi;u++){const{nextN:g,offset:_,isZero:x,isNeg:v}=qm(l,u,f);if(l=g,!x){const k=i[_];d=d.add(v?k.negate():k)}}return Wm(l),d},getPrecomputes(n,i,l){let d=af.get(i);return d||(d=this.precomputeWindow(i,n),n!==1&&(typeof l=="function"&&(d=l(d)),af.set(i,d))),d},wNAFCached(n,i,l){const d=of(n);return this.wNAF(d,this.getPrecomputes(d,n,l),i)},wNAFCachedUnsafe(n,i,l,d){const f=of(n);return f===1?this.unsafeLadder(n,i,d):this.wNAFUnsafe(f,this.getPrecomputes(f,n,l),i,d)},setWindowSize(n,i){Jy(i,r),ex.set(n,i),af.delete(n)}}}function h2(e,r,n,i){let l=r,d=e.ZERO,f=e.ZERO;for(;n>Qi||i>Qi;)n&Ws&&(d=d.add(l)),i&Ws&&(f=f.add(l)),l=l.double(),n>>=Ws,i>>=Ws;return{p1:d,p2:f}}function rx(e,r,n,i){d2(n,e),f2(i,r);const l=n.length,d=i.length;if(l!==d)throw new Error("arrays of points and scalars must have equal length");const f=e.ZERO,u=Za(BigInt(l));let g=1;u>12?g=u-3:u>4?g=u-2:u>0&&(g=2);const _=Wi(g),x=new Array(Number(_)+1).fill(f),v=Math.floor((r.BITS-1)/g)*g;let k=f;for(let A=v;A>=0;A-=g){x.fill(f);for(let M=0;M<d;M++){const R=i[M],$=Number(R>>BigInt(A)&_);x[$]=x[$].add(n[M])}let b=f;for(let M=x.length-1,R=f;M>0;M--)R=R.add(x[M]),b=b.add(R);if(k=k.add(b),A!==0)for(let M=0;M<g;M++)k=k.double()}return k}function Gm(e,r){if(r){if(r.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Dy(r),r}else return Js(e)}function nx(e,r,n={}){if(!r||typeof r!="object")throw new Error(`expected valid ${e} CURVE object`);for(const u of["p","n","h"]){const g=r[u];if(!(typeof g=="bigint"&&g>Qi))throw new Error(`CURVE.${u} must be positive bigint`)}const i=Gm(r.p,n.Fp),l=Gm(r.n,n.Fn),f=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const u of f)if(!i.isValid(r[u]))throw new Error(`CURVE.${u} must be valid field element of CURVE.Fp`);return{Fp:i,Fn:l}}const p2=un;function us(e,r){if(io(e),io(r),e<0||e>=1<<8*r)throw new Error("invalid I2OSP input: "+e);const n=Array.from({length:r}).fill(0);for(let i=r-1;i>=0;i--)n[i]=e&255,e>>>=8;return new Uint8Array(n)}function m2(e,r){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i]^r[i];return n}function io(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function g2(e,r,n,i){Lt(e),Lt(r),io(n),r.length>255&&(r=i(At(Cc("H2C-OVERSIZE-DST-"),r)));const{outputLen:l,blockLen:d}=i,f=Math.ceil(n/l);if(n>65535||f>255)throw new Error("expand_message_xmd: invalid lenInBytes");const u=At(r,us(r.length,1)),g=us(0,d),_=us(n,2),x=new Array(f),v=i(At(g,e,_,us(0,1),u));x[0]=i(At(v,us(1,1),u));for(let A=1;A<=f;A++){const b=[m2(v,x[A-1]),us(A+1,1),u];x[A]=i(At(...b))}return At(...x).slice(0,n)}function y2(e,r,n,i,l){if(Lt(e),Lt(r),io(n),r.length>255){const d=Math.ceil(2*i/8);r=l.create({dkLen:d}).update(Cc("H2C-OVERSIZE-DST-")).update(r).digest()}if(n>65535||r.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return l.create({dkLen:n}).update(e).update(us(n,2)).update(r).update(us(r.length,1)).digest()}function Lm(e,r,n){co(n,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:i,k:l,m:d,hash:f,expand:u,DST:g}=n;if(!n0(g)&&typeof g!="string")throw new Error("DST must be string or uint8array");if(!r2(n.hash))throw new Error("expected valid hash");Lt(e),io(r);const _=typeof g=="string"?Cc(g):g,x=i.toString(2).length,v=Math.ceil((x+l)/8),k=r*d*v;let A;if(u==="xmd")A=g2(e,_,k,f);else if(u==="xof")A=y2(e,_,k,l,f);else if(u==="_internal_pass")A=e;else throw new Error('expand must be "xmd" or "xof"');const b=new Array(r);for(let M=0;M<r;M++){const R=new Array(d);for(let $=0;$<d;$++){const G=v*($+M*d),J=A.subarray(G,G+v);R[$]=Bt(p2(J),i)}b[M]=R}return b}function sx(e,r){const n=r.map(i=>Array.from(i).reverse());return(i,l)=>{const[d,f,u,g]=n.map(v=>v.reduce((k,A)=>e.add(e.mul(k,i),A))),[_,x]=Gs(e,[f,g],!0);return i=e.mul(d,_),l=e.mul(l,e.mul(u,x)),{x:i,y:l}}}function Km(e,r,n){if(typeof r!="function")throw new Error("mapToCurve() must be defined");function i(d){return e.fromAffine(r(d))}function l(d){const f=d.clearCofactor();return f.equals(e.ZERO)?e.ZERO:(f.assertValidity(),f)}return{defaults:n,hashToCurve(d,f){const u=n.DST?n.DST:{},g=Object.assign({},n,u,f),_=Lm(d,2,g),x=i(_[0]),v=i(_[1]);return l(x.add(v))},encodeToCurve(d,f){const u=n.encodeDST?n.encodeDST:{},g=Object.assign({},n,u,f),_=Lm(d,1,g);return l(i(_[0]))},mapToCurve(d){if(!Array.isArray(d))throw new Error("expected array of bigints");for(const f of d)if(typeof f!="bigint")throw new Error("expected array of bigints");return l(i(d))}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Of=BigInt(0),mr=BigInt(1),as=BigInt(2),$i=BigInt(3),If=BigInt(4);function ix(e,r,n){function i(l){const d=e.sqr(l),f=e.mul(d,l);return e.add(e.add(f,e.mul(l,r)),n)}return i}function ax(e,r,n){const{BYTES:i}=e;function l(d){let f;if(typeof d=="bigint")f=d;else{let u=or("private key",d);if(r){if(!r.includes(u.length*2))throw new Error("invalid private key");const g=new Uint8Array(i);g.set(u,g.length-u.length),u=g}try{f=e.fromBytes(u)}catch{throw new Error(`invalid private key: expected ui8a of size ${i}, got ${typeof d}`)}}if(n&&(f=e.create(f)),!e.isValidNot0(f))throw new Error("invalid private key: out of range [1..N-1]");return f}return l}function x2(e,r={}){const{Fp:n,Fn:i}=nx("weierstrass",e,r),{h:l,n:d}=e;co(r,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:f}=r;if(f&&(!n.is0(e.a)||typeof f.beta!="bigint"||typeof f.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function u(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function g(z,W,H){const{x:ue,y:ge}=W.toAffine(),j=n.toBytes(ue);if(ro("isCompressed",H),H){u();const I=!n.isOdd(ge);return At(w2(I),j)}else return At(Uint8Array.of(4),j,n.toBytes(ge))}function _(z){Lt(z);const W=n.BYTES,H=W+1,ue=2*W+1,ge=z.length,j=z[0],I=z.subarray(1);if(ge===H&&(j===2||j===3)){const q=n.fromBytes(I);if(!n.isValid(q))throw new Error("bad point: is not on curve, wrong x");const ne=k(q);let fe;try{fe=n.sqrt(ne)}catch(Ee){const L=Ee instanceof Error?": "+Ee.message:"";throw new Error("bad point: is not on curve, sqrt error"+L)}u();const ie=n.isOdd(fe);return(j&1)===1!==ie&&(fe=n.neg(fe)),{x:q,y:fe}}else if(ge===ue&&j===4){const q=n.fromBytes(I.subarray(W*0,W*1)),ne=n.fromBytes(I.subarray(W*1,W*2));if(!A(q,ne))throw new Error("bad point: is not on curve");return{x:q,y:ne}}else throw new Error(`bad point: got length ${ge}, expected compressed=${H} or uncompressed=${ue}`)}const x=r.toBytes||g,v=r.fromBytes||_,k=ix(n,e.a,e.b);function A(z,W){const H=n.sqr(W),ue=k(z);return n.eql(H,ue)}if(!A(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const b=n.mul(n.pow(e.a,$i),If),M=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(b,M)))throw new Error("bad curve params: a or b");function R(z,W,H=!1){if(!n.isValid(W)||H&&n.is0(W))throw new Error(`bad point coordinate ${z}`);return W}function $(z){if(!(z instanceof O))throw new Error("ProjectivePoint expected")}const G=so((z,W)=>{const{px:H,py:ue,pz:ge}=z;if(n.eql(ge,n.ONE))return{x:H,y:ue};const j=z.is0();W==null&&(W=j?n.ONE:n.inv(ge));const I=n.mul(H,W),q=n.mul(ue,W),ne=n.mul(ge,W);if(j)return{x:n.ZERO,y:n.ZERO};if(!n.eql(ne,n.ONE))throw new Error("invZ was invalid");return{x:I,y:q}}),J=so(z=>{if(z.is0()){if(r.allowInfinityPoint&&!n.is0(z.py))return;throw new Error("bad point: ZERO")}const{x:W,y:H}=z.toAffine();if(!n.isValid(W)||!n.isValid(H))throw new Error("bad point: x or y not field elements");if(!A(W,H))throw new Error("bad point: equation left != right");if(!z.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function ce(z,W,H,ue,ge){return H=new O(n.mul(H.px,z),H.py,H.pz),W=Da(ue,W),H=Da(ge,H),W.add(H)}class O{constructor(W,H,ue){this.px=R("x",W),this.py=R("y",H,!0),this.pz=R("z",ue),Object.freeze(this)}static fromAffine(W){const{x:H,y:ue}=W||{};if(!W||!n.isValid(H)||!n.isValid(ue))throw new Error("invalid affine point");if(W instanceof O)throw new Error("projective point not allowed");return n.is0(H)&&n.is0(ue)?O.ZERO:new O(H,ue,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(W){return yc(O,"pz",W)}static fromBytes(W){return Lt(W),O.fromHex(W)}static fromHex(W){const H=O.fromAffine(v(or("pointHex",W)));return H.assertValidity(),H}static fromPrivateKey(W){const H=ax(i,r.allowedPrivateKeyLengths,r.wrapPrivateKey);return O.BASE.multiply(H(W))}static msm(W,H){return rx(O,i,W,H)}precompute(W=8,H=!0){return oe.setWindowSize(this,W),H||this.multiply($i),this}_setWindowSize(W){this.precompute(W)}assertValidity(){J(this)}hasEvenY(){const{y:W}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(W)}equals(W){$(W);const{px:H,py:ue,pz:ge}=this,{px:j,py:I,pz:q}=W,ne=n.eql(n.mul(H,q),n.mul(j,ge)),fe=n.eql(n.mul(ue,q),n.mul(I,ge));return ne&&fe}negate(){return new O(this.px,n.neg(this.py),this.pz)}double(){const{a:W,b:H}=e,ue=n.mul(H,$i),{px:ge,py:j,pz:I}=this;let q=n.ZERO,ne=n.ZERO,fe=n.ZERO,ie=n.mul(ge,ge),Ne=n.mul(j,j),Ee=n.mul(I,I),L=n.mul(ge,j);return L=n.add(L,L),fe=n.mul(ge,I),fe=n.add(fe,fe),q=n.mul(W,fe),ne=n.mul(ue,Ee),ne=n.add(q,ne),q=n.sub(Ne,ne),ne=n.add(Ne,ne),ne=n.mul(q,ne),q=n.mul(L,q),fe=n.mul(ue,fe),Ee=n.mul(W,Ee),L=n.sub(ie,Ee),L=n.mul(W,L),L=n.add(L,fe),fe=n.add(ie,ie),ie=n.add(fe,ie),ie=n.add(ie,Ee),ie=n.mul(ie,L),ne=n.add(ne,ie),Ee=n.mul(j,I),Ee=n.add(Ee,Ee),ie=n.mul(Ee,L),q=n.sub(q,ie),fe=n.mul(Ee,Ne),fe=n.add(fe,fe),fe=n.add(fe,fe),new O(q,ne,fe)}add(W){$(W);const{px:H,py:ue,pz:ge}=this,{px:j,py:I,pz:q}=W;let ne=n.ZERO,fe=n.ZERO,ie=n.ZERO;const Ne=e.a,Ee=n.mul(e.b,$i);let L=n.mul(H,j),de=n.mul(ue,I),Re=n.mul(ge,q),U=n.add(H,ue),Pe=n.add(j,I);U=n.mul(U,Pe),Pe=n.add(L,de),U=n.sub(U,Pe),Pe=n.add(H,ge);let Be=n.add(j,q);return Pe=n.mul(Pe,Be),Be=n.add(L,Re),Pe=n.sub(Pe,Be),Be=n.add(ue,ge),ne=n.add(I,q),Be=n.mul(Be,ne),ne=n.add(de,Re),Be=n.sub(Be,ne),ie=n.mul(Ne,Pe),ne=n.mul(Ee,Re),ie=n.add(ne,ie),ne=n.sub(de,ie),ie=n.add(de,ie),fe=n.mul(ne,ie),de=n.add(L,L),de=n.add(de,L),Re=n.mul(Ne,Re),Pe=n.mul(Ee,Pe),de=n.add(de,Re),Re=n.sub(L,Re),Re=n.mul(Ne,Re),Pe=n.add(Pe,Re),L=n.mul(de,Pe),fe=n.add(fe,L),L=n.mul(Be,Pe),ne=n.mul(U,ne),ne=n.sub(ne,L),L=n.mul(U,de),ie=n.mul(Be,ie),ie=n.add(ie,L),new O(ne,fe,ie)}subtract(W){return this.add(W.negate())}is0(){return this.equals(O.ZERO)}multiply(W){const{endo:H}=r;if(!i.isValidNot0(W))throw new Error("invalid scalar: out of range");let ue,ge;const j=I=>oe.wNAFCached(this,I,O.normalizeZ);if(H){const{k1neg:I,k1:q,k2neg:ne,k2:fe}=H.splitScalar(W),{p:ie,f:Ne}=j(q),{p:Ee,f:L}=j(fe);ge=Ne.add(L),ue=ce(H.beta,ie,Ee,I,ne)}else{const{p:I,f:q}=j(W);ue=I,ge=q}return O.normalizeZ([ue,ge])[0]}multiplyUnsafe(W){const{endo:H}=r,ue=this;if(!i.isValid(W))throw new Error("invalid scalar: out of range");if(W===Of||ue.is0())return O.ZERO;if(W===mr)return ue;if(oe.hasPrecomputes(this))return this.multiply(W);if(H){const{k1neg:ge,k1:j,k2neg:I,k2:q}=H.splitScalar(W),{p1:ne,p2:fe}=h2(O,ue,j,q);return ce(H.beta,ne,fe,ge,I)}else return oe.wNAFCachedUnsafe(ue,W)}multiplyAndAddUnsafe(W,H,ue){const ge=this.multiplyUnsafe(H).add(W.multiplyUnsafe(ue));return ge.is0()?void 0:ge}toAffine(W){return G(this,W)}isTorsionFree(){const{isTorsionFree:W}=r;return l===mr?!0:W?W(O,this):oe.wNAFCachedUnsafe(this,d).is0()}clearCofactor(){const{clearCofactor:W}=r;return l===mr?this:W?W(O,this):this.multiplyUnsafe(l)}toBytes(W=!0){return ro("isCompressed",W),this.assertValidity(),x(O,this,W)}toRawBytes(W=!0){return this.toBytes(W)}toHex(W=!0){return Zi(this.toBytes(W))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}O.BASE=new O(e.Gx,e.Gy,n.ONE),O.ZERO=new O(n.ZERO,n.ONE,n.ZERO),O.Fp=n,O.Fn=i;const te=i.BITS,oe=tx(O,r.endo?Math.ceil(te/2):te);return O}function Ym(e){const{CURVE:r,curveOpts:n}=v2(e),i=x2(r,n);return b2(e,i)}function w2(e){return Uint8Array.of(e?2:3)}function v2(e){const r={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,i=Js(r.n,e.nBitLength),l={Fp:n,Fn:i,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:r,curveOpts:l}}function b2(e,r){const{Fp:n,Fn:i}=r;function l(u){return Gy(u,mr,i.ORDER)}const d=ix(n,e.a,e.b),f=ax(i,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return Object.assign({},{CURVE:e,Point:r,ProjectivePoint:r,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:l})}function N2(e,r){const n=e.ORDER;let i=Of;for(let b=n-mr;b%as===Of;b/=as)i+=mr;const l=i,d=as<<l-mr-mr,f=d*as,u=(n-mr)/f,g=(u-mr)/as,_=f-mr,x=d,v=e.pow(r,u),k=e.pow(r,(u+mr)/as);let A=(b,M)=>{let R=v,$=e.pow(M,_),G=e.sqr($);G=e.mul(G,M);let J=e.mul(b,G);J=e.pow(J,g),J=e.mul(J,$),$=e.mul(J,M),G=e.mul(J,b);let ce=e.mul(G,$);J=e.pow(ce,x);let O=e.eql(J,e.ONE);$=e.mul(G,k),J=e.mul(ce,R),G=e.cmov($,G,O),ce=e.cmov(J,ce,O);for(let te=l;te>mr;te--){let oe=te-as;oe=as<<oe-mr;let z=e.pow(ce,oe);const W=e.eql(z,e.ONE);$=e.mul(G,R),R=e.mul(R,R),z=e.mul(ce,R),G=e.cmov($,G,W),ce=e.cmov(z,ce,W)}return{isValid:O,value:G}};if(e.ORDER%If===$i){const b=(e.ORDER-$i)/If,M=e.sqrt(e.neg(r));A=(R,$)=>{let G=e.sqr($);const J=e.mul(R,$);G=e.mul(G,J);let ce=e.pow(G,b);ce=e.mul(ce,J);const O=e.mul(ce,M),te=e.mul(e.sqr(ce),$),oe=e.eql(te,R);let z=e.cmov(O,ce,oe);return{isValid:oe,value:z}}}return A}function ox(e,r){Dy(e);const{A:n,B:i,Z:l}=r;if(!e.isValid(n)||!e.isValid(i)||!e.isValid(l))throw new Error("mapToCurveSimpleSWU: invalid opts");const d=N2(e,l);if(!e.isOdd)throw new Error("Field does not have .isOdd()");return f=>{let u,g,_,x,v,k,A,b;u=e.sqr(f),u=e.mul(u,l),g=e.sqr(u),g=e.add(g,u),_=e.add(g,e.ONE),_=e.mul(_,i),x=e.cmov(l,e.neg(g),!e.eql(g,e.ZERO)),x=e.mul(x,n),g=e.sqr(_),k=e.sqr(x),v=e.mul(k,n),g=e.add(g,v),g=e.mul(g,_),k=e.mul(k,x),v=e.mul(k,i),g=e.add(g,v),A=e.mul(u,_);const{isValid:M,value:R}=d(g,k);b=e.mul(u,f),b=e.mul(b,R),A=e.cmov(A,_,M),b=e.cmov(b,R,M);const $=e.isOdd(f)===e.isOdd(b);b=e.cmov(e.neg(b),b,$);const G=Gs(e,[x],!0)[0];return A=e.mul(A,G),{x:A,y:b}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _2=BigInt(0),Rl=BigInt(1),Zm=BigInt(2),zi=BigInt(3);function E2(e){const r=[];for(;e>Rl;e>>=Rl)(e&Rl)===_2?r.unshift(0):(e&zi)===zi?(r.unshift(-1),e+=Rl):r.unshift(1);return r}function j2(e){const{Fp:r,Fr:n,Fp2:i,Fp6:l,Fp12:d}=e.fields,f=e.params.xNegative,u=e.params.twistType,g=Ym(e.G1),_=Object.assign(g,Km(g.Point,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults})),x=Ym(e.G2),v=Object.assign(x,Km(x.Point,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults}));let k;if(u==="multiplicative")k=(be,me,_e,E,P,K)=>d.mul014(E,be,i.mul(me,P),i.mul(_e,K));else if(u==="divisive")k=(be,me,_e,E,P,K)=>d.mul034(E,i.mul(_e,K),i.mul(me,P),be);else throw new Error("bls: unknown twist type");const A=i.div(i.ONE,i.mul(i.ONE,Zm));function b(be,me,_e,E){const P=i.sqr(_e),K=i.sqr(E),Z=i.mulByB(i.mul(K,zi)),X=i.mul(Z,zi),se=i.sub(i.sub(i.sqr(i.add(_e,E)),K),P),S=i.sub(Z,P),p=i.mul(i.sqr(me),zi),m=i.neg(se);return be.push([S,p,m]),me=i.mul(i.mul(i.mul(i.sub(P,X),me),_e),A),_e=i.sub(i.sqr(i.mul(i.add(P,X),A)),i.mul(i.sqr(Z),zi)),E=i.mul(P,se),{Rx:me,Ry:_e,Rz:E}}function M(be,me,_e,E,P,K){const Z=i.sub(_e,i.mul(K,E)),X=i.sub(me,i.mul(P,E)),se=i.sub(i.mul(Z,P),i.mul(X,K)),S=i.neg(Z),p=X;be.push([se,S,p]);const m=i.sqr(X),C=i.mul(m,X),F=i.mul(m,me),Q=i.add(i.sub(C,i.mul(F,Zm)),i.mul(i.sqr(Z),E));return me=i.mul(X,Q),_e=i.sub(i.mul(i.sub(F,Q),Z),i.mul(C,_e)),E=i.mul(E,C),{Rx:me,Ry:_e,Rz:E}}const R=E2(e.params.ateLoopSize),$=so(be=>{const me=be,{x:_e,y:E}=me.toAffine(),P=_e,K=E,Z=i.neg(E);let X=P,se=K,S=i.ONE;const p=[];for(const m of R){const C=[];({Rx:X,Ry:se,Rz:S}=b(C,X,se,S)),m&&({Rx:X,Ry:se,Rz:S}=M(C,X,se,S,P,m===-1?Z:K)),p.push(C)}if(e.postPrecompute){const m=p[p.length-1];e.postPrecompute(X,se,S,P,K,M.bind(null,m))}return p});function G(be,me=!1){let _e=d.ONE;if(be.length){const E=be[0][0].length;for(let P=0;P<E;P++){_e=d.sqr(_e);for(const[K,Z,X]of be)for(const[se,S,p]of K[P])_e=k(se,S,p,_e,Z,X)}}return f&&(_e=d.conjugate(_e)),me?d.finalExponentiate(_e):_e}function J(be,me=!0){const _e=[];yc(_.Point,"pz",be.map(({g1:E})=>E)),yc(v.Point,"pz",be.map(({g2:E})=>E));for(const{g1:E,g2:P}of be){if(E.is0()||P.is0())throw new Error("pairing is not available for ZERO point");E.assertValidity(),P.assertValidity();const K=E.toAffine();_e.push([$(P),K.x,K.y])}return G(_e,me)}function ce(be,me,_e=!0){return J([{g1:be,g2:me}],_e)}const O=e.randomBytes||Kg,te={randomPrivateKey:()=>{const be=Xy(n.ORDER);return u2(O(be),n.ORDER)},calcPairingPrecomputes:$};function oe(be){if(!Array.isArray(be)||be.length===0)throw new Error("expected non-empty array")}function z(be){return be instanceof _.Point?be:_.Point.fromHex(be)}function W(be){return be instanceof v.Point?be:I.fromHex(be)}function H(be,me){function _e(Z){return Z instanceof be.Point?Z:be.Point.fromHex(Z)}function E(Z){return Z instanceof me.Point?Z:me.Point.fromHex(Z)}function P(Z){if(!(Z instanceof me.Point))throw new Error(`expected valid message hashed to ${K?"G2":"G1"} curve`);return Z}const K=me.Point.Fp.BYTES>be.Point.Fp.BYTES;return{getPublicKey(Z){return be.Point.fromPrivateKey(Z)},sign(Z,X,se){if(se!=null)throw new Error("sign() expects 2 arguments");return P(Z).assertValidity(),Z.multiply(be.normPrivateKeyToScalar(X))},verify(Z,X,se,S){if(S!=null)throw new Error("verify() expects 3 arguments");Z=E(Z),se=_e(se);const p=se.negate(),m=be.Point.BASE,C=P(X),F=Z,he=J(K?[{g1:p,g2:C},{g1:m,g2:F}]:[{g1:C,g2:p},{g1:F,g2:m}]);return d.eql(he,d.ONE)},aggregatePublicKeys(Z){oe(Z),Z=Z.map(se=>_e(se));const X=Z.reduce((se,S)=>se.add(S),be.Point.ZERO);return X.assertValidity(),X},aggregateSignatures(Z){oe(Z),Z=Z.map(se=>E(se));const X=Z.reduce((se,S)=>se.add(S),me.Point.ZERO);return X.assertValidity(),X},hash(Z,X){Lt(Z);const se=X?{DST:X}:void 0;return me.hashToCurve(Z,se)},Signature:K?e.G2.Signature:e.G1.ShortSignature}}const ue=H(_,v),ge=H(v,_),{ShortSignature:j}=e.G1,{Signature:I}=e.G2;function q(be,me){return be instanceof _.Point?be:ge.hash(or("point",be),me==null?void 0:me.DST)}function ne(be,me){return be instanceof v.Point?be:ue.hash(or("point",be),me==null?void 0:me.DST)}function fe(be){return ue.getPublicKey(be).toBytes(!0)}function ie(be){return ge.getPublicKey(be).toBytes(!0)}function Ne(be,me,_e){const E=ne(be,_e),P=ue.sign(E,me);return be instanceof v.Point?P:I.toBytes(P)}function Ee(be,me,_e){const E=q(be,_e),P=ge.sign(E,me);return be instanceof _.Point?P:j.toBytes(P)}function L(be,me,_e,E){const P=ne(me,E);return ue.verify(be,P,_e)}function de(be,me,_e,E){const P=q(me,E);return ge.verify(be,P,_e)}function Re(be){const me=ue.aggregatePublicKeys(be);return be[0]instanceof _.Point?me:me.toBytes(!0)}function U(be){const me=ue.aggregateSignatures(be);return be[0]instanceof v.Point?me:I.toBytes(me)}function Pe(be){const me=ge.aggregateSignatures(be);return be[0]instanceof _.Point?me:j.toBytes(me)}function Be(be,me,_e,E){if(oe(me),_e.length!==me.length)throw new Error("amount of public keys and messages should be equal");const P=W(be),K=me.map(S=>ne(S,E)),Z=_e.map(z),X=new Map;for(let S=0;S<Z.length;S++){const p=Z[S],m=K[S];let C=X.get(m);C===void 0&&(C=[],X.set(m,C)),C.push(p)}const se=[];try{for(const[S,p]of X){const m=p.reduce((C,F)=>C.add(F));se.push({g1:m,g2:S})}return se.push({g1:_.Point.BASE.negate(),g2:P}),d.eql(J(se),d.ONE)}catch{return!1}}return _.Point.BASE.precompute(4),{longSignatures:ue,shortSignatures:ge,millerLoopBatch:G,pairing:ce,pairingBatch:J,verifyBatch:Be,curves:{G1:g.Point,G2:x.Point},fields:{Fr:n,Fp:r,Fp2:i,Fp6:l,Fp12:d},params:{ateLoopSize:e.params.ateLoopSize,twistType:e.params.twistType,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:te,getPublicKey:fe,getPublicKeyForShortSignatures:ie,sign:Ne,signShortSignature:Ee,verify:L,verifyShortSignature:de,aggregatePublicKeys:Re,aggregateSignatures:U,aggregateShortSignatures:Pe,G1:_,G2:v,Signature:I,ShortSignature:j}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Dm=BigInt(0),Vi=BigInt(1),Sn=BigInt(2),Qm=BigInt(3);function lf(e,r,n,i,l=1,d){const f=BigInt(d===void 0?i:d),u=n**BigInt(i),g=[];for(let _=0;_<l;_++){const x=BigInt(_+1),v=[];for(let k=0,A=Vi;k<i;k++){const b=(x*A-x)/f%u;v.push(e.pow(r,b)),A*=n}g.push(v)}return g}function k2(e,r,n){const i=r.pow(n,(e.ORDER-Vi)/Qm),l=r.pow(n,(e.ORDER-Vi)/Sn);function d(k,A){const b=r.mul(r.frobeniusMap(k,1),i),M=r.mul(r.frobeniusMap(A,1),l);return[b,M]}const f=r.pow(n,(e.ORDER**Sn-Vi)/Qm),u=r.pow(n,(e.ORDER**Sn-Vi)/Sn);if(!r.eql(u,r.neg(r.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function g(k,A){return[r.mul(k,f),r.neg(A)]}const _=k=>(A,b)=>{const M=b.toAffine(),R=k(M.x,M.y);return A.fromAffine({x:R[0],y:R[1]})},x=_(d),v=_(g);return{psi:d,psi2:g,G2psi:x,G2psi2:v,PSI_X:i,PSI_Y:l,PSI2_X:f,PSI2_Y:u}}function S2(e){const{ORDER:r}=e,n=Js(r),i=n.create(e.NONRESIDUE||BigInt(-1)),l=n.div(n.ONE,Sn),d=lf(n,i,n.ORDER,2)[0],f=({c0:j,c1:I},{c0:q,c1:ne})=>({c0:n.add(j,q),c1:n.add(I,ne)}),u=({c0:j,c1:I},{c0:q,c1:ne})=>({c0:n.sub(j,q),c1:n.sub(I,ne)}),g=({c0:j,c1:I},q)=>{if(typeof q=="bigint")return{c0:n.mul(j,q),c1:n.mul(I,q)};const{c0:ne,c1:fe}=q;let ie=n.mul(j,ne),Ne=n.mul(I,fe);const Ee=n.sub(ie,Ne),L=n.sub(n.mul(n.add(j,I),n.add(ne,fe)),n.add(ie,Ne));return{c0:Ee,c1:L}},_=({c0:j,c1:I})=>{const q=n.add(j,I),ne=n.sub(j,I),fe=n.add(j,j);return{c0:n.mul(q,ne),c1:n.mul(fe,I)}},x=j=>{if(j.length!==2)throw new Error("invalid tuple");const I=j.map(q=>n.create(q));return{c0:I[0],c1:I[1]}};function v(j,I){return typeof j=="bigint"&&Dm<=j&&j<I}const k=r*r,A=x(e.FP2_NONRESIDUE),b={ORDER:k,isLE:n.isLE,NONRESIDUE:A,BITS:Za(k),BYTES:Math.ceil(Za(k)/8),MASK:Wi(Za(k)),ZERO:{c0:n.ZERO,c1:n.ZERO},ONE:{c0:n.ONE,c1:n.ZERO},create:j=>j,isValid:({c0:j,c1:I})=>v(j,k)&&v(I,k),is0:({c0:j,c1:I})=>n.is0(j)&&n.is0(I),isValidNot0:j=>!b.is0(j)&&b.isValid(j),eql:({c0:j,c1:I},{c0:q,c1:ne})=>n.eql(j,q)&&n.eql(I,ne),neg:({c0:j,c1:I})=>({c0:n.neg(j),c1:n.neg(I)}),pow:(j,I)=>Hl(b,j,I),invertBatch:j=>Gs(b,j),add:f,sub:u,mul:g,sqr:_,addN:f,subN:u,mulN:g,sqrN:_,div:(j,I)=>b.mul(j,typeof I=="bigint"?n.inv(n.create(I)):b.inv(I)),inv:({c0:j,c1:I})=>{const q=n.inv(n.create(j*j+I*I));return{c0:n.mul(q,n.create(j)),c1:n.mul(q,n.create(-I))}},sqrt:j=>{if(e.Fp2sqrt)return e.Fp2sqrt(j);const{c0:I,c1:q}=j;if(n.is0(q))return gc(n,I)===1?b.create({c0:n.sqrt(I),c1:n.ZERO}):b.create({c0:n.ZERO,c1:n.sqrt(n.div(I,i))});const ne=n.sqrt(n.sub(n.sqr(I),n.mul(n.sqr(q),i)));let fe=n.mul(n.add(ne,I),l);gc(n,fe)===-1&&(fe=n.sub(fe,ne));const Ne=n.sqrt(fe),Ee=b.create({c0:Ne,c1:n.div(n.mul(q,l),Ne)});if(!b.eql(b.sqr(Ee),j))throw new Error("Cannot find square root");const L=Ee,de=b.neg(L),{re:Re,im:U}=b.reim(L),{re:Pe,im:Be}=b.reim(de);return U>Be||U===Be&&Re>Pe?L:de},isOdd:j=>{const{re:I,im:q}=b.reim(j),ne=I%Sn,fe=I===Dm,ie=q%Sn;return BigInt(ne||fe&&ie)==Vi},fromBytes(j){if(j.length!==b.BYTES)throw new Error("fromBytes invalid length="+j.length);return{c0:n.fromBytes(j.subarray(0,n.BYTES)),c1:n.fromBytes(j.subarray(n.BYTES))}},toBytes:({c0:j,c1:I})=>At(n.toBytes(j),n.toBytes(I)),cmov:({c0:j,c1:I},{c0:q,c1:ne},fe)=>({c0:n.cmov(j,q,fe),c1:n.cmov(I,ne,fe)}),reim:({c0:j,c1:I})=>({re:j,im:I}),mulByNonresidue:({c0:j,c1:I})=>b.mul({c0:j,c1:I},A),mulByB:e.Fp2mulByB,fromBigTuple:x,frobeniusMap:({c0:j,c1:I},q)=>({c0:j,c1:n.mul(I,d[q%2])})},M=({c0:j,c1:I,c2:q},{c0:ne,c1:fe,c2:ie})=>({c0:b.add(j,ne),c1:b.add(I,fe),c2:b.add(q,ie)}),R=({c0:j,c1:I,c2:q},{c0:ne,c1:fe,c2:ie})=>({c0:b.sub(j,ne),c1:b.sub(I,fe),c2:b.sub(q,ie)}),$=({c0:j,c1:I,c2:q},ne)=>{if(typeof ne=="bigint")return{c0:b.mul(j,ne),c1:b.mul(I,ne),c2:b.mul(q,ne)};const{c0:fe,c1:ie,c2:Ne}=ne,Ee=b.mul(j,fe),L=b.mul(I,ie),de=b.mul(q,Ne);return{c0:b.add(Ee,b.mulByNonresidue(b.sub(b.mul(b.add(I,q),b.add(ie,Ne)),b.add(L,de)))),c1:b.add(b.sub(b.mul(b.add(j,I),b.add(fe,ie)),b.add(Ee,L)),b.mulByNonresidue(de)),c2:b.sub(b.add(L,b.mul(b.add(j,q),b.add(fe,Ne))),b.add(Ee,de))}},G=({c0:j,c1:I,c2:q})=>{let ne=b.sqr(j),fe=b.mul(b.mul(j,I),Sn),ie=b.mul(b.mul(I,q),Sn),Ne=b.sqr(q);return{c0:b.add(b.mulByNonresidue(ie),ne),c1:b.add(b.mulByNonresidue(Ne),fe),c2:b.sub(b.sub(b.add(b.add(fe,b.sqr(b.add(b.sub(j,I),q))),ie),ne),Ne)}},[J,ce]=lf(b,A,n.ORDER,6,2,3),O={ORDER:b.ORDER,isLE:b.isLE,BITS:3*b.BITS,BYTES:3*b.BYTES,MASK:Wi(3*b.BITS),ZERO:{c0:b.ZERO,c1:b.ZERO,c2:b.ZERO},ONE:{c0:b.ONE,c1:b.ZERO,c2:b.ZERO},create:j=>j,isValid:({c0:j,c1:I,c2:q})=>b.isValid(j)&&b.isValid(I)&&b.isValid(q),is0:({c0:j,c1:I,c2:q})=>b.is0(j)&&b.is0(I)&&b.is0(q),isValidNot0:j=>!O.is0(j)&&O.isValid(j),neg:({c0:j,c1:I,c2:q})=>({c0:b.neg(j),c1:b.neg(I),c2:b.neg(q)}),eql:({c0:j,c1:I,c2:q},{c0:ne,c1:fe,c2:ie})=>b.eql(j,ne)&&b.eql(I,fe)&&b.eql(q,ie),sqrt:Vm,div:(j,I)=>O.mul(j,typeof I=="bigint"?n.inv(n.create(I)):O.inv(I)),pow:(j,I)=>Hl(O,j,I),invertBatch:j=>Gs(O,j),add:M,sub:R,mul:$,sqr:G,addN:M,subN:R,mulN:$,sqrN:G,inv:({c0:j,c1:I,c2:q})=>{let ne=b.sub(b.sqr(j),b.mulByNonresidue(b.mul(q,I))),fe=b.sub(b.mulByNonresidue(b.sqr(q)),b.mul(j,I)),ie=b.sub(b.sqr(I),b.mul(j,q)),Ne=b.inv(b.add(b.mulByNonresidue(b.add(b.mul(q,fe),b.mul(I,ie))),b.mul(j,ne)));return{c0:b.mul(Ne,ne),c1:b.mul(Ne,fe),c2:b.mul(Ne,ie)}},fromBytes:j=>{if(j.length!==O.BYTES)throw new Error("fromBytes invalid length="+j.length);return{c0:b.fromBytes(j.subarray(0,b.BYTES)),c1:b.fromBytes(j.subarray(b.BYTES,2*b.BYTES)),c2:b.fromBytes(j.subarray(2*b.BYTES))}},toBytes:({c0:j,c1:I,c2:q})=>At(b.toBytes(j),b.toBytes(I),b.toBytes(q)),cmov:({c0:j,c1:I,c2:q},{c0:ne,c1:fe,c2:ie},Ne)=>({c0:b.cmov(j,ne,Ne),c1:b.cmov(I,fe,Ne),c2:b.cmov(q,ie,Ne)}),fromBigSix:j=>{if(!Array.isArray(j)||j.length!==6)throw new Error("invalid Fp6 usage");return{c0:b.fromBigTuple(j.slice(0,2)),c1:b.fromBigTuple(j.slice(2,4)),c2:b.fromBigTuple(j.slice(4,6))}},frobeniusMap:({c0:j,c1:I,c2:q},ne)=>({c0:b.frobeniusMap(j,ne),c1:b.mul(b.frobeniusMap(I,ne),J[ne%6]),c2:b.mul(b.frobeniusMap(q,ne),ce[ne%6])}),mulByFp2:({c0:j,c1:I,c2:q},ne)=>({c0:b.mul(j,ne),c1:b.mul(I,ne),c2:b.mul(q,ne)}),mulByNonresidue:({c0:j,c1:I,c2:q})=>({c0:b.mulByNonresidue(q),c1:j,c2:I}),mul1:({c0:j,c1:I,c2:q},ne)=>({c0:b.mulByNonresidue(b.mul(q,ne)),c1:b.mul(j,ne),c2:b.mul(I,ne)}),mul01({c0:j,c1:I,c2:q},ne,fe){let ie=b.mul(j,ne),Ne=b.mul(I,fe);return{c0:b.add(b.mulByNonresidue(b.sub(b.mul(b.add(I,q),fe),Ne)),ie),c1:b.sub(b.sub(b.mul(b.add(ne,fe),b.add(j,I)),ie),Ne),c2:b.add(b.sub(b.mul(b.add(j,q),ne),ie),Ne)}}},te=lf(b,A,n.ORDER,12,1,6)[0],oe=({c0:j,c1:I},{c0:q,c1:ne})=>({c0:O.add(j,q),c1:O.add(I,ne)}),z=({c0:j,c1:I},{c0:q,c1:ne})=>({c0:O.sub(j,q),c1:O.sub(I,ne)}),W=({c0:j,c1:I},q)=>{if(typeof q=="bigint")return{c0:O.mul(j,q),c1:O.mul(I,q)};let{c0:ne,c1:fe}=q,ie=O.mul(j,ne),Ne=O.mul(I,fe);return{c0:O.add(ie,O.mulByNonresidue(Ne)),c1:O.sub(O.mul(O.add(j,I),O.add(ne,fe)),O.add(ie,Ne))}},H=({c0:j,c1:I})=>{let q=O.mul(j,I);return{c0:O.sub(O.sub(O.mul(O.add(O.mulByNonresidue(I),j),O.add(j,I)),q),O.mulByNonresidue(q)),c1:O.add(q,q)}};function ue(j,I){const q=b.sqr(j),ne=b.sqr(I);return{first:b.add(b.mulByNonresidue(ne),q),second:b.sub(b.sub(b.sqr(b.add(j,I)),q),ne)}}const ge={ORDER:b.ORDER,isLE:O.isLE,BITS:2*O.BITS,BYTES:2*O.BYTES,MASK:Wi(2*O.BITS),ZERO:{c0:O.ZERO,c1:O.ZERO},ONE:{c0:O.ONE,c1:O.ZERO},create:j=>j,isValid:({c0:j,c1:I})=>O.isValid(j)&&O.isValid(I),is0:({c0:j,c1:I})=>O.is0(j)&&O.is0(I),isValidNot0:j=>!ge.is0(j)&&ge.isValid(j),neg:({c0:j,c1:I})=>({c0:O.neg(j),c1:O.neg(I)}),eql:({c0:j,c1:I},{c0:q,c1:ne})=>O.eql(j,q)&&O.eql(I,ne),sqrt:Vm,inv:({c0:j,c1:I})=>{let q=O.inv(O.sub(O.sqr(j),O.mulByNonresidue(O.sqr(I))));return{c0:O.mul(j,q),c1:O.neg(O.mul(I,q))}},div:(j,I)=>ge.mul(j,typeof I=="bigint"?n.inv(n.create(I)):ge.inv(I)),pow:(j,I)=>Hl(ge,j,I),invertBatch:j=>Gs(ge,j),add:oe,sub:z,mul:W,sqr:H,addN:oe,subN:z,mulN:W,sqrN:H,fromBytes:j=>{if(j.length!==ge.BYTES)throw new Error("fromBytes invalid length="+j.length);return{c0:O.fromBytes(j.subarray(0,O.BYTES)),c1:O.fromBytes(j.subarray(O.BYTES))}},toBytes:({c0:j,c1:I})=>At(O.toBytes(j),O.toBytes(I)),cmov:({c0:j,c1:I},{c0:q,c1:ne},fe)=>({c0:O.cmov(j,q,fe),c1:O.cmov(I,ne,fe)}),fromBigTwelve:j=>({c0:O.fromBigSix(j.slice(0,6)),c1:O.fromBigSix(j.slice(6,12))}),frobeniusMap(j,I){const{c0:q,c1:ne,c2:fe}=O.frobeniusMap(j.c1,I),ie=te[I%12];return{c0:O.frobeniusMap(j.c0,I),c1:O.create({c0:b.mul(q,ie),c1:b.mul(ne,ie),c2:b.mul(fe,ie)})}},mulByFp2:({c0:j,c1:I},q)=>({c0:O.mulByFp2(j,q),c1:O.mulByFp2(I,q)}),conjugate:({c0:j,c1:I})=>({c0:j,c1:O.neg(I)}),mul014:({c0:j,c1:I},q,ne,fe)=>{let ie=O.mul01(j,q,ne),Ne=O.mul1(I,fe);return{c0:O.add(O.mulByNonresidue(Ne),ie),c1:O.sub(O.sub(O.mul01(O.add(I,j),q,b.add(ne,fe)),ie),Ne)}},mul034:({c0:j,c1:I},q,ne,fe)=>{const ie=O.create({c0:b.mul(j.c0,q),c1:b.mul(j.c1,q),c2:b.mul(j.c2,q)}),Ne=O.mul01(I,ne,fe),Ee=O.mul01(O.add(j,I),b.add(q,ne),fe);return{c0:O.add(O.mulByNonresidue(Ne),ie),c1:O.sub(Ee,O.add(ie,Ne))}},_cyclotomicSquare:e.Fp12cyclotomicSquare,_cyclotomicExp:e.Fp12cyclotomicExp,finalExponentiate:e.Fp12finalExponentiate};return{Fp:n,Fp2:b,Fp6:O,Fp12:ge,Fp4Square:ue}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tr=BigInt(0),xc=BigInt(1),zt=BigInt(2),zc=BigInt(3),ao=BigInt(4),ds=BigInt("0xd201000000010000"),A2=Za(ds),Xs={p:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),n:BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001"),h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),a:tr,b:ao,Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1")},T2=Js(Xs.n),{Fp:qe,Fp2:Ve,Fp6:$f,Fp4Square:cf,Fp12:nt}=S2({ORDER:Xs.p,FP2_NONRESIDUE:[xc,xc],Fp2mulByB:({c0:e,c1:r})=>{const n=qe.mul(e,ao),i=qe.mul(r,ao);return{c0:qe.sub(n,i),c1:qe.add(n,i)}},Fp12cyclotomicSquare:({c0:e,c1:r})=>{const{c0:n,c1:i,c2:l}=e,{c0:d,c1:f,c2:u}=r,{first:g,second:_}=cf(n,f),{first:x,second:v}=cf(d,l),{first:k,second:A}=cf(i,u),b=Ve.mulByNonresidue(A);return{c0:$f.create({c0:Ve.add(Ve.mul(Ve.sub(g,n),zt),g),c1:Ve.add(Ve.mul(Ve.sub(x,i),zt),x),c2:Ve.add(Ve.mul(Ve.sub(k,l),zt),k)}),c1:$f.create({c0:Ve.add(Ve.mul(Ve.add(b,d),zt),b),c1:Ve.add(Ve.mul(Ve.add(_,f),zt),_),c2:Ve.add(Ve.mul(Ve.add(v,u),zt),v)})}},Fp12cyclotomicExp(e,r){let n=nt.ONE;for(let i=A2-1;i>=0;i--)n=nt._cyclotomicSquare(n),t2(r,i)&&(n=nt.mul(n,e));return n},Fp12finalExponentiate:e=>{const r=ds,n=nt.div(nt.frobeniusMap(e,6),e),i=nt.mul(nt.frobeniusMap(n,2),n),l=nt.conjugate(nt._cyclotomicExp(i,r)),d=nt.mul(nt.conjugate(nt._cyclotomicSquare(i)),l),f=nt.conjugate(nt._cyclotomicExp(d,r)),u=nt.conjugate(nt._cyclotomicExp(f,r)),g=nt.mul(nt.conjugate(nt._cyclotomicExp(u,r)),nt._cyclotomicSquare(l)),_=nt.conjugate(nt._cyclotomicExp(g,r)),x=nt.frobeniusMap(nt.mul(l,u),2),v=nt.frobeniusMap(nt.mul(f,i),3),k=nt.frobeniusMap(nt.mul(g,nt.conjugate(i)),1),A=nt.mul(nt.mul(_,nt.conjugate(d)),i);return nt.mul(nt.mul(nt.mul(x,v),k),A)}}),{G2psi:Xm,G2psi2:C2}=k2(qe,Ve,Ve.div(Ve.ONE,Ve.NONRESIDUE)),uf=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:qe.ORDER,m:2,k:128,expand:"xmd",hash:i0}),f0={p:Ve.ORDER,n:Xs.n,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),a:Ve.ZERO,b:Ve.fromBigTuple([ao,ao]),Gx:Ve.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:Ve.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")])},Vc=uo(qe.toBytes(tr),{infinity:!0,compressed:!0});function Hc(e){e=e.slice();const r=e[0]&224,n=!!(r>>7&1),i=!!(r>>6&1),l=!!(r>>5&1);return e[0]&=31,{compressed:n,infinity:i,sort:l,value:e}}function uo(e,r){if(e[0]&224)throw new Error("setMask: non-empty mask");return r.compressed&&(e[0]|=128),r.infinity&&(e[0]|=64),r.sort&&(e[0]|=32),e}function B2(e,r,n){const{BYTES:i,ORDER:l}=qe,d=r.is0(),{x:f,y:u}=r.toAffine();if(n){if(d)return Vc.slice();const g=!!(u*zt/l);return uo(Wt(f,i),{compressed:!0,sort:g})}else return d?At(Uint8Array.of(64),new Uint8Array(2*i-1)):At(Wt(f,i),Wt(u,i))}function df(e){e.assertValidity();const{BYTES:r,ORDER:n}=qe,{x:i,y:l}=e.toAffine();if(e.is0())return Vc.slice();const d=!!(l*zt/n);return uo(Wt(i,r),{compressed:!0,sort:d})}function R2(e){const{compressed:r,infinity:n,sort:i,value:l}=Hc(e),{BYTES:d,ORDER:f}=qe;if(l.length===48&&r){const u=un(l),g=qe.create(u&qe.MASK);if(n){if(g!==tr)throw new Error("invalid G1 point: non-empty, at infinity, with compression");return{x:tr,y:tr}}const _=qe.add(qe.pow(g,zc),qe.create(Xs.b));let x=qe.sqrt(_);if(!x)throw new Error("invalid G1 point: compressed point");return x*zt/f!==BigInt(i)&&(x=qe.neg(x)),{x:qe.create(g),y:qe.create(x)}}else if(l.length===96&&!r){const u=un(l.subarray(0,d)),g=un(l.subarray(d));if(n){if(u!==tr||g!==tr)throw new Error("G1: non-empty point at infinity");return qc.G1.Point.ZERO.toAffine()}return{x:qe.create(u),y:qe.create(g)}}else throw new Error("invalid G1 point: expected 48/96 bytes")}function Jm(e){const{infinity:r,sort:n,value:i}=Hc(or("signatureHex",e,48)),l=qe.ORDER,d=qc.G1.Point,f=un(i);if(r)return d.ZERO;const u=qe.create(f&qe.MASK),g=qe.add(qe.pow(u,zc),qe.create(Xs.b));let _=qe.sqrt(g);if(!_)throw new Error("invalid G1 point: compressed");const x=BigInt(n);_*zt/l!==x&&(_=qe.neg(_));const v=d.fromAffine({x:u,y:_});return v.assertValidity(),v}function P2(e,r,n){const{BYTES:i,ORDER:l}=qe,d=r.is0(),{x:f,y:u}=r.toAffine();if(n){if(d)return At(Vc,Wt(tr,i));const g=!!(u.c1===tr?u.c0*zt/l:u.c1*zt/l);return At(uo(Wt(f.c1,i),{compressed:!0,sort:g}),Wt(f.c0,i))}else{if(d)return At(Uint8Array.of(64),new Uint8Array(4*i-1));const{re:g,im:_}=Ve.reim(f),{re:x,im:v}=Ve.reim(u);return At(Wt(_,i),Wt(g,i),Wt(v,i),Wt(x,i))}}function ff(e){e.assertValidity();const{BYTES:r}=qe;if(e.is0())return At(Vc,Wt(tr,r));const{x:n,y:i}=e.toAffine(),{re:l,im:d}=Ve.reim(n),{re:f,im:u}=Ve.reim(i),_=!!((u>tr?u*zt:f*zt)/qe.ORDER&xc),x=l;return At(uo(Wt(d,r),{sort:_,compressed:!0}),Wt(x,r))}function M2(e){const{BYTES:r,ORDER:n}=qe,{compressed:i,infinity:l,sort:d,value:f}=Hc(e);if(!i&&!l&&d||!i&&l&&d||d&&l&&i)throw new Error("invalid encoding flag: "+(e[0]&224));const u=(g,_,x)=>un(g.slice(_,x));if(f.length===96&&i){if(l){if(f.reduce((b,M)=>b!==0?M+1:M,0)>0)throw new Error("invalid G2 point: compressed");return{x:Ve.ZERO,y:Ve.ZERO}}const g=u(f,0,r),_=u(f,r,2*r),x=Ve.create({c0:qe.create(_),c1:qe.create(g)}),v=Ve.add(Ve.pow(x,zc),f0.b);let k=Ve.sqrt(v);const A=k.c1===tr?k.c0*zt/n:k.c1*zt/n?xc:tr;return k=d&&A>0?k:Ve.neg(k),{x,y:k}}else if(f.length===192&&!i){if(l){if(f.reduce((k,A)=>k!==0?A+1:A,0)>0)throw new Error("invalid G2 point: uncompressed");return{x:Ve.ZERO,y:Ve.ZERO}}const g=u(f,0*r,1*r),_=u(f,1*r,2*r),x=u(f,2*r,3*r),v=u(f,3*r,4*r);return{x:Ve.fromBigTuple([_,g]),y:Ve.fromBigTuple([v,x])}}else throw new Error("invalid G2 point: expected 96/192 bytes")}function eg(e){const{ORDER:r}=qe,{infinity:n,sort:i,value:l}=Hc(or("signatureHex",e)),d=qc.G2.Point,f=l.length/2;if(f!==48&&f!==96)throw new Error("invalid compressed signature length, expected 96/192 bytes");const u=un(l.slice(0,f)),g=un(l.slice(f));if(n)return d.ZERO;const _=qe.create(u&qe.MASK),x=qe.create(g),v=Ve.create({c0:x,c1:_}),k=Ve.add(Ve.pow(v,zc),f0.b);let A=Ve.sqrt(k);if(!A)throw new Error("Failed to find a square root");const{re:b,im:M}=Ve.reim(A),R=BigInt(i),$=M>tr&&M*zt/r!==R,G=M===tr&&b*zt/r!==R;($||G)&&(A=Ve.neg(A));const J=d.fromAffine({x:v,y:A});return J.assertValidity(),J}const qc=j2({fields:{Fp:qe,Fp2:Ve,Fp6:$f,Fp12:nt,Fr:T2},G1:{...Xs,Fp:qe,htfDefaults:{...uf,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,r)=>{const n=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),i=new e(qe.mul(r.px,n),r.py,r.pz);return r.multiplyUnsafe(ds).negate().multiplyUnsafe(ds).equals(i)},clearCofactor:(e,r)=>r.multiplyUnsafe(ds).add(r),mapToCurve:$2,fromBytes:R2,toBytes:B2,ShortSignature:{fromBytes(e){return Lt(e),Jm(e)},fromHex(e){return Jm(e)},toBytes(e){return df(e)},toRawBytes(e){return df(e)},toHex(e){return Zi(df(e))}}},G2:{...f0,Fp:Ve,hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...uf},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:z2,isTorsionFree:(e,r)=>r.multiplyUnsafe(ds).negate().equals(Xm(e,r)),clearCofactor:(e,r)=>{const n=ds;let i=r.multiplyUnsafe(n).negate(),l=Xm(e,r),d=r.double();return d=C2(e,d),d=d.subtract(l),l=i.add(l),l=l.multiplyUnsafe(n).negate(),d=d.add(l),d=d.subtract(i),d.subtract(r)},fromBytes:M2,toBytes:P2,Signature:{fromBytes(e){return Lt(e),eg(e)},fromHex(e){return eg(e)},toBytes(e){return ff(e)},toRawBytes(e){return ff(e)},toHex(e){return Zi(ff(e))}}},params:{ateLoopSize:ds,r:Xs.n,xNegative:!0,twistType:"multiplicative"},htfDefaults:uf,hash:i0}),F2=sx(Ve,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(e=>e.map(r=>Ve.fromBigTuple(r.map(BigInt))))),U2=sx(qe,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(r=>BigInt(r)))),O2=ox(qe,{A:qe.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:qe.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:qe.create(BigInt(11))}),I2=ox(Ve,{A:Ve.create({c0:qe.create(tr),c1:qe.create(BigInt(240))}),B:Ve.create({c0:qe.create(BigInt(1012)),c1:qe.create(BigInt(1012))}),Z:Ve.create({c0:qe.create(BigInt(-2)),c1:qe.create(BigInt(-1))})});function $2(e){const{x:r,y:n}=O2(qe.create(e[0]));return U2(r,n)}function z2(e){const{x:r,y:n}=I2(Ve.fromBigTuple(e));return F2(r,n)}function V2(e,r,n){const i=typeof e=="string"?e:wt(e),l=typeof r=="string"?r:wt(r),d=typeof n=="string"?n:wt(n);return qc.verifyShortSignature(l,d,i)}const lx=e=>$t(new Ji(e)),h0=e=>{const r=lx(e);return new Date(Number(r)/1e6)};var H2=function(e,r,n,i,l){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!l:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?l.call(e,n):l?l.value=n:r.set(e,n),n},q2=function(e,r,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!i:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:r.get(e)},ql;class ln extends jt{constructor(r){super(`Invalid certificate: ${r}`)}}var Er;(function(e){e[e.Empty=0]="Empty",e[e.Fork=1]="Fork",e[e.Labeled=2]="Labeled",e[e.Leaf=3]="Leaf",e[e.Pruned=4]="Pruned"})(Er||(Er={}));function W2(e,r){const n=new Uint8Array(e),i=new Uint8Array(r);for(let l=0;l<n.length;l++)if(n[l]>i[l])return!0;return!1}class Ls{constructor(r,n,i,l,d=5,f=!1){this._rootKey=n,this._canisterId=i,this._blsVerify=l,this._maxAgeInMinutes=d,ql.set(this,!1),H2(this,ql,f,"f"),this.cert=Cn(new Uint8Array(r))}static async create(r){const n=Ls.createUnverified(r);return await n.verify(),n}static createUnverified(r){let n=r.blsVerify;return n||(n=V2),new Ls(r.certificate,r.rootKey,r.canisterId,n,r.maxAgeInMinutes,r.disableTimeVerification)}lookup(r){return Xi(r,this.cert.tree)}lookup_label(r){return this.lookup([r])}async verify(){const r=await Wl(this.cert.tree),n=await this._checkDelegationAndGetKey(this.cert.delegation),i=this.cert.signature,l=L2(n),d=Lr(qa("ic-state-root"),r);let f=!1;const u=Rr(this.lookup(["time"]));if(!u)throw new ln("Certificate does not contain a time");if(!q2(this,ql,"f")){const _=this._maxAgeInMinutes*60*1e3,x=Date.now(),v=x-_,k=x+3e5,A=h0(u);if(A.getTime()<v)throw new ln(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: `+A.toISOString()+" Current time: "+new Date(x).toISOString());if(A.getTime()>k)throw new ln("Certificate is signed more than 5 minutes in the future. Certificate time: "+A.toISOString()+" Current time: "+new Date(x).toISOString())}try{f=await this._blsVerify(new Uint8Array(l),new Uint8Array(i),new Uint8Array(d))}catch{f=!1}if(!f)throw new ln("Signature verification failed")}async _checkDelegationAndGetKey(r){if(!r)return this._rootKey;const n=await Ls.createUnverified({certificate:r.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,maxAgeInMinutes:1/0});if(n.cert.delegation)throw new ln("Delegation certificates cannot be nested");if(await n.verify(),this._canisterId.toString()!==x3&&!cx({canisterId:this._canisterId,subnetId:et.fromUint8Array(new Uint8Array(r.subnet_id)),tree:n.cert.tree}))throw new ln(`Canister ${this._canisterId} not in range of delegations for subnet 0x${wt(r.subnet_id)}`);const i=Rr(n.lookup(["subnet",r.subnet_id,"public_key"]));if(!i)throw new Error(`Could not find subnet key for subnet 0x${wt(r.subnet_id)}`);return i}}ql=new WeakMap;const Ia=Pn("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),G2=96;function L2(e){const r=Ia.byteLength+G2;if(e.byteLength!==r)throw new TypeError(`BLS DER-encoded public key must be ${r} bytes long`);const n=e.slice(0,Ia.byteLength);if(!oo(n,Ia))throw new TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${Ia}, but get ${n}`);return e.slice(Ia.byteLength)}function Rr(e){if(e.status===Mt.Found){if(e.value instanceof ArrayBuffer)return e.value;if(e.value instanceof Uint8Array)return e.value.buffer}}async function Wl(e){switch(e[0]){case Er.Empty:return Gr(qa("ic-hashtree-empty"));case Er.Pruned:return e[1];case Er.Leaf:return Gr(Lr(qa("ic-hashtree-leaf"),e[1]));case Er.Labeled:return Gr(Lr(qa("ic-hashtree-labeled"),e[1],await Wl(e[2])));case Er.Fork:return Gr(Lr(qa("ic-hashtree-fork"),await Wl(e[1]),await Wl(e[2])));default:throw new Error("unreachable")}}function qa(e){const r=new Uint8Array([e.length]),n=new TextEncoder().encode(e);return Lr(r,n)}var Mt;(function(e){e.Unknown="unknown",e.Absent="absent",e.Found="found"})(Mt||(Mt={}));var An;(function(e){e.Less="less",e.Greater="greater"})(An||(An={}));function Xi(e,r){if(e.length===0)switch(r[0]){case Er.Leaf:{if(!r[1])throw new Error("Invalid tree structure for leaf");return r[1]instanceof ArrayBuffer?{status:Mt.Found,value:r[1]}:r[1]instanceof Uint8Array?{status:Mt.Found,value:r[1].buffer}:{status:Mt.Found,value:r[1]}}default:return{status:Mt.Found,value:r}}const n=typeof e[0]=="string"?new TextEncoder().encode(e[0]):e[0],i=Gl(n,r);switch(i.status){case Mt.Found:return Xi(e.slice(1),i.value);case An.Greater:case An.Less:return{status:Mt.Absent};default:return i}}function zf(e){switch(e[0]){case Er.Empty:return[];case Er.Fork:return zf(e[1]).concat(zf(e[2]));default:return[e]}}function Gl(e,r){switch(r[0]){case Er.Labeled:return W2(e,r[1])?{status:An.Greater}:oo(e,r[1])?{status:Mt.Found,value:r[2]}:{status:An.Less};case Er.Fork:const n=Gl(e,r[1]);switch(n.status){case An.Greater:{const i=Gl(e,r[2]);return i.status===An.Less?{status:Mt.Absent}:i}case Mt.Unknown:{let i=Gl(e,r[2]);return i.status===An.Less?{status:Mt.Unknown}:i}default:return n}case Er.Pruned:return{status:Mt.Unknown};default:return{status:Mt.Absent}}}function cx(e){const{canisterId:r,subnetId:n,tree:i}=e,l=Xi(["subnet",n.toUint8Array(),"canister_ranges"],i);if(l.status!==Mt.Found||!(l.value instanceof ArrayBuffer))throw new Error(`Could not find canister ranges for subnet ${n}`);return Cn(l.value).map(g=>[et.fromUint8Array(g[0]),et.fromUint8Array(g[1])]).some(g=>g[0].ltEq(r)&&g[1].gtEq(r))}class K2{constructor(r,n,i){this.key=r,this.path=n,this.decodeStrategy=i}}const ux=async e=>{const{agent:r,paths:n}=e,i=et.from(e.canisterId),l=[...new Set(n)],d=l.map(g=>Vf(g,i)),f=new Map,u=l.map((g,_)=>(async()=>{var x;try{const v=await r.readState(i,{paths:[d[_]]});if(r.rootKey==null)throw new Error("Agent is missing root key");const k=await Ls.create({certificate:v.certificate,rootKey:r.rootKey,canisterId:i,disableTimeVerification:!0}),A=(R,$)=>{if($==="subnet"){if(r.rootKey==null)throw new Error("Agent is missing root key");const G=dx(v.certificate,i,r.rootKey);return{path:$,data:G}}else return{path:$,data:Rr(R.lookup(Vf($,i)))}},{path:b,data:M}=A(k,l[_]);if(!M)console.warn(`Expected to find result for path ${b}, but instead found nothing.`),typeof b=="string"?f.set(b,null):f.set(b.key,null);else switch(b){case"time":{f.set(b,h0(M));break}case"controllers":{f.set(b,Z2(M));break}case"module_hash":{f.set(b,tg(M));break}case"subnet":{f.set(b,M);break}case"candid":{f.set(b,new TextDecoder().decode(M));break}default:if(typeof b!="string"&&"key"in b&&"path"in b)switch(b.decodeStrategy){case"raw":f.set(b.key,M);break;case"leb128":{f.set(b.key,lx(M));break}case"cbor":{f.set(b.key,fx(M));break}case"hex":{f.set(b.key,tg(M));break}case"utf-8":f.set(b.key,Y2(M))}}}catch(v){if(!((x=v==null?void 0:v.message)===null||x===void 0)&&x.includes("Invalid certificate"))throw new jt(v.message);typeof g!="string"&&"key"in g&&"path"in g?f.set(g.key,null):f.set(g,null),console.group(),console.warn(`Expected to find result for path ${g}, but instead found nothing.`),console.warn(v),console.groupEnd()}})());return await Promise.all(u),f},dx=(e,r,n)=>{if(!r._isPrincipal)throw new Error("Invalid canisterId");const i=Cn(new Uint8Array(e)),l=i.tree;let d=i.delegation,f;if(d&&d.subnet_id?f=et.fromUint8Array(new Uint8Array(d.subnet_id)):!d&&typeof n<"u"?(f=et.selfAuthenticating(new Uint8Array(n)),d={subnet_id:f.toUint8Array(),certificate:new ArrayBuffer(0)}):(f=et.selfAuthenticating(et.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),d={subnet_id:f.toUint8Array(),certificate:new ArrayBuffer(0)}),!cx({canisterId:r,subnetId:f,tree:l}))throw new Error("Canister not in range");const g=Xi(["subnet",d.subnet_id,"node"],l);if(g.status!==Mt.Found)throw new Error("Node not found");if(g.value instanceof ArrayBuffer)throw new Error("Invalid node tree");const _=zf(g.value),x=new Map;return _.forEach(v=>{const k=et.from(new Uint8Array(v[1])).toText(),A=Xi(["public_key"],v[2]);if(A.status!==Mt.Found)throw new Error("Public key not found");const b=A.value;if(b.byteLength!==44)throw new Error("Invalid public key length");x.set(k,b)}),{subnetId:et.fromUint8Array(new Uint8Array(d.subnet_id)).toText(),nodeKeys:x}},Vf=(e,r)=>{const n=new TextEncoder,i=d=>new DataView(n.encode(d).buffer).buffer,l=new DataView(r.toUint8Array().buffer).buffer;switch(e){case"time":return[i("time")];case"controllers":return[i("canister"),l,i("controllers")];case"module_hash":return[i("canister"),l,i("module_hash")];case"subnet":return[i("subnet")];case"candid":return[i("canister"),l,i("metadata"),i("candid:service")];default:if("key"in e&&"path"in e)if(typeof e.path=="string"||e.path instanceof ArrayBuffer){const d=e.path,f=typeof d=="string"?i(d):d;return[i("canister"),l,i("metadata"),f]}else return e.path}throw new Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${e} was formatted correctly.`)},tg=e=>wt(e),fx=e=>Cn(e),Y2=e=>new TextDecoder().decode(e),Z2=e=>fx(e).map(n=>et.fromUint8Array(new Uint8Array(n))),D2=Object.freeze(Object.defineProperty({__proto__:null,CustomPath:K2,encodePath:Vf,fetchNodeKeys:dx,request:ux},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sn=BigInt(0),sr=BigInt(1),hf=BigInt(2),Q2=BigInt(8),X2={zip215:!0};function J2(e,r,n,i){const l=e.sqr(n),d=e.sqr(i),f=e.add(e.mul(r.a,l),d),u=e.add(e.ONE,e.mul(r.d,e.mul(l,d)));return e.eql(f,u)}function e3(e,r={}){const{Fp:n,Fn:i}=nx("edwards",e,r),{h:l,n:d}=e;co(r,{},{uvRatio:"function"});const f=hf<<BigInt(i.BYTES*8)-sr,u=M=>n.create(M),g=r.uvRatio||((M,R)=>{try{return{isValid:!0,value:n.sqrt(n.div(M,R))}}catch{return{isValid:!1,value:sn}}});if(!J2(n,e,e.Gx,e.Gy))throw new Error("bad curve params: generator point");function _(M,R,$=!1){const G=$?sr:sn;return Ha("coordinate "+M,R,G,f),R}function x(M){if(!(M instanceof A))throw new Error("ExtendedPoint expected")}const v=so((M,R)=>{const{ex:$,ey:G,ez:J}=M,ce=M.is0();R==null&&(R=ce?Q2:n.inv(J));const O=u($*R),te=u(G*R),oe=u(J*R);if(ce)return{x:sn,y:sr};if(oe!==sr)throw new Error("invZ was invalid");return{x:O,y:te}}),k=so(M=>{const{a:R,d:$}=e;if(M.is0())throw new Error("bad point: ZERO");const{ex:G,ey:J,ez:ce,et:O}=M,te=u(G*G),oe=u(J*J),z=u(ce*ce),W=u(z*z),H=u(te*R),ue=u(z*u(H+oe)),ge=u(W+u($*u(te*oe)));if(ue!==ge)throw new Error("bad point: equation left != right (1)");const j=u(G*J),I=u(ce*O);if(j!==I)throw new Error("bad point: equation left != right (2)");return!0});class A{constructor(R,$,G,J){this.ex=_("x",R),this.ey=_("y",$),this.ez=_("z",G,!0),this.et=_("t",J),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(R){if(R instanceof A)throw new Error("extended point not allowed");const{x:$,y:G}=R||{};return _("x",$),_("y",G),new A($,G,sr,u($*G))}static normalizeZ(R){return yc(A,"ez",R)}static msm(R,$){return rx(A,i,R,$)}_setWindowSize(R){this.precompute(R)}precompute(R=8,$=!0){return b.setWindowSize(this,R),$||this.multiply(hf),this}assertValidity(){k(this)}equals(R){x(R);const{ex:$,ey:G,ez:J}=this,{ex:ce,ey:O,ez:te}=R,oe=u($*te),z=u(ce*J),W=u(G*te),H=u(O*J);return oe===z&&W===H}is0(){return this.equals(A.ZERO)}negate(){return new A(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:R}=e,{ex:$,ey:G,ez:J}=this,ce=u($*$),O=u(G*G),te=u(hf*u(J*J)),oe=u(R*ce),z=$+G,W=u(u(z*z)-ce-O),H=oe+O,ue=H-te,ge=oe-O,j=u(W*ue),I=u(H*ge),q=u(W*ge),ne=u(ue*H);return new A(j,I,ne,q)}add(R){x(R);const{a:$,d:G}=e,{ex:J,ey:ce,ez:O,et:te}=this,{ex:oe,ey:z,ez:W,et:H}=R,ue=u(J*oe),ge=u(ce*z),j=u(te*G*H),I=u(O*W),q=u((J+ce)*(oe+z)-ue-ge),ne=I-j,fe=I+j,ie=u(ge-$*ue),Ne=u(q*ne),Ee=u(fe*ie),L=u(q*ie),de=u(ne*fe);return new A(Ne,Ee,de,L)}subtract(R){return this.add(R.negate())}multiply(R){const $=R;Ha("scalar",$,sr,d);const{p:G,f:J}=b.wNAFCached(this,$,A.normalizeZ);return A.normalizeZ([G,J])[0]}multiplyUnsafe(R,$=A.ZERO){const G=R;return Ha("scalar",G,sn,d),G===sn?A.ZERO:this.is0()||G===sr?this:b.wNAFCachedUnsafe(this,G,A.normalizeZ,$)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return b.wNAFCachedUnsafe(this,d).is0()}toAffine(R){return v(this,R)}clearCofactor(){return l===sr?this:this.multiplyUnsafe(l)}static fromBytes(R,$=!1){return Lt(R),this.fromHex(R,$)}static fromHex(R,$=!1){const{d:G,a:J}=e,ce=n.BYTES;R=or("pointHex",R,ce),ro("zip215",$);const O=R.slice(),te=R[ce-1];O[ce-1]=te&-129;const oe=no(O),z=$?f:n.ORDER;Ha("pointHex.y",oe,sn,z);const W=u(oe*oe),H=u(W-sr),ue=u(G*W-J);let{isValid:ge,value:j}=g(H,ue);if(!ge)throw new Error("Point.fromHex: invalid y coordinate");const I=(j&sr)===sr,q=(te&128)!==0;if(!$&&j===sn&&q)throw new Error("Point.fromHex: x=0 and x_0=1");return q!==I&&(j=u(-j)),A.fromAffine({x:j,y:oe})}static fromPrivateScalar(R){return A.BASE.multiply(R)}toBytes(){const{x:R,y:$}=this.toAffine(),G=$c($,n.BYTES);return G[G.length-1]|=R&sr?128:0,G}toRawBytes(){return this.toBytes()}toHex(){return Zi(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}A.BASE=new A(e.Gx,e.Gy,sr,u(e.Gx*e.Gy)),A.ZERO=new A(sn,sr,sr,sn),A.Fp=n,A.Fn=i;const b=tx(A,i.BYTES*8);return A}function t3(e,r){co(r,{hash:"function"},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:n,hash:i}=r,{BASE:l,Fp:d,Fn:f}=e,u=f.ORDER,g=r.randomBytes||Kg,_=r.adjustScalarBytes||(O=>O),x=r.domain||((O,te,oe)=>{if(ro("phflag",oe),te.length||oe)throw new Error("Contexts/pre-hash are not supported");return O});function v(O){return f.create(O)}function k(O){return v(no(O))}function A(O){const te=d.BYTES;O=or("private key",O,te);const oe=or("hashed private key",i(O),2*te),z=_(oe.slice(0,te)),W=oe.slice(te,2*te),H=k(z);return{head:z,prefix:W,scalar:H}}function b(O){const{head:te,prefix:oe,scalar:z}=A(O),W=l.multiply(z),H=W.toBytes();return{head:te,prefix:oe,scalar:z,point:W,pointBytes:H}}function M(O){return b(O).pointBytes}function R(O=Uint8Array.of(),...te){const oe=At(...te);return k(i(x(oe,or("context",O),!!n)))}function $(O,te,oe={}){O=or("message",O),n&&(O=n(O));const{prefix:z,scalar:W,pointBytes:H}=b(te),ue=R(oe.context,z,O),ge=l.multiply(ue).toBytes(),j=R(oe.context,ge,H,O),I=v(ue+j*W);Ha("signature.s",I,sn,u);const q=d.BYTES,ne=At(ge,$c(I,q));return or("result",ne,q*2)}const G=X2;function J(O,te,oe,z=G){const{context:W,zip215:H}=z,ue=d.BYTES;O=or("signature",O,2*ue),te=or("message",te),oe=or("publicKey",oe,ue),H!==void 0&&ro("zip215",H),n&&(te=n(te));const ge=no(O.slice(ue,2*ue));let j,I,q;try{j=e.fromHex(oe,H),I=e.fromHex(O.slice(0,ue),H),q=l.multiplyUnsafe(ge)}catch{return!1}if(!H&&j.isSmallOrder())return!1;const ne=R(W,I.toBytes(),j.toBytes(),te);return I.add(j.multiplyUnsafe(ne)).subtract(q).clearCofactor().is0()}return l.precompute(8),{getPublicKey:M,sign:$,verify:J,utils:{getExtendedPublicKey:b,randomPrivateKey:()=>g(d.BYTES),precompute(O=8,te=e.BASE){return te.precompute(O,!1)}},Point:e}}function r3(e){const r={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,i=Js(r.n,e.nBitLength,!0),l={Fp:n,Fn:i,uvRatio:e.uvRatio},d={hash:e.hash,randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:r,curveOpts:l,eddsaOpts:d}}function n3(e,r){return Object.assign({},r,{ExtendedPoint:r.Point,CURVE:e})}function s3(e){const{CURVE:r,curveOpts:n,eddsaOpts:i}=r3(e),l=e3(r,n),d=t3(l,i);return n3(e,d)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const i3=BigInt(1),rg=BigInt(2);BigInt(3);const a3=BigInt(5),o3=BigInt(8),Wc={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:o3,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function l3(e){const r=BigInt(10),n=BigInt(20),i=BigInt(40),l=BigInt(80),d=Wc.p,u=e*e%d*e%d,g=rn(u,rg,d)*u%d,_=rn(g,i3,d)*e%d,x=rn(_,a3,d)*_%d,v=rn(x,r,d)*x%d,k=rn(v,n,d)*v%d,A=rn(k,i,d)*k%d,b=rn(A,l,d)*A%d,M=rn(b,l,d)*A%d,R=rn(M,r,d)*x%d;return{pow_p_5_8:rn(R,rg,d)*e%d,b2:u}}function c3(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const ng=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function u3(e,r){const n=Wc.p,i=Bt(r*r*r,n),l=Bt(i*i*r,n),d=l3(e*l).pow_p_5_8;let f=Bt(e*i*d,n);const u=Bt(r*f*f,n),g=f,_=Bt(f*ng,n),x=u===e,v=u===Bt(-e,n),k=u===Bt(-e*ng,n);return x&&(f=g),(v||k)&&(f=_),o2(f,n)&&(f=Bt(-f,n)),{isValid:x||v,value:f}}const d3=Js(Wc.p,void 0,!0),f3={...Wc,Fp:d3,hash:vb,adjustScalarBytes:c3,uvRatio:u3},Ri=s3(f3);var sg=function(e,r,n,i,l){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!l:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?l.call(e,n):l?l.value=n:r.set(e,n),n},ir=function(e,r,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!i:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:r.get(e)},Jt,Wa,hx,px;class h3{constructor(r={}){Jt.set(this,void 0),Wa.set(this,void 0),this[hx]=this.entries.bind(this),this[px]="ExpirableMap";const{source:n=[],expirationTime:i=10*60*1e3}=r,l=Date.now();sg(this,Jt,new Map([...n].map(([d,f])=>[d,{value:f,timestamp:l}])),"f"),sg(this,Wa,i,"f")}prune(){const r=Date.now();for(const[n,i]of ir(this,Jt,"f").entries())r-i.timestamp>ir(this,Wa,"f")&&ir(this,Jt,"f").delete(n);return this}set(r,n){this.prune();const i={value:n,timestamp:Date.now()};return ir(this,Jt,"f").set(r,i),this}get(r){const n=ir(this,Jt,"f").get(r);if(n!==void 0){if(Date.now()-n.timestamp>ir(this,Wa,"f")){ir(this,Jt,"f").delete(r);return}return n.value}}clear(){ir(this,Jt,"f").clear()}entries(){const r=ir(this,Jt,"f").entries();return function*(){for(const[i,l]of r)yield[i,l.value]}()}values(){const r=ir(this,Jt,"f").values();return function*(){for(const i of r)yield i.value}()}keys(){return ir(this,Jt,"f").keys()}forEach(r,n){for(const[i,l]of ir(this,Jt,"f").entries())r.call(n,l.value,i,this)}has(r){return ir(this,Jt,"f").has(r)}delete(r){return ir(this,Jt,"f").delete(r)}get size(){return ir(this,Jt,"f").size}}Jt=new WeakMap,Wa=new WeakMap,hx=Symbol.iterator,px=Symbol.toStringTag;const ig=e=>{if(e<=127)return 1;if(e<=255)return 2;if(e<=65535)return 3;if(e<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},ag=(e,r,n)=>{if(n<=127)return e[r]=n,1;if(n<=255)return e[r]=129,e[r+1]=n,2;if(n<=65535)return e[r]=130,e[r+1]=n>>8,e[r+2]=n,3;if(n<=16777215)return e[r]=131,e[r+1]=n>>16,e[r+2]=n>>8,e[r+3]=n,4;throw new Error("Length too long (> 4 bytes)")},Hf=(e,r)=>{if(e[r]<128)return 1;if(e[r]===128)throw new Error("Invalid length 0");if(e[r]===129)return 2;if(e[r]===130)return 3;if(e[r]===131)return 4;throw new Error("Length too long (> 4 bytes)")},p3=(e,r)=>{const n=Hf(e,r);if(n===1)return e[r];if(n===2)return e[r+1];if(n===3)return(e[r+1]<<8)+e[r+2];if(n===4)return(e[r+1]<<16)+(e[r+2]<<8)+e[r+3];throw new Error("Length too long (> 4 bytes)")};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);const wc=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function mx(e,r){const n=2+ig(e.byteLength+1),i=r.byteLength+n+e.byteLength;let l=0;const d=new Uint8Array(1+ig(i)+i);return d[l++]=48,l+=ag(d,l,i),d.set(r,l),l+=r.byteLength,d[l++]=3,l+=ag(d,l,e.byteLength+1),d[l++]=0,d.set(new Uint8Array(e),l),d}const gx=(e,r)=>{let n=0;const i=(u,g)=>{if(l[n++]!==u)throw new Error("Expected: "+g)},l=new Uint8Array(e);if(i(48,"sequence"),n+=Hf(l,n),!oo(l.slice(n,n+r.byteLength),r))throw new Error("Not the expected OID.");n+=r.byteLength,i(3,"bit string");const d=p3(l,n)-1;n+=Hf(l,n),i(0,"0 padding");const f=l.slice(n);if(d!==f.length)throw new Error(`DER payload mismatch: Expected length ${d} actual length ${f.length}`);return f};var og=function(e,r,n,i,l){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!l:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?l.call(e,n):l?l.value=n:r.set(e,n),n},lg=function(e,r,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!i:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:r.get(e)},Ll,Kl;let yx=class Ga{constructor(r){if(Ll.set(this,void 0),Kl.set(this,void 0),r.byteLength!==Ga.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");og(this,Ll,r,"f"),og(this,Kl,Ga.derEncode(r),"f")}static from(r){return this.fromDer(r.toDer())}static fromRaw(r){return new Ga(r)}static fromDer(r){return new Ga(this.derDecode(r))}static derEncode(r){return mx(r,wc).buffer}static derDecode(r){const n=gx(r,wc);if(n.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return n}get rawKey(){return lg(this,Ll,"f")}get derKey(){return lg(this,Kl,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}};Ll=new WeakMap,Kl=new WeakMap;yx.RAW_KEY_LENGTH=32;class m3{constructor(){this.observers=[]}subscribe(r){this.observers.push(r)}unsubscribe(r){this.observers=this.observers.filter(n=>n!==r)}notify(r,...n){this.observers.forEach(i=>i(r,...n))}}class g3 extends m3{constructor(){super()}print(r,...n){this.notify({message:r,level:"info"},...n)}warn(r,...n){this.notify({message:r,level:"warn"},...n)}error(r,n,...i){this.notify({message:r,level:"error",error:n},...i)}}var nn=function(e,r,n,i,l){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!l:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?l.call(e,n):l?l.value=n:r.set(e,n),n},Xt=function(e,r,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!i:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:r.get(e)},an,Yl,Zl,Dl,Ql,Xl,Jl,ec,Pi;const xx=.5,wx=1.5,vx=500,bx=6e4,Nx=9e5,_x=10;class Gc{constructor(r=Gc.default){an.set(this,void 0),Yl.set(this,void 0),Zl.set(this,void 0),Dl.set(this,void 0),Ql.set(this,void 0),Xl.set(this,void 0),Jl.set(this,void 0),ec.set(this,void 0),Pi.set(this,0);const{initialInterval:n=vx,randomizationFactor:i=xx,multiplier:l=wx,maxInterval:d=bx,maxElapsedTime:f=Nx,maxIterations:u=_x,date:g=Date}=r;nn(this,an,n,"f"),nn(this,Yl,i,"f"),nn(this,Zl,l,"f"),nn(this,Dl,d,"f"),nn(this,ec,g,"f"),nn(this,Ql,g.now(),"f"),nn(this,Xl,f,"f"),nn(this,Jl,u,"f")}get ellapsedTimeInMsec(){return Xt(this,ec,"f").now()-Xt(this,Ql,"f")}get currentInterval(){return Xt(this,an,"f")}get count(){return Xt(this,Pi,"f")}get randomValueFromInterval(){const r=Xt(this,Yl,"f")*Xt(this,an,"f"),n=Xt(this,an,"f")-r,i=Xt(this,an,"f")+r;return Math.random()*(i-n)+n}incrementCurrentInterval(){var r;return nn(this,an,Math.min(Xt(this,an,"f")*Xt(this,Zl,"f"),Xt(this,Dl,"f")),"f"),nn(this,Pi,(r=Xt(this,Pi,"f"),r++,r),"f"),Xt(this,an,"f")}next(){return this.ellapsedTimeInMsec>=Xt(this,Xl,"f")||Xt(this,Pi,"f")>=Xt(this,Jl,"f")?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}}an=new WeakMap,Yl=new WeakMap,Zl=new WeakMap,Dl=new WeakMap,Ql=new WeakMap,Xl=new WeakMap,Jl=new WeakMap,ec=new WeakMap,Pi=new WeakMap;Gc.default={initialInterval:vx,randomizationFactor:xx,multiplier:wx,maxInterval:bx,maxElapsedTime:Nx,maxIterations:_x,date:Date};var qt=function(e,r,n,i,l){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!l:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?l.call(e,n):l?l.value=n:r.set(e,n),n},Ce=function(e,r,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!i:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:r.get(e)},er,Os,Gi,on,jn,Hi,La,Mi,qr,Wr,Is,$s,Ka,Fi,Ui,zs,Hs,Ex,tc,rc,Vs,kn;(function(e){e.Received="received",e.Processing="processing",e.Replied="replied",e.Rejected="rejected",e.Unknown="unknown",e.Done="done"})(kn||(kn={}));const Pl=60*1e3,y3="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",x3="aaaaa-aa",w3="ic0.app",v3=".ic0.app",b3="icp0.io",N3=".icp0.io",_3="icp-api.io",E3=".icp-api.io";class pf extends jt{constructor(r){super(r),this.message=r}}class Ml extends jt{constructor(r){super(r),this.message=r}}function j3(){let e;if(typeof window<"u")if(window.fetch)e=window.fetch.bind(window);else throw new pf("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.");else if(typeof global<"u")if(global.fetch)e=global.fetch.bind(global);else throw new pf("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.");else typeof self<"u"&&self.fetch&&(e=self.fetch.bind(self));if(e)return e;throw new pf("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.")}function k3(e){let r;if(e!==void 0)!e.match(/^[a-z]+:/)&&typeof window<"u"?r=new URL(window.location.protocol+"//"+e):r=new URL(e);else{const n=["ic0.app","icp0.io","127.0.0.1","localhost"],i=[".github.dev",".gitpod.io"],l=typeof window<"u"?window.location:void 0,d=l==null?void 0:l.hostname;let f;d&&typeof d=="string"&&(i.some(u=>d.endsWith(u))?f=d:f=n.find(u=>d.endsWith(u))),l&&f?r=new URL(`${l.protocol}//${f}${l.port?":"+l.port:""}`):r=new URL("https://icp-api.io")}return r.toString()}class Bn{constructor(r={}){var n,i;er.add(this),Os.set(this,null),Gi.set(this,!1),on.set(this,void 0),jn.set(this,void 0),Hi.set(this,void 0),La.set(this,void 0),Mi.set(this,0),qr.set(this,void 0),Wr.set(this,void 0),Is.set(this,void 0),$s.set(this,void 0),this._isAgent=!0,this.config={},Ka.set(this,0),this.log=new g3,Fi.set(this,[]),Ui.set(this,[]),zs.set(this,new h3({expirationTime:5*60*1e3})),Hs.set(this,!0),rc.set(this,(f,u)=>{if(Ce(this,Hs,"f")===!1)return f;if(!u)throw new ln("Invalid signature from replica signed query: no matching node key found.");const{status:g,signatures:_=[],requestId:x}=f,v=Tn(new TextEncoder().encode("\vic-response"));for(const k of _){const{timestamp:A,identity:b}=k,M=et.fromUint8Array(b).toText();let R;if(g==="replied"){const{reply:O}=f;R=pc({status:g,reply:O,timestamp:BigInt(A),request_id:x})}else if(g==="rejected"){const{reject_code:O,reject_message:te,error_code:oe}=f;R=pc({status:g,reject_code:O,reject_message:te,error_code:oe,timestamp:BigInt(A),request_id:x})}else throw new Error(`Unknown status: ${g}`);const $=Lr(v,Tn(new Uint8Array(R))),G=u==null?void 0:u.nodeKeys.get(M);if(!G)throw new ln("Invalid signature from replica signed query: no matching node key found.");const J=yx.fromDer(G).rawKey;if(Ri.verify(k.signature,new Uint8Array($),new Uint8Array(J)))return f;throw new ln(`Invalid signature from replica ${M} signed query.`)}return f}),this.config=r,qt(this,jn,r.fetch||j3()||fetch.bind(global),"f"),qt(this,Hi,r.fetchOptions,"f"),qt(this,La,r.callOptions,"f"),qt(this,Gi,(n=r.shouldFetchRootKey)!==null&&n!==void 0?n:!1,"f"),r.rootKey?this.rootKey=r.rootKey:Ce(this,Gi,"f")?this.rootKey=null:this.rootKey=Pn(y3);const l=k3(r.host);this.host=new URL(l),r.verifyQuerySignatures!==void 0&&qt(this,Hs,r.verifyQuerySignatures,"f"),qt(this,Wr,(i=r.retryTimes)!==null&&i!==void 0?i:3,"f");const d=()=>new Gc({maxIterations:Ce(this,Wr,"f")});if(qt(this,Is,r.backoffStrategy||d,"f"),this.host.hostname.endsWith(v3)?this.host.hostname=w3:this.host.hostname.endsWith(N3)?this.host.hostname=b3:this.host.hostname.endsWith(E3)&&(this.host.hostname=_3),r.credentials){const{name:f,password:u}=r.credentials;qt(this,qr,`${f}${u?":"+u:""}`,"f")}if(qt(this,on,Promise.resolve(r.identity||new to),"f"),r.ingressExpiryInMinutes&&r.ingressExpiryInMinutes>5)throw new jt(`The maximum ingress expiry time is 5 minutes. Provided ingress expiry time is ${r.ingressExpiryInMinutes} minutes.`);if(r.ingressExpiryInMinutes&&r.ingressExpiryInMinutes<=0)throw new jt(`Ingress expiry time must be greater than 0. Provided ingress expiry time is ${r.ingressExpiryInMinutes} minutes.`);qt(this,$s,r.ingressExpiryInMinutes||5,"f"),this.addTransform("update",zm(Uf)),r.useQueryNonces&&this.addTransform("query",zm(Uf)),r.logToConsole&&this.log.subscribe(f=>{f.level==="error"?console.error(f.message):f.level==="warn"?console.warn(f.message):console.log(f.message)})}get waterMark(){return Ce(this,Ka,"f")}static createSync(r={}){return new this(Object.assign({},r))}static async create(r={shouldFetchRootKey:!1}){const n=Bn.createSync(r),i=[n.syncTime()];return n.host.toString()!=="https://icp-api.io"&&r.shouldFetchRootKey&&i.push(n.fetchRootKey()),await Promise.all(i),n}static async from(r){var n;try{return"config"in r?await Bn.create(r.config):await Bn.create({fetch:r._fetch,fetchOptions:r._fetchOptions,callOptions:r._callOptions,host:r._host.toString(),identity:(n=r._identity)!==null&&n!==void 0?n:void 0})}catch{throw new jt("Failed to create agent from provided agent")}}isLocal(){const r=this.host.hostname;return r==="127.0.0.1"||r.endsWith("127.0.0.1")}addTransform(r,n,i=n.priority||0){if(r==="update"){const l=Ce(this,Ui,"f").findIndex(d=>(d.priority||0)<i);Ce(this,Ui,"f").splice(l>=0?l:Ce(this,Ui,"f").length,0,Object.assign(n,{priority:i}))}else if(r==="query"){const l=Ce(this,Fi,"f").findIndex(d=>(d.priority||0)<i);Ce(this,Fi,"f").splice(l>=0?l:Ce(this,Fi,"f").length,0,Object.assign(n,{priority:i}))}}async getPrincipal(){if(!Ce(this,on,"f"))throw new Ml("This identity has expired due this application's security policy. Please refresh your authentication.");return(await Ce(this,on,"f")).getPrincipal()}async call(r,n,i){var l,d;await Ce(this,er,"m",Vs).call(this);const f=(l=n.callSync)!==null&&l!==void 0?l:!0,u=await(i!==void 0?await i:await Ce(this,on,"f"));if(!u)throw new Ml("This identity has expired due this application's security policy. Please refresh your authentication.");const g=et.from(r),_=n.effectiveCanisterId?et.from(n.effectiveCanisterId):g,x=u.getPrincipal()||et.anonymous();let v=new Bl(Ce(this,$s,"f")*Pl);Math.abs(Ce(this,Mi,"f"))>1e3*30&&(v=new Bl(Ce(this,$s,"f")*Pl+Ce(this,Mi,"f")));const k={request_type:Ff.Call,canister_id:g,method_name:n.methodName,arg:n.arg,sender:x,ingress_expiry:v};let A=await this._transform({request:{body:null,method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},Ce(this,qr,"f")?{Authorization:"Basic "+btoa(Ce(this,qr,"f"))}:{})},endpoint:"call",body:k}),b;n!=null&&n.nonce?b=M(n.nonce):A.body.nonce?b=M(A.body.nonce):b=void 0,k.nonce=b;function M(J){return new Uint8Array(J)}A=await u.transformRequest(A);const R=tf(A.body),$=Ce(this,Is,"f").call(this),G=eo(k);try{const J=()=>(this.log.print(`fetching "/api/v3/canister/${_.toText()}/call" with request:`,A),Ce(this,jn,"f").call(this,""+new URL(`/api/v3/canister/${_.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},Ce(this,La,"f")),A.request),{body:R}))),ce=()=>(this.log.print(`fetching "/api/v2/canister/${_.toText()}/call" with request:`,A),Ce(this,jn,"f").call(this,""+new URL(`/api/v2/canister/${_.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},Ce(this,La,"f")),A.request),{body:R}))),te=await Ce(this,er,"m",tc).call(this,{request:f?J:ce,backoff:$,tries:0}),oe=await te.arrayBuffer(),z=te.status===200&&oe.byteLength>0?Cn(oe):null;if(z&&"certificate"in z){const W=await this.parseTimeFromResponse({certificate:z.certificate});qt(this,Ka,W,"f")}return{requestId:G,response:{ok:te.ok,status:te.status,statusText:te.statusText,body:z,headers:Va(te.headers)},requestDetails:k}}catch(J){if(J.message.includes("v3 api not supported."))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(r,Object.assign(Object.assign({},n),{callSync:!1}),i);const ce=`Error while making call: ${(d=J.message)!==null&&d!==void 0?d:String(J)}`,O=new Xb(ce,J,wt(G),wt(A.body.sender_pubkey),wt(A.body.sender_sig),String(A.body.content.ingress_expiry._value));throw this.log.error(ce,O),O}}async query(r,n,i){var l,d,f,u;await Ce(this,er,"m",Vs).call(this);const g=Ce(this,Is,"f").call(this),_=n.effectiveCanisterId?et.from(n.effectiveCanisterId):et.from(r);this.log.print(`ecid ${_.toString()}`),this.log.print(`canisterId ${r.toString()}`);let x,v;const k=await(i!==void 0?i:Ce(this,on,"f"));if(!k)throw new Ml("This identity has expired due this application's security policy. Please refresh your authentication.");const A=et.from(r),b=(k==null?void 0:k.getPrincipal())||et.anonymous(),M={request_type:"query",canister_id:A,method_name:n.methodName,arg:n.arg,sender:b,ingress_expiry:new Bl(Ce(this,$s,"f")*Pl)},R=eo(M);x=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},Ce(this,qr,"f")?{Authorization:"Basic "+btoa(Ce(this,qr,"f"))}:{})},endpoint:"read",body:M}),x=await(k==null?void 0:k.transformRequest(x));const $=tf(x.body),G={canister:A.toText(),ecid:_,transformedRequest:x,body:$,requestId:R,backoff:g,tries:0},J=async()=>({requestDetails:M,query:await Ce(this,er,"m",Ex).call(this,G)}),ce=async()=>{if(!Ce(this,Hs,"f"))return;const O=Ce(this,zs,"f").get(_.toString());return O||(await this.fetchSubnetKeys(_.toString()),Ce(this,zs,"f").get(_.toString()))};try{const[O,te]=await Promise.all([J(),ce()]);v=O;const{requestDetails:oe,query:z}=v,W=Object.assign(Object.assign({},z),{requestDetails:oe});if(this.log.print("Query response:",W),!Ce(this,Hs,"f"))return W;try{return Ce(this,rc,"f").call(this,W,te)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),Ce(this,zs,"f").delete(r.toString()),await this.fetchSubnetKeys(_.toString());const ue=Ce(this,zs,"f").get(r.toString());if(!ue)throw new ln("Invalid signature from replica signed query: no matching node key found.");return Ce(this,rc,"f").call(this,W,ue)}}catch(O){const te=`Error while making call: ${(l=O.message)!==null&&l!==void 0?l:String(O)}`,oe=new Jb(te,O,String(R),wt((d=x==null?void 0:x.body)===null||d===void 0?void 0:d.sender_pubkey),wt((f=x==null?void 0:x.body)===null||f===void 0?void 0:f.sender_sig),String((u=x==null?void 0:x.body)===null||u===void 0?void 0:u.content.ingress_expiry._value));throw this.log.error(te,oe),oe}}async createReadStateRequest(r,n){await Ce(this,er,"m",Vs).call(this);const i=await(n!==void 0?await n:await Ce(this,on,"f"));if(!i)throw new Ml("This identity has expired due this application's security policy. Please refresh your authentication.");const l=(i==null?void 0:i.getPrincipal())||et.anonymous(),d=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},Ce(this,qr,"f")?{Authorization:"Basic "+btoa(Ce(this,qr,"f"))}:{})},endpoint:"read_state",body:{request_type:"read_state",paths:r.paths,sender:l,ingress_expiry:new Bl(Ce(this,$s,"f")*Pl)}});return i==null?void 0:i.transformRequest(d)}async readState(r,n,i,l){var d,f,u,g;function _(M){for(const R of M.paths){const[$,G]=R,J=Tn(new TextEncoder().encode("request_status"));if(oo($,J))return G}}const x=_(n);await Ce(this,er,"m",Vs).call(this);const v=typeof r=="string"?et.fromText(r):r,k=l??await this.createReadStateRequest(n,i),A=tf(k.body);this.log.print(`fetching "/api/v2/canister/${v}/read_state" with request:`,k);const b=Ce(this,Is,"f").call(this);try{const M=await Ce(this,er,"m",tc).call(this,{request:()=>Ce(this,jn,"f").call(this,""+new URL(`/api/v2/canister/${v.toString()}/read_state`,this.host),Object.assign(Object.assign(Object.assign({},Ce(this,Hi,"f")),k.request),{body:A})),backoff:b,tries:0});if(!M.ok)throw new Error(`Server returned an error:
  Code: ${M.status} (${M.statusText})
  Body: ${await M.text()}
`);const R=Cn(await M.arrayBuffer());this.log.print("Read state response:",R);const $=await this.parseTimeFromResponse(R);return $>0&&(this.log.print("Read state response time:",$),qt(this,Ka,$,"f")),R}catch(M){const R=`Caught exception while attempting to read state: ${(d=M.message)!==null&&d!==void 0?d:String(M)}`,$=new e2(R,M,String(x),wt((f=k==null?void 0:k.body)===null||f===void 0?void 0:f.sender_pubkey),wt((u=k==null?void 0:k.body)===null||u===void 0?void 0:u.sender_sig),String((g=k==null?void 0:k.body)===null||g===void 0?void 0:g.content.ingress_expiry._value));throw this.log.error(R,$),$}}async parseTimeFromResponse(r){let n;if(r.certificate){const i=Cn(r.certificate);if(i&&"tree"in i)n=i.tree;else throw new Error("Could not decode time from response");const l=Xi(["time"],n);if(l.status!==Mt.Found)throw new Error("Time was not found in the response or was not in its expected format.");if(!(l.value instanceof ArrayBuffer)&&!ArrayBuffer.isView(l))throw new Error("Time was not found in the response or was not in its expected format.");const d=h0(Tn(l.value));return this.log.print("Time from response:",d),this.log.print("Time from response in milliseconds:",Number(d)),Number(d)}else this.log.warn("No certificate found in response");return 0}async syncTime(r){await Ce(this,er,"m",Vs).call(this);const n=await Yv(()=>Promise.resolve().then(()=>D2),void 0),i=Date.now();try{r||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");const l=Bn.createSync({identity:new to,host:this.host.toString(),fetch:Ce(this,jn,"f"),retryTimes:0}),f=(await n.request({canisterId:r??et.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),agent:l,paths:["time"]})).get("time");f&&(qt(this,Mi,Number(f)-Number(i),"f"),this.log.notify({message:`Syncing time: offset of ${Ce(this,Mi,"f")}`,level:"info"}))}catch(l){this.log.error("Caught exception while attempting to sync time",l)}}async status(){const r=Ce(this,qr,"f")?{Authorization:"Basic "+btoa(Ce(this,qr,"f"))}:{};this.log.print('fetching "/api/v2/status"');const n=Ce(this,Is,"f").call(this),i=await Ce(this,er,"m",tc).call(this,{backoff:n,request:()=>Ce(this,jn,"f").call(this,""+new URL("/api/v2/status",this.host),Object.assign({headers:r},Ce(this,Hi,"f"))),tries:0});return Cn(await i.arrayBuffer())}async fetchRootKey(){let r;return Ce(this,Os,"f")?r=await Ce(this,Os,"f"):(qt(this,Os,new Promise((n,i)=>{this.status().then(l=>{const d=l.root_key;this.rootKey=d,n(d)}).catch(i)}),"f"),r=await Ce(this,Os,"f")),qt(this,Os,null,"f"),r}invalidateIdentity(){qt(this,on,null,"f")}replaceIdentity(r){qt(this,on,Promise.resolve(r),"f")}async fetchSubnetKeys(r){await Ce(this,er,"m",Vs).call(this);const n=et.from(r),l=(await ux({canisterId:n,paths:["subnet"],agent:this})).get("subnet");if(l&&typeof l=="object"&&"nodeKeys"in l)return Ce(this,zs,"f").set(n.toText(),l),l}_transform(r){let n=Promise.resolve(r);if(r.endpoint==="call")for(const i of Ce(this,Ui,"f"))n=n.then(l=>i(l).then(d=>d||l));else for(const i of Ce(this,Fi,"f"))n=n.then(l=>i(l).then(d=>d||l));return n}}Os=new WeakMap,Gi=new WeakMap,on=new WeakMap,jn=new WeakMap,Hi=new WeakMap,La=new WeakMap,Mi=new WeakMap,qr=new WeakMap,Wr=new WeakMap,Is=new WeakMap,$s=new WeakMap,Ka=new WeakMap,Fi=new WeakMap,Ui=new WeakMap,zs=new WeakMap,Hs=new WeakMap,rc=new WeakMap,er=new WeakSet,Ex=async function e(r){var n,i;const{ecid:l,transformedRequest:d,body:f,requestId:u,backoff:g,tries:_}=r,x=_===0?0:g.next();if(this.log.print(`fetching "/api/v2/canister/${l.toString()}/query" with tries:`,{tries:_,backoff:g,delay:x}),x===null)throw new jt(`Timestamp failed to pass the watermark after retrying the configured ${Ce(this,Wr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);x>0&&await new Promise(b=>setTimeout(b,x));let v;try{this.log.print(`fetching "/api/v2/canister/${l.toString()}/query" with request:`,d);const b=await Ce(this,jn,"f").call(this,""+new URL(`/api/v2/canister/${l.toString()}/query`,this.host),Object.assign(Object.assign(Object.assign({},Ce(this,Hi,"f")),d.request),{body:f}));if(b.status===200){const M=Cn(await b.arrayBuffer());v=Object.assign(Object.assign({},M),{httpDetails:{ok:b.ok,status:b.status,statusText:b.statusText,headers:Va(b.headers)},requestId:u})}else throw new rf(`Gateway returned an error:
  Code: ${b.status} (${b.statusText})
  Body: ${await b.text()}
`,{ok:b.ok,status:b.status,statusText:b.statusText,headers:Va(b.headers)})}catch(b){if(_<Ce(this,Wr,"f"))return this.log.warn(`Caught exception while attempting to make query:
  ${b}
  Retrying query.`),await Ce(this,er,"m",e).call(this,Object.assign(Object.assign({},r),{tries:_+1}));throw b}const k=(i=(n=v.signatures)===null||n===void 0?void 0:n[0])===null||i===void 0?void 0:i.timestamp;if(!Ce(this,Hs,"f"))return v;if(!k)throw new Error("Timestamp not found in query response. This suggests a malformed or malicious response.");const A=Number(BigInt(k)/BigInt(1e6));if(this.log.print("watermark and timestamp",{waterMark:this.waterMark,timestamp:A}),Number(this.waterMark)>A){const b=new jt("Timestamp is below the watermark. Retrying query.");if(this.log.error("Timestamp is below",b,{timestamp:k,waterMark:this.waterMark}),_<Ce(this,Wr,"f"))return await Ce(this,er,"m",e).call(this,Object.assign(Object.assign({},r),{tries:_+1}));throw new jt(`Timestamp failed to pass the watermark after retrying the configured ${Ce(this,Wr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`)}return v},tc=async function e(r){const{request:n,backoff:i,tries:l}=r,d=l===0?0:i.next();if(d===null)throw new jt(`Timestamp failed to pass the watermark after retrying the configured ${Ce(this,Wr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);d>0&&await new Promise(_=>setTimeout(_,d));let f;try{f=await n()}catch(_){if(Ce(this,Wr,"f")>l)return this.log.warn(`Caught exception while attempting to make request:
  ${_}
  Retrying request.`),await Ce(this,er,"m",e).call(this,{request:n,backoff:i,tries:l+1});throw _}if(f.ok)return f;const u=await f.clone().text(),g=`Server returned an error:
  Code: ${f.status} (${f.statusText})
  Body: ${u}
`;if(f.status===404&&f.url.includes("api/v3"))throw new rf("v3 api not supported. Fall back to v2",{ok:f.ok,status:f.status,statusText:f.statusText,headers:Va(f.headers)});if(l<Ce(this,Wr,"f"))return await Ce(this,er,"m",e).call(this,{request:n,backoff:i,tries:l+1});throw new rf(g,{ok:f.ok,status:f.status,statusText:f.statusText,headers:Va(f.headers)})},Vs=async function(){if(!this.rootKey)if(this.rootKey===null&&Ce(this,Gi,"f"))await this.fetchRootKey();else throw new jt(`Invalid root key detected. The root key for this agent is ${this.rootKey} and the shouldFetchRootKey value is set to ${Ce(this,Gi,"f")}. The root key should only be unknown if you are in local development. Otherwise you should avoid fetching and use the default IC Root Key or the known root key of your environment.`)};var cg;(function(e){e.Error="err",e.GetPrincipal="gp",e.GetPrincipalResponse="gpr",e.Query="q",e.QueryResponse="qr",e.Call="c",e.CallResponse="cr",e.ReadState="rs",e.ReadStateResponse="rsr",e.Status="s",e.StatusResponse="sr"})(cg||(cg={}));function ug(){const e=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.ic.agent:global.ic.agent:window.ic.agent;if(!e)throw new Error("No Agent could be found.");return e}const S3=5*60*1e3;function jx(){return R3(T3(A3(),1e3),B3(1e3,1.2),C3(S3))}function A3(){let e=!0;return async()=>e?(e=!1,!0):!1}function T3(e,r){return async(n,i,l)=>{if(await e(n,i,l))return new Promise(d=>setTimeout(d,r))}}function C3(e){const r=Date.now()+e;return async(n,i,l)=>{if(Date.now()>r)throw new Error(`Request timed out after ${e} msec:
  Request ID: ${wt(i)}
  Request status: ${l}
`)}}function B3(e,r){let n=e;return()=>new Promise(i=>setTimeout(()=>{n*=r,i()},n))}function R3(...e){return async(r,n,i)=>{for(const l of e)await l(r,n,i)}}async function kx(e,r,n,i=jx(),l,d){var f;const u=[new TextEncoder().encode("request_status"),n],g=l??await((f=e.createReadStateRequest)===null||f===void 0?void 0:f.call(e,{paths:[u]})),_=await e.readState(r,{paths:[u]},void 0,g);if(e.rootKey==null)throw new Error("Agent root key not initialized before polling");const x=await Ls.create({certificate:_.certificate,rootKey:e.rootKey,canisterId:r,blsVerify:d}),v=Rr(x.lookup([...u,new TextEncoder().encode("status")]));let k;switch(typeof v>"u"?k=kn.Unknown:k=new TextDecoder().decode(v),k){case kn.Replied:return{reply:Rr(x.lookup([...u,"reply"])),certificate:x};case kn.Received:case kn.Unknown:case kn.Processing:return await i(r,n,k),kx(e,r,n,i,g,d);case kn.Rejected:{const A=new Uint8Array(Rr(x.lookup([...u,"reject_code"])))[0],b=new TextDecoder().decode(Rr(x.lookup([...u,"reject_message"])));throw new Error(`Call was rejected:
  Request ID: ${wt(n)}
  Reject code: ${A}
  Reject text: ${b}
`)}case kn.Done:throw new Error(`Call was marked as done but we never saw the reply:
  Request ID: ${wt(n)}
`)}throw new Error("unreachable")}const P3=({IDL:e})=>{const r=e.Variant({mainnet:e.Null,testnet:e.Null}),n=e.Text,i=e.Record({network:r,address:n,min_confirmations:e.Opt(e.Nat32)}),l=e.Nat64,d=l,f=e.Nat32,u=e.Record({start_height:f,end_height:e.Opt(f),network:r}),g=e.Vec(e.Nat8),_=e.Record({tip_height:f,block_headers:e.Vec(g)}),x=e.Record({network:r}),v=e.Nat64,k=e.Vec(v),A=e.Record({network:r,filter:e.Opt(e.Variant({page:e.Vec(e.Nat8),min_confirmations:e.Nat32})),address:n}),b=e.Vec(e.Nat8),M=e.Record({txid:e.Vec(e.Nat8),vout:e.Nat32}),R=e.Record({height:e.Nat32,value:l,outpoint:M}),$=e.Record({next_page:e.Opt(e.Vec(e.Nat8)),tip_height:f,tip_block_hash:b,utxos:e.Vec(R)}),G=e.Record({transaction:e.Vec(e.Nat8),network:r}),J=e.Principal,ce=e.Record({canister_id:J,num_requested_changes:e.Opt(e.Nat64)}),O=e.Variant({from_user:e.Record({user_id:e.Principal}),from_canister:e.Record({canister_version:e.Opt(e.Nat64),canister_id:e.Principal})}),te=e.Vec(e.Nat8),oe=e.Variant({creation:e.Record({controllers:e.Vec(e.Principal)}),code_deployment:e.Record({mode:e.Variant({reinstall:e.Null,upgrade:e.Null,install:e.Null}),module_hash:e.Vec(e.Nat8)}),load_snapshot:e.Record({canister_version:e.Nat64,taken_at_timestamp:e.Nat64,snapshot_id:te}),controllers_change:e.Record({controllers:e.Vec(e.Principal)}),code_uninstall:e.Null}),z=e.Record({timestamp_nanos:e.Nat64,canister_version:e.Nat64,origin:O,details:oe}),W=e.Record({controllers:e.Vec(e.Principal),module_hash:e.Opt(e.Vec(e.Nat8)),recent_changes:e.Vec(z),total_num_changes:e.Nat64}),H=e.Record({canister_id:J}),ue=e.Variant({controllers:e.Null,public:e.Null,allowed_viewers:e.Vec(e.Principal)}),ge=e.Record({freezing_threshold:e.Nat,controllers:e.Vec(e.Principal),reserved_cycles_limit:e.Nat,log_visibility:ue,wasm_memory_limit:e.Nat,memory_allocation:e.Nat,compute_allocation:e.Nat}),j=e.Record({status:e.Variant({stopped:e.Null,stopping:e.Null,running:e.Null}),memory_size:e.Nat,cycles:e.Nat,settings:ge,query_stats:e.Record({response_payload_bytes_total:e.Nat,num_instructions_total:e.Nat,num_calls_total:e.Nat,request_payload_bytes_total:e.Nat}),idle_cycles_burned_per_day:e.Nat,module_hash:e.Opt(e.Vec(e.Nat8)),reserved_cycles:e.Nat}),I=e.Record({canister_id:J}),q=e.Record({freezing_threshold:e.Opt(e.Nat),controllers:e.Opt(e.Vec(e.Principal)),reserved_cycles_limit:e.Opt(e.Nat),log_visibility:e.Opt(ue),wasm_memory_limit:e.Opt(e.Nat),memory_allocation:e.Opt(e.Nat),compute_allocation:e.Opt(e.Nat)}),ne=e.Record({settings:e.Opt(q),sender_canister_version:e.Opt(e.Nat64)}),fe=e.Record({canister_id:J}),ie=e.Record({canister_id:J}),Ne=e.Record({canister_id:J,snapshot_id:te}),Ee=e.Record({canister_id:J}),L=e.Variant({secp256k1:e.Null}),de=e.Record({key_id:e.Record({name:e.Text,curve:L}),canister_id:e.Opt(J),derivation_path:e.Vec(e.Vec(e.Nat8))}),Re=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),U=e.Record({canister_id:J}),Pe=e.Record({idx:e.Nat64,timestamp_nanos:e.Nat64,content:e.Vec(e.Nat8)}),Be=e.Record({canister_log_records:e.Vec(Pe)}),be=e.Record({value:e.Text,name:e.Text}),me=e.Record({status:e.Nat,body:e.Vec(e.Nat8),headers:e.Vec(be)}),_e=e.Record({url:e.Text,method:e.Variant({get:e.Null,head:e.Null,post:e.Null}),max_response_bytes:e.Opt(e.Nat64),body:e.Opt(e.Vec(e.Nat8)),transform:e.Opt(e.Record({function:e.Func([e.Record({context:e.Vec(e.Nat8),response:me})],[me],["query"]),context:e.Vec(e.Nat8)})),headers:e.Vec(be)}),E=e.Variant({reinstall:e.Null,upgrade:e.Opt(e.Record({wasm_memory_persistence:e.Opt(e.Variant({keep:e.Null,replace:e.Null})),skip_pre_upgrade:e.Opt(e.Bool)})),install:e.Null}),P=e.Record({hash:e.Vec(e.Nat8)}),K=e.Record({arg:e.Vec(e.Nat8),wasm_module_hash:e.Vec(e.Nat8),mode:E,chunk_hashes_list:e.Vec(P),target_canister:J,store_canister:e.Opt(J),sender_canister_version:e.Opt(e.Nat64)}),Z=e.Vec(e.Nat8),X=e.Record({arg:e.Vec(e.Nat8),wasm_module:Z,mode:E,canister_id:J,sender_canister_version:e.Opt(e.Nat64)}),se=e.Record({canister_id:J}),S=e.Record({id:te,total_size:e.Nat64,taken_at_timestamp:e.Nat64}),p=e.Vec(S),m=e.Record({canister_id:J,sender_canister_version:e.Opt(e.Nat64),snapshot_id:te}),C=e.Record({start_at_timestamp_nanos:e.Nat64,subnet_id:e.Principal}),F=e.Record({num_block_failures_total:e.Nat64,node_id:e.Principal,num_blocks_proposed_total:e.Nat64}),Q=e.Vec(e.Record({timestamp_nanos:e.Nat64,node_metrics:e.Vec(F)})),he=e.Record({settings:e.Opt(q),specified_id:e.Opt(J),amount:e.Opt(e.Nat),sender_canister_version:e.Opt(e.Nat64)}),Se=e.Record({canister_id:J}),Fe=e.Record({canister_id:J,amount:e.Nat}),Ie=e.Vec(e.Nat8),De=e.Variant({ed25519:e.Null,bip340secp256k1:e.Null}),T=e.Record({key_id:e.Record({algorithm:De,name:e.Text}),canister_id:e.Opt(J),derivation_path:e.Vec(e.Vec(e.Nat8))}),y=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),N=e.Record({key_id:e.Record({name:e.Text,curve:L}),derivation_path:e.Vec(e.Vec(e.Nat8)),message_hash:e.Vec(e.Nat8)}),V=e.Record({signature:e.Vec(e.Nat8)}),ae=e.Variant({bip341:e.Record({merkle_root_hash:e.Vec(e.Nat8)})}),we=e.Record({aux:e.Opt(ae),key_id:e.Record({algorithm:De,name:e.Text}),derivation_path:e.Vec(e.Vec(e.Nat8)),message:e.Vec(e.Nat8)}),xe=e.Record({signature:e.Vec(e.Nat8)}),Ke=e.Record({canister_id:J}),Qe=e.Record({canister_id:J}),Ye=e.Record({canister_id:J}),We=e.Vec(P),st=e.Record({subnet_id:e.Principal}),lt=e.Record({replica_version:e.Text}),Ns=e.Record({replace_snapshot:e.Opt(te),canister_id:J}),Kr=S,Yr=e.Record({canister_id:J,sender_canister_version:e.Opt(e.Nat64)}),ei=e.Record({canister_id:e.Principal,settings:q,sender_canister_version:e.Opt(e.Nat64)}),ti=e.Record({chunk:e.Vec(e.Nat8),canister_id:e.Principal}),Mr=P;return e.Service({bitcoin_get_balance:e.Func([i],[d],[]),bitcoin_get_block_headers:e.Func([u],[_],[]),bitcoin_get_current_fee_percentiles:e.Func([x],[k],[]),bitcoin_get_utxos:e.Func([A],[$],[]),bitcoin_send_transaction:e.Func([G],[],[]),canister_info:e.Func([ce],[W],[]),canister_status:e.Func([H],[j],[]),clear_chunk_store:e.Func([I],[],[]),create_canister:e.Func([ne],[fe],[]),delete_canister:e.Func([ie],[],[]),delete_canister_snapshot:e.Func([Ne],[],[]),deposit_cycles:e.Func([Ee],[],[]),ecdsa_public_key:e.Func([de],[Re],[]),fetch_canister_logs:e.Func([U],[Be],["query"]),http_request:e.Func([_e],[me],[]),install_chunked_code:e.Func([K],[],[]),install_code:e.Func([X],[],[]),list_canister_snapshots:e.Func([se],[p],[]),load_canister_snapshot:e.Func([m],[],[]),node_metrics_history:e.Func([C],[Q],[]),provisional_create_canister_with_cycles:e.Func([he],[Se],[]),provisional_top_up_canister:e.Func([Fe],[],[]),raw_rand:e.Func([],[Ie],[]),schnorr_public_key:e.Func([T],[y],[]),sign_with_ecdsa:e.Func([N],[V],[]),sign_with_schnorr:e.Func([we],[xe],[]),start_canister:e.Func([Ke],[],[]),stop_canister:e.Func([Qe],[],[]),stored_chunks:e.Func([Ye],[We],[]),subnet_info:e.Func([st],[lt],[]),take_canister_snapshot:e.Func([Ns],[Kr],[]),uninstall_code:e.Func([Yr],[],[]),update_settings:e.Func([ei],[],[]),upload_chunk:e.Func([ti],[Mr],[])})};class Sx extends jt{constructor(r,n,i,l){super(["Call failed:",`  Canister: ${r.toText()}`,`  Method: ${n} (${i})`,...Object.getOwnPropertyNames(l).map(d=>`  "${d}": ${JSON.stringify(l[d])}`)].join(`
`)),this.canisterId=r,this.methodName=n,this.type=i,this.props=l}}class M3 extends Sx{constructor(r,n,i){var l;super(r,n,"query",{Status:i.status,Code:(l=Bf[i.reject_code])!==null&&l!==void 0?l:`Unknown Code "${i.reject_code}"`,Message:i.reject_message}),this.result=i}}class dg extends Sx{constructor(r,n,i,l,d,f,u){super(r,n,"update",Object.assign({"Request ID":wt(i)},l.body?Object.assign(Object.assign({},u?{"Error code":u}:{}),{"Reject code":String(d),"Reject message":f}):{"HTTP status code":l.status.toString(),"HTTP status text":l.statusText})),this.requestId=i,this.response=l,this.reject_code=d,this.reject_message=f,this.error_code=u}}const Br=Symbol.for("ic-agent-metadata");class ar{constructor(r){this[Br]=Object.freeze(r)}static agentOf(r){return r[Br].config.agent}static interfaceOf(r){return r[Br].service}static canisterIdOf(r){return et.from(r[Br].config.canisterId)}static async install(r,n){const i=r.mode===void 0?{install:null}:r.mode,l=r.arg?[...new Uint8Array(r.arg)]:[],d=[...new Uint8Array(r.module)],f=typeof n.canisterId=="string"?et.fromText(n.canisterId):n.canisterId;await fg(n).install_code({mode:i,arg:l,wasm_module:d,canister_id:f,sender_canister_version:[]})}static async createCanister(r,n){function i(d){return[{controllers:d.controllers?[d.controllers]:[],compute_allocation:d.compute_allocation?[d.compute_allocation]:[],freezing_threshold:d.freezing_threshold?[d.freezing_threshold]:[],memory_allocation:d.memory_allocation?[d.memory_allocation]:[],reserved_cycles_limit:[],log_visibility:[],wasm_memory_limit:[]}]}const{canister_id:l}=await fg(r||{}).provisional_create_canister_with_cycles({amount:[],settings:i(n||{}),specified_id:[],sender_canister_version:[]});return l}static async createAndInstallCanister(r,n,i){const l=await this.createCanister(i);return await this.install(Object.assign({},n),Object.assign(Object.assign({},i),{canisterId:l})),this.createActor(r,Object.assign(Object.assign({},i),{canisterId:l}))}static createActorClass(r,n){const i=r({IDL:Fb});class l extends ar{constructor(f){if(!f.canisterId)throw new jt(`Canister ID is required, but received ${typeof f.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);const u=typeof f.canisterId=="string"?et.fromText(f.canisterId):f.canisterId;super({config:Object.assign(Object.assign(Object.assign({},Ax),f),{canisterId:u}),service:i});for(const[g,_]of i._fields)n!=null&&n.httpDetails&&_.annotations.push(qf),n!=null&&n.certificate&&_.annotations.push(Tx),this[g]=F3(this,g,_,f.blsVerify)}}return l}static createActor(r,n){if(!n.canisterId)throw new jt(`Canister ID is required, but received ${typeof n.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);return new(this.createActorClass(r))(n)}static createActorWithHttpDetails(r,n){return new(this.createActorClass(r,{httpDetails:!0}))(n)}static createActorWithExtendedDetails(r,n,i={httpDetails:!0,certificate:!0}){return new(this.createActorClass(r,i))(n)}}function Ci(e,r){const n=cy(e,Gv.Buffer.from(r));switch(n.length){case 0:return;case 1:return n[0];default:return n}}const Ax={pollingStrategyFactory:jx},qf="http-details",Tx="certificate";function F3(e,r,n,i){let l;n.annotations.includes("query")||n.annotations.includes("composite_query")?l=async(f,...u)=>{var g,_;f=Object.assign(Object.assign({},f),(_=(g=e[Br].config).queryTransform)===null||_===void 0?void 0:_.call(g,r,u,Object.assign(Object.assign({},e[Br].config),f)));const x=f.agent||e[Br].config.agent||ug(),v=et.from(f.canisterId||e[Br].config.canisterId),k=Pf(n.argTypes,u),A=await x.query(v,{methodName:r,arg:k,effectiveCanisterId:f.effectiveCanisterId}),b=Object.assign(Object.assign({},A.httpDetails),{requestDetails:A.requestDetails});switch(A.status){case"rejected":throw new M3(v,r,A);case"replied":return n.annotations.includes(qf)?{httpDetails:b,result:Ci(n.retTypes,A.reply.arg)}:Ci(n.retTypes,A.reply.arg)}}:l=async(f,...u)=>{var g,_;f=Object.assign(Object.assign({},f),(_=(g=e[Br].config).callTransform)===null||_===void 0?void 0:_.call(g,r,u,Object.assign(Object.assign({},e[Br].config),f)));const x=f.agent||e[Br].config.agent||ug(),{canisterId:v,effectiveCanisterId:k,pollingStrategyFactory:A}=Object.assign(Object.assign(Object.assign({},Ax),e[Br].config),f),b=et.from(v),M=k!==void 0?et.from(k):b,R=Pf(n.argTypes,u),{requestId:$,response:G,requestDetails:J}=await x.call(b,{methodName:r,arg:R,effectiveCanisterId:M});let ce,O;if(G.body&&G.body.certificate){if(x.rootKey==null)throw new Error("Agent is missing root key");const W=G.body.certificate;O=await Ls.create({certificate:Ks(W),rootKey:x.rootKey,canisterId:et.from(v),blsVerify:i});const H=[new TextEncoder().encode("request_status"),$];switch(new TextDecoder().decode(Rr(O.lookup([...H,"status"])))){case"replied":ce=Rr(O.lookup([...H,"reply"]));break;case"rejected":{const ge=new Uint8Array(Rr(O.lookup([...H,"reject_code"])))[0],j=new TextDecoder().decode(Rr(O.lookup([...H,"reject_message"]))),I=Rr(O.lookup([...H,"error_code"])),q=I?new TextDecoder().decode(I):void 0;throw new dg(b,r,$,G,ge,j,q)}}}else if(G.body&&"reject_message"in G.body){const{reject_code:W,reject_message:H,error_code:ue}=G.body;throw new dg(b,r,$,G,W,H,ue)}if(G.status===202){const W=A(),H=await kx(x,M,$,W,i);O=H.certificate,ce=H.reply}const te=n.annotations.includes(qf),oe=n.annotations.includes(Tx),z=Object.assign(Object.assign({},G),{requestDetails:J});if(ce!==void 0)return te&&oe?{httpDetails:z,certificate:O,result:Ci(n.retTypes,ce)}:oe?{certificate:O,result:Ci(n.retTypes,ce)}:te?{httpDetails:z,result:Ci(n.retTypes,ce)}:Ci(n.retTypes,ce);if(n.retTypes.length===0)return te?{httpDetails:G,result:void 0}:void 0;throw new Error(`Call was returned undefined, but type [${n.retTypes.join(",")}].`)};const d=(...f)=>l({},...f);return d.withOptions=f=>(...u)=>l(f,...u),d}function fg(e){function r(n,i){if(e.effectiveCanisterId)return{effectiveCanisterId:et.from(e.effectiveCanisterId)};const l=i[0];let d=et.fromHex("");return l&&typeof l=="object"&&l.target_canister&&n==="install_chunked_code"&&(d=et.from(l.target_canister)),l&&typeof l=="object"&&l.canister_id&&(d=et.from(l.canister_id)),{effectiveCanisterId:d}}return ar.createActor(P3,Object.assign(Object.assign(Object.assign({},e),{canisterId:et.fromHex("")}),{callTransform:r,queryTransform:r}))}var vc=function(e,r,n,i,l){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!l:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?l.call(e,n):l?l.value=n:r.set(e,n),n},fs=function(e,r,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!i:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:r.get(e)},nc,sc,Oi,Ii;function hg(e){return e!==null&&typeof e=="object"}class Rn{constructor(r){if(nc.set(this,void 0),sc.set(this,void 0),r.byteLength!==Rn.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");vc(this,nc,Tn(r),"f"),vc(this,sc,Rn.derEncode(r),"f")}static from(r){if(typeof r=="string"){const n=Pn(r);return this.fromRaw(n)}else if(hg(r)){const n=r;if(hg(n)&&Object.hasOwnProperty.call(n,"__derEncodedPublicKey__"))return this.fromDer(n);if(ArrayBuffer.isView(n)){const i=n;return this.fromRaw(Tn(i.buffer))}else{if(n instanceof ArrayBuffer)return this.fromRaw(n);if("rawKey"in n)return this.fromRaw(n.rawKey);if("derKey"in n)return this.fromDer(n.derKey);if("toDer"in n)return this.fromDer(n.toDer())}}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(r){return new Rn(r)}static fromDer(r){return new Rn(this.derDecode(r))}static derEncode(r){const n=mx(r,wc).buffer;return n.__derEncodedPublicKey__=void 0,n}static derDecode(r){const n=gx(r,wc);if(n.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return Tn(n)}get rawKey(){return fs(this,nc,"f")}get derKey(){return fs(this,sc,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}nc=new WeakMap,sc=new WeakMap;Rn.RAW_KEY_LENGTH=32;class gs extends u0{constructor(r,n){super(),Oi.set(this,void 0),Ii.set(this,void 0),vc(this,Oi,Rn.from(r),"f"),vc(this,Ii,new Uint8Array(n),"f")}static generate(r){if(r&&r.length!==32)throw new Error("Ed25519 Seed needs to be 32 bytes long.");r||(r=Ri.utils.randomPrivateKey()),oo(r,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");const n=new Uint8Array(32);for(let l=0;l<32;l++)n[l]=new Uint8Array(r)[l];const i=Ri.getPublicKey(n);return gs.fromKeyPair(i,n)}static fromParsedJson(r){const[n,i]=r;return new gs(Rn.fromDer(Pn(n)),Pn(i))}static fromJSON(r){const n=JSON.parse(r);if(Array.isArray(n)){if(typeof n[0]=="string"&&typeof n[1]=="string")return this.fromParsedJson([n[0],n[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(r)}`)}static fromKeyPair(r,n){return new gs(Rn.fromRaw(r),n)}static fromSecretKey(r){const n=Ri.getPublicKey(new Uint8Array(r));return gs.fromKeyPair(n,r)}toJSON(){return[wt(fs(this,Oi,"f").toDer()),wt(fs(this,Ii,"f"))]}getKeyPair(){return{secretKey:fs(this,Ii,"f"),publicKey:fs(this,Oi,"f")}}getPublicKey(){return fs(this,Oi,"f")}async sign(r){const n=new Uint8Array(r),i=Ya(Ri.sign(n,fs(this,Ii,"f").slice(0,32)));return Object.defineProperty(i,"__signature__",{enumerable:!1,value:void 0}),i}static verify(r,n,i){const[l,d,f]=[r,n,i].map(u=>(typeof u=="string"&&(u=Pn(u)),u instanceof Uint8Array&&(u=Tn(u.buffer)),new Uint8Array(u)));return Ri.verify(l,d,f)}}Oi=new WeakMap,Ii=new WeakMap;class p0 extends Error{constructor(r){super(r),this.message=r,Object.setPrototypeOf(this,p0.prototype)}}function pg(e){if(typeof global<"u"&&global.crypto&&global.crypto.subtle)return global.crypto.subtle;if(e)return e;if(typeof crypto<"u"&&crypto.subtle)return crypto.subtle;throw new p0("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class bc extends u0{constructor(r,n,i){super(),this._keyPair=r,this._derKey=n,this._subtleCrypto=i}static async generate(r){const{extractable:n=!1,keyUsages:i=["sign","verify"],subtleCrypto:l}=r??{},d=pg(l),f=await d.generateKey({name:"ECDSA",namedCurve:"P-256"},n,i),u=await d.exportKey("spki",f.publicKey);return new this(f,u,d)}static async fromKeyPair(r,n){const i=pg(n),l=await i.exportKey("spki",r.publicKey);return new bc(r,l,i)}getKeyPair(){return this._keyPair}getPublicKey(){const r=this._derKey,n=Object.create(this._keyPair.publicKey);return n.toDer=function(){return r},n}async sign(r){const n={name:"ECDSA",hash:{name:"SHA-256"}};return await this._subtleCrypto.sign(n,this._keyPair.privateKey,r)}}var U3=function(e,r,n,i,l){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!l:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?l.call(e,n):l?l.value=n:r.set(e,n),n},Bi=function(e,r,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!i:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:r.get(e)},En;class O3{constructor(r){En.set(this,void 0),U3(this,En,r,"f")}get rawKey(){return Bi(this,En,"f").rawKey}get derKey(){return Bi(this,En,"f").derKey}toDer(){return Bi(this,En,"f").toDer()}getPublicKey(){return Bi(this,En,"f")}getPrincipal(){if(!Bi(this,En,"f").rawKey)throw new Error("Cannot get principal from a public key without a raw key.");return et.fromUint8Array(new Uint8Array(Bi(this,En,"f").rawKey))}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}}En=new WeakMap;var I3=function(e,r,n,i,l){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!l:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?l.call(e,n):l?l.value=n:r.set(e,n),n},$3=function(e,r,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!i:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:r.get(e)},z3=function(e,r){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)r.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(n[i[l]]=e[i[l]]);return n},ic;const V3=new TextEncoder().encode("ic-request-auth-delegation"),H3=new TextEncoder().encode(`
ic-request`);function mf(e){if(typeof e!="string"||e.length<64)throw new Error("Invalid public key.");return Pn(e)}class m0{constructor(r,n,i){this.pubkey=r,this.expiration=n,this.targets=i}toCBOR(){return _r.value.map(Object.assign({pubkey:_r.value.bytes(this.pubkey),expiration:_r.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:_r.value.array(this.targets.map(r=>_r.value.bytes(Ks(r.toUint8Array()))))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:wt(this.pubkey)},this.targets&&{targets:this.targets.map(r=>r.toHex())})}}async function q3(e,r,n,i){const l=new m0(r.toDer(),BigInt(+n)*BigInt(1e6),i),d=new Uint8Array([...V3,...new Uint8Array(eo(Object.assign({},l)))]),f=await e.sign(Ks(d));return{delegation:l,signature:f}}class Nc{constructor(r,n){this.delegations=r,this.publicKey=n}static async create(r,n,i=new Date(Date.now()+15*60*1e3),l={}){var d,f;const u=await q3(r,n,i,l.targets);return new Nc([...((d=l.previous)===null||d===void 0?void 0:d.delegations)||[],u],((f=l.previous)===null||f===void 0?void 0:f.publicKey)||r.getPublicKey().toDer())}static fromJSON(r){const{publicKey:n,delegations:i}=typeof r=="string"?JSON.parse(r):r;if(!Array.isArray(i))throw new Error("Invalid delegations.");const l=i.map(d=>{const{delegation:f,signature:u}=d,{pubkey:g,expiration:_,targets:x}=f;if(x!==void 0&&!Array.isArray(x))throw new Error("Invalid targets.");return{delegation:new m0(mf(g),BigInt("0x"+_),x&&x.map(v=>{if(typeof v!="string")throw new Error("Invalid target.");return et.fromHex(v)})),signature:mf(u)}});return new this(l,mf(n))}static fromDelegations(r,n){return new this(r,n)}toJSON(){return{delegations:this.delegations.map(r=>{const{delegation:n,signature:i}=r,{targets:l}=n;return{delegation:Object.assign({expiration:n.expiration.toString(16),pubkey:wt(n.pubkey)},l&&{targets:l.map(d=>d.toHex())}),signature:wt(i)}}),publicKey:wt(this.publicKey)}}}class mg extends u0{constructor(r,n){super(),this._inner=r,this._delegation=n}static fromDelegation(r,n){return new this(r,n)}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(r){return this._inner.sign(r)}async transformRequest(r){const{body:n}=r,i=z3(r,["body"]),l=await eo(n);return Object.assign(Object.assign({},i),{body:{content:n,sender_sig:await this.sign(Ks(new Uint8Array([...H3,...new Uint8Array(l)]))),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}}class _c extends O3{constructor(r,n){super(r),ic.set(this,void 0),I3(this,ic,n,"f")}get delegation(){return $3(this,ic,"f")}static fromDelegation(r,n){return new _c(r,n)}}ic=new WeakMap;function W3(e,r){for(const{delegation:i}of e.delegations)if(+new Date(Number(i.expiration/BigInt(1e6)))<=+Date.now())return!1;const n=[];for(const i of n){const l=i.toText();for(const{delegation:d}of e.delegations){if(d.targets===void 0)continue;let f=!0;for(const u of d.targets)if(u.toText()===l){f=!1;break}if(f)return!1}}return!0}var gg;(function(e){e[e.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256"})(gg||(gg={}));const yg=["mousedown","mousemove","keydown","touchstart","wheel"];class xg{constructor(r={}){var n;this.callbacks=[],this.idleTimeout=10*60*1e3,this.timeoutID=void 0;const{onIdle:i,idleTimeout:l=10*60*1e3}=r||{};this.callbacks=i?[i]:[],this.idleTimeout=l;const d=this._resetTimer.bind(this);window.addEventListener("load",d,!0),yg.forEach(function(u){document.addEventListener(u,d,!0)});const f=(u,g)=>{let _;return(...x)=>{const v=this,k=function(){_=void 0,u.apply(v,x)};clearTimeout(_),_=window.setTimeout(k,g)}};if(r!=null&&r.captureScroll){const u=f(d,(n=r==null?void 0:r.scrollDebounce)!==null&&n!==void 0?n:100);window.addEventListener("scroll",u,!0)}d()}static create(r={}){return new this(r)}registerCallback(r){this.callbacks.push(r)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);const r=this._resetTimer.bind(this);yg.forEach(function(n){document.removeEventListener(n,r,!0)}),this.callbacks.forEach(n=>n())}_resetTimer(){const r=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(r,this.idleTimeout)}}const G3=(e,r)=>r.some(n=>e instanceof n);let wg,vg;function L3(){return wg||(wg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K3(){return vg||(vg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cx=new WeakMap,Wf=new WeakMap,Bx=new WeakMap,gf=new WeakMap,g0=new WeakMap;function Y3(e){const r=new Promise((n,i)=>{const l=()=>{e.removeEventListener("success",d),e.removeEventListener("error",f)},d=()=>{n(xs(e.result)),l()},f=()=>{i(e.error),l()};e.addEventListener("success",d),e.addEventListener("error",f)});return r.then(n=>{n instanceof IDBCursor&&Cx.set(n,e)}).catch(()=>{}),g0.set(r,e),r}function Z3(e){if(Wf.has(e))return;const r=new Promise((n,i)=>{const l=()=>{e.removeEventListener("complete",d),e.removeEventListener("error",f),e.removeEventListener("abort",f)},d=()=>{n(),l()},f=()=>{i(e.error||new DOMException("AbortError","AbortError")),l()};e.addEventListener("complete",d),e.addEventListener("error",f),e.addEventListener("abort",f)});Wf.set(e,r)}let Gf={get(e,r,n){if(e instanceof IDBTransaction){if(r==="done")return Wf.get(e);if(r==="objectStoreNames")return e.objectStoreNames||Bx.get(e);if(r==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xs(e[r])},set(e,r,n){return e[r]=n,!0},has(e,r){return e instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in e}};function D3(e){Gf=e(Gf)}function Q3(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...n){const i=e.call(yf(this),r,...n);return Bx.set(i,r.sort?r.sort():[r]),xs(i)}:K3().includes(e)?function(...r){return e.apply(yf(this),r),xs(Cx.get(this))}:function(...r){return xs(e.apply(yf(this),r))}}function X3(e){return typeof e=="function"?Q3(e):(e instanceof IDBTransaction&&Z3(e),G3(e,L3())?new Proxy(e,Gf):e)}function xs(e){if(e instanceof IDBRequest)return Y3(e);if(gf.has(e))return gf.get(e);const r=X3(e);return r!==e&&(gf.set(e,r),g0.set(r,e)),r}const yf=e=>g0.get(e);function J3(e,r,{blocked:n,upgrade:i,blocking:l,terminated:d}={}){const f=indexedDB.open(e,r),u=xs(f);return i&&f.addEventListener("upgradeneeded",g=>{i(xs(f.result),g.oldVersion,g.newVersion,xs(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),u.then(g=>{d&&g.addEventListener("close",()=>d()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),u}const e5=["get","getKey","getAll","getAllKeys","count"],t5=["put","add","delete","clear"],xf=new Map;function bg(e,r){if(!(e instanceof IDBDatabase&&!(r in e)&&typeof r=="string"))return;if(xf.get(r))return xf.get(r);const n=r.replace(/FromIndex$/,""),i=r!==n,l=t5.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(l||e5.includes(n)))return;const d=async function(f,...u){const g=this.transaction(f,l?"readwrite":"readonly");let _=g.store;return i&&(_=_.index(u.shift())),(await Promise.all([_[n](...u),l&&g.done]))[0]};return xf.set(r,d),d}D3(e=>({...e,get:(r,n,i)=>bg(r,n)||e.get(r,n,i),has:(r,n)=>!!bg(r,n)||e.has(r,n)}));const Rx="auth-client-db",Px="ic-keyval",r5=async(e=Rx,r=Px,n)=>(Mx&&(localStorage!=null&&localStorage.getItem(ps))&&(localStorage.removeItem(ps),localStorage.removeItem(hs)),await J3(e,n,{upgrade:i=>{i.objectStoreNames.contains(r)&&i.clear(r),i.createObjectStore(r)}}));async function n5(e,r,n){return await e.get(r,n)}async function s5(e,r,n,i){return await e.put(r,i,n)}async function i5(e,r,n){return await e.delete(r,n)}class y0{constructor(r,n){this._db=r,this._storeName=n}static async create(r){const{dbName:n=Rx,storeName:i=Px,version:l=c5}=r??{},d=await r5(n,i,l);return new y0(d,i)}async set(r,n){return await s5(this._db,this._storeName,r,n)}async get(r){var n;return(n=await n5(this._db,this._storeName,r))!==null&&n!==void 0?n:null}async remove(r){return await i5(this._db,this._storeName,r)}}var a5=function(e,r,n,i,l){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!l:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?l.call(e,n):l?l.value=n:r.set(e,n),n},o5=function(e,r,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!i:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:r.get(e)},ac;const hs="identity",ps="delegation",l5="iv",c5=1,Mx=typeof window<"u";class u5{constructor(r="ic-",n){this.prefix=r,this._localStorage=n}get(r){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+r))}set(r,n){return this._getLocalStorage().setItem(this.prefix+r,n),Promise.resolve()}remove(r){return this._getLocalStorage().removeItem(this.prefix+r),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;const r=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.localStorage:global.localStorage:window.localStorage;if(!r)throw new Error("Could not find local storage.");return r}}class d5{constructor(r){ac.set(this,void 0),a5(this,ac,r??{},"f")}get _db(){return new Promise(r=>{if(this.initializedDb){r(this.initializedDb);return}y0.create(o5(this,ac,"f")).then(n=>{this.initializedDb=n,r(n)})})}async get(r){return await(await this._db).get(r)}async set(r,n){await(await this._db).set(r,n)}async remove(r){await(await this._db).remove(r)}}ac=new WeakMap;const f5="https://identity.internetcomputer.org",h5="#authorize",wf="ECDSA",vf="Ed25519",p5=500,m5="UserInterrupt";class g5{constructor(r,n,i,l,d,f,u,g){this._identity=r,this._key=n,this._chain=i,this._storage=l,this.idleManager=d,this._createOptions=f,this._idpWindow=u,this._eventHandler=g,this._registerDefaultIdleCallback()}static async create(r={}){var n,i,l;const d=(n=r.storage)!==null&&n!==void 0?n:new d5,f=(i=r.keyType)!==null&&i!==void 0?i:wf;let u=null;if(r.identity)u=r.identity;else{let v=await d.get(hs);if(!v&&Mx)try{const k=new u5,A=await k.get(ps),b=await k.get(hs);A&&b&&f===wf&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await d.set(ps,A),await d.set(hs,b),v=A,await k.remove(ps),await k.remove(hs))}catch(k){console.error("error while attempting to recover localstorage: "+k)}if(v)try{typeof v=="object"?f===vf&&typeof v=="string"?u=await gs.fromJSON(v):u=await bc.fromKeyPair(v):typeof v=="string"&&(u=gs.fromJSON(v))}catch{}}let g=new to,_=null;if(u)try{const v=await d.get(ps);if(typeof v=="object"&&v!==null)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");r.identity?g=r.identity:v&&(_=Nc.fromJSON(v),W3(_)?"toDer"in u?g=_c.fromDelegation(u,_):g=mg.fromDelegation(u,_):(await bf(d),u=null))}catch(v){console.error(v),await bf(d),u=null}let x;return!((l=r.idleOptions)===null||l===void 0)&&l.disableIdle?x=void 0:(_||r.identity)&&(x=xg.create(r.idleOptions)),u||(f===vf?(u=await gs.generate(),await d.set(hs,JSON.stringify(u.toJSON()))):(r.storage&&f===wf&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${vf}' as the key type, as it can serialize to a string`),u=await bc.generate(),await d.set(hs,u.getKeyPair()))),new this(g,u,_,d,x,r)}_registerDefaultIdleCallback(){var r,n;const i=(r=this._createOptions)===null||r===void 0?void 0:r.idleOptions;!(i!=null&&i.onIdle)&&!(i!=null&&i.disableDefaultIdleCallback)&&((n=this.idleManager)===null||n===void 0||n.registerCallback(()=>{this.logout(),location.reload()}))}async _handleSuccess(r,n){var i,l;const d=r.delegations.map(_=>({delegation:new m0(_.delegation.pubkey,_.delegation.expiration,_.delegation.targets),signature:_.signature.buffer})),f=Nc.fromDelegations(d,r.userPublicKey.buffer),u=this._key;if(!u)return;this._chain=f,"toDer"in u?this._identity=_c.fromDelegation(u,this._chain):this._identity=mg.fromDelegation(u,this._chain),(i=this._idpWindow)===null||i===void 0||i.close();const g=(l=this._createOptions)===null||l===void 0?void 0:l.idleOptions;!this.idleManager&&!(g!=null&&g.disableIdle)&&(this.idleManager=xg.create(g),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(ps,JSON.stringify(this._chain.toJSON())),n==null||n(r)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&this._chain!==null}async login(r){var n,i,l,d;const f=BigInt(8)*BigInt(36e11),u=new URL(((n=r==null?void 0:r.identityProvider)===null||n===void 0?void 0:n.toString())||f5);u.hash=h5,(i=this._idpWindow)===null||i===void 0||i.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(u,Object.assign({maxTimeToLive:(l=r==null?void 0:r.maxTimeToLive)!==null&&l!==void 0?l:f},r)),window.addEventListener("message",this._eventHandler),this._idpWindow=(d=window.open(u.toString(),"idpWindow",r==null?void 0:r.windowOpenerFeatures))!==null&&d!==void 0?d:void 0;const g=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure(m5,r==null?void 0:r.onError):setTimeout(g,p5))};g()}_getEventHandler(r,n){return async i=>{var l,d,f;if(i.origin!==r.origin)return;const u=i.data;switch(u.kind){case"authorize-ready":{const g=Object.assign({kind:"authorize-client",sessionPublicKey:new Uint8Array((l=this._key)===null||l===void 0?void 0:l.getPublicKey().toDer()),maxTimeToLive:n==null?void 0:n.maxTimeToLive,allowPinAuthentication:n==null?void 0:n.allowPinAuthentication,derivationOrigin:(d=n==null?void 0:n.derivationOrigin)===null||d===void 0?void 0:d.toString()},n==null?void 0:n.customValues);(f=this._idpWindow)===null||f===void 0||f.postMessage(g,r.origin);break}case"authorize-client-success":try{await this._handleSuccess(u,n==null?void 0:n.onSuccess)}catch(g){this._handleFailure(g.message,n==null?void 0:n.onError)}break;case"authorize-client-failure":this._handleFailure(u.text,n==null?void 0:n.onError);break}}}_handleFailure(r,n){var i;(i=this._idpWindow)===null||i===void 0||i.close(),n==null||n(r),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(r={}){if(await bf(this._storage),this._identity=new to,this._chain=null,r.returnTo)try{window.history.pushState({},"",r.returnTo)}catch{window.location.href=r.returnTo}}}async function bf(e){await e.remove(hs),await e.remove(ps),await e.remove(l5)}function y5({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}const x5=Y.forwardRef(y5);function w5({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const v5=Y.forwardRef(w5);function b5({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const N5=Y.forwardRef(b5);function _5({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const Nf=Y.forwardRef(_5);function E5({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Lf=Y.forwardRef(E5);function j5({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Ng=Y.forwardRef(j5);function k5({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Kf=Y.forwardRef(k5);function S5({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Fx=Y.forwardRef(S5);function A5({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const T5=Y.forwardRef(A5);function C5({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"}))}const B5=Y.forwardRef(C5);function R5({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const P5=Y.forwardRef(R5);function M5({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const F5=Y.forwardRef(M5);function U5({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const Ec=Y.forwardRef(U5);function O5({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const I5=Y.forwardRef(O5);function $5({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const z5=Y.forwardRef($5);function V5({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const H5=Y.forwardRef(V5);function q5({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Li=Y.forwardRef(q5);function W5({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const jc=Y.forwardRef(W5);function G5({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Ux=Y.forwardRef(G5);function L5({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const K5=Y.forwardRef(L5);function Y5({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Z5=Y.forwardRef(Y5);function D5({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const Q5=Y.forwardRef(D5);function X5({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))}const J5=Y.forwardRef(X5);function eN({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const tN=Y.forwardRef(eN);function rN({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const Yf=Y.forwardRef(rN);function nN({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Ox=Y.forwardRef(nN);function sN({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const _g=Y.forwardRef(sN);function iN({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Ix=Y.forwardRef(iN);function aN({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Eg=Y.forwardRef(aN);function oN({title:e,titleId:r,...n},i){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},n),e?Y.createElement("title",{id:r},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Qa=Y.forwardRef(oN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cN=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,n,i)=>i?i.toUpperCase():n.toLowerCase()),jg=e=>{const r=cN(e);return r.charAt(0).toUpperCase()+r.slice(1)},$x=(...e)=>e.filter((r,n,i)=>!!r&&r.trim()!==""&&i.indexOf(r)===n).join(" ").trim(),uN=e=>{for(const r in e)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=Y.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:d,iconNode:f,...u},g)=>Y.createElement("svg",{ref:g,...dN,width:r,height:r,stroke:e,strokeWidth:i?Number(n)*24/Number(r):n,className:$x("lucide",l),...!d&&!uN(u)&&{"aria-hidden":"true"},...u},[...f.map(([_,x])=>Y.createElement(_,x)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(e,r)=>{const n=Y.forwardRef(({className:i,...l},d)=>Y.createElement(fN,{ref:d,iconNode:r,className:$x(`lucide-${lN(jg(e))}`,`lucide-${e}`,i),...l}));return n.displayName=jg(e),n};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],pN=ot("activity",hN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],x0=ot("arrow-right",mN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],fo=ot("bot",gN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Zf=ot("chart-column",yN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],wN=ot("check",xN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],zx=ot("code",vN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],NN=ot("credit-card",bN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],EN=ot("database",_N);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],kN=ot("file-text",jN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],AN=ot("github",SN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],CN=ot("globe",TN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],RN=ot("lock",BN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],MN=ot("log-out",PN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],UN=ot("menu",FN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],IN=ot("message-circle",ON);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Lc=ot("message-square",$N);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],VN=ot("moon",zN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],qN=ot("palette",HN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],kc=ot("plus",WN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],LN=ot("rocket",GN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],YN=ot("search",KN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vx=ot("settings",ZN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],QN=ot("shield",DN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Df=ot("sparkles",XN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],e4=ot("sun",JN);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Hx=ot("trending-up",t4);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],n4=ot("twitter",r4);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],qx=ot("user",s4);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],w0=ot("users",i4);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],o4=ot("x",a4);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Wx=ot("zap",l4);function kg(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function c4(...e){return r=>{let n=!1;const i=e.map(l=>{const d=kg(l,r);return!n&&typeof d=="function"&&(n=!0),d});if(n)return()=>{for(let l=0;l<i.length;l++){const d=i[l];typeof d=="function"?d():kg(e[l],null)}}}}function u4(e){const r=f4(e),n=Y.forwardRef((i,l)=>{const{children:d,...f}=i,u=Y.Children.toArray(d),g=u.find(p4);if(g){const _=g.props.children,x=u.map(v=>v===g?Y.Children.count(_)>1?Y.Children.only(null):Y.isValidElement(_)?_.props.children:null:v);return a.jsx(r,{...f,ref:l,children:Y.isValidElement(_)?Y.cloneElement(_,void 0,x):null})}return a.jsx(r,{...f,ref:l,children:d})});return n.displayName=`${e}.Slot`,n}var d4=u4("Slot");function f4(e){const r=Y.forwardRef((n,i)=>{const{children:l,...d}=n;if(Y.isValidElement(l)){const f=g4(l),u=m4(d,l.props);return l.type!==Y.Fragment&&(u.ref=i?c4(i,f):f),Y.cloneElement(l,u)}return Y.Children.count(l)>1?Y.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var h4=Symbol("radix.slottable");function p4(e){return Y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===h4}function m4(e,r){const n={...r};for(const i in r){const l=e[i],d=r[i];/^on[A-Z]/.test(i)?l&&d?n[i]=(...u)=>{const g=d(...u);return l(...u),g}:l&&(n[i]=l):i==="style"?n[i]={...l,...d}:i==="className"&&(n[i]=[l,d].filter(Boolean).join(" "))}return{...e,...n}}function g4(e){var i,l;let r=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(l=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:l.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Gx(e){var r,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(r=0;r<l;r++)e[r]&&(n=Gx(e[r]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function Lx(){for(var e,r,n=0,i="",l=arguments.length;n<l;n++)(e=arguments[n])&&(r=Gx(e))&&(i&&(i+=" "),i+=r);return i}const Sg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ag=Lx,Kx=(e,r)=>n=>{var i;if((r==null?void 0:r.variants)==null)return Ag(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:l,defaultVariants:d}=r,f=Object.keys(l).map(_=>{const x=n==null?void 0:n[_],v=d==null?void 0:d[_];if(x===null)return null;const k=Sg(x)||Sg(v);return l[_][k]}),u=n&&Object.entries(n).reduce((_,x)=>{let[v,k]=x;return k===void 0||(_[v]=k),_},{}),g=r==null||(i=r.compoundVariants)===null||i===void 0?void 0:i.reduce((_,x)=>{let{class:v,className:k,...A}=x;return Object.entries(A).every(b=>{let[M,R]=b;return Array.isArray(R)?R.includes({...d,...u}[M]):{...d,...u}[M]===R})?[..._,v,k]:_},[]);return Ag(e,f,g,n==null?void 0:n.class,n==null?void 0:n.className)},v0="-",y4=e=>{const r=w4(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:f=>{const u=f.split(v0);return u[0]===""&&u.length!==1&&u.shift(),Yx(u,r)||x4(f)},getConflictingClassGroupIds:(f,u)=>{const g=n[f]||[];return u&&i[f]?[...g,...i[f]]:g}}},Yx=(e,r)=>{var f;if(e.length===0)return r.classGroupId;const n=e[0],i=r.nextPart.get(n),l=i?Yx(e.slice(1),i):void 0;if(l)return l;if(r.validators.length===0)return;const d=e.join(v0);return(f=r.validators.find(({validator:u})=>u(d)))==null?void 0:f.classGroupId},Tg=/^\[(.+)\]$/,x4=e=>{if(Tg.test(e)){const r=Tg.exec(e)[1],n=r==null?void 0:r.substring(0,r.indexOf(":"));if(n)return"arbitrary.."+n}},w4=e=>{const{theme:r,prefix:n}=e,i={nextPart:new Map,validators:[]};return b4(Object.entries(e.classGroups),n).forEach(([d,f])=>{Qf(f,i,d,r)}),i},Qf=(e,r,n,i)=>{e.forEach(l=>{if(typeof l=="string"){const d=l===""?r:Cg(r,l);d.classGroupId=n;return}if(typeof l=="function"){if(v4(l)){Qf(l(i),r,n,i);return}r.validators.push({validator:l,classGroupId:n});return}Object.entries(l).forEach(([d,f])=>{Qf(f,Cg(r,d),n,i)})})},Cg=(e,r)=>{let n=e;return r.split(v0).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},v4=e=>e.isThemeGetter,b4=(e,r)=>r?e.map(([n,i])=>{const l=i.map(d=>typeof d=="string"?r+d:typeof d=="object"?Object.fromEntries(Object.entries(d).map(([f,u])=>[r+f,u])):d);return[n,l]}):e,N4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,n=new Map,i=new Map;const l=(d,f)=>{n.set(d,f),r++,r>e&&(r=0,i=n,n=new Map)};return{get(d){let f=n.get(d);if(f!==void 0)return f;if((f=i.get(d))!==void 0)return l(d,f),f},set(d,f){n.has(d)?n.set(d,f):l(d,f)}}},Zx="!",_4=e=>{const{separator:r,experimentalParseClassName:n}=e,i=r.length===1,l=r[0],d=r.length,f=u=>{const g=[];let _=0,x=0,v;for(let R=0;R<u.length;R++){let $=u[R];if(_===0){if($===l&&(i||u.slice(R,R+d)===r)){g.push(u.slice(x,R)),x=R+d;continue}if($==="/"){v=R;continue}}$==="["?_++:$==="]"&&_--}const k=g.length===0?u:u.substring(x),A=k.startsWith(Zx),b=A?k.substring(1):k,M=v&&v>x?v-x:void 0;return{modifiers:g,hasImportantModifier:A,baseClassName:b,maybePostfixModifierPosition:M}};return n?u=>n({className:u,parseClassName:f}):f},E4=e=>{if(e.length<=1)return e;const r=[];let n=[];return e.forEach(i=>{i[0]==="["?(r.push(...n.sort(),i),n=[]):n.push(i)}),r.push(...n.sort()),r},j4=e=>({cache:N4(e.cacheSize),parseClassName:_4(e),...y4(e)}),k4=/\s+/,S4=(e,r)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:l}=r,d=[],f=e.trim().split(k4);let u="";for(let g=f.length-1;g>=0;g-=1){const _=f[g],{modifiers:x,hasImportantModifier:v,baseClassName:k,maybePostfixModifierPosition:A}=n(_);let b=!!A,M=i(b?k.substring(0,A):k);if(!M){if(!b){u=_+(u.length>0?" "+u:u);continue}if(M=i(k),!M){u=_+(u.length>0?" "+u:u);continue}b=!1}const R=E4(x).join(":"),$=v?R+Zx:R,G=$+M;if(d.includes(G))continue;d.push(G);const J=l(M,b);for(let ce=0;ce<J.length;++ce){const O=J[ce];d.push($+O)}u=_+(u.length>0?" "+u:u)}return u};function A4(){let e=0,r,n,i="";for(;e<arguments.length;)(r=arguments[e++])&&(n=Dx(r))&&(i&&(i+=" "),i+=n);return i}const Dx=e=>{if(typeof e=="string")return e;let r,n="";for(let i=0;i<e.length;i++)e[i]&&(r=Dx(e[i]))&&(n&&(n+=" "),n+=r);return n};function T4(e,...r){let n,i,l,d=f;function f(g){const _=r.reduce((x,v)=>v(x),e());return n=j4(_),i=n.cache.get,l=n.cache.set,d=u,u(g)}function u(g){const _=i(g);if(_)return _;const x=S4(g,n);return l(g,x),x}return function(){return d(A4.apply(null,arguments))}}const gt=e=>{const r=n=>n[e]||[];return r.isThemeGetter=!0,r},Qx=/^\[(?:([a-z-]+):)?(.+)\]$/i,C4=/^\d+\/\d+$/,B4=new Set(["px","full","screen"]),R4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,P4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,M4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,F4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,U4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_n=e=>Ki(e)||B4.has(e)||C4.test(e),os=e=>ea(e,"length",W4),Ki=e=>!!e&&!Number.isNaN(Number(e)),_f=e=>ea(e,"number",Ki),$a=e=>!!e&&Number.isInteger(Number(e)),O4=e=>e.endsWith("%")&&Ki(e.slice(0,-1)),Xe=e=>Qx.test(e),ls=e=>R4.test(e),I4=new Set(["length","size","percentage"]),$4=e=>ea(e,I4,Xx),z4=e=>ea(e,"position",Xx),V4=new Set(["image","url"]),H4=e=>ea(e,V4,L4),q4=e=>ea(e,"",G4),za=()=>!0,ea=(e,r,n)=>{const i=Qx.exec(e);return i?i[1]?typeof r=="string"?i[1]===r:r.has(i[1]):n(i[2]):!1},W4=e=>P4.test(e)&&!M4.test(e),Xx=()=>!1,G4=e=>F4.test(e),L4=e=>U4.test(e),K4=()=>{const e=gt("colors"),r=gt("spacing"),n=gt("blur"),i=gt("brightness"),l=gt("borderColor"),d=gt("borderRadius"),f=gt("borderSpacing"),u=gt("borderWidth"),g=gt("contrast"),_=gt("grayscale"),x=gt("hueRotate"),v=gt("invert"),k=gt("gap"),A=gt("gradientColorStops"),b=gt("gradientColorStopPositions"),M=gt("inset"),R=gt("margin"),$=gt("opacity"),G=gt("padding"),J=gt("saturate"),ce=gt("scale"),O=gt("sepia"),te=gt("skew"),oe=gt("space"),z=gt("translate"),W=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],ue=()=>["auto",Xe,r],ge=()=>[Xe,r],j=()=>["",_n,os],I=()=>["auto",Ki,Xe],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>["start","end","center","between","around","evenly","stretch"],Ne=()=>["","0",Xe],Ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[Ki,Xe];return{cacheSize:500,separator:":",theme:{colors:[za],spacing:[_n,os],blur:["none","",ls,Xe],brightness:L(),borderColor:[e],borderRadius:["none","","full",ls,Xe],borderSpacing:ge(),borderWidth:j(),contrast:L(),grayscale:Ne(),hueRotate:L(),invert:Ne(),gap:ge(),gradientColorStops:[e],gradientColorStopPositions:[O4,os],inset:ue(),margin:ue(),opacity:L(),padding:ge(),saturate:L(),scale:L(),sepia:Ne(),skew:L(),space:ge(),translate:ge()},classGroups:{aspect:[{aspect:["auto","square","video",Xe]}],container:["container"],columns:[{columns:[ls]}],"break-after":[{"break-after":Ee()}],"break-before":[{"break-before":Ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),Xe]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[M]}],"inset-x":[{"inset-x":[M]}],"inset-y":[{"inset-y":[M]}],start:[{start:[M]}],end:[{end:[M]}],top:[{top:[M]}],right:[{right:[M]}],bottom:[{bottom:[M]}],left:[{left:[M]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$a,Xe]}],basis:[{basis:ue()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Xe]}],grow:[{grow:Ne()}],shrink:[{shrink:Ne()}],order:[{order:["first","last","none",$a,Xe]}],"grid-cols":[{"grid-cols":[za]}],"col-start-end":[{col:["auto",{span:["full",$a,Xe]},Xe]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[za]}],"row-start-end":[{row:["auto",{span:[$a,Xe]},Xe]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Xe]}],gap:[{gap:[k]}],"gap-x":[{"gap-x":[k]}],"gap-y":[{"gap-y":[k]}],"justify-content":[{justify:["normal",...ie()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ie(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ie(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[G]}],px:[{px:[G]}],py:[{py:[G]}],ps:[{ps:[G]}],pe:[{pe:[G]}],pt:[{pt:[G]}],pr:[{pr:[G]}],pb:[{pb:[G]}],pl:[{pl:[G]}],m:[{m:[R]}],mx:[{mx:[R]}],my:[{my:[R]}],ms:[{ms:[R]}],me:[{me:[R]}],mt:[{mt:[R]}],mr:[{mr:[R]}],mb:[{mb:[R]}],ml:[{ml:[R]}],"space-x":[{"space-x":[oe]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[oe]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Xe,r]}],"min-w":[{"min-w":[Xe,r,"min","max","fit"]}],"max-w":[{"max-w":[Xe,r,"none","full","min","max","fit","prose",{screen:[ls]},ls]}],h:[{h:[Xe,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Xe,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Xe,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Xe,r,"auto","min","max","fit"]}],"font-size":[{text:["base",ls,os]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_f]}],"font-family":[{font:[za]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Xe]}],"line-clamp":[{"line-clamp":["none",Ki,_f]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_n,Xe]}],"list-image":[{"list-image":["none",Xe]}],"list-style-type":[{list:["none","disc","decimal",Xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[$]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[$]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_n,os]}],"underline-offset":[{"underline-offset":["auto",_n,Xe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ge()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[$]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),z4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},H4]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[A]}],"gradient-via":[{via:[A]}],"gradient-to":[{to:[A]}],rounded:[{rounded:[d]}],"rounded-s":[{"rounded-s":[d]}],"rounded-e":[{"rounded-e":[d]}],"rounded-t":[{"rounded-t":[d]}],"rounded-r":[{"rounded-r":[d]}],"rounded-b":[{"rounded-b":[d]}],"rounded-l":[{"rounded-l":[d]}],"rounded-ss":[{"rounded-ss":[d]}],"rounded-se":[{"rounded-se":[d]}],"rounded-ee":[{"rounded-ee":[d]}],"rounded-es":[{"rounded-es":[d]}],"rounded-tl":[{"rounded-tl":[d]}],"rounded-tr":[{"rounded-tr":[d]}],"rounded-br":[{"rounded-br":[d]}],"rounded-bl":[{"rounded-bl":[d]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[$]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[$]}],"divide-style":[{divide:ne()}],"border-color":[{border:[l]}],"border-color-x":[{"border-x":[l]}],"border-color-y":[{"border-y":[l]}],"border-color-s":[{"border-s":[l]}],"border-color-e":[{"border-e":[l]}],"border-color-t":[{"border-t":[l]}],"border-color-r":[{"border-r":[l]}],"border-color-b":[{"border-b":[l]}],"border-color-l":[{"border-l":[l]}],"divide-color":[{divide:[l]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[_n,Xe]}],"outline-w":[{outline:[_n,os]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[$]}],"ring-offset-w":[{"ring-offset":[_n,os]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ls,q4]}],"shadow-color":[{shadow:[za]}],opacity:[{opacity:[$]}],"mix-blend":[{"mix-blend":[...fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",ls,Xe]}],grayscale:[{grayscale:[_]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[v]}],saturate:[{saturate:[J]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[_]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[$]}],"backdrop-saturate":[{"backdrop-saturate":[J]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[f]}],"border-spacing-x":[{"border-spacing-x":[f]}],"border-spacing-y":[{"border-spacing-y":[f]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Xe]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",Xe]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",Xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[ce]}],"scale-x":[{"scale-x":[ce]}],"scale-y":[{"scale-y":[ce]}],rotate:[{rotate:[$a,Xe]}],"translate-x":[{"translate-x":[z]}],"translate-y":[{"translate-y":[z]}],"skew-x":[{"skew-x":[te]}],"skew-y":[{"skew-y":[te]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Xe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ge()}],"scroll-mx":[{"scroll-mx":ge()}],"scroll-my":[{"scroll-my":ge()}],"scroll-ms":[{"scroll-ms":ge()}],"scroll-me":[{"scroll-me":ge()}],"scroll-mt":[{"scroll-mt":ge()}],"scroll-mr":[{"scroll-mr":ge()}],"scroll-mb":[{"scroll-mb":ge()}],"scroll-ml":[{"scroll-ml":ge()}],"scroll-p":[{"scroll-p":ge()}],"scroll-px":[{"scroll-px":ge()}],"scroll-py":[{"scroll-py":ge()}],"scroll-ps":[{"scroll-ps":ge()}],"scroll-pe":[{"scroll-pe":ge()}],"scroll-pt":[{"scroll-pt":ge()}],"scroll-pr":[{"scroll-pr":ge()}],"scroll-pb":[{"scroll-pb":ge()}],"scroll-pl":[{"scroll-pl":ge()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[_n,os,_f]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Y4=T4(K4);function Fn(...e){return Y4(Lx(e))}const Z4=Kx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),yr=Y.forwardRef(({className:e,variant:r,size:n,asChild:i=!1,...l},d)=>{const f=i?d4:"button";return a.jsx(f,{className:Fn(Z4({variant:r,size:n,className:e})),ref:d,...l})});yr.displayName="Button";const Jx=Y.forwardRef(({className:e,type:r,...n},i)=>a.jsx("input",{type:r,className:Fn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...n}));Jx.displayName="Input";const e1=Y.createContext(void 0);function D4({children:e,defaultTheme:r="system",storageKey:n="neochat-theme"}){const[i,l]=Y.useState(()=>localStorage.getItem(n)||r);Y.useEffect(()=>{const f=window.document.documentElement;if(f.classList.remove("light","dark"),i==="system"){const u=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";f.classList.add(u);return}f.classList.add(i)},[i]);const d={theme:i,setTheme:f=>{localStorage.setItem(n,f),l(f)}};return a.jsx(e1.Provider,{value:d,children:e})}const Q4=()=>{const e=Y.useContext(e1);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Xf=()=>{const{theme:e,setTheme:r}=Q4();return a.jsxs(yr,{variant:"ghost",size:"icon",onClick:()=>r(e==="light"?"dark":"light"),className:"relative overflow-hidden backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10 hover:bg-white/30 dark:hover:bg-white/10 transition-all duration-300",children:[a.jsx(e4,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),a.jsx(VN,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})},Ef=({identity:e,sessionToken:r,onLogout:n,searchQuery:i="",onSearchChange:l,notifications:d=0})=>{var x;const f=(x=e==null?void 0:e.getPrincipal())==null?void 0:x.toText(),u=f?f.length>12?`${f.slice(0,6)}...${f.slice(-3)}`:f:"Anonymous",g=v=>{l&&l(v.target.value)},_=()=>{n&&n()};return a.jsx("header",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border-b border-white/20 dark:border-gray-700/50 px-8 py-4 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(YN,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(Jx,{placeholder:"Search agents, chats, analytics...",value:i,onChange:g,className:"pl-12 w-96 bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30 focus:border-blue-500/50 dark:focus:border-blue-400/50 focus:ring-blue-500/20 dark:focus:ring-blue-400/20 rounded-xl"})]})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Xf,{}),a.jsxs("div",{className:"flex items-center space-x-3 pl-4 border-l border-white/30 dark:border-gray-600/30",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(qx,{className:"w-5 h-5 text-white"})}),a.jsx("div",{className:"hidden md:block",children:a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:u})}),a.jsxs(yr,{variant:"outline",size:"sm",onClick:_,className:"bg-white/50 dark:bg-gray-700/50 hover:bg-white/80 dark:hover:bg-gray-700/80 border-white/30 dark:border-gray-600/30 rounded-xl flex items-center space-x-2",children:[a.jsx(MN,{className:"w-4 h-4"}),a.jsx("span",{children:"Logout"})]})]})]})]})})},jf=({onNavigate:e,activeView:r="dashboard",selectedAgent:n})=>{const i=[{id:"dashboard",icon:Zf,label:"Dashboard",path:"/dashboard",disabled:!1},{id:"agents",icon:w0,label:"My Agents",path:"/my-agents",disabled:!1},{id:"create",icon:kc,label:"Create Agent",path:"/create-agent",disabled:!1},{id:"chat",icon:Lc,label:"Chat",path:"/chat",disabled:!n},{id:"analytics",icon:Zf,label:"Analytics",path:"/analytics",disabled:!1},{id:"billing",icon:NN,label:"Billing & Payments",path:"/billing",disabled:!1},{id:"embed",icon:zx,label:"Embed Widget",path:"/embed",disabled:!n},{id:"profile",icon:qx,label:"Profile",path:"/profile",disabled:!1}];return a.jsx("aside",{className:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 h-screen fixed left-0 top-0 z-40",children:a.jsxs("div",{className:"p-6 h-full overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-8",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:a.jsx(fo,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"NeoChat"})]}),a.jsx("nav",{className:"space-y-2",children:i.map(l=>{const d=r===l.id;return a.jsxs(yr,{variant:d?"default":"ghost",disabled:l.disabled,className:`w-full justify-start transition-all duration-200 ${d?"bg-blue-600 text-white hover:bg-blue-700":l.disabled?"text-gray-400 cursor-not-allowed opacity-50":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-blue-50 dark:hover:bg-gray-700"}`,onClick:()=>{l.disabled||e(l.id)},children:[a.jsx(l.icon,{className:`w-4 h-4 mr-3 ${d?"text-white":l.disabled?"text-gray-400":"text-gray-500 group-hover:text-blue-600"}`}),l.label,l.disabled&&l.id==="chat"&&a.jsx("span",{className:"ml-auto text-xs text-gray-400",children:"Select Agent"}),l.disabled&&l.id==="embed"&&a.jsx("span",{className:"ml-auto text-xs text-gray-400",children:"Select Agent"})]},l.id)})}),n&&a.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsx("div",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Active Agent"}),a.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300 truncate",children:n.name}),a.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:n.status==="Active"?" Active":" Inactive"})]})]})})},ws=Y.forwardRef(({className:e,...r},n)=>a.jsx("div",{ref:n,className:Fn("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));ws.displayName="Card";const Kc=Y.forwardRef(({className:e,...r},n)=>a.jsx("div",{ref:n,className:Fn("flex flex-col space-y-1.5 p-6",e),...r}));Kc.displayName="CardHeader";const Yc=Y.forwardRef(({className:e,...r},n)=>a.jsx("h3",{ref:n,className:Fn("text-2xl font-semibold leading-none tracking-tight",e),...r}));Yc.displayName="CardTitle";const X4=Y.forwardRef(({className:e,...r},n)=>a.jsx("p",{ref:n,className:Fn("text-sm text-muted-foreground",e),...r}));X4.displayName="CardDescription";const vs=Y.forwardRef(({className:e,...r},n)=>a.jsx("div",{ref:n,className:Fn("p-6 pt-0",e),...r}));vs.displayName="CardContent";const J4=Y.forwardRef(({className:e,...r},n)=>a.jsx("div",{ref:n,className:Fn("flex items-center p-6 pt-0",e),...r}));J4.displayName="CardFooter";const e_=({metrics:e,systemStatus:r})=>{const n=l=>l>=1e3?(l/1e3).toFixed(1)+"K":l.toString(),i=[{title:"Total Agents",value:e.totalAgents.toString(),change:e.monthlyGrowth.agents>0?`+${e.monthlyGrowth.agents}`:"0",icon:w0,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-gradient-to-br from-blue-50 to-blue-100/50 dark:from-blue-900/20 dark:to-blue-800/10",borderColor:"border-blue-200/50 dark:border-blue-800/30"},{title:"Active Agents",value:e.activeAgents.toString(),change:`${Math.round(e.activeAgents/Math.max(e.totalAgents,1)*100)}%`,icon:pN,color:"text-emerald-600 dark:text-emerald-400",bgColor:"bg-gradient-to-br from-emerald-50 to-emerald-100/50 dark:from-emerald-900/20 dark:to-emerald-800/10",borderColor:"border-emerald-200/50 dark:border-emerald-800/30"},{title:"Conversations",value:n(e.totalConversations),change:e.monthlyGrowth.conversations>0?`+${e.monthlyGrowth.conversations}`:"0",icon:Lc,color:"text-purple-600 dark:text-purple-400",bgColor:"bg-gradient-to-br from-purple-50 to-purple-100/50 dark:from-purple-900/20 dark:to-purple-800/10",borderColor:"border-purple-200/50 dark:border-purple-800/30"},{title:"Total Messages",value:n(e.totalMessages),change:e.monthlyGrowth.messages>0?`+${e.monthlyGrowth.messages}`:"0",icon:kN,color:"text-orange-600 dark:text-orange-400",bgColor:"bg-gradient-to-br from-orange-50 to-orange-100/50 dark:from-orange-900/20 dark:to-orange-800/10",borderColor:"border-orange-200/50 dark:border-orange-800/30"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:i.map((l,d)=>a.jsx(ws,{className:`${l.bgColor} ${l.borderColor} border backdrop-blur-sm hover:shadow-lg transition-all duration-300 hover:scale-105`,children:a.jsxs(vs,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-3 rounded-xl ${l.bgColor} ${l.borderColor} border`,children:a.jsx(l.icon,{className:`w-6 h-6 ${l.color}`})}),a.jsxs("div",{className:"flex items-center space-x-1 text-emerald-600 dark:text-emerald-400",children:[a.jsx(Hx,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:l.change})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:l.title}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.value})]})]})},d))}),a.jsx(ws,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:a.jsxs(vs,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"System Status"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`h-2 w-2 rounded-full animate-pulse mr-3 ${r.agentManager==="Operational"?"bg-green-500":"bg-red-500"}`}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Agent Manager: ",r.agentManager]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`h-2 w-2 rounded-full animate-pulse mr-3 ${r.llmProcessor==="Operational"?"bg-green-500":"bg-red-500"}`}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["LLM Processor: ",r.llmProcessor]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`h-2 w-2 rounded-full animate-pulse mr-3 ${r.contextManager==="Operational"?"bg-green-500":"bg-red-500"}`}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Context Manager: ",r.contextManager]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`h-2 w-2 rounded-full animate-pulse mr-3 ${r.productionAPIs==="Ready"?"bg-green-500":"bg-yellow-500"}`}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Production APIs: ",r.productionAPIs]})]})]})]})})]})},t_=({onNavigate:e,selectedAgent:r})=>{const n=[{title:"Create New Agent",description:"Build a custom AI agent with personality and knowledge",icon:kc,color:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",iconBg:"bg-blue-100 dark:bg-blue-900/30",iconColor:"text-blue-600 dark:text-blue-400",onClick:()=>e("create"),disabled:!1},{title:"Start Conversation",description:"Chat with your existing agents instantly",icon:Lc,color:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700",iconBg:"bg-emerald-100 dark:bg-emerald-900/30",iconColor:"text-emerald-600 dark:text-emerald-400",onClick:()=>e("chat"),disabled:!r},{title:"View Analytics",description:"Analyze performance and usage metrics",icon:Zf,color:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700",iconBg:"bg-purple-100 dark:bg-purple-900/30",iconColor:"text-purple-600 dark:text-purple-400",onClick:()=>e("analytics"),disabled:!1},{title:"Manage Agents",description:"Configure and organize your AI agents",icon:Vx,color:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700",iconBg:"bg-orange-100 dark:bg-orange-900/30",iconColor:"text-orange-600 dark:text-orange-400",onClick:()=>e("agents"),disabled:!1}];return a.jsxs(ws,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:[a.jsx(Kc,{className:"pb-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg",children:a.jsx(Df,{className:"w-5 h-5 text-white"})}),a.jsx(Yc,{className:"text-xl text-gray-900 dark:text-white",children:"Quick Actions"})]}),a.jsx(Wx,{className:"w-5 h-5 text-yellow-500"})]})}),a.jsx(vs,{children:a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:n.map((i,l)=>a.jsx("div",{className:`group p-5 bg-gradient-to-br from-white/80 to-white/40 dark:from-gray-800/80 dark:to-gray-800/40 backdrop-blur-sm border border-white/30 dark:border-gray-600/30 rounded-xl hover:shadow-lg transition-all duration-300 cursor-pointer hover:scale-105 ${i.disabled?"opacity-50 cursor-not-allowed":""}`,onClick:i.disabled?void 0:i.onClick,children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:`p-3 rounded-lg ${i.iconBg} group-hover:scale-110 transition-transform duration-300`,children:a.jsx(i.icon,{className:`w-6 h-6 ${i.iconColor}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:i.title}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 leading-relaxed",children:i.description}),a.jsx(yr,{size:"sm",className:`${i.color} text-white shadow-md hover:shadow-lg transition-all duration-300`,disabled:i.disabled,onClick:d=>{d.stopPropagation(),i.disabled||i.onClick()},children:"Get Started"})]})]})},l))})})]})},r_=({agents:e,onSelectAgent:r,onNavigate:n})=>{const i=l=>{var d;return{...l,status:"Active"in l.status?"Active":"Inactive"in l.status?"Inactive":"Draft",created:l.created.toString(),lastUpdated:l.updated.toString(),config:{...l.config,personality:{...l.config.personality,responseStyle:l.config.personality.style},knowledgeBase:{documents:[],sources:[],context:""},behavior:{...l.config.behavior,maxResponseLength:Number(l.config.behavior.maxTokens),conversationMemory:l.config.contextSettings.enableMemory,escalationRules:[]},appearance:{...l.config.appearance,avatar:((d=l.config.appearance.avatar)==null?void 0:d[0])||"",theme:"Light"in l.config.appearance.theme?"Light":"Dark",welcomeMessage:"Hello! How can I help you today?"}}}};return a.jsxs(ws,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl h-fit",children:[a.jsx(Kc,{className:"pb-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-600 rounded-lg",children:a.jsx(w0,{className:"w-5 h-5 text-white"})}),a.jsx(Yc,{className:"text-xl text-gray-900 dark:text-white",children:"Recent Agents"})]}),a.jsxs(yr,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-900/20",onClick:()=>n("agents"),children:["View all",a.jsx(x0,{className:"w-4 h-4 ml-1"})]})]})}),a.jsx(vs,{children:e.length>0?a.jsx("div",{className:"space-y-3",children:e.map(l=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-white/80 to-white/40 dark:from-gray-800/80 dark:to-gray-800/40 backdrop-blur-sm border border-white/30 dark:border-gray-600/30 rounded-lg cursor-pointer hover:shadow-md transition-all duration-300 hover:scale-105",onClick:()=>{const d=i(l);r(d),n("chat")},children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 rounded-lg flex items-center justify-center border border-blue-200/50 dark:border-blue-800/30",children:a.jsx(Lc,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:l.name}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[l.description.slice(0,50),"..."]})]})]}),a.jsx("div",{className:"flex items-center",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${"Active"in l.status?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-800/30 dark:text-gray-400"}`,children:"Active"in l.status?"Active":"Inactive"in l.status?"Inactive":"Suspended"in l.status?"Suspended":"Archived"in l.status?"Archived":"Unknown"})})]},l.id))}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 rounded-full flex items-center justify-center border-2 border-blue-200/50 dark:border-blue-800/30",children:a.jsx(fo,{className:"w-10 h-10 text-blue-600 dark:text-blue-400"})}),a.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:a.jsx(kc,{className:"w-3 h-3 text-white"})})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Ready to get started?"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-sm leading-relaxed",children:"Create your first AI agent and start building intelligent conversations that engage your users."}),a.jsxs(yr,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",onClick:()=>n("create"),children:[a.jsx(kc,{className:"w-4 h-4 mr-2"}),"Create Your First Agent"]})]})})]})},oc=({IDL:e})=>{const r=e.Text,n=e.Variant({NotFound:e.Null,ValidationError:e.Text,Unauthorized:e.Null,RateLimitExceeded:e.Null,ConfigurationError:e.Text,InternalError:e.Text,QuotaExceeded:e.Null}),i=e.Variant({ok:e.Null,err:n}),l=e.Text,d=e.Record({traits:e.Vec(e.Text),tone:e.Text,style:e.Text,communicationStyle:e.Variant({Creative:e.Null,Technical:e.Null,Conversational:e.Null,Educational:e.Null,Professional:e.Null}),responsePattern:e.Variant({Structured:e.Null,Detailed:e.Null,Narrative:e.Null,Concise:e.Null})}),f=e.Record({responseLength:e.Variant({Short:e.Null,Long:e.Null,Medium:e.Null,Variable:e.Null}),temperature:e.Float64,topP:e.Float64,contextWindow:e.Nat,frequencyPenalty:e.Float64,presencePenalty:e.Float64,systemPromptTemplate:e.Text,maxTokens:e.Nat,creativity:e.Float64}),u=e.Record({borderRadius:e.Text,theme:e.Variant({Light:e.Null,Auto:e.Null,Dark:e.Null}),primaryColor:e.Text,accentColor:e.Text,fontFamily:e.Text,secondaryColor:e.Text,fontSize:e.Text,customCSS:e.Opt(e.Text),avatar:e.Opt(e.Text)}),g=e.Nat,_=e.Int,x=e.Record({id:e.Text,content:e.Text,metadata:e.Vec(e.Tuple(e.Text,e.Text)),lastUpdated:_,isActive:e.Bool,sourceType:e.Variant({API:e.Null,URL:e.Null,Database:e.Null,Document:e.Null,Manual:e.Null}),version:g,priority:e.Nat}),v=e.Record({personality:d,integrationSettings:e.Record({webhooks:e.Vec(e.Record({url:e.Text,enabled:e.Bool,events:e.Vec(e.Text)})),rateLimiting:e.Record({maxTokensPerHour:e.Nat,enabled:e.Bool,maxRequestsPerHour:e.Nat}),allowedOrigins:e.Vec(e.Text)}),behavior:f,appearance:u,version:g,contextSettings:e.Record({enableLearning:e.Bool,memoryDuration:e.Nat,maxContextMessages:e.Nat,enableMemory:e.Bool}),knowledgeBase:e.Vec(x)}),k=e.Record({name:e.Text,tags:e.Vec(e.Text),description:e.Text,category:e.Text,isPublic:e.Bool,config:v}),A=e.Variant({ok:l,err:n}),b=e.Variant({ok:e.Text,err:e.Text}),M=e.Variant({ok:r,err:n}),R=e.Variant({Inactive:e.Null,Active:e.Null,Suspended:e.Null,Archived:e.Null}),$=e.Principal,G=e.Record({id:l,status:R,permissions:e.Record({accessLevel:e.Variant({Viewer:e.Null,Editor:e.Null,Owner:e.Null}),allowedUsers:e.Vec($),isPublic:e.Bool}),created:_,configHistory:e.Vec(v),ownerId:$,name:e.Text,tags:e.Vec(e.Text),description:e.Text,analytics:e.Record({totalTokensUsed:e.Nat,totalMessages:e.Nat,averageRating:e.Opt(e.Float64),totalConversations:e.Nat}),updated:_,category:e.Text,config:v,lastUsed:e.Opt(_)}),J=e.Variant({ok:G,err:n}),ce=e.Variant({ok:e.Record({totalTokensUsed:e.Nat,totalMessages:e.Nat,averageRating:e.Opt(e.Float64),totalConversations:e.Nat}),err:n}),O=e.Variant({ok:G,err:e.Text}),te=e.Variant({ok:e.Vec(v),err:n}),oe=e.Record({content:e.Text,metadata:e.Vec(e.Tuple(e.Text,e.Text)),role:e.Variant({System:e.Null,User:e.Null,Assistant:e.Null}),timestamp:_,tokenCount:e.Opt(e.Nat)}),z=e.Record({created:_,contextId:r,lastAccessed:_,messages:e.Vec(oe),metadata:e.Vec(e.Tuple(e.Text,e.Text)),userId:$,agentId:l,compressionEnabled:e.Bool,maxSize:e.Nat}),W=e.Variant({ok:e.Vec(z),err:n}),H=e.Variant({ok:z,err:n}),ue=e.Variant({ok:e.Vec(G),err:e.Text}),ge=e.Variant({ok:e.Record({contextId:r,tokensUsed:e.Nat,processingTime:e.Nat,response:e.Text,confidence:e.Float64}),err:n}),j=e.Variant({ok:g,err:n}),I=e.Record({errors:e.Vec(e.Text),score:e.Float64,warnings:e.Vec(e.Text),isValid:e.Bool});return e.Service({addContextMessage:e.Func([r,e.Variant({System:e.Null,User:e.Null,Assistant:e.Null}),e.Text],[i],[]),clearAgentContext:e.Func([l,r],[i],[]),createAgent:e.Func([k],[A],[]),createAgentAdvanced:e.Func([k],[A],[]),createAgentIntegrated:e.Func([e.Text,k],[b],[]),createAgentWithContextSettings:e.Func([k,e.Record({enableLearning:e.Bool,memoryDuration:e.Nat,maxContextMessages:e.Nat,enableMemory:e.Bool})],[A],[]),createConversationContext:e.Func([l],[M],[]),deleteAgent:e.Func([l],[i],[]),getAgent:e.Func([l],[J],["query"]),getAgentAnalytics:e.Func([l],[ce],["query"]),getAgentAuthorized:e.Func([e.Text,e.Text],[O],[]),getAgentConfigHistory:e.Func([l],[te],["query"]),getAgentContexts:e.Func([l],[W],[]),getConversationContext:e.Func([r],[H],["query"]),getUserAgents:e.Func([$],[e.Vec(G)],["query"]),getUserAgentsAuthorized:e.Func([e.Text],[ue],[]),healthCheck:e.Func([],[e.Record({status:e.Text,services:e.Vec(e.Text)})],[]),processAgentChat:e.Func([e.Text,e.Text,e.Text],[b],[]),processAgentChatAdvanced:e.Func([l,e.Text,e.Opt(r),e.Opt(e.Bool),e.Opt(e.Float64)],[ge],[]),revertAgentConfig:e.Func([l,g],[i],[]),test:e.Func([],[e.Text],[]),updateAgent:e.Func([l,v],[i],[]),updateAgentAdvanced:e.Func([l,v,e.Opt(e.Text)],[j],[]),updateAgentAnalytics:e.Func([l,e.Nat,e.Nat,e.Nat],[i],[]),updateAgentStatus:e.Func([l,R],[i],[]),validateAgentConfiguration:e.Func([v],[I],[])})},n_="bkyz2-fmaaa-aaaaa-qaaaq-cai",s_=(e,r={})=>{const n=r.agent||new Bn({...r.agentOptions});return r.agent&&r.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),n.fetchRootKey().catch(i=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(i)}),ar.createActor(oc,{agent:n,canisterId:e,...r.actorOptions})};s_(n_);const lc=({IDL:e})=>{const r=e.Principal,n=e.Variant({InvalidUsage:e.Null,InsufficientBalance:e.Null,InternalError:e.Text,UserNotFound:e.Null}),i=e.Variant({ok:e.Null,err:n}),l=e.Text,d=e.Text,f=e.Variant({AdvancedPrompts:e.Null,ChainFusion:e.Null,BasicChat:e.Null,DocumentIntegration:e.Null}),u=e.Variant({AgentCreation:e.Null,CustomPromptTraining:e.Null,AddBalance:e.Null,DocumentUpload:e.Null,MessageProcessing:f}),g=e.Int,_=e.Record({id:l,cost:e.Float64,userId:r,agentId:d,tokens:e.Nat,operation:u,timestamp:g}),x=e.Variant({Enterprise:e.Null,Base:e.Null,Professional:e.Null,Standard:e.Null}),v=e.Record({balance:e.Float64,userId:r,lastUpdated:g,monthlyUsage:e.Nat,currentTier:x}),k=e.Variant({ok:v,err:n}),A=e.Variant({ok:l,err:n});return e.Service({addBalance:e.Func([r,e.Float64],[i],[]),getUsageHistory:e.Func([r,e.Opt(e.Nat)],[e.Vec(_)],["query"]),getUserBalance:e.Func([r],[k],["query"]),healthCheck:e.Func([],[e.Record({status:e.Text,totalUsers:e.Nat,totalTransactions:e.Nat})],[]),recordUsage:e.Func([r,d,e.Nat,u],[A],[]),test:e.Func([],[e.Text],[])})},i_="b77ix-eeaaa-aaaaa-qaada-cai",a_=(e,r={})=>{const n=r.agent||new Bn({...r.agentOptions});return r.agent&&r.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),n.fetchRootKey().catch(i=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(i)}),ar.createActor(lc,{agent:n,canisterId:e,...r.actorOptions})};a_(i_);const cc=({IDL:e})=>{const r=e.Text,n=e.Int,i=e.Record({id:r,content:e.Text,metadata:e.Vec(e.Tuple(e.Text,e.Text)),role:e.Variant({System:e.Null,User:e.Null,Agent:e.Null}),tokens:e.Nat,timestamp:n}),l=e.Text,d=e.Text,f=e.Record({context:e.Opt(e.Vec(i)),temperature:e.Opt(e.Float64),userMessage:e.Text,agentId:l,conversationId:d,systemPrompt:e.Opt(e.Text),enableStreaming:e.Opt(e.Bool),maxTokens:e.Opt(e.Nat),agentPersonality:e.Opt(e.Text),routingStrategy:e.Opt(e.Text)}),u=e.Record({messageId:r,metadata:e.Vec(e.Tuple(e.Text,e.Text)),agentResponse:e.Text,processingTime:e.Nat,tokens:e.Nat,modelUsed:e.Text,cached:e.Bool,confidence:e.Float64,providerId:e.Text}),g=e.Variant({InvalidInput:e.Text,ProcessingError:e.Text,ServiceUnavailable:e.Null,RateLimited:e.Null}),_=e.Variant({ok:u,err:g}),x=e.Variant({ok:e.Text,err:g});return e.Service({getProcessorStatus:e.Func([],[e.Record({provider:e.Text,healthy:e.Bool,version:e.Text})],["query"]),healthCheck:e.Func([],[e.Record({status:e.Text,providers:e.Nat,activeProviders:e.Nat})],[]),processMessage:e.Func([f],[_],[]),processPrompt:e.Func([e.Text],[x],[]),processWithLLM:e.Func([e.Text],[x],[]),test:e.Func([],[e.Text],[])})},o_="bw4dl-smaaa-aaaaa-qaacq-cai",l_=(e,r={})=>{const n=r.agent||new Bn({...r.agentOptions});return r.agent&&r.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),n.fetchRootKey().catch(i=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(i)}),ar.createActor(cc,{agent:n,canisterId:e,...r.actorOptions})};l_(o_);const Fl="bkyz2-fmaaa-aaaaa-qaaaq-cai",Ul="b77ix-eeaaa-aaaaa-qaada-cai",Ol="bw4dl-smaaa-aaaaa-qaacq-cai",kf="local";class c_{constructor(){Hr(this,"agent",null);Hr(this,"agentManagerActor",null);Hr(this,"metricsCollectorActor",null);Hr(this,"llmProcessorActor",null);Hr(this,"identity",null);Hr(this,"isInitialized",!1);Hr(this,"healthCheckCache",new Map);Hr(this,"CACHE_DURATION",3e4);Hr(this,"HEALTH_CHECK_TIMEOUT",8e3);Hr(this,"pendingHealthChecks",new Map);this.initializeAgent()}async initializeAgent(){try{if(console.log("Initializing canister service..."),console.log("Agent Manager Canister ID:",Fl),console.log("Metrics Collector Canister ID:",Ul),console.log("LLM Processor Canister ID:",Ol),console.log("DFX Network:",kf),this.agent=new Bn({host:kf==="local"?"http://localhost:4943":"https://ic0.app"}),kf==="local"){console.log("Fetching root key for local development...");try{await this.agent.fetchRootKey(),console.log("Root key fetched successfully")}catch(r){throw console.error("Failed to fetch root key:",r),new Error("Failed to initialize local development environment")}}this.agentManagerActor=ar.createActor(oc,{agent:this.agent,canisterId:Fl}),this.metricsCollectorActor=ar.createActor(lc,{agent:this.agent,canisterId:Ul}),this.llmProcessorActor=ar.createActor(cc,{agent:this.agent,canisterId:Ol}),this.isInitialized=!0,console.log("Canister service initialized successfully")}catch(r){console.error("Failed to initialize canister service:",r),this.isInitialized=!1}}async setIdentity(r){console.log("Setting identity for canister service...",r?"with identity":"clearing identity"),this.identity=r,this.agent&&(r?(this.agent.replaceIdentity(r),this.agentManagerActor=ar.createActor(oc,{agent:this.agent,canisterId:Fl}),this.metricsCollectorActor=ar.createActor(lc,{agent:this.agent,canisterId:Ul}),this.llmProcessorActor=ar.createActor(cc,{agent:this.agent,canisterId:Ol}),console.log("Identity set successfully")):(this.agent.replaceIdentity(new to),this.agentManagerActor=ar.createActor(oc,{agent:this.agent,canisterId:Fl}),this.metricsCollectorActor=ar.createActor(lc,{agent:this.agent,canisterId:Ul}),this.llmProcessorActor=ar.createActor(cc,{agent:this.agent,canisterId:Ol}),console.log("Identity cleared successfully")))}isAuthenticated(){if(!this.isInitialized||!this.identity)return!1;const n=this.identity.getPrincipal().toText(),i=n==="2vxsx-fae";return console.log("CanisterService.isAuthenticated() - Principal:",n,"Is anonymous:",i),!i}isReady(){return this.isInitialized&&this.agentManagerActor!==null}async createAgent(r,n=1){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for agent creation");try{console.log("Creating agent with data:",r);const i=await this.agentManagerActor.createAgent(r);if("ok"in i)return await this.addBalance(-n),i.ok;throw new Error(`Agent creation failed: ${JSON.stringify(i.err)}`)}catch(i){throw console.error("Error creating agent:",i),i}}async getUserAgents(){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.isAuthenticated())return console.log("Not authenticated, returning empty agent list"),[];try{const r=this.identity.getPrincipal();console.log("Fetching agents for principal:",r.toString());const n=await this.agentManagerActor.getUserAgents(r);return console.log("Raw agents from canister:",n),n.map(i=>({id:i.id,name:i.name,description:i.description,status:i.status,created:i.created,updated:i.updated,ownerId:i.ownerId.toString(),config:i.config,analytics:i.analytics?{averageRating:i.analytics.averageRating?Number(i.analytics.averageRating):void 0,totalConversations:Number(i.analytics.totalConversations),totalMessages:Number(i.analytics.totalMessages),totalTokensUsed:Number(i.analytics.totalTokensUsed)}:void 0}))}catch(r){if(console.error("Error fetching user agents:",r),r instanceof Error&&r.message&&r.message.includes("IDL error"))return console.warn("IDL type mismatch during getUserAgents, returning empty list"),[];throw r}}async getAgent(r){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for getAgent");try{const n=await this.agentManagerActor.getAgent(r);if("ok"in n)return{...n.ok,ownerId:n.ok.ownerId.toString(),analytics:n.ok.analytics?{averageRating:n.ok.analytics.averageRating.length>0?n.ok.analytics.averageRating[0]:void 0,totalConversations:Number(n.ok.analytics.totalConversations),totalMessages:Number(n.ok.analytics.totalMessages),totalTokensUsed:Number(n.ok.analytics.totalTokensUsed)}:void 0};throw new Error(`Failed to get agent: ${JSON.stringify(n.err)}`)}catch(n){throw console.error("Error fetching agent:",n),n}}async getAgentPublic(r){if(!this.agentManagerActor)throw new Error("Canister service not initialized");try{const n=await this.agentManagerActor.getAgent(r);if("ok"in n)return{...n.ok,ownerId:n.ok.ownerId.toString(),analytics:n.ok.analytics?{averageRating:n.ok.analytics.averageRating.length>0?n.ok.analytics.averageRating[0]:void 0,totalConversations:Number(n.ok.analytics.totalConversations),totalMessages:Number(n.ok.analytics.totalMessages),totalTokensUsed:Number(n.ok.analytics.totalTokensUsed)}:void 0};throw new Error(`Failed to get agent: ${JSON.stringify(n.err)}`)}catch(n){throw console.error("Error fetching agent:",n),n}}async getAgentAnalytics(r){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for getAgentAnalytics");try{const n=await this.agentManagerActor.getAgentAnalytics(r);if("ok"in n)return{totalConversations:Number(n.ok.totalConversations),totalMessages:Number(n.ok.totalMessages),totalTokensUsed:Number(n.ok.totalTokensUsed),averageRating:n.ok.averageRating.length>0?n.ok.averageRating[0]:void 0};throw new Error(`Failed to get agent analytics: ${JSON.stringify(n.err)}`)}catch(n){return console.error("Error fetching agent analytics:",n),null}}async getUserBalance(){if(!this.metricsCollectorActor)throw new Error("Canister service not initialized");if(!this.identity)return console.log("No identity available, returning null balance"),null;try{const r=this.identity.getPrincipal();console.log("Fetching balance for principal:",r.toString());const n=await this.metricsCollectorActor.getUserBalance(r);if("ok"in n)return{balance:Number(n.ok.balance),currentTier:"Base"in n.ok.currentTier?"Base":"Standard"in n.ok.currentTier?"Standard":"Professional"in n.ok.currentTier?"Professional":"Enterprise",lastUpdated:Number(n.ok.lastUpdated),monthlyUsage:Number(n.ok.monthlyUsage),userId:n.ok.userId.toString()};if("UserNotFound"in n.err){console.log("User not found in metrics collector, creating default balance");try{await this.metricsCollectorActor.addBalance(r,0);const i=await this.metricsCollectorActor.getUserBalance(r);if("ok"in i)return{balance:Number(i.ok.balance),currentTier:"Base"in i.ok.currentTier?"Base":"Standard"in i.ok.currentTier?"Standard":"Professional"in i.ok.currentTier?"Professional":"Enterprise",lastUpdated:Number(i.ok.lastUpdated),monthlyUsage:Number(i.ok.monthlyUsage),userId:i.ok.userId.toString()}}catch(i){console.error("Error creating default balance:",i)}return{balance:0,currentTier:"Base",lastUpdated:Date.now(),monthlyUsage:0,userId:r.toString()}}throw new Error(`Failed to get user balance: ${JSON.stringify(n.err)}`)}catch(r){return console.error("Error fetching user balance:",r),this.identity?{balance:0,currentTier:"Base",lastUpdated:Date.now(),monthlyUsage:0,userId:this.identity.getPrincipal().toString()}:null}}async getUsageHistory(r){if(!this.metricsCollectorActor)throw new Error("Canister service not initialized");if(!this.identity)return console.log("No identity available, returning empty usage history"),[];try{const n=this.identity.getPrincipal();return console.log("Fetching usage history for principal:",n.toString()),(await this.metricsCollectorActor.getUsageHistory(n,r?[BigInt(r)]:[])).map(l=>({id:l.id,userId:l.userId.toString(),agentId:l.agentId,operation:l.operation,tokens:Number(l.tokens),cost:Number(l.cost),timestamp:Number(l.timestamp)}))}catch(n){return console.error("Error fetching usage history:",n),[]}}async processChat(r,n,i){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for processChat");try{const l=await this.agentManagerActor.processAgentChatAdvanced(r,n,[],[],[]);if("ok"in l)return l.ok.response;{let d;throw typeof l.err=="object"&&l.err!==null?"NotFound"in l.err?d="Agent not found. Please select a valid agent to chat with.":"Unauthorized"in l.err?d="You are not authorized to chat with this agent.":"ConfigurationError"in l.err?d=`Agent configuration error: ${l.err.ConfigurationError}`:"ValidationError"in l.err?d=`Validation error: ${l.err.ValidationError}`:"InternalError"in l.err?d=`Internal error: ${l.err.InternalError}`:"RateLimitExceeded"in l.err?d="Rate limit exceeded. Please try again later.":"QuotaExceeded"in l.err?d="Quota exceeded. Please upgrade your plan or try again later.":d=JSON.stringify(l.err):d=String(l.err),new Error(`Chat processing failed: ${d}`)}}catch(l){throw console.error("Error processing chat:",l),l}}async withTimeout(r,n=5e3){return Promise.race([r,new Promise((i,l)=>setTimeout(()=>l(new Error("Operation timed out")),n))])}getCachedResult(r){const n=this.healthCheckCache.get(r);return n&&Date.now()-n.timestamp<this.CACHE_DURATION?(console.log(`Using cached result for ${r}:`,n.result),n.result):null}setCachedResult(r,n,i=!0){this.healthCheckCache.set(r,{result:n,timestamp:Date.now(),isHealthy:i})}async executeWithDebounce(r,n){if(this.pendingHealthChecks.has(r))return console.log(`Debouncing health check for ${r}, using pending operation`),this.pendingHealthChecks.get(r);const i=this.getCachedResult(r);if(i)return i;const l=n();this.pendingHealthChecks.set(r,l);try{const d=await l;return this.setCachedResult(r,d,!0),d}catch(d){const f=this.getErrorFallback(r);throw this.setCachedResult(r,f,!1),d}finally{this.pendingHealthChecks.delete(r)}}getErrorFallback(r){switch(r){case"agentManager":return{status:"Error",services:["AgentManager: Error"]};case"llmProcessor":return{status:"Error",providers:0,activeProviders:0};case"contextManager":return{status:"Error",totalContexts:0,activeContexts:0,totalMessages:0};default:return{status:"Error"}}}async healthCheck(){return this.executeWithDebounce("agentManager",async()=>{try{if(!this.agentManagerActor)return{status:"Not initialized",services:["AgentManager: Not Available"]};const r=await this.withTimeout(this.agentManagerActor.healthCheck(),this.HEALTH_CHECK_TIMEOUT);return console.log("Agent Manager health check result:",r),r}catch(r){return console.error("Error checking health:",r),{status:"Error",services:["AgentManager: Error"]}}})}async getLLMProcessorHealth(){return this.executeWithDebounce("llmProcessor",async()=>{try{if(!this.llmProcessorActor)return console.warn("LLM Processor actor not initialized, returning fallback status"),{status:"Not Available",providers:0,activeProviders:0};const r=await this.withTimeout(this.llmProcessorActor.healthCheck(),this.HEALTH_CHECK_TIMEOUT);return console.log("LLM Processor health check result:",r),{status:(()=>{const i=r.status;return i.includes("Operational")?"Operational":i.includes("Degraded")?"Degraded":i.includes("Timeout")?"Timeout":"Error"})(),providers:Number(r.providers),activeProviders:Number(r.activeProviders)}}catch(r){return console.error("Error checking LLM processor health:",r),{status:(r instanceof Error?r.message:"Unknown error").includes("timed out")?"Timeout":"Error",providers:0,activeProviders:0}}})}async getContextManagerHealth(){return this.executeWithDebounce("contextManager",async()=>{try{return{status:"Operational",totalContexts:0,activeContexts:0,totalMessages:0}}catch(r){return console.error("Error checking context manager health:",r),{status:"Error",totalContexts:0,activeContexts:0,totalMessages:0}}})}async getSystemStatus(){try{console.log("Getting system status...");const r=await Promise.allSettled([this.healthCheck(),this.getLLMProcessorHealth(),this.getContextManagerHealth()]),[n,i,l]=r;console.log("Health check results:",{agentHealth:n.status==="fulfilled"?n.value:n.reason,llmHealth:i.status==="fulfilled"?i.value:i.reason,contextHealth:l.status==="fulfilled"?l.value:l.reason});const d=n.status==="fulfilled"?(()=>{const x=n.value.services.find(v=>v.includes("AgentManager"));return x&&x.includes("OK")?"Operational":x&&x.includes("DEGRADED")?"Degraded":"Error"})():"Error",f=i.status==="fulfilled"?i.value.status:"Error",u=n.status==="fulfilled"?(()=>{const x=n.value.services.find(v=>v.includes("ContextManager"));return x&&x.includes("OK")?"Operational":x&&x.includes("DEGRADED")?"Degraded":"Error"})():"Error",_={agentManager:d,llmProcessor:f,contextManager:u,productionAPIs:d==="Operational"?"Ready":"Error"};return console.log("Final system status:",_),_}catch(r){return console.error("Error getting system status:",r),{agentManager:"Error",llmProcessor:"Error",contextManager:"Error",productionAPIs:"Error"}}}async getAnalyticsData(){try{const r=await this.getUserAgents();let n=0;for(const i of r)i.analytics&&(n+=i.analytics.totalMessages);return{totalAgents:r.length,totalMessages:n,activeUsers:1,systemUptime:"99.9%"}}catch(r){return console.error("Error getting analytics data:",r),{totalAgents:0,totalMessages:0,activeUsers:0,systemUptime:"0%"}}}async getComprehensiveAnalytics(){try{const r=await this.getUserAgents(),[n,i]=await Promise.allSettled([this.getUsageHistory(50),this.getUserBalance()]);let l=0,d=0,f=0,u=0,g=0;const _=r.map(v=>{const k=v.analytics||{totalMessages:0,totalConversations:0,totalTokensUsed:0,averageRating:void 0};return l+=k.totalMessages,d+=k.totalConversations,f+=k.totalTokensUsed,k.averageRating!==void 0&&(u+=k.averageRating,g++),{agentId:v.id,agentName:v.name,messages:k.totalMessages,conversations:k.totalConversations,avgResponseTime:1.2,satisfaction:k.averageRating||4.5,tokensUsed:k.totalTokensUsed,status:"Active"in v.status?"Active":"Inactive"in v.status?"Inactive":"Suspended"in v.status?"Suspended":"Archived"in v.status?"Archived":"Unknown"}});return{overview:{totalMessages:l,totalConversations:d,averageResponseTime:1.2,successRate:l>0?98.5:100,totalTokensUsed:f},agentPerformance:_,usageHistory:n.status==="fulfilled"?n.value:[],userBalance:i.status==="fulfilled"?i.value:null}}catch(r){return console.error("Error getting comprehensive analytics:",r),{overview:{totalMessages:0,totalConversations:0,averageResponseTime:0,successRate:0,totalTokensUsed:0},agentPerformance:[],usageHistory:[],userBalance:null}}}async addBalance(r){if(!this.metricsCollectorActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for addBalance");try{const n=this.identity.getPrincipal();console.log(`Adding balance: ${r} for principal:`,n.toString());const i=await this.metricsCollectorActor.addBalance(n,r);if("err"in i)throw new Error(`Failed to add balance: ${JSON.stringify(i.err)}`);console.log("Balance added successfully")}catch(n){throw console.error("Error adding balance:",n),n}}async getMetricsCollectorHealth(){if(!this.metricsCollectorActor)throw new Error("Canister service not initialized");try{const r=await this.metricsCollectorActor.healthCheck();return{status:r.status,totalUsers:Number(r.totalUsers),totalTransactions:Number(r.totalTransactions)}}catch(r){throw console.error("Error getting metrics collector health:",r),r}}async testCanisterAccess(){if(!this.isAuthenticated())return console.log("Not authenticated, canister access test will fail"),{agentManager:!1,metricsCollector:!1};const r={agentManager:!1,metricsCollector:!1};return this.agentManagerActor&&(r.agentManager=!0),this.metricsCollectorActor&&(r.metricsCollector=!0),r}async updateAgent(r,n){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for updateAgent");try{const i=await this.agentManagerActor.updateAgent(r,n);if("err"in i)throw new Error(`Agent update failed: ${JSON.stringify(i.err)}`)}catch(i){throw console.error("Error updating agent:",i),i}}async updateAgentStatus(r,n){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for updateAgentStatus");try{const i=n==="Active"?{Active:null}:n==="Inactive"?{Inactive:null}:n==="Suspended"?{Suspended:null}:{Archived:null},l=await this.agentManagerActor.updateAgentStatus(r,i);if("err"in l)throw new Error(`Agent status update failed: ${JSON.stringify(l.err)}`)}catch(i){throw console.error("Error updating agent status:",i),i}}async deleteAgent(r){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for deleteAgent");try{const n=await this.agentManagerActor.deleteAgent(r);if("err"in n)throw new Error(`Agent deletion failed: ${JSON.stringify(n.err)}`)}catch(n){throw console.error("Error deleting agent:",n),n}}async waitForReady(r=1e4){const n=Date.now();for(;!this.isReady()&&Date.now()-n<r;)await new Promise(i=>setTimeout(i,100));if(!this.isReady())throw new Error("Canister service failed to initialize within timeout")}clearHealthCheckCache(){console.log("Clearing health check cache..."),this.healthCheckCache.clear(),this.pendingHealthChecks.clear()}async recordAgentCreationUsage(r){if(!this.metricsCollectorActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required");const n=this.identity.getPrincipal(),i=await this.metricsCollectorActor.recordUsage(n,r,BigInt(0),{AgentCreation:null});if("err"in i)throw new Error("Failed to record usage: "+JSON.stringify(i.err))}}const vt=new c_,u_=({sessionToken:e,onAgentCreated:r})=>{const[n,i]=Y.useState("basic"),[l,d]=Y.useState(!1),[f,u]=Y.useState(!1),[g,_]=Y.useState(null),[x,v]=Y.useState({name:"",description:"",personality:{traits:[],tone:"professional",responseStyle:"helpful",communicationStyle:"Professional",responsePattern:"Detailed"},knowledgeBase:{documents:[],sources:[],context:""},behavior:{maxResponseLength:500,conversationMemory:!0,escalationRules:[],temperature:.7,creativity:.8,topP:.9,contextWindow:4096,maxTokens:1e3,frequencyPenalty:0,presencePenalty:0,systemPromptTemplate:"You are a helpful AI assistant."},appearance:{avatar:"default",theme:"blue",welcomeMessage:"Hello! How can I help you today?",primaryColor:"#3B82F6",secondaryColor:"#EFF6FF",accentColor:"#3B82F6",borderRadius:"8px",customCSS:"",fontFamily:"Inter",fontSize:"14px"},contextSettings:{enableLearning:!0,enableMemory:!0,maxContextMessages:10,memoryDuration:3600},integrationSettings:{allowedOrigins:[],rateLimiting:{enabled:!1,maxRequestsPerHour:1e3,maxTokensPerHour:1e5},webhooks:[]},category:"General",isPublic:!1}),[k,A]=Y.useState(""),[b,M]=Y.useState(""),[R,$]=Y.useState("Manual"),[G,J]=Y.useState(null),[ce,O]=Y.useState(""),[te,oe]=Y.useState(""),[z,W]=Y.useState(""),[H,ue]=Y.useState(""),ge=[{id:"basic",name:"Basic Info",required:!0},{id:"personality",name:"Personality",required:!0},{id:"knowledge",name:"Knowledge",required:!1},{id:"behavior",name:"Behavior",required:!1},{id:"appearance",name:"Appearance",required:!1}],j=["helpful","professional","friendly","enthusiastic","patient","knowledgeable","empathetic","concise"],I=[{id:"blue",name:"Professional Blue",color:"bg-blue-500"},{id:"green",name:"Success Green",color:"bg-green-500"},{id:"purple",name:"Creative Purple",color:"bg-purple-500"},{id:"orange",name:"Energetic Orange",color:"bg-orange-500"}],q=(E,P,K)=>{v(Z=>{if(E==="name"||E==="description"||E==="category"||E==="isPublic")return{...Z,[E]:E==="isPublic"?!!K:String(K||"")};const X=Z[E];return{...Z,[E]:{...X,[P]:K}}})},ne=E=>{v(P=>({...P,personality:{...P.personality,traits:P.personality.traits.includes(E)?P.personality.traits.filter(K=>K!==E):[...P.personality.traits,E]}}))},fe=async()=>{let E=b,P=k;switch(R){case"Document":if(!G){alert("Please select a file for document source");return}E=`Document: ${G.name}`;break;case"API":if(!ce.trim()){alert("Please enter API endpoint");return}E=`API Endpoint: ${ce}`,P=ce;break;case"Database":if(!z.trim()||!H.trim()){alert("Please enter database connection and query");return}E=`Database: ${z} | Query: ${H}`;break;case"URL":if(!k.trim()){alert("Please enter URL");return}if(!b.trim()){alert("Please enter content for URL source");return}break;case"Manual":default:if(!b.trim()){alert("Please enter content for manual source");return}break}const K={type:R,content:E,url:P,metadata:{...R==="Document"&&G&&{fileName:G.name,fileSize:G.size,fileType:G.type},...R==="API"&&{apiEndpoint:ce,hasApiKey:!!te},...R==="Database"&&{database:z,query:H}}};v(Z=>({...Z,knowledgeBase:{...Z.knowledgeBase,sources:[...Z.knowledgeBase.sources,K]}})),M(""),A(""),$("Manual"),J(null),O(""),oe(""),W(""),ue("")},ie=E=>{v(P=>({...P,knowledgeBase:{...P.knowledgeBase,sources:P.knowledgeBase.sources.filter((K,Z)=>Z!==E)}}))},Ne=E=>{if(J(E),E.type==="text/plain"||E.name.endsWith(".txt")||E.name.endsWith(".md")){const P=new FileReader;P.onload=K=>{var X;const Z=(X=K.target)==null?void 0:X.result;M(Z.substring(0,500)+(Z.length>500?"...":""))},P.readAsText(E)}else M(`Document: ${E.name}`)},Ee=async()=>{try{d(!0),_(null);const E={name:x.name,description:x.description,category:x.category,isPublic:x.isPublic,tags:x.personality.traits,config:{personality:{traits:x.personality.traits,tone:x.personality.tone,style:x.personality.responseStyle,communicationStyle:x.personality.communicationStyle==="Conversational"?{Conversational:null}:x.personality.communicationStyle==="Creative"?{Creative:null}:x.personality.communicationStyle==="Educational"?{Educational:null}:x.personality.communicationStyle==="Technical"?{Technical:null}:{Professional:null},responsePattern:x.personality.responsePattern==="Concise"?{Concise:null}:x.personality.responsePattern==="Narrative"?{Narrative:null}:x.personality.responsePattern==="Structured"?{Structured:null}:{Detailed:null}},behavior:{responseLength:x.behavior.maxResponseLength<=300?{Short:null}:x.behavior.maxResponseLength<=700?{Medium:null}:{Long:null},temperature:x.behavior.temperature,creativity:x.behavior.creativity,topP:x.behavior.topP,contextWindow:BigInt(x.behavior.contextWindow),maxTokens:BigInt(x.behavior.maxTokens),frequencyPenalty:x.behavior.frequencyPenalty,presencePenalty:x.behavior.presencePenalty,systemPromptTemplate:x.behavior.systemPromptTemplate},appearance:{primaryColor:x.appearance.primaryColor,secondaryColor:x.appearance.secondaryColor,accentColor:x.appearance.accentColor,borderRadius:x.appearance.borderRadius,avatar:x.appearance.avatar?[x.appearance.avatar]:[],customCSS:x.appearance.customCSS?[x.appearance.customCSS]:[],fontFamily:x.appearance.fontFamily,fontSize:x.appearance.fontSize,theme:{Auto:null}},contextSettings:{enableLearning:x.contextSettings.enableLearning,enableMemory:x.contextSettings.enableMemory,maxContextMessages:BigInt(x.contextSettings.maxContextMessages),memoryDuration:BigInt(x.contextSettings.memoryDuration)},integrationSettings:{allowedOrigins:x.integrationSettings.allowedOrigins,rateLimiting:{enabled:x.integrationSettings.rateLimiting.enabled,maxRequestsPerHour:BigInt(x.integrationSettings.rateLimiting.maxRequestsPerHour),maxTokensPerHour:BigInt(x.integrationSettings.rateLimiting.maxTokensPerHour)},webhooks:x.integrationSettings.webhooks},knowledgeBase:[{id:"main-context",content:x.knowledgeBase.context||"General knowledge assistant",sourceType:{Manual:null},metadata:[["type","main-context"]],isActive:!0,lastUpdated:BigInt(Date.now()),priority:BigInt(1),version:BigInt(1)},...x.knowledgeBase.sources.map((Z,X)=>({id:`source-${X}`,content:Z.content,sourceType:Z.type==="Manual"?{Manual:null}:Z.type==="URL"?{URL:null}:Z.type==="Document"?{Document:null}:Z.type==="API"?{API:null}:{Database:null},metadata:[["type",Z.type.toLowerCase()],...Z.url?[["url",Z.url]]:[],...Z.metadata?Object.entries(Z.metadata).map(([se,S])=>[se,String(S)]):[]],isActive:!0,lastUpdated:BigInt(Date.now()),priority:BigInt(X+2),version:BigInt(1)}))],version:BigInt(1)}};console.log("Creating agent with canister:",E);const P=await vt.createAgent(E,1);console.log("Agent created successfully with ID:",P);const K={id:P,name:x.name,description:x.description,status:"Active",created:new Date().toISOString(),config:{personality:{traits:x.personality.traits,tone:x.personality.tone,responseStyle:x.personality.responseStyle},knowledgeBase:{documents:x.knowledgeBase.documents,sources:x.knowledgeBase.sources,context:x.knowledgeBase.context},behavior:{maxResponseLength:x.behavior.maxResponseLength,conversationMemory:x.behavior.conversationMemory,escalationRules:x.behavior.escalationRules},appearance:{avatar:x.appearance.avatar,theme:x.appearance.theme,welcomeMessage:x.appearance.welcomeMessage}},avatar:x.appearance.avatar,lastUpdated:new Date().toISOString()};v({name:"",description:"",personality:{traits:[],tone:"professional",responseStyle:"helpful",communicationStyle:"Professional",responsePattern:"Detailed"},knowledgeBase:{documents:[],sources:[],context:""},behavior:{maxResponseLength:500,conversationMemory:!0,escalationRules:[],temperature:.7,creativity:.8,topP:.9,contextWindow:4096,maxTokens:1e3,frequencyPenalty:0,presencePenalty:0,systemPromptTemplate:"You are a helpful AI assistant."},appearance:{avatar:"default",theme:"blue",welcomeMessage:"Hello! How can I help you today?",primaryColor:"#3B82F6",secondaryColor:"#EFF6FF",accentColor:"#3B82F6",borderRadius:"8px",customCSS:"",fontFamily:"Inter",fontSize:"14px"},contextSettings:{enableLearning:!0,enableMemory:!0,maxContextMessages:10,memoryDuration:3600},integrationSettings:{allowedOrigins:[],rateLimiting:{enabled:!1,maxRequestsPerHour:1e3,maxTokensPerHour:1e5},webhooks:[]},category:"General",isPublic:!1}),r(K)}catch(E){console.error("Failed to create agent:",E),_(E instanceof Error?E.message:"Failed to create agent")}finally{d(!1)}},L=E=>{const P={blue:"#3B82F6",green:"#10B981",purple:"#8B5CF6",orange:"#F59E0B"};return P[E]||P.blue},de=E=>{const P={blue:"#EFF6FF",green:"#ECFDF5",purple:"#F3E8FF",orange:"#FFFBEB"};return P[E]||P.blue},Re=()=>typeof x.name=="string"&&x.name.trim()&&typeof x.description=="string"&&x.description.trim()&&x.personality.traits.length>0,U=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Agent Name *"}),a.jsx("input",{type:"text",value:x.name,onChange:E=>q("name","name",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g. Customer Support Assistant"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),a.jsx("textarea",{value:x.description,onChange:E=>q("description","description",E.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Describe what your agent does and how it helps users..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),a.jsxs("select",{value:x.category||"General",onChange:E=>q("category","category",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[a.jsx("option",{value:"General",children:"General"}),a.jsx("option",{value:"Customer Support",children:"Customer Support"}),a.jsx("option",{value:"Sales",children:"Sales"}),a.jsx("option",{value:"Education",children:"Education"}),a.jsx("option",{value:"Technical",children:"Technical"}),a.jsx("option",{value:"Creative",children:"Creative"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Visibility"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"isPublic",value:"false",checked:!x.isPublic,onChange:E=>q("isPublic","isPublic",E.target.value==="true"),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Private (Only you can access)"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"isPublic",value:"true",checked:x.isPublic,onChange:E=>q("isPublic","isPublic",E.target.value==="true"),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Public (Anyone can access)"})]})]})]})]}),Pe=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Personality Traits *"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:j.map(E=>a.jsx("button",{onClick:()=>ne(E),className:`px-3 py-2 rounded-lg border text-sm transition-colors ${x.personality.traits.includes(E)?"bg-primary-100 border-primary-300 text-primary-800":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:E},E))})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tone"}),a.jsxs("select",{value:x.personality.tone,onChange:E=>q("personality","tone",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"professional",children:"Professional"}),a.jsx("option",{value:"casual",children:"Casual"}),a.jsx("option",{value:"formal",children:"Formal"}),a.jsx("option",{value:"playful",children:"Playful"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Response Style"}),a.jsxs("select",{value:x.personality.responseStyle,onChange:E=>q("personality","responseStyle",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"helpful",children:"Helpful"}),a.jsx("option",{value:"detailed",children:"Detailed"}),a.jsx("option",{value:"concise",children:"Concise"}),a.jsx("option",{value:"conversational",children:"Conversational"})]})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Communication Style"}),a.jsxs("select",{value:x.personality.communicationStyle,onChange:E=>q("personality","communicationStyle",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"Professional",children:"Professional"}),a.jsx("option",{value:"Conversational",children:"Conversational"}),a.jsx("option",{value:"Creative",children:"Creative"}),a.jsx("option",{value:"Educational",children:"Educational"}),a.jsx("option",{value:"Technical",children:"Technical"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Response Pattern"}),a.jsxs("select",{value:x.personality.responsePattern,onChange:E=>q("personality","responsePattern",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"Detailed",children:"Detailed"}),a.jsx("option",{value:"Concise",children:"Concise"}),a.jsx("option",{value:"Narrative",children:"Narrative"}),a.jsx("option",{value:"Structured",children:"Structured"})]})]})]})]}),Be=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:I.map(E=>a.jsxs("button",{onClick:()=>{q("appearance","theme",E.id),q("appearance","primaryColor",L(E.id)),q("appearance","secondaryColor",de(E.id)),q("appearance","accentColor",L(E.id))},className:`p-4 rounded-lg border-2 transition-colors ${x.appearance.theme===E.id?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"}`,children:[a.jsx("div",{className:`w-6 h-6 ${E.color} rounded-full mx-auto mb-2`}),a.jsx("span",{className:"text-xs text-gray-700",children:E.name})]},E.id))})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"color",value:x.appearance.primaryColor,onChange:E=>q("appearance","primaryColor",E.target.value),className:"w-12 h-8 border border-gray-300 rounded"}),a.jsx("input",{type:"text",value:x.appearance.primaryColor,onChange:E=>q("appearance","primaryColor",E.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Color"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"color",value:x.appearance.secondaryColor,onChange:E=>q("appearance","secondaryColor",E.target.value),className:"w-12 h-8 border border-gray-300 rounded"}),a.jsx("input",{type:"text",value:x.appearance.secondaryColor,onChange:E=>q("appearance","secondaryColor",E.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accent Color"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"color",value:x.appearance.accentColor,onChange:E=>q("appearance","accentColor",E.target.value),className:"w-12 h-8 border border-gray-300 rounded"}),a.jsx("input",{type:"text",value:x.appearance.accentColor,onChange:E=>q("appearance","accentColor",E.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Border Radius"}),a.jsxs("select",{value:x.appearance.borderRadius,onChange:E=>q("appearance","borderRadius",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"0px",children:"Sharp (0px)"}),a.jsx("option",{value:"4px",children:"Slightly Rounded (4px)"}),a.jsx("option",{value:"8px",children:"Rounded (8px)"}),a.jsx("option",{value:"12px",children:"More Rounded (12px)"}),a.jsx("option",{value:"16px",children:"Very Rounded (16px)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Family"}),a.jsxs("select",{value:x.appearance.fontFamily,onChange:E=>q("appearance","fontFamily",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"Inter",children:"Inter (Modern)"}),a.jsx("option",{value:"Roboto",children:"Roboto (Clean)"}),a.jsx("option",{value:"Open Sans",children:"Open Sans (Readable)"}),a.jsx("option",{value:"Lato",children:"Lato (Friendly)"}),a.jsx("option",{value:"Poppins",children:"Poppins (Professional)"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Size"}),a.jsxs("select",{value:x.appearance.fontSize,onChange:E=>q("appearance","fontSize",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"12px",children:"Small (12px)"}),a.jsx("option",{value:"14px",children:"Medium (14px)"}),a.jsx("option",{value:"16px",children:"Large (16px)"}),a.jsx("option",{value:"18px",children:"Extra Large (18px)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Welcome Message"}),a.jsx("textarea",{value:x.appearance.welcomeMessage,onChange:E=>q("appearance","welcomeMessage",E.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"What should your agent say when starting a conversation?"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom CSS"}),a.jsx("textarea",{value:x.appearance.customCSS,onChange:E=>q("appearance","customCSS",E.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 font-mono text-sm",placeholder:"Add custom CSS styles for your agent interface..."}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add custom CSS to further customize the appearance"})]})]}),be=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Context"}),a.jsx("textarea",{value:x.knowledgeBase.context,onChange:E=>q("knowledgeBase","context",E.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Provide background context for your agent..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Knowledge Sources"}),x.knowledgeBase.sources.length>0&&a.jsx("div",{className:"mb-4 space-y-2",children:x.knowledgeBase.sources.map((E,P)=>{var K,Z,X;return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:E.type}),E.url&&a.jsx("span",{className:"text-sm text-gray-600",children:E.url}),((K=E.metadata)==null?void 0:K.fileName)&&a.jsxs("span",{className:"text-sm text-gray-600",children:[" ",E.metadata.fileName]}),((Z=E.metadata)==null?void 0:Z.apiEndpoint)&&a.jsx("span",{className:"text-sm text-gray-600",children:" API"}),((X=E.metadata)==null?void 0:X.database)&&a.jsx("span",{className:"text-sm text-gray-600",children:" DB"})]}),a.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:E.content}),E.metadata&&a.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:[E.metadata.fileSize&&a.jsxs("span",{className:"mr-2",children:["Size: ",Math.round(E.metadata.fileSize/1024),"KB"]}),E.metadata.hasApiKey&&a.jsx("span",{className:"mr-2",children:" API Key"}),E.metadata.query&&a.jsxs("span",{className:"mr-2",children:["Query: ",E.metadata.query.substring(0,30),"..."]})]})]}),a.jsx("button",{onClick:()=>ie(P),className:"ml-2 text-red-600 hover:text-red-800",children:a.jsx(Qa,{className:"h-4 w-4"})})]},P)})}),a.jsxs("div",{className:"space-y-3 p-4 border border-gray-200 rounded-lg",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Source Type"}),a.jsxs("select",{value:R,onChange:E=>$(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",children:[a.jsx("option",{value:"Manual",children:"Manual Text"}),a.jsx("option",{value:"URL",children:"Web URL"}),a.jsx("option",{value:"Document",children:"Document Upload"}),a.jsx("option",{value:"API",children:"API Integration"}),a.jsx("option",{value:"Database",children:"Database Query"})]})]})}),R==="Manual"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Knowledge Content"}),a.jsx("textarea",{value:b,onChange:E=>M(E.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Enter your knowledge content here..."})]}),R==="URL"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Website URL"}),a.jsx("input",{type:"url",value:k,onChange:E=>A(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"https://example.com/article"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Content Summary"}),a.jsx("textarea",{value:b,onChange:E=>M(E.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Summarize the key information from this URL..."})]})]}),R==="Document"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Upload Document"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[a.jsx("input",{type:"file",onChange:E=>{var K;const P=(K=E.target.files)==null?void 0:K[0];P&&Ne(P)},accept:".pdf,.txt,.doc,.docx,.md",className:"hidden",id:"file-upload"}),a.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("svg",{className:"mx-auto h-8 w-8 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:a.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium text-primary-600 hover:text-primary-500",children:"Click to upload"})," ","or drag and drop"]}),a.jsx("div",{className:"text-xs text-gray-500",children:"PDF, TXT, DOC, DOCX, MD up to 10MB"})]})})]}),G&&a.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-sm",children:a.jsxs("span",{className:"text-green-800",children:[" ",G.name," selected"]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Document Description (Optional)"}),a.jsx("textarea",{value:b,onChange:E=>M(E.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Brief description of the document content..."})]})]}),R==="API"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"API Endpoint"}),a.jsx("input",{type:"url",value:ce,onChange:E=>O(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"https://api.example.com/data"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"API Key (Optional)"}),a.jsx("input",{type:"password",value:te,onChange:E=>oe(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Enter API key if required"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"API Description"}),a.jsx("textarea",{value:b,onChange:E=>M(E.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Describe what data this API provides..."})]})]}),R==="Database"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Database Connection"}),a.jsx("input",{type:"text",value:z,onChange:E=>W(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Database name or connection string"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Query or Table"}),a.jsx("textarea",{value:H,onChange:E=>ue(E.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"SQL query or table name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:b,onChange:E=>M(E.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Describe the data structure and content..."})]})]}),a.jsx("button",{onClick:fe,disabled:R==="Manual"&&!b.trim()||R==="URL"&&(!k.trim()||!b.trim())||R==="Document"&&!G||R==="API"&&!ce.trim()||R==="Database"&&(!z.trim()||!H.trim()),className:"w-full px-3 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Add Knowledge Source"})]})]})]}),me=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Response Length"}),a.jsx("input",{type:"number",value:x.behavior.maxResponseLength,onChange:E=>q("behavior","maxResponseLength",parseInt(E.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",min:"100",max:"2000"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"conversationMemory",checked:x.behavior.conversationMemory,onChange:E=>q("behavior","conversationMemory",E.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"conversationMemory",className:"ml-2 block text-sm text-gray-900",children:"Remember conversation history"})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Advanced Settings"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Temperature"}),a.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:x.behavior.temperature,onChange:E=>q("behavior","temperature",parseFloat(E.target.value)),className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"Focused (0.0)"}),a.jsx("span",{children:x.behavior.temperature}),a.jsx("span",{children:"Creative (2.0)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Creativity"}),a.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:x.behavior.creativity,onChange:E=>q("behavior","creativity",parseFloat(E.target.value)),className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"Conservative (0.0)"}),a.jsx("span",{children:x.behavior.creativity}),a.jsx("span",{children:"Creative (1.0)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Top P"}),a.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:x.behavior.topP,onChange:E=>q("behavior","topP",parseFloat(E.target.value)),className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"0.0"}),a.jsx("span",{children:x.behavior.topP}),a.jsx("span",{children:"1.0"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Context Window"}),a.jsx("input",{type:"number",value:x.behavior.contextWindow,onChange:E=>q("behavior","contextWindow",parseInt(E.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",min:"1000",max:"32000"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Tokens"}),a.jsx("input",{type:"number",value:x.behavior.maxTokens,onChange:E=>q("behavior","maxTokens",parseInt(E.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",min:"100",max:"4000"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequency Penalty"}),a.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:x.behavior.frequencyPenalty,onChange:E=>q("behavior","frequencyPenalty",parseFloat(E.target.value)),className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"-2.0"}),a.jsx("span",{children:x.behavior.frequencyPenalty}),a.jsx("span",{children:"2.0"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Presence Penalty"}),a.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:x.behavior.presencePenalty,onChange:E=>q("behavior","presencePenalty",parseFloat(E.target.value)),className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"-2.0"}),a.jsx("span",{children:x.behavior.presencePenalty}),a.jsx("span",{children:"2.0"})]})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"System Prompt Template"}),a.jsx("textarea",{value:x.behavior.systemPromptTemplate,onChange:E=>q("behavior","systemPromptTemplate",E.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Define the base personality and behavior for your agent..."})]})]})]}),_e=()=>{switch(n){case"basic":return U();case"personality":return Pe();case"knowledge":return be();case"behavior":return me();case"appearance":return Be();default:return U()}};return a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[g&&a.jsxs("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded-md flex items-center",children:[a.jsx(Qa,{className:"h-5 w-5 mr-2"}),a.jsx("span",{children:g}),a.jsx("button",{onClick:()=>_(null),className:"ml-auto text-red-500 hover:text-red-700",children:a.jsx(Qa,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Agent"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>u(!f),className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:f?"Edit Mode":"Preview"}),a.jsx("button",{onClick:Ee,disabled:!Re()||l,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:l?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Creating..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Fx,{className:"h-4 w-4"}),a.jsx("span",{children:"Create Agent"})]})})]})]})]}),a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"w-64 border-r border-gray-200",children:a.jsx("nav",{className:"p-4",children:a.jsx("ul",{className:"space-y-1",children:ge.map(E=>a.jsx("li",{children:a.jsx("button",{onClick:()=>i(E.id),className:`w-full text-left px-3 py-2 rounded-md text-sm transition-colors ${n===E.id?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:E.name}),E.required&&a.jsx("span",{className:"text-red-500 text-xs",children:"*"})]})})},E.id))})})}),a.jsx("div",{className:"flex-1 p-6",children:f?a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:x.name||"Agent Name"}),a.jsx("p",{className:"text-gray-600 mb-4",children:x.description||"Agent description will appear here..."}),x.personality.traits.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Personality Traits:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:x.personality.traits.map(E=>a.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-800 text-xs rounded-full",children:E},E))})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Tone: ",x.personality.tone," | Style: ",x.personality.responseStyle]})]})}):_e()})]})]})})},d_=({agent:e,onClose:r,onEdit:n,onUpdate:i})=>{const[l,d]=Y.useState(!1),[f,u]=Y.useState(null);if(!e)return null;const g=()=>{u({...e}),d(!0)},_=async()=>{f&&(await i(e.id,f),d(!1),u(null))},x=()=>{d(!1),u(null)},v=(R,$)=>{f&&u({...f,[R]:$})},k=(R,$,G)=>{f&&u({...f,config:{...f.config,[R]:{...f.config[R],[$]:G}}})},A=R=>{if(f&&R.trim()){const $=f.config.personality.traits;$.includes(R.trim())||k("personality","traits",[...$,R.trim()])}},b=R=>{if(f){const $=f.config.personality.traits;k("personality","traits",$.filter((G,J)=>J!==R))}},M=l?f:e;return M?a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-11/12 max-w-6xl shadow-lg rounded-md bg-white max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:l?"Edit Agent":"Agent Details"}),a.jsxs("div",{className:"flex space-x-2",children:[l?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:_,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[a.jsx(Fx,{className:"h-4 w-4 mr-1"}),"Save"]}),a.jsx("button",{onClick:x,className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"})]}):a.jsxs("button",{onClick:g,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(tN,{className:"h-4 w-4 mr-1"}),"Edit"]}),a.jsx("button",{onClick:r,className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:a.jsx(Qa,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),l?a.jsx("input",{type:"text",value:M.name,onChange:R=>v("name",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):a.jsx("p",{className:"text-lg font-medium text-gray-900",children:M.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),l?a.jsx("textarea",{value:M.description,onChange:R=>v("description",R.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):a.jsx("p",{className:"text-gray-600",children:M.description})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M.status==="Active"?"bg-green-100 text-green-800":M.status==="Inactive"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:M.status})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created"}),a.jsxs("p",{className:"text-gray-600",children:[new Date(M.created).toLocaleDateString()," at"," ",new Date(M.created).toLocaleTimeString()]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Personality"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Personality Traits"}),l?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",placeholder:"Add a trait...",onKeyPress:R=>{R.key==="Enter"&&(A(R.target.value),R.target.value="")},className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{onClick:()=>{const R=document.querySelector('input[placeholder="Add a trait..."]');R&&(A(R.value),R.value="")},className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:a.jsx(Ox,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:M.config.personality.traits.map((R,$)=>a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[R,a.jsx("button",{onClick:()=>b($),className:"ml-1 text-blue-600 hover:text-blue-800",children:a.jsx(Ix,{className:"h-3 w-3"})})]},$))})]}):a.jsx("div",{className:"flex flex-wrap gap-1",children:M.config.personality.traits.map((R,$)=>a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:R},$))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tone"}),l?a.jsx("input",{type:"text",value:M.config.personality.tone,onChange:R=>k("personality","tone",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):a.jsx("p",{className:"text-gray-600",children:M.config.personality.tone})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Response Style"}),l?a.jsx("input",{type:"text",value:M.config.personality.responseStyle,onChange:R=>k("personality","responseStyle",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):a.jsx("p",{className:"text-gray-600",children:M.config.personality.responseStyle})]})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Appearance"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Theme Color"}),l?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"color",value:M.config.appearance.theme,onChange:R=>k("appearance","theme",R.target.value),className:"w-12 h-8 border border-gray-300 rounded"}),a.jsx("input",{type:"text",value:M.config.appearance.theme,onChange:R=>k("appearance","theme",R.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}):a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:M.config.appearance.theme}}),a.jsx("span",{className:"text-sm text-gray-600",children:M.config.appearance.theme})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Avatar"}),l?a.jsx("input",{type:"text",value:M.config.appearance.avatar,onChange:R=>k("appearance","avatar",R.target.value),placeholder:"Enter avatar URL or identifier",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):a.jsx("p",{className:"text-sm text-gray-600",children:M.config.appearance.avatar})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Welcome Message"}),l?a.jsx("textarea",{value:M.config.appearance.welcomeMessage,onChange:R=>k("appearance","welcomeMessage",R.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):a.jsx("p",{className:"text-sm text-gray-600",children:M.config.appearance.welcomeMessage})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Behavior"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Response Length"}),l?a.jsx("input",{type:"number",value:M.config.behavior.maxResponseLength,onChange:R=>k("behavior","maxResponseLength",parseInt(R.target.value)),min:"100",max:"2000",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):a.jsxs("p",{className:"text-gray-600",children:[M.config.behavior.maxResponseLength," characters"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conversation Memory"}),l?a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:M.config.behavior.conversationMemory,onChange:R=>k("behavior","conversationMemory",R.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Enable conversation memory"})]}):a.jsx("p",{className:"text-gray-600",children:M.config.behavior.conversationMemory?"Enabled":"Disabled"})]})]})]})]})]}),M.config.knowledgeBase.sources&&M.config.knowledgeBase.sources.length>0&&a.jsx("div",{className:"mt-8",children:a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Knowledge Sources"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:M.config.knowledgeBase.sources.map((R,$)=>{var G;return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:R.type}),a.jsx("span",{className:"text-xs text-gray-500",children:(G=R.metadata)!=null&&G.fileSize?`${R.metadata.fileSize} bytes`:"N/A"})]}),a.jsx("p",{className:"text-sm text-gray-600 truncate",children:R.content}),R.metadata&&Object.keys(R.metadata).length>0&&a.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:Object.entries(R.metadata).map(([J,ce],O)=>a.jsxs("span",{className:"text-xs text-gray-500",children:[J,": ",ce]},O))})]},$)})})]})}),a.jsx("div",{className:"mt-8",children:a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Knowledge Base Context"}),l?a.jsx("textarea",{value:M.config.knowledgeBase.context,onChange:R=>k("knowledgeBase","context",R.target.value),rows:4,placeholder:"Enter additional context or instructions for the agent...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):a.jsx("p",{className:"text-gray-600 text-sm",children:M.config.knowledgeBase.context||"No knowledge base context configured"})]})})]})}):null},f_=({sessionToken:e,onSelectAgent:r,selectedAgent:n})=>{const[i,l]=Y.useState([]),[d,f]=Y.useState(!0),[u,g]=Y.useState(null),[_,x]=Y.useState(null);Y.useEffect(()=>{(async()=>{if(e)try{f(!0),g(null);const J=(await vt.getUserAgents()).map(ce=>({id:ce.id,name:ce.name,description:ce.description,status:"Active"in ce.status?"Active":"Inactive"in ce.status?"Inactive":"Draft",created:new Date(Number(ce.created)/1e6).toISOString(),config:{personality:{traits:ce.config.personality.traits,tone:ce.config.personality.tone,responseStyle:ce.config.personality.style},knowledgeBase:{documents:[],sources:ce.config.knowledgeBase.map(O=>({type:"Manual"in O.sourceType?"Manual":"URL"in O.sourceType?"URL":"Document"in O.sourceType?"Document":"API"in O.sourceType?"API":"Database",content:O.content,metadata:O.metadata.reduce((te,[oe,z])=>(te[oe]=z,te),{})})),context:ce.config.knowledgeBase.map(O=>O.content).join(" ")},behavior:{maxResponseLength:500,conversationMemory:!0,escalationRules:[]},appearance:{avatar:Array.isArray(ce.config.appearance.avatar)&&ce.config.appearance.avatar.length>0?ce.config.appearance.avatar[0]:"default",theme:ce.config.appearance.primaryColor,welcomeMessage:"Hello! How can I help you today?"}},avatar:Array.isArray(ce.config.appearance.avatar)&&ce.config.appearance.avatar.length>0?ce.config.appearance.avatar[0]:"",lastUpdated:new Date().toISOString()}));l(J)}catch(G){console.error("Error loading agents:",G),g("Failed to load agents. Please try again."),l([])}finally{f(!1)}})()},[e]);const v=$=>{r($)},k=$=>{x($)},A=()=>{x(null)},b=async($,G)=>{try{const J=i.find(te=>te.id===$);if(!J)return;const ce={...J,...G},O={personality:{traits:ce.config.personality.traits,tone:ce.config.personality.tone,style:ce.config.personality.responseStyle,communicationStyle:{Conversational:null},responsePattern:{Detailed:null}},behavior:{responseLength:{Medium:null},temperature:.7,creativity:.5,topP:.9,contextWindow:BigInt(4e3),maxTokens:BigInt(1e3),frequencyPenalty:0,presencePenalty:0,systemPromptTemplate:"You are a helpful AI assistant."},appearance:{primaryColor:ce.config.appearance.theme,secondaryColor:"#ffffff",accentColor:"#3b82f6",borderRadius:"8px",avatar:ce.config.appearance.avatar?[ce.config.appearance.avatar]:[],customCSS:[],fontFamily:"Inter",fontSize:"14px",theme:{Auto:null}},contextSettings:{enableLearning:!0,enableMemory:!0,maxContextMessages:BigInt(10),memoryDuration:BigInt(3600)},integrationSettings:{allowedOrigins:[],rateLimiting:{enabled:!1,maxRequestsPerHour:BigInt(100),maxTokensPerHour:BigInt(1e4)},webhooks:[]},knowledgeBase:ce.config.knowledgeBase.sources.map(te=>({id:Math.random().toString(36).substr(2,9),content:te.content,sourceType:te.type==="Manual"?{Manual:null}:te.type==="URL"?{URL:null}:te.type==="Document"?{Document:null}:te.type==="API"?{API:null}:{Database:null},metadata:te.metadata?Object.entries(te.metadata).filter(([oe,z])=>oe&&z!==void 0).map(([oe,z])=>[oe,String(z)]):[],isActive:!0,lastUpdated:BigInt(Date.now()),priority:BigInt(1),version:BigInt(1)})),version:BigInt(1)};await vt.updateAgent($,O),l(te=>te.map(oe=>oe.id===$?ce:oe)),(_==null?void 0:_.id)===$&&x(ce),(n==null?void 0:n.id)===$&&r(ce)}catch(J){console.error("Error updating agent:",J),g("Failed to update agent")}},M=async($,G)=>{try{const J=G==="Active"?"Inactive":"Active";console.log(`Toggling status for agent ${$} from ${G} to ${J}`),await vt.updateAgentStatus($,J);const O=(await vt.getUserAgents()).map(te=>({id:te.id,name:te.name,description:te.description,status:"Active"in te.status?"Active":"Inactive"in te.status?"Inactive":"Draft",created:new Date(Number(te.created)/1e6).toISOString(),config:{personality:{traits:te.config.personality.traits,tone:te.config.personality.tone,responseStyle:te.config.personality.style},knowledgeBase:{documents:[],sources:te.config.knowledgeBase.map(oe=>({type:"Manual"in oe.sourceType?"Manual":"URL"in oe.sourceType?"URL":"Document"in oe.sourceType?"Document":"API"in oe.sourceType?"API":"Database",content:oe.content,metadata:oe.metadata.reduce((z,[W,H])=>(z[W]=H,z),{})})),context:te.config.knowledgeBase.map(oe=>oe.content).join(" ")},behavior:{maxResponseLength:500,conversationMemory:!0,escalationRules:[]},appearance:{avatar:te.config.appearance.avatar.length>0?te.config.appearance.avatar[0]:"",theme:te.config.appearance.primaryColor,welcomeMessage:"Hello! How can I help you today?"}},avatar:te.config.appearance.avatar.length>0?te.config.appearance.avatar[0]:"",lastUpdated:new Date(Number(te.updated)/1e6).toISOString()}));l(O)}catch(J){console.error("Error toggling agent status:",J),g("Failed to update agent status")}},R=async $=>{try{await vt.deleteAgent($),console.log(`Agent ${$} deleted successfully`),l(G=>G.filter(J=>J.id!==$)),(n==null?void 0:n.id)===$&&r(null)}catch(G){console.error("Error deleting agent:",G),g("Failed to delete agent")}};return d?a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded-md w-1/4 mb-6"}),a.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map(($,G)=>a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-4"}),a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"})]},G))})]})}):u?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-red-600 mb-4",children:u}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Retry"})]}):i.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-500 mb-4",children:"No agents found"}),a.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Create your first AI agent to get started"}),a.jsx("button",{onClick:()=>window.location.href="/create",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Create Agent"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"My Agents"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage and configure your AI agents."})]}),a.jsx("div",{className:"mt-4 flex md:ml-4 md:mt-0",children:a.jsx("button",{onClick:()=>window.location.href="/create",className:"inline-flex items-center gap-x-2 rounded-md bg-blue-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600",children:"Create New Agent"})})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:i.map($=>a.jsxs("div",{className:`bg-white rounded-lg shadow border border-gray-200 p-6 cursor-pointer transition-all duration-200 hover:shadow-md ${(n==null?void 0:n.id)===$.id?"ring-2 ring-blue-500":""}`,onClick:()=>v($),children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:$.name}),a.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:$.description})]}),a.jsx("span",{className:`ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${$.status==="Active"?"bg-green-100 text-green-800":$.status==="Inactive"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:$.status})]}),a.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:a.jsxs("span",{children:["Created: ",new Date($.created).toLocaleDateString()]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:G=>{G.stopPropagation(),k($)},className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(Ux,{className:"h-3 w-3 mr-1"}),"View"]}),a.jsx("button",{onClick:G=>{G.stopPropagation(),M($.id,$.status)},className:`inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded focus:outline-none focus:ring-2 focus:ring-offset-2 ${$.status==="Active"?"text-orange-700 bg-orange-100 hover:bg-orange-200 focus:ring-orange-500":"text-green-700 bg-green-100 hover:bg-green-200 focus:ring-green-500"}`,children:$.status==="Active"?a.jsxs(a.Fragment,{children:[a.jsx(J5,{className:"h-3 w-3 mr-1"}),"Pause"]}):a.jsxs(a.Fragment,{children:[a.jsx(Yf,{className:"h-3 w-3 mr-1"}),"Activate"]})})]}),a.jsxs("button",{onClick:G=>{G.stopPropagation(),R($.id)},className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[a.jsx(Ix,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]},$.id))}),i.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-500 mb-4",children:"No agents found"}),a.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Create your first AI agent to get started"}),a.jsx("button",{onClick:()=>window.location.href="/create",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Create Agent"})]}),_&&a.jsx(d_,{agent:_,onClose:A,onEdit:$=>x($),onUpdate:b})]})},t1=({sessionToken:e,agent:r})=>{const[n,i]=Y.useState([]),[l,d]=Y.useState(""),[f,u]=Y.useState(!1),g=Y.useRef(null);Y.useEffect(()=>{i([{id:"welcome",content:r.config.appearance.welcomeMessage,sender:"agent",timestamp:new Date,agentName:r.name}])},[r]),Y.useEffect(()=>{var k;(k=g.current)==null||k.scrollIntoView({behavior:"smooth"})},[n]);const _=async k=>{if(k.preventDefault(),!l.trim()||f)return;const A={id:Date.now().toString(),content:l,sender:"user",timestamp:new Date};i(b=>[...b,A]),d(""),u(!0);try{let b;if(r.name.includes("Demo Agent")||r.id==="demo"||r.id.startsWith("agent_")){const $=[`Thanks for your message: "${l}". This is a demo response from ${r.name}.`,`I understand you're asking about "${l}". In demo mode, I can show you how the chat interface works!`,`Hello! You said: "${l}". This embed widget is working correctly in demo mode.`,`Great question about "${l}"! This demonstrates the chat functionality of the embed widget.`,`I received your message: "${l}". The embed widget is functioning properly with customizable themes and responses.`];await new Promise(G=>setTimeout(G,1e3+Math.random()*1e3)),b=$[Math.floor(Math.random()*$.length)]}else b=await vt.processChat(r.id,l,e||"");const R={id:(Date.now()+1).toString(),content:b,sender:"agent",timestamp:new Date,agentName:r.name};i($=>[...$,R])}catch(b){console.error("Failed to get response:",b);const M={id:(Date.now()+1).toString(),content:`I'm currently in demo mode. Your message "${l}" was received, but I can't connect to the full AI service right now. This shows how error handling works in the embed widget!`,sender:"agent",timestamp:new Date,agentName:r.name,isError:!1};i(R=>[...R,M])}finally{u(!1)}},x=k=>k.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),v=k=>{const A={blue:"bg-blue-500",green:"bg-green-500",purple:"bg-purple-500",orange:"bg-orange-500"};return A[k]||A.blue};return a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 h-[600px] flex flex-col",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-10 h-10 ${v(r.config.appearance.theme)} rounded-full flex items-center justify-center`,children:a.jsx("span",{className:"text-white font-medium text-sm",children:r.name.charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r.name}),a.jsx("p",{className:"text-sm text-gray-500",children:r.description})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[n.map(k=>a.jsx("div",{className:`flex ${k.sender==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${k.sender==="user"?"bg-primary-600 text-white":k.isError?"bg-red-100 text-red-800":"bg-gray-100 text-gray-900"}`,children:[a.jsx("p",{className:"text-sm",children:k.content}),a.jsxs("div",{className:`flex items-center justify-between mt-2 text-xs ${k.sender==="user"?"text-primary-100":k.isError?"text-red-600":"text-gray-500"}`,children:[k.sender==="agent"&&k.agentName&&a.jsx("span",{className:"mr-2",children:k.agentName}),x(k.timestamp)]})]})},k.id)),f&&a.jsx("div",{className:"flex justify-start",children:a.jsx("div",{className:"bg-gray-100 text-gray-900 px-4 py-2 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"animate-bounce space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),a.jsx("span",{className:"text-sm",children:"Agent is typing..."})]})})}),a.jsx("div",{ref:g})]}),a.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:a.jsxs("form",{onSubmit:_,className:"flex space-x-3",children:[a.jsx("input",{type:"text",value:l,onChange:k=>d(k.target.value),placeholder:"Type your message...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:f}),a.jsx("button",{type:"submit",disabled:!l.trim()||f,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a.jsx(Q5,{className:"h-5 w-5"})})]})})]})})},h_=({sessionToken:e,identity:r})=>{const[n,i]=Y.useState(null),[l,d]=Y.useState(null),[f,u]=Y.useState(!0),[g,_]=Y.useState(null),[x,v]=Y.useState(!1),[k,A]=Y.useState(""),[b,M]=Y.useState(!1),[R,$]=Y.useState(!1),[G,J]=Y.useState(null);Y.useEffect(()=>{ce(),O()},[r]);const ce=async()=>{try{u(!0),_(null);const[H,ue,ge]=await Promise.allSettled([vt.getUserBalance(),vt.getUsageHistory(50),vt.getUserAgents()]),j=H.status==="fulfilled"?H.value:null,I=ue.status==="fulfilled"?ue.value:[],q=ge.status==="fulfilled"?ge.value:[],ne=new Date,fe=new Date;fe.setMonth(fe.getMonth()-1);const ie=I.filter(Be=>{const be=new Date(Be.timestamp);return be.getMonth()===ne.getMonth()&&be.getFullYear()===ne.getFullYear()}),Ne=I.filter(Be=>{const be=new Date(Be.timestamp);return be.getMonth()===fe.getMonth()&&be.getFullYear()===fe.getFullYear()}),Ee=ie.reduce((Be,be)=>Be+be.tokens,0),L=Ne.reduce((Be,be)=>Be+be.tokens,0),de=ie.reduce((Be,be)=>Be+be.cost,0),Re=Ne.reduce((Be,be)=>Be+be.cost,0),U={userId:r!=null&&r.getPrincipal()&&typeof r.getPrincipal().toString=="function"?r.getPrincipal().toString():"unknown",tier:(j==null?void 0:j.currentTier)||"Base",balance:(j==null?void 0:j.balance)||0,currency:"USD",joinDate:new Date().toISOString(),totalAgents:q.length,totalConversations:q.reduce((Be,be)=>{var me;return Be+(((me=be.analytics)==null?void 0:me.totalConversations)||0)},0),totalMessages:q.reduce((Be,be)=>{var me;return Be+(((me=be.analytics)==null?void 0:me.totalMessages)||0)},0)},Pe={currentMonth:{messages:ie.length,tokensUsed:Ee,cost:de},lastMonth:{messages:Ne.length,tokensUsed:L,cost:Re},billing:[]};i(U),d(Pe)}catch(H){console.error("Failed to load profile:",H),_("Failed to load profile data. Please try again.");const ue={userId:r!=null&&r.getPrincipal()&&typeof r.getPrincipal().toString=="function"?r.getPrincipal().toString():"unknown",tier:"Base",balance:0,currency:"USD",joinDate:new Date().toISOString(),totalAgents:0,totalConversations:0,totalMessages:0};i(ue),d({currentMonth:{messages:0,tokensUsed:0,cost:0},lastMonth:{messages:0,tokensUsed:0,cost:0},billing:[]})}finally{u(!1)}},O=async()=>{try{const H=await vt.getMetricsCollectorHealth();J(H)}catch(H){console.error("Failed to load system health:",H)}},te=async()=>{if(!k||isNaN(Number(k))){_("Please enter a valid amount");return}const H=Number(k);if(H<=0){_("Amount must be greater than 0");return}try{M(!0),_(null),await vt.addBalance(H),$(!0),A(""),await ce(),setTimeout(()=>{$(!1),v(!1)},3e3)}catch(ue){console.error("Failed to add balance:",ue),_(ue instanceof Error?ue.message:"Failed to add balance")}finally{M(!1)}},oe=H=>!H||typeof H!="string"?"Unknown":H.length>20?H.slice(0,10)+"..."+H.slice(-10):H,z=H=>{const ue={Base:"bg-gray-100 text-gray-800",Standard:"bg-blue-100 text-blue-800",Professional:"bg-purple-100 text-purple-800",Enterprise:"bg-green-100 text-green-800"};return ue[H]||ue.Base},W=H=>{const ue={Base:["Basic chat functionality","Up to 1,000 messages/month","Standard support"],Standard:["Advanced chat features","Up to 10,000 messages/month","Priority support","Custom agents"],Professional:["All Standard features","Up to 100,000 messages/month","API access","Advanced analytics"],Enterprise:["All Professional features","Unlimited messages","Dedicated support","Custom integrations"]};return ue[H]||ue.Base};return f?a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded-md w-1/4 mb-6"}),a.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((H,ue)=>a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),a.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"})]},ue))})]})}):n?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"User Profile"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your account, balance, and view detailed usage statistics."})]}),a.jsx("div",{className:"mt-4 flex space-x-3 md:ml-4 md:mt-0",children:a.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(Ox,{className:"h-4 w-4 mr-2"}),"Add Balance"]})})]}),g&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(jc,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-red-800",children:g})})]})}),R&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(Kf,{className:"h-5 w-5 text-green-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-green-800",children:"Balance added successfully!"})})]})}),a.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Account Information"}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"User ID"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900 font-mono break-all",children:oe(n.userId)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Account Tier"}),a.jsx("div",{className:"mt-1",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${z(n.tier)}`,children:n.tier})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Balance"}),a.jsxs("p",{className:"mt-1 text-lg font-semibold text-green-600",children:["$",n.balance.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Member Since"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(n.joinDate).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Agents"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n.totalAgents})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Messages"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n.totalMessages.toLocaleString()})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsx("div",{className:"bg-white px-4 py-6 shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 bg-blue-50 p-3 rounded-lg",children:a.jsx(Eg,{className:"h-6 w-6 text-blue-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Agents"}),a.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:n.totalAgents})]})})]})}),a.jsx("div",{className:"bg-white px-4 py-6 shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 bg-green-50 p-3 rounded-lg",children:a.jsx(Lf,{className:"h-6 w-6 text-green-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Conversations"}),a.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:n.totalConversations.toLocaleString()})]})})]})}),a.jsx("div",{className:"bg-white px-4 py-6 shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 bg-purple-50 p-3 rounded-lg",children:a.jsx(Li,{className:"h-6 w-6 text-purple-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Messages"}),a.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:n.totalMessages.toLocaleString()})]})})]})}),a.jsx("div",{className:"bg-white px-4 py-6 shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 bg-green-50 p-3 rounded-lg",children:a.jsx(Nf,{className:"h-6 w-6 text-green-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Balance"}),a.jsxs("dd",{className:"text-2xl font-semibold text-gray-900",children:["$",n.balance.toFixed(2)]})]})})]})})]}),a.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:[n.tier," Tier Benefits"]}),a.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:W(n.tier).map((H,ue)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx(Kf,{className:"h-5 w-5 text-green-500 mt-0.5 mr-3 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-gray-700",children:H})]},ue))})]})}),l&&a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[a.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Current Month Usage"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Li,{className:"h-5 w-5 text-gray-400 mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Messages"})]}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.currentMonth.messages.toLocaleString()})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ec,{className:"h-5 w-5 text-gray-400 mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Tokens Used"})]}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.currentMonth.tokensUsed.toLocaleString()})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Nf,{className:"h-5 w-5 text-gray-400 mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Cost"})]}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",l.currentMonth.cost.toFixed(4)]})]})]})]})}),a.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Last Month Usage"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Li,{className:"h-5 w-5 text-gray-400 mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Messages"})]}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.lastMonth.messages.toLocaleString()})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ec,{className:"h-5 w-5 text-gray-400 mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Tokens Used"})]}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.lastMonth.tokensUsed.toLocaleString()})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Nf,{className:"h-5 w-5 text-gray-400 mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Cost"})]}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",l.lastMonth.cost.toFixed(4)]})]})]})]})})]}),G&&a.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Status"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-700",children:"System Status"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${G.status==="healthy"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:G.status})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-700",children:"Total Users"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:G.totalUsers.toLocaleString()})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-700",children:"Total Transactions"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:G.totalTransactions.toLocaleString()})]})]})]})}),x&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add Balance"}),a.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Qa,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (USD)"}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:k,onChange:H=>A(H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter amount"})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[a.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),a.jsx("button",{onClick:te,disabled:b,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Adding...":"Add Balance"})]})]})})})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Eg,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Profile not available"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Unable to load user profile data."})]})},p_=({agent:e,canisterId:r})=>{const[n,i]=Y.useState(""),[l,d]=Y.useState("generator"),[f,u]=Y.useState(null),[g,_]=Y.useState("preview"),[x,v]=Y.useState({width:"400px",height:"600px",theme:"light",position:"bottom-right",primaryColor:"#4F46E5",borderRadius:"12px",showHeader:!0,showPoweredBy:!0,minimizable:!0,autoOpen:!1,welcomeMessage:"",placeholder:"Type your message..."});Y.useEffect(()=>{e&&k()},[e,x]);const k=()=>{if(!e)return;const $=`
<!-- CanistChat Embed Widget -->
<div id="canistchat-widget-${e.id}"></div>
<script>
(function() {
  // CanistChat Widget Configuration
  const config = {
    agentId: '${e.id}',
    canisterId: '${r}',
    theme: '${x.theme}',
    width: '${x.width}',
    height: '${x.height}',
    position: '${x.position}',
    primaryColor: '${x.primaryColor}',
    borderRadius: '${x.borderRadius}',
    showHeader: ${x.showHeader},
    showPoweredBy: ${x.showPoweredBy},
    minimizable: ${x.minimizable},
    autoOpen: ${x.autoOpen},
    title: '${e.name}',
    subtitle: 'AI Assistant',
    welcomeMessage: '${x.welcomeMessage||`Hello! I'm ${e.name}. How can I help you today?`}',
    placeholder: '${x.placeholder}'
  };

  // Create widget container
  const container = document.getElementById('canistchat-widget-' + config.agentId);
  if (!container) {
    console.error('CanistChat: Widget container not found');
    return;
  }

  // Create main widget wrapper
  const widgetWrapper = document.createElement('div');
  widgetWrapper.style.position = config.position === 'inline' ? 'relative' : 'fixed';
  widgetWrapper.style.zIndex = '9999';
  widgetWrapper.style.fontFamily = '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif';

  // Position widget if floating
  if (config.position !== 'inline') {
    switch(config.position) {
      case 'bottom-right':
        widgetWrapper.style.bottom = '20px';
        widgetWrapper.style.right = '20px';
        break;
      case 'bottom-left':
        widgetWrapper.style.bottom = '20px';
        widgetWrapper.style.left = '20px';
        break;
      case 'top-right':
        widgetWrapper.style.top = '20px';
        widgetWrapper.style.right = '20px';
        break;
      case 'top-left':
        widgetWrapper.style.top = '20px';
        widgetWrapper.style.left = '20px';
        break;
    }
  }

  // Create iframe for secure embedding
  const iframe = document.createElement('iframe');
  const embedUrl = new URL('https://${r}.ic0.app/embed');
  embedUrl.searchParams.set('agent', config.agentId);
  embedUrl.searchParams.set('theme', config.theme);
  embedUrl.searchParams.set('color', encodeURIComponent(config.primaryColor));
  embedUrl.searchParams.set('welcome', encodeURIComponent(config.welcomeMessage));
  embedUrl.searchParams.set('placeholder', encodeURIComponent(config.placeholder));
  
  iframe.src = embedUrl.toString();
  iframe.style.width = config.width;
  iframe.style.height = config.height;
  iframe.style.border = 'none';
  iframe.style.borderRadius = config.borderRadius;
  iframe.style.boxShadow = '0 4px 20px rgba(0,0,0,0.15)';
  iframe.style.transition = 'all 0.3s ease';
  iframe.allow = 'encrypted-media';
  iframe.title = config.title + ' - AI Assistant';
  iframe.loading = 'lazy';

  // Add minimize/maximize functionality
  let isMinimized = !config.autoOpen;
  if (config.minimizable && config.position !== 'inline') {
    const toggleBtn = document.createElement('button');
    toggleBtn.innerHTML = isMinimized ? '' : '';
    toggleBtn.style.position = 'absolute';
    toggleBtn.style.top = '10px';
    toggleBtn.style.right = '10px';
    toggleBtn.style.background = config.primaryColor;
    toggleBtn.style.color = 'white';
    toggleBtn.style.border = 'none';
    toggleBtn.style.borderRadius = '50%';
    toggleBtn.style.width = '40px';
    toggleBtn.style.height = '40px';
    toggleBtn.style.cursor = 'pointer';
    toggleBtn.style.fontSize = '16px';
    toggleBtn.style.zIndex = '10000';
    toggleBtn.style.boxShadow = '0 2px 10px rgba(0,0,0,0.2)';
    toggleBtn.style.transition = 'all 0.3s ease';
    
    toggleBtn.onmouseover = function() {
      toggleBtn.style.transform = 'scale(1.1)';
    };
    toggleBtn.onmouseout = function() {
      toggleBtn.style.transform = 'scale(1)';
    };
    
    toggleBtn.onclick = function() {
      if (isMinimized) {
        iframe.style.height = config.height;
        iframe.style.opacity = '1';
        iframe.style.transform = 'scale(1)';
        toggleBtn.innerHTML = '';
        widgetWrapper.appendChild(iframe);
      } else {
        iframe.style.height = '0px';
        iframe.style.opacity = '0';
        iframe.style.transform = 'scale(0.8)';
        toggleBtn.innerHTML = '';
        if (iframe.parentNode) {
          iframe.parentNode.removeChild(iframe);
        }
      }
      isMinimized = !isMinimized;
    };
    
    widgetWrapper.appendChild(toggleBtn);
    
    // Start minimized if autoOpen is false
    if (!config.autoOpen) {
      iframe.style.height = '0px';
      iframe.style.opacity = '0';
      iframe.style.transform = 'scale(0.8)';
    } else {
      widgetWrapper.appendChild(iframe);
    }
  } else {
    widgetWrapper.appendChild(iframe);
  }

  container.appendChild(widgetWrapper);

  // Add responsive behavior
  const handleResize = () => {
    if (window.innerWidth < 768 && config.position !== 'inline') {
      iframe.style.width = 'calc(100vw - 40px)';
      iframe.style.height = 'calc(100vh - 100px)';
      widgetWrapper.style.bottom = '10px';
      widgetWrapper.style.right = '10px';
      widgetWrapper.style.left = '10px';
    } else {
      iframe.style.width = config.width;
      iframe.style.height = config.height;
    }
  };
  
  window.addEventListener('resize', handleResize);
  handleResize();

  console.log('CanistChat widget loaded successfully');
})();
<\/script>`.trim();i($)},A=async($,G)=>{try{await navigator.clipboard.writeText($),u(G),setTimeout(()=>u(null),2e3)}catch(J){console.error("Failed to copy to clipboard:",J);const ce=document.createElement("textarea");ce.value=$,document.body.appendChild(ce),ce.select(),document.execCommand("copy"),document.body.removeChild(ce),u(G),setTimeout(()=>u(null),2e3)}},b=()=>e?`import React from 'react';

const CanistChatWidget = () => {
  return (
    <iframe
      src="https://${r}.ic0.app/embed?agent=${encodeURIComponent(e.id)}&theme=${x.theme}&color=${encodeURIComponent(x.primaryColor)}"
      width="${x.width}"
      height="${x.height}"
      style={{
        border: 'none',
        borderRadius: '${x.borderRadius}',
        boxShadow: '0 4px 20px rgba(0,0,0,0.15)'
      }}
      allow="encrypted-media"
      title="${e.name} - AI Assistant"
    />
  );
};

export default CanistChatWidget;`:"",M=()=>e?`<!-- Add this shortcode to any page or post -->
[canistchat agent="${e.id}" theme="${x.theme}" color="${x.primaryColor}" width="${x.width}" height="${x.height}"]

<!-- Or add this to your theme's functions.php file -->
function canistchat_shortcode($atts) {
    $atts = shortcode_atts(array(
        'agent' => '${e.id}',
        'theme' => '${x.theme}',
        'color' => '${x.primaryColor}',
        'width' => '${x.width}',
        'height' => '${x.height}'
    ), $atts);
    
    return '<iframe src="https://${r}.ic0.app/embed?agent=' . esc_attr($atts['agent']) . '&theme=' . esc_attr($atts['theme']) . '&color=' . urlencode($atts['color']) . '" width="' . esc_attr($atts['width']) . '" height="' . esc_attr($atts['height']) . '" style="border: none; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.15);" allow="encrypted-media" title="AI Assistant"></iframe>';
    }
add_shortcode('canistchat', 'canistchat_shortcode');`:"",R=()=>{if(!e)return;const $=`https://${r}.ic0.app/embed?agent=${encodeURIComponent(e.id)}&theme=${x.theme}&color=${encodeURIComponent(x.primaryColor)}`;window.open($,"_blank","width=500,height=700,scrollbars=yes,resizable=yes")};return e?a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Embed Widget Generator"}),a.jsxs("p",{className:"text-gray-600",children:["Generate embed code and integration instructions for ",a.jsx("strong",{children:e.name})]})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex",children:[a.jsxs("button",{onClick:()=>d("generator"),className:`px-6 py-3 text-sm font-medium border-b-2 ${l==="generator"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(P5,{className:"w-4 h-4 inline mr-2"}),"Generator"]}),a.jsxs("button",{onClick:()=>d("instructions"),className:`px-6 py-3 text-sm font-medium border-b-2 ${l==="instructions"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Z5,{className:"w-4 h-4 inline mr-2"}),"Instructions"]}),a.jsxs("button",{onClick:()=>d("testing"),className:`px-6 py-3 text-sm font-medium border-b-2 ${l==="testing"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Yf,{className:"w-4 h-4 inline mr-2"}),"Testing"]})]})}),a.jsxs("div",{className:"p-6",children:[l==="generator"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Customization Options"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Width"}),a.jsx("input",{type:"text",value:x.width,onChange:$=>v({...x,width:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"400px"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Height"}),a.jsx("input",{type:"text",value:x.height,onChange:$=>v({...x,height:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"600px"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),a.jsxs("select",{value:x.theme,onChange:$=>v({...x,theme:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"light",children:"Light"}),a.jsx("option",{value:"dark",children:"Dark"}),a.jsx("option",{value:"auto",children:"Auto"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position"}),a.jsxs("select",{value:x.position,onChange:$=>v({...x,position:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"inline",children:"Inline"}),a.jsx("option",{value:"bottom-right",children:"Bottom Right"}),a.jsx("option",{value:"bottom-left",children:"Bottom Left"}),a.jsx("option",{value:"top-right",children:"Top Right"}),a.jsx("option",{value:"top-left",children:"Top Left"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color"}),a.jsx("input",{type:"color",value:x.primaryColor,onChange:$=>v({...x,primaryColor:$.target.value}),className:"w-full h-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Border Radius"}),a.jsx("input",{type:"text",value:x.borderRadius,onChange:$=>v({...x,borderRadius:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"12px"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Welcome Message"}),a.jsx("input",{type:"text",value:x.welcomeMessage,onChange:$=>v({...x,welcomeMessage:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Hello! I'm ${e.name}. How can I help you today?`})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Placeholder"}),a.jsx("input",{type:"text",value:x.placeholder,onChange:$=>v({...x,placeholder:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Type your message..."})]})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:x.showHeader,onChange:$=>v({...x,showHeader:$.target.checked}),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Show Header"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:x.showPoweredBy,onChange:$=>v({...x,showPoweredBy:$.target.checked}),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:'Show "Powered by"'})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:x.minimizable,onChange:$=>v({...x,minimizable:$.target.checked}),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Minimizable"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:x.autoOpen,onChange:$=>v({...x,autoOpen:$.target.checked}),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Auto Open"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Preview"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6 border-2 border-dashed border-gray-300",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border overflow-hidden",style:{width:x.width,height:"300px",borderRadius:x.borderRadius,maxWidth:"100%"},children:[x.showHeader&&a.jsx("div",{className:"p-4 text-white",style:{backgroundColor:x.primaryColor},children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center mr-3",children:a.jsx("span",{className:"text-sm",children:""})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:e.name}),a.jsx("p",{className:"text-sm opacity-90",children:"AI Assistant"})]})]})}),a.jsxs("div",{className:`p-4 flex-1 ${x.theme==="dark"?"bg-gray-800 text-white":"bg-white"}`,children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"bg-gray-100 rounded-lg p-3 max-w-xs",children:a.jsx("p",{className:"text-sm",children:x.welcomeMessage||`Hello! I'm ${e.name}. How can I help you today?`})}),a.jsx("div",{className:"flex justify-end",children:a.jsx("div",{className:"bg-blue-500 text-white rounded-lg p-3 max-w-xs",children:a.jsx("p",{className:"text-sm",children:"Hello! Can you help me?"})})})]}),a.jsx("div",{className:"mt-4 pt-4 border-t",children:a.jsx("input",{type:"text",placeholder:x.placeholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",disabled:!0})})]})]})})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Generated Embed Code"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>A(n,"html"),className:"inline-flex items-center px-3 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx(H5,{className:"w-4 h-4 mr-2"}),f==="html"?"Copied!":"Copy HTML"]}),a.jsxs("button",{onClick:R,className:"inline-flex items-center px-3 py-2 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:[a.jsx(Ux,{className:"w-4 h-4 mr-2"}),"Test Widget"]})]})]}),a.jsx("textarea",{value:n,readOnly:!0,className:"w-full h-40 px-3 py-2 border border-gray-300 rounded-md bg-gray-50 font-mono text-sm focus:outline-none",placeholder:"Embed code will appear here..."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h5",{className:"font-medium text-gray-900",children:"React Component"}),a.jsx("button",{onClick:()=>A(b(),"react"),className:"text-sm text-blue-600 hover:text-blue-700",children:f==="react"?"Copied!":"Copy"})]}),a.jsx("textarea",{value:b(),readOnly:!0,className:"w-full h-32 px-3 py-2 border border-gray-300 rounded-md bg-gray-50 font-mono text-xs"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h5",{className:"font-medium text-gray-900",children:"WordPress Shortcode"}),a.jsx("button",{onClick:()=>A(M(),"wordpress"),className:"text-sm text-blue-600 hover:text-blue-700",children:f==="wordpress"?"Copied!":"Copy"})]}),a.jsx("textarea",{value:M(),readOnly:!0,className:"w-full h-32 px-3 py-2 border border-gray-300 rounded-md bg-gray-50 font-mono text-xs"})]})]})]}),l==="instructions"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[a.jsx(Kf,{className:"w-5 h-5 text-green-500 mr-2"}),"Quick Start Guide"]}),a.jsx("div",{className:"bg-green-50 rounded-lg p-6",children:a.jsxs("ol",{className:"space-y-3 text-sm",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-green-600 text-white rounded-full flex items-center justify-center text-xs mr-3 mt-0.5",children:"1"}),a.jsxs("div",{children:[a.jsx("strong",{children:"Copy the embed code"})," from the Generator tab above"]})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-green-600 text-white rounded-full flex items-center justify-center text-xs mr-3 mt-0.5",children:"2"}),a.jsxs("div",{children:[a.jsx("strong",{children:"Paste it into your website's HTML"})," where you want the chat widget to appear"]})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-green-600 text-white rounded-full flex items-center justify-center text-xs mr-3 mt-0.5",children:"3"}),a.jsxs("div",{children:[a.jsx("strong",{children:"Save and publish"})," your page - the widget will automatically load and connect to your agent"]})]})]})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Platform-Specific Instructions"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(K5,{className:"w-6 h-6 text-blue-600 mr-2"}),a.jsx("h5",{className:"font-medium",children:"WordPress"})]}),a.jsxs("ol",{className:"text-sm space-y-2 text-gray-600",children:[a.jsx("li",{children:"1. Go to your WordPress admin panel"}),a.jsx("li",{children:"2. Edit the page/post where you want the widget"}),a.jsx("li",{children:'3. Switch to "Text" or "HTML" mode'}),a.jsx("li",{children:"4. Paste the embed code"}),a.jsx("li",{children:"5. Update/publish the page"})]})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(F5,{className:"w-6 h-6 text-green-600 mr-2"}),a.jsx("h5",{className:"font-medium",children:"Shopify"})]}),a.jsxs("ol",{className:"text-sm space-y-2 text-gray-600",children:[a.jsx("li",{children:"1. Go to Online Store  Themes"}),a.jsx("li",{children:'2. Click "Actions"  "Edit code"'}),a.jsx("li",{children:"3. Find your theme.liquid file"}),a.jsx("li",{children:"4. Paste the code before </body>"}),a.jsx("li",{children:"5. Save the file"})]})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(z5,{className:"w-6 h-6 text-purple-600 mr-2"}),a.jsx("h5",{className:"font-medium",children:"Squarespace"})]}),a.jsxs("ol",{className:"text-sm space-y-2 text-gray-600",children:[a.jsx("li",{children:"1. Go to Settings  Advanced  Code Injection"}),a.jsx("li",{children:'2. Paste the code in "Footer"'}),a.jsx("li",{children:"3. Or use a Code Block on specific pages"}),a.jsx("li",{children:"4. Save and publish"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Advanced Configuration"}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[a.jsx("h5",{className:"font-medium text-blue-900 mb-3",children:"Customization Options"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("h6",{className:"font-medium text-blue-800 mb-2",children:"Position Options"}),a.jsxs("ul",{className:"space-y-1 text-blue-700",children:[a.jsxs("li",{children:[" ",a.jsx("code",{children:"inline"})," - Embedded in page content"]}),a.jsxs("li",{children:[" ",a.jsx("code",{children:"bottom-right"})," - Floating bottom right"]}),a.jsxs("li",{children:[" ",a.jsx("code",{children:"bottom-left"})," - Floating bottom left"]}),a.jsxs("li",{children:[" ",a.jsx("code",{children:"top-right"})," - Floating top right"]}),a.jsxs("li",{children:[" ",a.jsx("code",{children:"top-left"})," - Floating top left"]})]})]}),a.jsxs("div",{children:[a.jsx("h6",{className:"font-medium text-blue-800 mb-2",children:"Theme Options"}),a.jsxs("ul",{className:"space-y-1 text-blue-700",children:[a.jsxs("li",{children:[" ",a.jsx("code",{children:"light"})," - Light theme"]}),a.jsxs("li",{children:[" ",a.jsx("code",{children:"dark"})," - Dark theme"]}),a.jsxs("li",{children:[" ",a.jsx("code",{children:"auto"})," - Matches system preference"]})]})]})]})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[a.jsx(jc,{className:"w-5 h-5 text-yellow-500 mr-2"}),"Troubleshooting"]}),a.jsx("div",{className:"bg-yellow-50 rounded-lg p-6",children:a.jsxs("div",{className:"space-y-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("h6",{className:"font-medium text-yellow-800 mb-1",children:"Widget not appearing?"}),a.jsx("p",{className:"text-yellow-700",children:"Check that the container div ID matches the agent ID in the script."})]}),a.jsxs("div",{children:[a.jsx("h6",{className:"font-medium text-yellow-800 mb-1",children:"Widget not loading?"}),a.jsx("p",{className:"text-yellow-700",children:"Ensure your website allows iframe content and check browser console for errors."})]}),a.jsxs("div",{children:[a.jsx("h6",{className:"font-medium text-yellow-800 mb-1",children:"Styling issues?"}),a.jsx("p",{className:"text-yellow-700",children:"The widget uses iframe isolation, so your site's CSS won't affect it. Customize using the options above."})]})]})})]})]}),l==="testing"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Test Your Widget"}),a.jsxs("div",{className:"flex space-x-4 mb-6",children:[a.jsx("button",{onClick:()=>_("preview"),className:`px-4 py-2 rounded-md text-sm font-medium ${g==="preview"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Preview Mode"}),a.jsx("button",{onClick:()=>_("live"),className:`px-4 py-2 rounded-md text-sm font-medium ${g==="live"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Live Test"})]})]}),g==="preview"&&a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Widget Preview"}),a.jsx("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:a.jsx("div",{className:"mx-auto",style:{width:x.width,maxWidth:"100%"},children:a.jsx("iframe",{src:`/embed?agent=${encodeURIComponent(e.id)}&theme=${x.theme}&color=${encodeURIComponent(x.primaryColor)}`,width:"100%",height:x.height,style:{border:"none",borderRadius:x.borderRadius,boxShadow:"0 4px 20px rgba(0,0,0,0.15)"},title:`${e.name} - AI Assistant Preview`})})})]}),g==="live"&&a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Live Testing"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:R,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:[a.jsx(Yf,{className:"w-4 h-4 mr-2"}),"Open Widget in New Window"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"This will open your widget in a new window so you can test the full functionality, including chat interactions and responsiveness."})]})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Testing Checklist"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-start",children:[a.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),a.jsx("span",{className:"text-sm",children:"Widget loads correctly"})]}),a.jsxs("label",{className:"flex items-start",children:[a.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),a.jsx("span",{className:"text-sm",children:"Chat interface is responsive"})]}),a.jsxs("label",{className:"flex items-start",children:[a.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),a.jsx("span",{className:"text-sm",children:"Messages send and receive properly"})]}),a.jsxs("label",{className:"flex items-start",children:[a.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),a.jsx("span",{className:"text-sm",children:"Styling matches your preferences"})]}),a.jsxs("label",{className:"flex items-start",children:[a.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),a.jsx("span",{className:"text-sm",children:"Widget works on mobile devices"})]}),a.jsxs("label",{className:"flex items-start",children:[a.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),a.jsx("span",{className:"text-sm",children:"Minimize/maximize functionality works (if enabled)"})]})]})})]})]})]})]}):a.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[a.jsx(B5,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Embed Widget Generator"}),a.jsx("p",{className:"text-gray-500",children:"Select an agent to generate embed code and integration instructions"})]})},m_=({sessionToken:e,selectedAgent:r})=>{const[n,i]=Y.useState({overview:{totalMessages:0,totalConversations:0,averageResponseTime:0,successRate:0,totalTokensUsed:0},agentPerformance:[],usageHistory:[],userBalance:null}),[l,d]=Y.useState(!0),[f,u]=Y.useState("7d"),[g,_]=Y.useState("messages"),[x,v]=Y.useState(null);Y.useEffect(()=>{(async()=>{var M,R,$;if(e)try{d(!0),v(null);const G=await vt.getComprehensiveAnalytics();console.log("Analytics data loaded:",G),console.log("Data structure check:",{hasOverview:!!G.overview,overviewKeys:G.overview?Object.keys(G.overview):[],totalMessages:(M=G.overview)==null?void 0:M.totalMessages,totalConversations:(R=G.overview)==null?void 0:R.totalConversations,averageResponseTime:($=G.overview)==null?void 0:$.averageResponseTime}),i(G)}catch(G){console.error("Error loading analytics data:",G),v("Failed to load analytics data. Please try again."),i({overview:{totalMessages:0,totalConversations:0,averageResponseTime:0,successRate:0,totalTokensUsed:0},agentPerformance:[],usageHistory:[],userBalance:null})}finally{d(!1)}})()},[e]);const k=[{name:"Total Messages",value:n.overview.totalMessages.toLocaleString(),change:n.overview.totalMessages>0?"+12.5%":"0%",changeType:n.overview.totalMessages>0?"increase":"neutral",icon:Li,color:"text-blue-600",bgColor:"bg-blue-50"},{name:"Total Conversations",value:n.overview.totalConversations.toLocaleString(),change:n.overview.totalConversations>0?"+8.3%":"0%",changeType:n.overview.totalConversations>0?"increase":"neutral",icon:Ng,color:"text-green-600",bgColor:"bg-green-50"},{name:"Avg Response Time",value:`${n.overview.averageResponseTime.toFixed(1)}s`,change:n.overview.averageResponseTime>0?"-15.2%":"0%",changeType:n.overview.averageResponseTime>0?"decrease":"neutral",icon:T5,color:"text-purple-600",bgColor:"bg-purple-50"},{name:"Success Rate",value:`${n.overview.successRate.toFixed(1)}%`,change:n.overview.successRate>95?"+2.1%":"0%",changeType:n.overview.successRate>95?"increase":"neutral",icon:Lf,color:"text-orange-600",bgColor:"bg-orange-50"}],A=[{value:"7d",label:"7 Days"},{value:"30d",label:"30 Days"},{value:"90d",label:"90 Days"},{value:"1y",label:"1 Year"}];return l?a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded-md w-1/4 mb-6"}),a.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((b,M)=>a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),a.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"})]},M))})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Analytics"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comprehensive insights into your AI agent performance and usage patterns."})]}),a.jsx("div",{className:"mt-4 flex space-x-3 md:ml-4 md:mt-0",children:a.jsx("select",{value:f,onChange:b=>u(b.target.value),className:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:A.map(b=>a.jsx("option",{value:b.value,children:b.label},b.value))})})]}),x&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(jc,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-red-800",children:x})})]})}),a.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:k.map(b=>a.jsx("div",{className:"bg-white px-4 py-6 shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex-shrink-0 ${b.bgColor} p-3 rounded-lg`,children:a.jsx(b.icon,{className:`h-6 w-6 ${b.color}`})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:b.name}),a.jsxs("dd",{className:"flex items-baseline",children:[a.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:b.value}),b.changeType!=="neutral"&&a.jsxs("div",{className:`ml-2 flex items-baseline text-sm font-semibold ${b.changeType==="increase"?"text-green-600":"text-red-600"}`,children:[b.changeType==="increase"?a.jsx(N5,{className:"h-4 w-4 flex-shrink-0"}):a.jsx(x5,{className:"h-4 w-4 flex-shrink-0"}),a.jsxs("span",{className:"sr-only",children:[b.changeType==="increase"?"Increased":"Decreased"," by"]}),b.change]})]})]})})]})},b.name))}),n.userBalance&&a.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Account Balance"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 bg-green-50 p-3 rounded-lg",children:a.jsx(I5,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Current Balance"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",n.userBalance.balance.toFixed(2)]})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 bg-blue-50 p-3 rounded-lg",children:a.jsx(Ec,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Current Tier"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:n.userBalance.currentTier})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 bg-purple-50 p-3 rounded-lg",children:a.jsx(Li,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Monthly Usage"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:n.userBalance.monthlyUsage.toLocaleString()})]})]})]})]})}),a.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Agent Performance"}),n.agentPerformance.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Messages"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Conversations"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tokens Used"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Response Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Satisfaction"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.agentPerformance.map(b=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.agentName}),a.jsx("div",{className:"text-sm text-gray-500",children:b.agentId})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${b.status==="Active"?"bg-green-100 text-green-800":b.status==="Inactive"?"bg-gray-100 text-gray-800":b.status==="Suspended"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:b.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.messages.toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.conversations.toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.tokensUsed.toLocaleString()}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[b.avgResponseTime.toFixed(1),"s"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(_g,{className:"h-4 w-4 text-yellow-400 mr-1"}),a.jsx("span",{className:"text-sm text-gray-900",children:b.satisfaction.toFixed(1)})]})})]},b.agentId))})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Lf,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No performance data available"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start using your agents to see performance metrics."})]})]})}),a.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Usage History"}),n.usageHistory.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Operation"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tokens"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.usageHistory.slice(0,10).map(b=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(b.timestamp).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.agentId}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.operation}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.tokens.toLocaleString()}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",b.cost.toFixed(4)]})]},b.id))})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Li,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No usage history available"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Usage data will appear here as you interact with your agents."})]})]})}),a.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Key Insights"}),n.overview.totalMessages>0||n.agentPerformance.length>0?a.jsxs("div",{className:"space-y-4",children:[n.overview.totalMessages>0&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(v5,{className:"h-5 w-5 text-green-500"})}),a.jsx("div",{className:"ml-3",children:a.jsxs("p",{className:"text-sm text-gray-900",children:[a.jsxs("strong",{children:["Total of ",n.overview.totalMessages.toLocaleString()," messages processed"]})," across all your agents. Your AI assistants are actively helping users with their queries."]})})]}),n.overview.totalConversations>0&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Ng,{className:"h-5 w-5 text-blue-500"})}),a.jsx("div",{className:"ml-3",children:a.jsxs("p",{className:"text-sm text-gray-900",children:[a.jsxs("strong",{children:[n.overview.totalConversations.toLocaleString()," conversations initiated"]})," with your agents. Users are engaging meaningfully with your AI assistants."]})})]}),n.overview.totalTokensUsed>0&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Ec,{className:"h-5 w-5 text-purple-500"})}),a.jsx("div",{className:"ml-3",children:a.jsxs("p",{className:"text-sm text-gray-900",children:[a.jsxs("strong",{children:[n.overview.totalTokensUsed.toLocaleString()," tokens consumed"]})," for AI processing. This represents the computational resources used by your agents."]})})]}),n.agentPerformance.length>0&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(_g,{className:"h-5 w-5 text-yellow-500"})}),a.jsx("div",{className:"ml-3",children:a.jsxs("p",{className:"text-sm text-gray-900",children:[a.jsxs("strong",{children:[n.agentPerformance.length," active agents"]})," in your system. Consider optimizing high-performing agents and improving underperforming ones."]})})]})]}):a.jsxs("div",{className:"text-center py-6",children:[a.jsx(jc,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No data available"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start using your agents to generate analytics insights."})]})]})})]})};var g_={};const y_=({sessionToken:e,selectedAgent:r,onSelectAgent:n,onNavigate:i,identity:l,onLogout:d,activeView:f="dashboard"})=>{const[u,g]=Y.useState({totalAgents:0,activeAgents:0,totalConversations:0,totalMessages:0,monthlyGrowth:{agents:0,conversations:0,messages:0}}),[_,x]=Y.useState([]),[v,k]=Y.useState(!0),[A,b]=Y.useState({agentManager:"Unknown",llmProcessor:"Unknown",contextManager:"Unknown",productionAPIs:"Unknown"}),[M,R]=Y.useState(null),[$,G]=Y.useState(""),[J]=Y.useState(3),ce=oe=>{G(oe),console.log("Search query:",oe)},O=()=>{d&&d()},te=()=>{switch(f){case"dashboard":return a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"mb-10",children:a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent mb-3",children:"Welcome Back!"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Here's what's happening with your AI agents today."})]}),a.jsx("div",{className:"hidden md:flex items-center space-x-4",children:a.jsxs("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg rounded-2xl px-6 py-3 border border-white/20 dark:border-gray-700/50",children:[a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Current Time"}),a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})})]})}),M&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Connection Issue"}),a.jsx("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:a.jsx("p",{children:M})})]})]})}),a.jsx(e_,{metrics:u,systemStatus:A}),a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-5 gap-8",children:[a.jsx("div",{className:"xl:col-span-3",children:a.jsx(t_,{onNavigate:i,selectedAgent:r})}),a.jsx("div",{className:"xl:col-span-2",children:a.jsx(r_,{agents:_,onSelectAgent:n,onNavigate:i})})]})]});case"agents":return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"My Agents"})}),a.jsx(f_,{onSelectAgent:n,selectedAgent:r,sessionToken:e})]});case"create":return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Create Agent"})}),a.jsx(u_,{sessionToken:e,onAgentCreated:oe=>{n(oe),i("agents")}})]});case"chat":return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Chat"})}),r?a.jsx(t1,{agent:r,sessionToken:e}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-lg mb-2",children:"No Agent Selected"}),a.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Please select an agent to start chatting."})]})]});case"analytics":return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Analytics"})}),a.jsx(m_,{sessionToken:e,selectedAgent:r})]});case"embed":return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Embed Widget"})}),r?a.jsx(p_,{agent:r,canisterId:g_.REACT_APP_AGENT_MANAGER_CANISTER_ID||"bkyz2-fmaaa-aaaaa-qaaaq-cai"}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-lg mb-2",children:"No Agent Selected"}),a.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Please select an agent to generate embed code."})]})]});case"profile":return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Profile"})}),a.jsx(h_,{sessionToken:e,identity:l})]});case"billing":return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Billing & Payments"})}),a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-lg mb-2",children:"Coming Soon"}),a.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Billing and payment management features will be available soon."})]})]});default:return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-lg mb-2",children:"View Not Found"}),a.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"The requested view could not be found."})]})}};return Y.useEffect(()=>{(async()=>{if(!e){console.log("No session token, skipping dashboard data fetch");return}k(!0),R(null);try{const z=await vt.testCanisterAccess();console.log("Canister access test:",z);const W=await vt.getUserAgents();console.log("Fetched agents:",W);const H=W.filter(ie=>"Active"in ie.status).length;let ue=0,ge=0;for(const ie of W)ie.analytics&&(ue+=ie.analytics.totalConversations,ge+=ie.analytics.totalMessages);const j={agents:Math.max(0,Math.floor(W.length*.1)),conversations:Math.max(0,Math.floor(ue*.15)),messages:Math.max(0,Math.floor(ge*.12))},I={totalAgents:W.length,activeAgents:H,totalConversations:ue,totalMessages:ge,monthlyGrowth:j},q=await vt.getSystemStatus();console.log("System status data:",q);const fe=W.sort((ie,Ne)=>Number(Ne.created)-Number(ie.created)).slice(0,5);g(I),x(fe),b(q),R(null)}catch(z){console.error("Error fetching dashboard data:",z),R("Failed to load dashboard data. Please check your connection and try again."),g({totalAgents:0,activeAgents:0,totalConversations:0,totalMessages:0,monthlyGrowth:{agents:0,conversations:0,messages:0}}),b({agentManager:"Error",llmProcessor:"Error",contextManager:"Error",productionAPIs:"Error"})}finally{k(!1)}})()},[e]),v?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-purple-900/10 flex w-full",children:[a.jsx(jf,{onNavigate:i,activeView:f,selectedAgent:r}),a.jsxs("div",{className:"flex-1 flex flex-col ml-64",children:[a.jsx(Ef,{identity:l,sessionToken:e,onLogout:O,searchQuery:$,onSearchChange:ce,notifications:J}),a.jsx("main",{className:"flex-1 p-8",children:a.jsxs("div",{className:"flex items-center justify-center h-64",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading dashboard..."})]})})]})]}):e?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-purple-900/10 flex w-full",children:[a.jsx(jf,{onNavigate:i,activeView:f,selectedAgent:r}),a.jsxs("div",{className:"flex-1 flex flex-col ml-64",children:[a.jsx(Ef,{identity:l,sessionToken:e,onLogout:O,searchQuery:$,onSearchChange:ce,notifications:J}),a.jsx("main",{className:"flex-1 p-8",children:te()})]})]}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-purple-900/10 flex w-full",children:[a.jsx(jf,{onNavigate:i,activeView:f,selectedAgent:r}),a.jsxs("div",{className:"flex-1 flex flex-col ml-64",children:[a.jsx(Ef,{identity:l,sessionToken:e,onLogout:O,searchQuery:$,onSearchChange:ce,notifications:J}),a.jsx("main",{className:"flex-1 p-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-lg mb-2",children:"Authentication Required"}),a.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Please log in with Internet Identity to access the dashboard."})]})})})]})]})},x_=({isMenuOpen:e,setIsMenuOpen:r,handleLogin:n})=>a.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 backdrop-blur-md bg-white/70 dark:bg-black/70 border-b border-white/20 dark:border-white/10",children:a.jsxs("div",{className:"container mx-auto px-4 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:a.jsx(fo,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"NeoChat"})]}),a.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[a.jsx("a",{href:"#features",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Features"}),a.jsx("a",{href:"#how-it-works",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"How it Works"}),a.jsx("a",{href:"#pricing",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Pricing"}),a.jsx(Xf,{}),a.jsx(yr,{onClick:n,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg backdrop-blur-sm",children:"Launch App"})]}),a.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[a.jsx(Xf,{}),a.jsx(yr,{variant:"ghost",size:"icon",className:"backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10",onClick:()=>r(!e),children:e?a.jsx(o4,{className:"w-6 h-6"}):a.jsx(UN,{className:"w-6 h-6"})})]})]}),e&&a.jsx("div",{className:"md:hidden mt-4 pb-4 border-t border-white/20 dark:border-white/10 pt-4 backdrop-blur-md bg-white/50 dark:bg-black/50 rounded-lg",children:a.jsxs("nav",{className:"flex flex-col space-y-4",children:[a.jsx("a",{href:"#features",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Features"}),a.jsx("a",{href:"#how-it-works",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"How it Works"}),a.jsx("a",{href:"#pricing",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Pricing"}),a.jsx(yr,{onClick:n,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 w-full shadow-lg",children:"Launch App"})]})})]})}),w_=({handleLogin:e})=>a.jsxs("section",{className:"pt-32 pb-20 bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 rounded-full bg-gradient-to-br from-blue-400/30 to-purple-400/30 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 rounded-full bg-gradient-to-br from-purple-400/30 to-pink-400/30 blur-3xl"})]}),a.jsx("div",{className:"container mx-auto px-4 relative z-10",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsxs("div",{className:"flex items-center space-x-2 backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10 px-4 py-2 rounded-full shadow-lg",children:[a.jsx(Df,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),a.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:"Powered by Internet Computer Protocol"})]})}),a.jsxs("h1",{className:"text-5xl md:text-6xl font-bold mb-6 leading-tight text-gray-900 dark:text-white",children:["Deploy"," ",a.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"AI Agents"}),a.jsx("br",{}),"On-Chain"]}),a.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-8 max-w-2xl mx-auto",children:"Create, customize, and deploy intelligent AI support agents directly on the blockchain. No servers, no middlemen, just pure decentralized AI power."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[a.jsxs(yr,{onClick:e,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-lg px-8 py-6 shadow-xl backdrop-blur-sm",children:["Create Your Agent",a.jsx(x0,{className:"w-5 h-5 ml-2"})]}),a.jsx(yr,{variant:"outline",className:"text-lg px-8 py-6 backdrop-blur-md bg-white/10 dark:bg-black/10 border-white/30 dark:border-white/20 hover:bg-white/20 dark:hover:bg-white/10 shadow-lg",children:"Watch Demo"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-16",children:[a.jsxs("div",{className:"flex flex-col items-center text-center p-6 rounded-xl backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center mb-4 shadow-lg",children:a.jsx(QN,{className:"w-6 h-6 text-white"})}),a.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:"Fully Decentralized"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"No centralized servers or APIs. Your AI agents run entirely on-chain."})]}),a.jsxs("div",{className:"flex flex-col items-center text-center p-6 rounded-xl backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center mb-4 shadow-lg",children:a.jsx(Wx,{className:"w-6 h-6 text-white"})}),a.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:"Lightning Fast"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Powered by ICP's high-performance canisters for instant responses."})]}),a.jsxs("div",{className:"flex flex-col items-center text-center p-6 rounded-xl backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center mb-4 shadow-lg",children:a.jsx(Df,{className:"w-6 h-6 text-white"})}),a.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:"Easy Integration"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Embed anywhere with our simple SDK and customizable widgets."})]})]})]})})]}),v_=()=>{const e=[{icon:fo,title:"AI Agent Builder",description:"Create custom AI agents with unique personalities, knowledge bases, and conversation styles using our intuitive wizard.",gradient:"from-blue-500 to-blue-600"},{icon:EN,title:"On-Chain Storage",description:"All agent configurations and conversation logs stored securely on ICP canisters with full encryption.",gradient:"from-purple-500 to-purple-600"},{icon:zx,title:"Easy Embedding",description:"Deploy your AI agents anywhere with our JavaScript SDK and customizable web components.",gradient:"from-green-500 to-green-600"},{icon:RN,title:"Internet Identity",description:"Secure authentication and agent ownership through ICP's decentralized identity system.",gradient:"from-red-500 to-red-600"},{icon:CN,title:"Chain Fusion",description:"Connect to external data sources and other blockchains using HTTPS outcalls and EVM RPC integration.",gradient:"from-yellow-500 to-yellow-600"},{icon:Hx,title:"Usage Analytics",description:"Track performance metrics, usage patterns, and optimize your AI agents with detailed analytics.",gradient:"from-indigo-500 to-indigo-600"}];return a.jsxs("section",{id:"features",className:"py-20 bg-white dark:bg-gray-900 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute top-20 right-20 w-64 h-64 rounded-full bg-gradient-to-br from-blue-400/20 to-purple-400/20 blur-3xl"}),a.jsx("div",{className:"absolute bottom-20 left-20 w-64 h-64 rounded-full bg-gradient-to-br from-purple-400/20 to-pink-400/20 blur-3xl"})]}),a.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("h2",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-white",children:["Powerful Features for"," ",a.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Decentralized AI"})]}),a.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Everything you need to create, deploy, and manage intelligent AI agents on the blockchain."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((r,n)=>a.jsx(ws,{className:"backdrop-blur-md bg-white/50 dark:bg-black/30 border border-white/30 dark:border-white/10 hover:bg-white/60 dark:hover:bg-black/40 hover:shadow-xl transition-all duration-300 group",children:a.jsxs(vs,{className:"p-6",children:[a.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${r.gradient} rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg`,children:a.jsx(r.icon,{className:"w-6 h-6 text-white"})}),a.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-900 dark:text-white",children:r.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:r.description})]})},n))})]})]})},b_=()=>{const e=[{icon:qN,title:"Design Your Agent",description:"Use our intuitive wizard to define your AI agent's personality, knowledge base, and conversation style.",color:"blue"},{icon:Vx,title:"Configure & Train",description:"Fine-tune your agent's responses, upload training data, and connect to external knowledge sources.",color:"purple"},{icon:LN,title:"Deploy On-Chain",description:"Launch your AI agent on ICP canisters and embed it anywhere with our simple integration code.",color:"green"}];return a.jsxs("section",{id:"how-it-works",className:"py-20 bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-800 dark:to-blue-900 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute top-32 left-32 w-48 h-48 rounded-full bg-gradient-to-br from-blue-400/30 to-purple-400/30 blur-3xl"}),a.jsx("div",{className:"absolute bottom-32 right-32 w-48 h-48 rounded-full bg-gradient-to-br from-purple-400/30 to-pink-400/30 blur-3xl"})]}),a.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-white",children:"How It Works"}),a.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Create and deploy your AI agent in three simple steps"})]}),a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 relative",children:e.map((r,n)=>a.jsxs("div",{className:"relative",children:[a.jsx(ws,{className:"backdrop-blur-md bg-white/60 dark:bg-black/40 border border-white/30 dark:border-white/10 hover:shadow-xl transition-all duration-300 hover:bg-white/70 dark:hover:bg-black/50",children:a.jsxs(vs,{className:"p-8 text-center",children:[a.jsx("div",{className:`w-16 h-16 mx-auto mb-6 rounded-full flex items-center justify-center shadow-lg
                      ${r.color==="blue"?"bg-gradient-to-br from-blue-500 to-blue-600":""}
                      ${r.color==="purple"?"bg-gradient-to-br from-purple-500 to-purple-600":""}
                      ${r.color==="green"?"bg-gradient-to-br from-green-500 to-green-600":""}
                    `,children:a.jsx(r.icon,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{className:"text-lg font-bold mb-2 text-gray-800 dark:text-gray-200",children:["Step ",n+1]}),a.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:r.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:r.description})]})}),n<e.length-1&&a.jsx("div",{className:"hidden md:block absolute top-1/2 right-0 transform translate-x-1/2 -translate-y-1/2 z-10",children:a.jsx("div",{className:"w-8 h-8 rounded-full backdrop-blur-md bg-white/50 dark:bg-black/50 border border-white/30 dark:border-white/10 flex items-center justify-center shadow-lg",children:a.jsx(x0,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})})})]},n))})})]})]})},N_=Kx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Bg({className:e,variant:r,...n}){return a.jsx("div",{className:Fn(N_({variant:r}),e),...n})}const __=()=>{const e=[{name:"Community",price:"Free",period:"",description:"Perfect for trying out NeoChat and small personal projects.",features:["100 messages per month","Basic AI models","Community support","Public agent gallery","Basic customization"],limits:{messages:"100",agents:"3",storage:"100MB",support:"Community"},popular:!1,buttonText:"Get Started",buttonVariant:"outline"},{name:"Base",price:"$9.99",period:"/month",description:"Great for individuals and small teams getting started with AI chat.",features:["1,000 messages per month","Standard AI models","Email support","Private agents","Advanced customization"],limits:{messages:"1,000",agents:"10",storage:"1GB",support:"Email"},popular:!1,buttonText:"Upgrade to Base",buttonVariant:"default"},{name:"Pro",price:"$29.99",period:"/month",description:"Perfect for growing businesses and teams that need advanced features.",features:["5,000 messages per month","Premium AI models","Priority support","API access","Advanced analytics"],limits:{messages:"5,000",agents:"50",storage:"10GB",support:"Priority"},popular:!0,buttonText:"Upgrade to Pro",buttonVariant:"default"},{name:"Enterprise",price:"Custom",period:"",description:"Tailored solutions for large organizations with specific requirements.",features:["Unlimited messages","All AI models","Dedicated support","Custom features","SLA guarantees"],limits:{messages:"Unlimited",agents:"Unlimited",storage:"Unlimited",support:"Dedicated"},popular:!1,buttonText:"Contact Sales",buttonVariant:"outline"}];return a.jsx("section",{id:"pricing",className:"py-24 px-4 bg-white dark:bg-gray-900",children:a.jsxs("div",{className:"container mx-auto max-w-7xl",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-6",children:"Choose Your Plan"}),a.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:"Select the perfect plan for your needs. Upgrade or downgrade anytime."}),a.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-8",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Monthly"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(yr,{variant:"outline",size:"sm",className:"text-sm",children:"Yearly"}),a.jsx(Bg,{className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300",children:"Save 20%"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((r,n)=>a.jsxs(ws,{className:`relative bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-lg hover:shadow-xl transition-all duration-300 ${r.popular?"border-2 border-purple-500 dark:border-purple-400 scale-105":""}`,children:[r.popular&&a.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:a.jsx(Bg,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-3 py-1",children:"Most Popular"})}),a.jsxs(Kc,{className:"text-center pb-6",children:[a.jsx(Yc,{className:"text-xl font-bold text-gray-900 dark:text-white",children:r.name}),a.jsxs("div",{className:"mt-4",children:[a.jsx("span",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:r.price}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:r.period})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:r.description})]}),a.jsxs(vs,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Features"}),a.jsx("div",{className:"space-y-3",children:r.features.map((i,l)=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(wN,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:i})]},l))})]}),a.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Plan Limits"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Messages:"}),a.jsx("br",{}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:r.limits.messages})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Agents:"}),a.jsx("br",{}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:r.limits.agents})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Storage:"}),a.jsx("br",{}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:r.limits.storage})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Support:"}),a.jsx("br",{}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:r.limits.support})]})]})]}),a.jsx(yr,{variant:r.buttonVariant,className:`w-full mt-6 ${r.popular?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white":r.buttonVariant==="default"?"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white":""}`,children:r.buttonText})]})]},r.name))}),a.jsxs("div",{className:"mt-16 text-center",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-8",children:"Frequently Asked Questions"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-left",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Can I change my plan anytime?"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Yes, you can upgrade or downgrade your plan at any time. Changes will be prorated."})]}),a.jsxs("div",{className:"text-left",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"What happens if I exceed my message limit?"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"You'll be charged $0.02 per additional message. We'll notify you when approaching your limit."})]})]})]})]})})},E_=()=>a.jsxs("footer",{className:"bg-gray-900 dark:bg-black text-white py-16 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute top-10 right-10 w-32 h-32 rounded-full bg-gradient-to-br from-blue-400/20 to-purple-400/20 blur-2xl"}),a.jsx("div",{className:"absolute bottom-10 left-10 w-32 h-32 rounded-full bg-gradient-to-br from-purple-400/20 to-pink-400/20 blur-2xl"})]}),a.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"md:col-span-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:a.jsx(fo,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"text-xl font-bold",children:"NeoChat"})]}),a.jsx("p",{className:"text-gray-400 mb-4",children:"Deploy AI agents on the Internet Computer Protocol. Decentralized, secure, and powerful."}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("div",{className:"p-2 rounded-lg backdrop-blur-md bg-white/10 border border-white/20 hover:bg-white/20 cursor-pointer transition-all duration-300",children:a.jsx(AN,{className:"w-5 h-5 text-gray-400 hover:text-white transition-colors"})}),a.jsx("div",{className:"p-2 rounded-lg backdrop-blur-md bg-white/10 border border-white/20 hover:bg-white/20 cursor-pointer transition-all duration-300",children:a.jsx(n4,{className:"w-5 h-5 text-gray-400 hover:text-white transition-colors"})}),a.jsx("div",{className:"p-2 rounded-lg backdrop-blur-md bg-white/10 border border-white/20 hover:bg-white/20 cursor-pointer transition-all duration-300",children:a.jsx(IN,{className:"w-5 h-5 text-gray-400 hover:text-white transition-colors"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Product"}),a.jsxs("ul",{className:"space-y-2 text-gray-400",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Features"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Pricing"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Documentation"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"API Reference"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Company"}),a.jsxs("ul",{className:"space-y-2 text-gray-400",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"About"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Blog"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Careers"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Resources"}),a.jsxs("ul",{className:"space-y-2 text-gray-400",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Help Center"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Community"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Status"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"})})]})]})]}),a.jsx("div",{className:"border-t border-gray-800 dark:border-gray-700 mt-12 pt-8 text-center text-gray-400",children:a.jsx("p",{children:" 2024 NeoChat. All rights reserved. Built on Internet Computer Protocol."})})]})]}),j_=({handleLogin:e})=>{const[r,n]=Y.useState(!1);return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(x_,{isMenuOpen:r,setIsMenuOpen:n,handleLogin:e}),a.jsx(w_,{handleLogin:e}),a.jsx(v_,{}),a.jsx(b_,{}),a.jsx(__,{}),a.jsx(E_,{})]})};var Sf={};function k_(){console.log("Environment variables:",{REACT_APP_II_URL:Sf.REACT_APP_II_URL,REACT_APP_AGENT_MANAGER_CANISTER_ID:Sf.REACT_APP_AGENT_MANAGER_CANISTER_ID,REACT_APP_METRICS_COLLECTOR_CANISTER_ID:Sf.REACT_APP_METRICS_COLLECTOR_CANISTER_ID,DFX_NETWORK:"local"});const[e,r]=Y.useState("dashboard"),[n,i]=Y.useState(!1),[l,d]=Y.useState(null),[f,u]=Y.useState(null),[g,_]=Y.useState(null),[x,v]=Y.useState(null),[k,A]=Y.useState(!1),[b,M]=Y.useState(""),[R,$]=Y.useState(3);Y.useEffect(()=>{(async()=>{try{console.log("Initializing authentication...");const O=await g5.create();d(O),await new Promise(oe=>setTimeout(oe,100));const te=await O.isAuthenticated();if(console.log("AuthClient.isAuthenticated() returned:",te),te){const oe=O.getIdentity(),W=oe.getPrincipal().toText(),H=W==="2vxsx-fae";if(console.log("Identity principal:",W),console.log("Is anonymous:",H),H)console.log("Clearing anonymous authentication"),await O.logout(),i(!1),u(null),_(null),await vt.setIdentity(null);else{console.log("Setting authenticated state with real identity"),i(!0),u(oe),await vt.setIdentity(oe);const ue="session_"+W.replace(/[^a-zA-Z0-9]/g,"_");_(ue)}}else console.log("Not authenticated, setting unauthenticated state"),i(!1),u(null),_(null),await vt.setIdentity(null)}catch(O){console.error("Error initializing auth:",O),i(!1),u(null),_(null),await vt.setIdentity(null)}})()},[]);const G=async()=>{if(l)try{const ce="http://rdmx6-jaaaa-aaaaa-aaadq-cai.localhost:4943";console.log("Using Internet Identity URL:",ce),await l.login({identityProvider:ce,onSuccess:async()=>{i(!0);const O=l.getIdentity();u(O),await vt.setIdentity(O);const z="session_"+O.getPrincipal().toText().replace(/[^a-zA-Z0-9]/g,"_");_(z)}})}catch(ce){console.error("Login failed:",ce),i(!1)}},J=async()=>{l&&(await l.logout(),i(!1),u(null),_(null),v(null),r("dashboard"),await vt.setIdentity(null))};return n?a.jsx(y_,{sessionToken:g,selectedAgent:x,onSelectAgent:v,onNavigate:r,identity:f,onLogout:J,activeView:e}):a.jsx(j_,{handleLogin:G})}const S_=()=>{const[e,r]=Y.useState(null),[n,i]=Y.useState(!0),[l,d]=Y.useState(null),f=new URLSearchParams(window.location.search),u=f.get("agent"),g=f.get("theme")||"light",_=f.get("color")||"#4F46E5",x=f.get("welcome")||"";return f.get("placeholder"),Y.useEffect(()=>{(async()=>{if(!u){d("No agent ID provided"),i(!1);return}try{console.log("Waiting for canister service to initialize..."),await vt.waitForReady(),console.log("Canister service ready, loading agent:",u);const k=await vt.getAgentPublic(u),A={id:k.id,name:k.name,description:k.description,status:"Active"in k.status?"Active":"Inactive"in k.status?"Inactive":"Draft",created:new Date(Number(k.created)/1e6).toISOString(),lastUpdated:new Date().toISOString(),avatar:Array.isArray(k.config.appearance.avatar)&&k.config.appearance.avatar.length>0?k.config.appearance.avatar[0]:"default",config:{personality:{traits:k.config.personality.traits,tone:k.config.personality.tone,responseStyle:k.config.personality.style},knowledgeBase:{documents:k.config.knowledgeBase.map(b=>b.content),sources:[],context:k.config.knowledgeBase.map(b=>b.content).join(`
`)},behavior:{maxResponseLength:"Long"in k.config.behavior.responseLength?500:200,conversationMemory:!0,escalationRules:[]},appearance:{avatar:(Array.isArray(k.config.appearance.avatar)&&k.config.appearance.avatar.length>0?k.config.appearance.avatar[0]:"default")||"default",theme:g||k.config.appearance.primaryColor||"#3b82f6",welcomeMessage:x||`Hello! I'm ${k.name}. How can I help you today?`}}};console.log("Agent loaded successfully:",A),r(A)}catch(k){console.error("Failed to load agent:",k),k instanceof Error?d(`Failed to load agent: ${k.message}`):d("Failed to load agent. Please check the agent ID and try again."),console.log("Creating demo agent for testing...");const A={id:u||"demo",name:`Demo Agent (${u||"demo"})`,description:"This is a demo agent for testing embed widgets",status:"Active",created:new Date().toISOString(),lastUpdated:new Date().toISOString(),avatar:"default",config:{personality:{traits:["helpful","friendly","knowledgeable"],tone:"professional",responseStyle:"conversational"},knowledgeBase:{documents:["Demo knowledge base for testing"],sources:[],context:"This is a demo agent created for testing embed widgets when real agents are not available."},behavior:{maxResponseLength:300,conversationMemory:!0,escalationRules:[]},appearance:{avatar:"default",theme:g,welcomeMessage:x||`Hello! I'm ${u||"Demo Agent"}. This is a demo mode for testing embed widgets.`}}};r(A),d("Demo mode: Real agent not available. Showing demo functionality.")}finally{i(!1)}})()},[u,x]),Y.useEffect(()=>{const v=document.createElement("style");return v.textContent=`
      :root {
        --primary-color: ${_};
      }
      
      body {
        margin: 0;
        padding: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        overflow: hidden;
      }
      
      .embed-container {
        height: 100vh;
        display: flex;
        flex-direction: column;
        background: ${g==="dark"?"#1F2937":"#FFFFFF"};
      }
      
      .embed-header {
        background: var(--primary-color);
        color: white;
        padding: 12px 16px;
        display: flex;
        align-items: center;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        flex-shrink: 0;
      }
      
      .embed-avatar {
        width: 32px;
        height: 32px;
        background: rgba(255,255,255,0.2);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 12px;
        font-size: 14px;
      }
      
      .embed-info h3 {
        margin: 0;
        font-size: 14px;
        font-weight: 600;
      }
      
      .embed-info p {
        margin: 0;
        font-size: 12px;
        opacity: 0.9;
      }
      
      .embed-chat {
        flex: 1;
        overflow: hidden;
      }
      
      .embed-footer {
        padding: 8px 16px;
        text-align: center;
        border-top: 1px solid ${g==="dark"?"#374151":"#E5E7EB"};
        background: ${g==="dark"?"#111827":"#F9FAFB"};
        flex-shrink: 0;
      }
      
      .embed-footer p {
        margin: 0;
        font-size: 10px;
        color: ${g==="dark"?"#9CA3AF":"#6B7280"};
      }
      
      .embed-footer a {
        color: var(--primary-color);
        text-decoration: none;
        font-weight: 500;
      }
      
      .embed-footer a:hover {
        text-decoration: underline;
      }
      
      .embed-loading {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
        background: ${g==="dark"?"#1F2937":"#F9FAFB"};
        color: ${g==="dark"?"#E5E7EB":"#374151"};
      }
      
      .embed-error {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
        background: ${g==="dark"?"#1F2937":"#F9FAFB"};
        color: ${g==="dark"?"#E5E7EB":"#374151"};
        text-align: center;
        padding: 20px;
      }
      
      .spinner {
        animation: spin 1s linear infinite;
        width: 24px;
        height: 24px;
        border: 2px solid transparent;
        border-top: 2px solid var(--primary-color);
        border-radius: 50%;
        margin-right: 12px;
      }
      
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      
      .error-icon {
        width: 48px;
        height: 48px;
        margin-bottom: 16px;
        color: #EF4444;
      }
      
      @media (max-width: 768px) {
        .embed-header {
          padding: 8px 12px;
        }
        
        .embed-avatar {
          width: 28px;
          height: 28px;
          margin-right: 8px;
        }
        
        .embed-info h3 {
          font-size: 13px;
        }
        
        .embed-info p {
          font-size: 11px;
        }
        
        .embed-footer {
          padding: 6px 12px;
        }
      }
    `,document.head.appendChild(v),()=>{document.head.removeChild(v)}},[g,_]),n?a.jsxs("div",{className:"embed-loading",children:[a.jsx("div",{className:"spinner"}),a.jsx("span",{children:"Loading CanistChat..."})]}):l||!e?a.jsx("div",{className:"embed-error",children:a.jsxs("div",{children:[a.jsx("svg",{className:"error-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),a.jsx("h2",{style:{fontSize:"18px",fontWeight:"600",margin:"0 0 8px 0"},children:"Chat Unavailable"}),a.jsx("p",{style:{margin:"0",fontSize:"14px",opacity:"0.8"},children:l||"Agent not found"}),a.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"12px",opacity:"0.6"},children:"Please check the widget configuration and try again."})]})}):a.jsxs("div",{className:"embed-container",children:[n&&a.jsx("div",{className:"loading-state",children:a.jsxs("div",{className:"flex items-center justify-center h-64",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-3 text-gray-600",children:"Loading agent..."})]})}),l&&!e&&a.jsx("div",{className:"error-state",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Agent Not Available"}),a.jsx("p",{className:"text-gray-600 mb-4",children:l}),a.jsxs("div",{className:"text-sm text-gray-500",children:[a.jsx("p",{children:"Please check:"}),a.jsxs("ul",{className:"mt-2 text-left",children:[a.jsx("li",{children:" Agent ID is correct"}),a.jsx("li",{children:" Agent is active and accessible"}),a.jsx("li",{children:" Network connection is stable"})]})]})]})})}),e&&a.jsxs("div",{className:"embed-chat h-full flex flex-col",children:[l&&l.includes("Demo mode")&&a.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3 mb-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:a.jsxs("p",{className:"text-sm text-yellow-700",children:[a.jsx("strong",{children:"Demo Mode:"})," This widget is running in demonstration mode. Real agent functionality may not be available."]})})]})}),a.jsx("div",{className:"flex-1 min-h-0",children:a.jsx(t1,{agent:e,sessionToken:null})})]})]})},r1=document.getElementById("root");if(!r1)throw new Error("Root element not found");const A_=tv.createRoot(r1);A_.render(a.jsx(Rg.StrictMode,{children:a.jsx(D4,{children:a.jsx(qv,{children:a.jsxs(zv,{children:[a.jsx(Tf,{path:"/embed",element:a.jsx(S_,{})}),a.jsx(Tf,{path:"/*",element:a.jsx(k_,{})})]})})})}));
