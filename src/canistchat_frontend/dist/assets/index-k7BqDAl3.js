var F3=Object.defineProperty;var U3=(e,t,r)=>t in e?F3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var nn=(e,t,r)=>U3(e,typeof t!="symbol"?t+"":t,r);function $3(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in e)){const c=Object.getOwnPropertyDescriptor(i,a);c&&Object.defineProperty(e,a,c.get?c:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();var z3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uh={exports:{}},Ba={},dh={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dx;function V3(){if(dx)return nt;dx=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.iterator;function v(D){return D===null||typeof D!="object"?null:(D=p&&D[p]||D["@@iterator"],typeof D=="function"?D:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,k={};function j(D,me,Be){this.props=D,this.context=me,this.refs=k,this.updater=Be||E}j.prototype.isReactComponent={},j.prototype.setState=function(D,me){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,me,"setState")},j.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function R(){}R.prototype=j.prototype;function M(D,me,Be){this.props=D,this.context=me,this.refs=k,this.updater=Be||E}var U=M.prototype=new R;U.constructor=M,w(U,j.prototype),U.isPureReactComponent=!0;var G=Array.isArray,O=Object.prototype.hasOwnProperty,Q={current:null},X={key:!0,ref:!0,__self:!0,__source:!0};function $(D,me,Be){var H,Pe={},je=null,pe=null;if(me!=null)for(H in me.ref!==void 0&&(pe=me.ref),me.key!==void 0&&(je=""+me.key),me)O.call(me,H)&&!X.hasOwnProperty(H)&&(Pe[H]=me[H]);var he=arguments.length-2;if(he===1)Pe.children=Be;else if(1<he){for(var Ee=Array(he),F=0;F<he;F++)Ee[F]=arguments[F+2];Pe.children=Ee}if(D&&D.defaultProps)for(H in he=D.defaultProps,he)Pe[H]===void 0&&(Pe[H]=he[H]);return{$$typeof:e,type:D,key:je,ref:pe,props:Pe,_owner:Q.current}}function q(D,me){return{$$typeof:e,type:D.type,key:me,ref:D.ref,props:D.props,_owner:D._owner}}function W(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function ie(D){var me={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Be){return me[Be]})}var fe=/\/+/g;function A(D,me){return typeof D=="object"&&D!==null&&D.key!=null?ie(""+D.key):me.toString(36)}function V(D,me,Be,H,Pe){var je=typeof D;(je==="undefined"||je==="boolean")&&(D=null);var pe=!1;if(D===null)pe=!0;else switch(je){case"string":case"number":pe=!0;break;case"object":switch(D.$$typeof){case e:case t:pe=!0}}if(pe)return pe=D,Pe=Pe(pe),D=H===""?"."+A(pe,0):H,G(Pe)?(Be="",D!=null&&(Be=D.replace(fe,"$&/")+"/"),V(Pe,me,Be,"",function(F){return F})):Pe!=null&&(W(Pe)&&(Pe=q(Pe,Be+(!Pe.key||pe&&pe.key===Pe.key?"":(""+Pe.key).replace(fe,"$&/")+"/")+D)),me.push(Pe)),1;if(pe=0,H=H===""?".":H+":",G(D))for(var he=0;he<D.length;he++){je=D[he];var Ee=H+A(je,he);pe+=V(je,me,Be,Ee,Pe)}else if(Ee=v(D),typeof Ee=="function")for(D=Ee.call(D),he=0;!(je=D.next()).done;)je=je.value,Ee=H+A(je,he++),pe+=V(je,me,Be,Ee,Pe);else if(je==="object")throw me=String(D),Error("Objects are not valid as a React child (found: "+(me==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":me)+"). If you meant to render a collection of children, use an array instead.");return pe}function Z(D,me,Be){if(D==null)return D;var H=[],Pe=0;return V(D,H,"","",function(je){return me.call(Be,je,Pe++)}),H}function J(D){if(D._status===-1){var me=D._result;me=me(),me.then(function(Be){(D._status===0||D._status===-1)&&(D._status=1,D._result=Be)},function(Be){(D._status===0||D._status===-1)&&(D._status=2,D._result=Be)}),D._status===-1&&(D._status=0,D._result=me)}if(D._status===1)return D._result.default;throw D._result}var ce={current:null},te={transition:null},ye={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:te,ReactCurrentOwner:Q};function _e(){throw Error("act(...) is not supported in production builds of React.")}return nt.Children={map:Z,forEach:function(D,me,Be){Z(D,function(){me.apply(this,arguments)},Be)},count:function(D){var me=0;return Z(D,function(){me++}),me},toArray:function(D){return Z(D,function(me){return me})||[]},only:function(D){if(!W(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},nt.Component=j,nt.Fragment=r,nt.Profiler=a,nt.PureComponent=M,nt.StrictMode=i,nt.Suspense=h,nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,nt.act=_e,nt.cloneElement=function(D,me,Be){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var H=w({},D.props),Pe=D.key,je=D.ref,pe=D._owner;if(me!=null){if(me.ref!==void 0&&(je=me.ref,pe=Q.current),me.key!==void 0&&(Pe=""+me.key),D.type&&D.type.defaultProps)var he=D.type.defaultProps;for(Ee in me)O.call(me,Ee)&&!X.hasOwnProperty(Ee)&&(H[Ee]=me[Ee]===void 0&&he!==void 0?he[Ee]:me[Ee])}var Ee=arguments.length-2;if(Ee===1)H.children=Be;else if(1<Ee){he=Array(Ee);for(var F=0;F<Ee;F++)he[F]=arguments[F+2];H.children=he}return{$$typeof:e,type:D.type,key:Pe,ref:je,props:H,_owner:pe}},nt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:c,_context:D},D.Consumer=D},nt.createElement=$,nt.createFactory=function(D){var me=$.bind(null,D);return me.type=D,me},nt.createRef=function(){return{current:null}},nt.forwardRef=function(D){return{$$typeof:u,render:D}},nt.isValidElement=W,nt.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:J}},nt.memo=function(D,me){return{$$typeof:m,type:D,compare:me===void 0?null:me}},nt.startTransition=function(D){var me=te.transition;te.transition={};try{D()}finally{te.transition=me}},nt.unstable_act=_e,nt.useCallback=function(D,me){return ce.current.useCallback(D,me)},nt.useContext=function(D){return ce.current.useContext(D)},nt.useDebugValue=function(){},nt.useDeferredValue=function(D){return ce.current.useDeferredValue(D)},nt.useEffect=function(D,me){return ce.current.useEffect(D,me)},nt.useId=function(){return ce.current.useId()},nt.useImperativeHandle=function(D,me,Be){return ce.current.useImperativeHandle(D,me,Be)},nt.useInsertionEffect=function(D,me){return ce.current.useInsertionEffect(D,me)},nt.useLayoutEffect=function(D,me){return ce.current.useLayoutEffect(D,me)},nt.useMemo=function(D,me){return ce.current.useMemo(D,me)},nt.useReducer=function(D,me,Be){return ce.current.useReducer(D,me,Be)},nt.useRef=function(D){return ce.current.useRef(D)},nt.useState=function(D){return ce.current.useState(D)},nt.useSyncExternalStore=function(D,me,Be){return ce.current.useSyncExternalStore(D,me,Be)},nt.useTransition=function(){return ce.current.useTransition()},nt.version="18.3.1",nt}var fx;function X0(){return fx||(fx=1,dh.exports=V3()),dh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx;function H3(){if(hx)return Ba;hx=1;var e=X0(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(u,h,m){var g,p={},v=null,E=null;m!==void 0&&(v=""+m),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(E=h.ref);for(g in h)i.call(h,g)&&!c.hasOwnProperty(g)&&(p[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)p[g]===void 0&&(p[g]=h[g]);return{$$typeof:t,type:u,key:v,ref:E,props:p,_owner:a.current}}return Ba.Fragment=r,Ba.jsx=d,Ba.jsxs=d,Ba}var px;function L3(){return px||(px=1,uh.exports=H3()),uh.exports}var o=L3(),C=X0();const Zn=qu(C),Q0=$3({__proto__:null,default:Zn},[C]);var Ac={},fh={exports:{}},Er={},hh={exports:{}},ph={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mx;function W3(){return mx||(mx=1,function(e){function t(te,ye){var _e=te.length;te.push(ye);e:for(;0<_e;){var D=_e-1>>>1,me=te[D];if(0<a(me,ye))te[D]=ye,te[_e]=me,_e=D;else break e}}function r(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var ye=te[0],_e=te.pop();if(_e!==ye){te[0]=_e;e:for(var D=0,me=te.length,Be=me>>>1;D<Be;){var H=2*(D+1)-1,Pe=te[H],je=H+1,pe=te[je];if(0>a(Pe,_e))je<me&&0>a(pe,Pe)?(te[D]=pe,te[je]=_e,D=je):(te[D]=Pe,te[H]=_e,D=H);else if(je<me&&0>a(pe,_e))te[D]=pe,te[je]=_e,D=je;else break e}}return ye}function a(te,ye){var _e=te.sortIndex-ye.sortIndex;return _e!==0?_e:te.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,u=d.now();e.unstable_now=function(){return d.now()-u}}var h=[],m=[],g=1,p=null,v=3,E=!1,w=!1,k=!1,j=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(te){for(var ye=r(m);ye!==null;){if(ye.callback===null)i(m);else if(ye.startTime<=te)i(m),ye.sortIndex=ye.expirationTime,t(h,ye);else break;ye=r(m)}}function G(te){if(k=!1,U(te),!w)if(r(h)!==null)w=!0,J(O);else{var ye=r(m);ye!==null&&ce(G,ye.startTime-te)}}function O(te,ye){w=!1,k&&(k=!1,R($),$=-1),E=!0;var _e=v;try{for(U(ye),p=r(h);p!==null&&(!(p.expirationTime>ye)||te&&!ie());){var D=p.callback;if(typeof D=="function"){p.callback=null,v=p.priorityLevel;var me=D(p.expirationTime<=ye);ye=e.unstable_now(),typeof me=="function"?p.callback=me:p===r(h)&&i(h),U(ye)}else i(h);p=r(h)}if(p!==null)var Be=!0;else{var H=r(m);H!==null&&ce(G,H.startTime-ye),Be=!1}return Be}finally{p=null,v=_e,E=!1}}var Q=!1,X=null,$=-1,q=5,W=-1;function ie(){return!(e.unstable_now()-W<q)}function fe(){if(X!==null){var te=e.unstable_now();W=te;var ye=!0;try{ye=X(!0,te)}finally{ye?A():(Q=!1,X=null)}}else Q=!1}var A;if(typeof M=="function")A=function(){M(fe)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Z=V.port2;V.port1.onmessage=fe,A=function(){Z.postMessage(null)}}else A=function(){j(fe,0)};function J(te){X=te,Q||(Q=!0,A())}function ce(te,ye){$=j(function(){te(e.unstable_now())},ye)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){w||E||(w=!0,J(O))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(h)},e.unstable_next=function(te){switch(v){case 1:case 2:case 3:var ye=3;break;default:ye=v}var _e=v;v=ye;try{return te()}finally{v=_e}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,ye){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var _e=v;v=te;try{return ye()}finally{v=_e}},e.unstable_scheduleCallback=function(te,ye,_e){var D=e.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?D+_e:D):_e=D,te){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=_e+me,te={id:g++,callback:ye,priorityLevel:te,startTime:_e,expirationTime:me,sortIndex:-1},_e>D?(te.sortIndex=_e,t(m,te),r(h)===null&&te===r(m)&&(k?(R($),$=-1):k=!0,ce(G,_e-D))):(te.sortIndex=me,t(h,te),w||E||(w=!0,J(O))),te},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(te){var ye=v;return function(){var _e=v;v=ye;try{return te.apply(this,arguments)}finally{v=_e}}}}(ph)),ph}var gx;function q3(){return gx||(gx=1,hh.exports=W3()),hh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xx;function G3(){if(xx)return Er;xx=1;var e=X0(),t=q3();function r(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function c(n,s){d(n,s),d(n+"Capture",s)}function d(n,s){for(a[n]=s,n=0;n<s.length;n++)i.add(s[n])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},p={};function v(n){return h.call(p,n)?!0:h.call(g,n)?!1:m.test(n)?p[n]=!0:(g[n]=!0,!1)}function E(n,s,l,f){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function w(n,s,l,f){if(s===null||typeof s>"u"||E(n,s,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function k(n,s,l,f,x,_,I){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=f,this.attributeNamespace=x,this.mustUseProperty=l,this.propertyName=n,this.type=s,this.sanitizeURL=_,this.removeEmptyString=I}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){j[n]=new k(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];j[s]=new k(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){j[n]=new k(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){j[n]=new k(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){j[n]=new k(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){j[n]=new k(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){j[n]=new k(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){j[n]=new k(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){j[n]=new k(n,5,!1,n.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function M(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(R,M);j[s]=new k(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(R,M);j[s]=new k(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(R,M);j[s]=new k(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){j[n]=new k(n,1,!1,n.toLowerCase(),null,!1,!1)}),j.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){j[n]=new k(n,1,!1,n.toLowerCase(),null,!0,!0)});function U(n,s,l,f){var x=j.hasOwnProperty(s)?j[s]:null;(x!==null?x.type!==0:f||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(w(s,l,x,f)&&(l=null),f||x===null?v(s)&&(l===null?n.removeAttribute(s):n.setAttribute(s,""+l)):x.mustUseProperty?n[x.propertyName]=l===null?x.type===3?!1:"":l:(s=x.attributeName,f=x.attributeNamespace,l===null?n.removeAttribute(s):(x=x.type,l=x===3||x===4&&l===!0?"":""+l,f?n.setAttributeNS(f,s,l):n.setAttribute(s,l))))}var G=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),Q=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),ie=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),te=Symbol.iterator;function ye(n){return n===null||typeof n!="object"?null:(n=te&&n[te]||n["@@iterator"],typeof n=="function"?n:null)}var _e=Object.assign,D;function me(n){if(D===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);D=s&&s[1]||""}return`
`+D+n}var Be=!1;function H(n,s){if(!n||Be)return"";Be=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Ne){var f=Ne}Reflect.construct(n,[],s)}else{try{s.call()}catch(Ne){f=Ne}n.call(s.prototype)}else{try{throw Error()}catch(Ne){f=Ne}n()}}catch(Ne){if(Ne&&f&&typeof Ne.stack=="string"){for(var x=Ne.stack.split(`
`),_=f.stack.split(`
`),I=x.length-1,ee=_.length-1;1<=I&&0<=ee&&x[I]!==_[ee];)ee--;for(;1<=I&&0<=ee;I--,ee--)if(x[I]!==_[ee]){if(I!==1||ee!==1)do if(I--,ee--,0>ee||x[I]!==_[ee]){var le=`
`+x[I].replace(" at new "," at ");return n.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",n.displayName)),le}while(1<=I&&0<=ee);break}}}finally{Be=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?me(n):""}function Pe(n){switch(n.tag){case 5:return me(n.type);case 16:return me("Lazy");case 13:return me("Suspense");case 19:return me("SuspenseList");case 0:case 2:case 15:return n=H(n.type,!1),n;case 11:return n=H(n.type.render,!1),n;case 1:return n=H(n.type,!0),n;default:return""}}function je(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case X:return"Fragment";case Q:return"Portal";case q:return"Profiler";case $:return"StrictMode";case A:return"Suspense";case V:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ie:return(n.displayName||"Context")+".Consumer";case W:return(n._context.displayName||"Context")+".Provider";case fe:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Z:return s=n.displayName||null,s!==null?s:je(n.type)||"Memo";case J:s=n._payload,n=n._init;try{return je(n(s))}catch{}}return null}function pe(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(s);case 8:return s===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function he(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ee(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function F(n){var s=Ee(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),f=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var x=l.get,_=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return x.call(this)},set:function(I){f=""+I,_.call(this,I)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function z(n){n._valueTracker||(n._valueTracker=F(n))}function Y(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return n&&(f=Ee(n)?n.checked?"true":"false":n.value),n=f,n!==l?(s.setValue(n),!0):!1}function ne(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function se(n,s){var l=s.checked;return _e({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function ae(n,s){var l=s.defaultValue==null?"":s.defaultValue,f=s.checked!=null?s.checked:s.defaultChecked;l=he(s.value!=null?s.value:l),n._wrapperState={initialChecked:f,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function T(n,s){s=s.checked,s!=null&&U(n,"checked",s,!1)}function y(n,s){T(n,s);var l=he(s.value),f=s.type;if(l!=null)f==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(f==="submit"||f==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?P(n,s.type,l):s.hasOwnProperty("defaultValue")&&P(n,s.type,he(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function b(n,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var f=s.type;if(!(f!=="submit"&&f!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,l||s===n.value||(n.value=s),n.defaultValue=s}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function P(n,s,l){(s!=="number"||ne(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var L=Array.isArray;function re(n,s,l,f){if(n=n.options,s){s={};for(var x=0;x<l.length;x++)s["$"+l[x]]=!0;for(l=0;l<n.length;l++)x=s.hasOwnProperty("$"+n[l].value),n[l].selected!==x&&(n[l].selected=x),x&&f&&(n[l].defaultSelected=!0)}else{for(l=""+he(l),s=null,x=0;x<n.length;x++){if(n[x].value===l){n[x].selected=!0,f&&(n[x].defaultSelected=!0);return}s!==null||n[x].disabled||(s=n[x])}s!==null&&(s.selected=!0)}}function ge(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return _e({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ae(n,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(r(92));if(L(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),l=s}n._wrapperState={initialValue:he(l)}}function Oe(n,s){var l=he(s.value),f=he(s.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),s.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),f!=null&&(n.defaultValue=""+f)}function Ue(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Ze(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function B(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Ze(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var N,S=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,f,x){MSApp.execUnsafeLocalFunction(function(){return n(s,l,f,x)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(N=N||document.createElement("div"),N.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=N.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function K(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var ue={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];Object.keys(ue).forEach(function(n){be.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),ue[s]=ue[n]})});function ve(n,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||ue.hasOwnProperty(n)&&ue[n]?(""+s).trim():s+"px"}function Ke(n,s){n=n.style;for(var l in s)if(s.hasOwnProperty(l)){var f=l.indexOf("--")===0,x=ve(l,s[l],f);l==="float"&&(l="cssFloat"),f?n.setProperty(l,x):n[l]=x}}var Qe=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function De(n,s){if(s){if(Qe[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function We(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ct=null;function ft(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ri=null,fn=null,hn=null;function Ui(n){if(n=xa(n)){if(typeof ri!="function")throw Error(r(280));var s=n.stateNode;s&&(s=Ll(s),ri(n.stateNode,n.type,s))}}function $i(n){fn?hn?hn.push(n):hn=[n]:fn=n}function Yr(){if(fn){var n=fn,s=hn;if(hn=fn=null,Ui(n),s)for(n=0;n<s.length;n++)Ui(s[n])}}function Ed(n,s){return n(s)}function _d(){}var xl=!1;function Sd(n,s,l){if(xl)return n(s,l);xl=!0;try{return Ed(n,s,l)}finally{xl=!1,(fn!==null||hn!==null)&&(_d(),Yr())}}function Et(n,s){var l=n.stateNode;if(l===null)return null;var f=Ll(l);if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var yl=!1;if(u)try{var zi={};Object.defineProperty(zi,"passive",{get:function(){yl=!0}}),window.addEventListener("test",zi,zi),window.removeEventListener("test",zi,zi)}catch{yl=!1}function $p(n,s,l,f,x,_,I,ee,le){var Ne=Array.prototype.slice.call(arguments,3);try{s.apply(l,Ne)}catch(ke){this.onError(ke)}}var ni=!1,Vi=null,Hi=!1,Qo=null,Ct={onError:function(n){ni=!0,Vi=n}};function kd(n,s,l,f,x,_,I,ee,le){ni=!1,Vi=null,$p.apply(Ct,arguments)}function jd(n,s,l,f,x,_,I,ee,le){if(kd.apply(this,arguments),ni){if(ni){var Ne=Vi;ni=!1,Vi=null}else throw Error(r(198));Hi||(Hi=!0,Qo=Ne)}}function In(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function wl(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function vl(n){if(In(n)!==n)throw Error(r(188))}function Ad(n){var s=n.alternate;if(!s){if(s=In(n),s===null)throw Error(r(188));return s!==n?null:n}for(var l=n,f=s;;){var x=l.return;if(x===null)break;var _=x.alternate;if(_===null){if(f=x.return,f!==null){l=f;continue}break}if(x.child===_.child){for(_=x.child;_;){if(_===l)return vl(x),n;if(_===f)return vl(x),s;_=_.sibling}throw Error(r(188))}if(l.return!==f.return)l=x,f=_;else{for(var I=!1,ee=x.child;ee;){if(ee===l){I=!0,l=x,f=_;break}if(ee===f){I=!0,f=x,l=_;break}ee=ee.sibling}if(!I){for(ee=_.child;ee;){if(ee===l){I=!0,l=_,f=x;break}if(ee===f){I=!0,f=_,l=x;break}ee=ee.sibling}if(!I)throw Error(r(189))}}if(l.alternate!==f)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:s}function bl(n){return n=Ad(n),n!==null?Nl(n):null}function Nl(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Nl(n);if(s!==null)return s;n=n.sibling}return null}var ht=t.unstable_scheduleCallback,El=t.unstable_cancelCallback,Cd=t.unstable_shouldYield,oe=t.unstable_requestPaint,He=t.unstable_now,it=t.unstable_getCurrentPriorityLevel,et=t.unstable_ImmediatePriority,si=t.unstable_UserBlockingPriority,pn=t.unstable_NormalPriority,zp=t.unstable_LowPriority,Vp=t.unstable_IdlePriority,_l=null,mn=null;function Q2(n){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(_l,n,void 0,(n.current.flags&128)===128)}catch{}}var Zr=Math.clz32?Math.clz32:tN,J2=Math.log,eN=Math.LN2;function tN(n){return n>>>=0,n===0?32:31-(J2(n)/eN|0)|0}var Sl=64,kl=4194304;function Jo(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function jl(n,s){var l=n.pendingLanes;if(l===0)return 0;var f=0,x=n.suspendedLanes,_=n.pingedLanes,I=l&268435455;if(I!==0){var ee=I&~x;ee!==0?f=Jo(ee):(_&=I,_!==0&&(f=Jo(_)))}else I=l&~x,I!==0?f=Jo(I):_!==0&&(f=Jo(_));if(f===0)return 0;if(s!==0&&s!==f&&(s&x)===0&&(x=f&-f,_=s&-s,x>=_||x===16&&(_&4194240)!==0))return s;if((f&4)!==0&&(f|=l&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=f;0<s;)l=31-Zr(s),x=1<<l,f|=n[l],s&=~x;return f}function rN(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nN(n,s){for(var l=n.suspendedLanes,f=n.pingedLanes,x=n.expirationTimes,_=n.pendingLanes;0<_;){var I=31-Zr(_),ee=1<<I,le=x[I];le===-1?((ee&l)===0||(ee&f)!==0)&&(x[I]=rN(ee,s)):le<=s&&(n.expiredLanes|=ee),_&=~ee}}function Td(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Hp(){var n=Sl;return Sl<<=1,(Sl&4194240)===0&&(Sl=64),n}function Rd(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function ea(n,s,l){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-Zr(s),n[s]=l}function sN(n,s){var l=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var f=n.eventTimes;for(n=n.expirationTimes;0<l;){var x=31-Zr(l),_=1<<x;s[x]=0,f[x]=-1,n[x]=-1,l&=~_}}function Bd(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var f=31-Zr(l),x=1<<f;x&s|n[f]&s&&(n[f]|=s),l&=~x}}var pt=0;function Lp(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Wp,Pd,qp,Gp,Kp,Md=!1,Al=[],ds=null,fs=null,hs=null,ta=new Map,ra=new Map,ps=[],iN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dp(n,s){switch(n){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":ta.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ra.delete(s.pointerId)}}function na(n,s,l,f,x,_){return n===null||n.nativeEvent!==_?(n={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:_,targetContainers:[x]},s!==null&&(s=xa(s),s!==null&&Pd(s)),n):(n.eventSystemFlags|=f,s=n.targetContainers,x!==null&&s.indexOf(x)===-1&&s.push(x),n)}function oN(n,s,l,f,x){switch(s){case"focusin":return ds=na(ds,n,s,l,f,x),!0;case"dragenter":return fs=na(fs,n,s,l,f,x),!0;case"mouseover":return hs=na(hs,n,s,l,f,x),!0;case"pointerover":var _=x.pointerId;return ta.set(_,na(ta.get(_)||null,n,s,l,f,x)),!0;case"gotpointercapture":return _=x.pointerId,ra.set(_,na(ra.get(_)||null,n,s,l,f,x)),!0}return!1}function Yp(n){var s=ii(n.target);if(s!==null){var l=In(s);if(l!==null){if(s=l.tag,s===13){if(s=wl(l),s!==null){n.blockedOn=s,Kp(n.priority,function(){qp(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Cl(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=Id(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var f=new l.constructor(l.type,l);ct=f,l.target.dispatchEvent(f),ct=null}else return s=xa(l),s!==null&&Pd(s),n.blockedOn=l,!1;s.shift()}return!0}function Zp(n,s,l){Cl(n)&&l.delete(s)}function aN(){Md=!1,ds!==null&&Cl(ds)&&(ds=null),fs!==null&&Cl(fs)&&(fs=null),hs!==null&&Cl(hs)&&(hs=null),ta.forEach(Zp),ra.forEach(Zp)}function sa(n,s){n.blockedOn===s&&(n.blockedOn=null,Md||(Md=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,aN)))}function ia(n){function s(x){return sa(x,n)}if(0<Al.length){sa(Al[0],n);for(var l=1;l<Al.length;l++){var f=Al[l];f.blockedOn===n&&(f.blockedOn=null)}}for(ds!==null&&sa(ds,n),fs!==null&&sa(fs,n),hs!==null&&sa(hs,n),ta.forEach(s),ra.forEach(s),l=0;l<ps.length;l++)f=ps[l],f.blockedOn===n&&(f.blockedOn=null);for(;0<ps.length&&(l=ps[0],l.blockedOn===null);)Yp(l),l.blockedOn===null&&ps.shift()}var Li=G.ReactCurrentBatchConfig,Tl=!0;function lN(n,s,l,f){var x=pt,_=Li.transition;Li.transition=null;try{pt=1,Od(n,s,l,f)}finally{pt=x,Li.transition=_}}function cN(n,s,l,f){var x=pt,_=Li.transition;Li.transition=null;try{pt=4,Od(n,s,l,f)}finally{pt=x,Li.transition=_}}function Od(n,s,l,f){if(Tl){var x=Id(n,s,l,f);if(x===null)Jd(n,s,f,Rl,l),Dp(n,f);else if(oN(x,n,s,l,f))f.stopPropagation();else if(Dp(n,f),s&4&&-1<iN.indexOf(n)){for(;x!==null;){var _=xa(x);if(_!==null&&Wp(_),_=Id(n,s,l,f),_===null&&Jd(n,s,f,Rl,l),_===x)break;x=_}x!==null&&f.stopPropagation()}else Jd(n,s,f,null,l)}}var Rl=null;function Id(n,s,l,f){if(Rl=null,n=ft(f),n=ii(n),n!==null)if(s=In(n),s===null)n=null;else if(l=s.tag,l===13){if(n=wl(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Rl=n,null}function Xp(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(it()){case et:return 1;case si:return 4;case pn:case zp:return 16;case Vp:return 536870912;default:return 16}default:return 16}}var ms=null,Fd=null,Bl=null;function Qp(){if(Bl)return Bl;var n,s=Fd,l=s.length,f,x="value"in ms?ms.value:ms.textContent,_=x.length;for(n=0;n<l&&s[n]===x[n];n++);var I=l-n;for(f=1;f<=I&&s[l-f]===x[_-f];f++);return Bl=x.slice(n,1<f?1-f:void 0)}function Pl(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Ml(){return!0}function Jp(){return!1}function Ar(n){function s(l,f,x,_,I){this._reactName=l,this._targetInst=x,this.type=f,this.nativeEvent=_,this.target=I,this.currentTarget=null;for(var ee in n)n.hasOwnProperty(ee)&&(l=n[ee],this[ee]=l?l(_):_[ee]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ml:Jp,this.isPropagationStopped=Jp,this}return _e(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),s}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ud=Ar(Wi),oa=_e({},Wi,{view:0,detail:0}),uN=Ar(oa),$d,zd,aa,Ol=_e({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hd,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==aa&&(aa&&n.type==="mousemove"?($d=n.screenX-aa.screenX,zd=n.screenY-aa.screenY):zd=$d=0,aa=n),$d)},movementY:function(n){return"movementY"in n?n.movementY:zd}}),em=Ar(Ol),dN=_e({},Ol,{dataTransfer:0}),fN=Ar(dN),hN=_e({},oa,{relatedTarget:0}),Vd=Ar(hN),pN=_e({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),mN=Ar(pN),gN=_e({},Wi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),xN=Ar(gN),yN=_e({},Wi,{data:0}),tm=Ar(yN),wN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NN(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=bN[n])?!!s[n]:!1}function Hd(){return NN}var EN=_e({},oa,{key:function(n){if(n.key){var s=wN[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Pl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?vN[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hd,charCode:function(n){return n.type==="keypress"?Pl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Pl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),_N=Ar(EN),SN=_e({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rm=Ar(SN),kN=_e({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hd}),jN=Ar(kN),AN=_e({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),CN=Ar(AN),TN=_e({},Ol,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),RN=Ar(TN),BN=[9,13,27,32],Ld=u&&"CompositionEvent"in window,la=null;u&&"documentMode"in document&&(la=document.documentMode);var PN=u&&"TextEvent"in window&&!la,nm=u&&(!Ld||la&&8<la&&11>=la),sm=" ",im=!1;function om(n,s){switch(n){case"keyup":return BN.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function am(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var qi=!1;function MN(n,s){switch(n){case"compositionend":return am(s);case"keypress":return s.which!==32?null:(im=!0,sm);case"textInput":return n=s.data,n===sm&&im?null:n;default:return null}}function ON(n,s){if(qi)return n==="compositionend"||!Ld&&om(n,s)?(n=Qp(),Bl=Fd=ms=null,qi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return nm&&s.locale!=="ko"?null:s.data;default:return null}}var IN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lm(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!IN[n.type]:s==="textarea"}function cm(n,s,l,f){$i(f),s=zl(s,"onChange"),0<s.length&&(l=new Ud("onChange","change",null,l,f),n.push({event:l,listeners:s}))}var ca=null,ua=null;function FN(n){jm(n,0)}function Il(n){var s=Zi(n);if(Y(s))return n}function UN(n,s){if(n==="change")return s}var um=!1;if(u){var Wd;if(u){var qd="oninput"in document;if(!qd){var dm=document.createElement("div");dm.setAttribute("oninput","return;"),qd=typeof dm.oninput=="function"}Wd=qd}else Wd=!1;um=Wd&&(!document.documentMode||9<document.documentMode)}function fm(){ca&&(ca.detachEvent("onpropertychange",hm),ua=ca=null)}function hm(n){if(n.propertyName==="value"&&Il(ua)){var s=[];cm(s,ua,n,ft(n)),Sd(FN,s)}}function $N(n,s,l){n==="focusin"?(fm(),ca=s,ua=l,ca.attachEvent("onpropertychange",hm)):n==="focusout"&&fm()}function zN(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Il(ua)}function VN(n,s){if(n==="click")return Il(s)}function HN(n,s){if(n==="input"||n==="change")return Il(s)}function LN(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Xr=typeof Object.is=="function"?Object.is:LN;function da(n,s){if(Xr(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var x=l[f];if(!h.call(s,x)||!Xr(n[x],s[x]))return!1}return!0}function pm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function mm(n,s){var l=pm(n);n=0;for(var f;l;){if(l.nodeType===3){if(f=n+l.textContent.length,n<=s&&f>=s)return{node:l,offset:s-n};n=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=pm(l)}}function gm(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?gm(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function xm(){for(var n=window,s=ne();s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=ne(n.document)}return s}function Gd(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function WN(n){var s=xm(),l=n.focusedElem,f=n.selectionRange;if(s!==l&&l&&l.ownerDocument&&gm(l.ownerDocument.documentElement,l)){if(f!==null&&Gd(l)){if(s=f.start,n=f.end,n===void 0&&(n=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(n,l.value.length);else if(n=(s=l.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var x=l.textContent.length,_=Math.min(f.start,x);f=f.end===void 0?_:Math.min(f.end,x),!n.extend&&_>f&&(x=f,f=_,_=x),x=mm(l,_);var I=mm(l,f);x&&I&&(n.rangeCount!==1||n.anchorNode!==x.node||n.anchorOffset!==x.offset||n.focusNode!==I.node||n.focusOffset!==I.offset)&&(s=s.createRange(),s.setStart(x.node,x.offset),n.removeAllRanges(),_>f?(n.addRange(s),n.extend(I.node,I.offset)):(s.setEnd(I.node,I.offset),n.addRange(s)))}}for(s=[],n=l;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)n=s[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var qN=u&&"documentMode"in document&&11>=document.documentMode,Gi=null,Kd=null,fa=null,Dd=!1;function ym(n,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Dd||Gi==null||Gi!==ne(f)||(f=Gi,"selectionStart"in f&&Gd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),fa&&da(fa,f)||(fa=f,f=zl(Kd,"onSelect"),0<f.length&&(s=new Ud("onSelect","select",null,s,l),n.push({event:s,listeners:f}),s.target=Gi)))}function Fl(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var Ki={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionend:Fl("Transition","TransitionEnd")},Yd={},wm={};u&&(wm=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function Ul(n){if(Yd[n])return Yd[n];if(!Ki[n])return n;var s=Ki[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in wm)return Yd[n]=s[l];return n}var vm=Ul("animationend"),bm=Ul("animationiteration"),Nm=Ul("animationstart"),Em=Ul("transitionend"),_m=new Map,Sm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gs(n,s){_m.set(n,s),c(s,[n])}for(var Zd=0;Zd<Sm.length;Zd++){var Xd=Sm[Zd],GN=Xd.toLowerCase(),KN=Xd[0].toUpperCase()+Xd.slice(1);gs(GN,"on"+KN)}gs(vm,"onAnimationEnd"),gs(bm,"onAnimationIteration"),gs(Nm,"onAnimationStart"),gs("dblclick","onDoubleClick"),gs("focusin","onFocus"),gs("focusout","onBlur"),gs(Em,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DN=new Set("cancel close invalid load scroll toggle".split(" ").concat(ha));function km(n,s,l){var f=n.type||"unknown-event";n.currentTarget=l,jd(f,s,void 0,n),n.currentTarget=null}function jm(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var f=n[l],x=f.event;f=f.listeners;e:{var _=void 0;if(s)for(var I=f.length-1;0<=I;I--){var ee=f[I],le=ee.instance,Ne=ee.currentTarget;if(ee=ee.listener,le!==_&&x.isPropagationStopped())break e;km(x,ee,Ne),_=le}else for(I=0;I<f.length;I++){if(ee=f[I],le=ee.instance,Ne=ee.currentTarget,ee=ee.listener,le!==_&&x.isPropagationStopped())break e;km(x,ee,Ne),_=le}}}if(Hi)throw n=Qo,Hi=!1,Qo=null,n}function wt(n,s){var l=s[of];l===void 0&&(l=s[of]=new Set);var f=n+"__bubble";l.has(f)||(Am(s,n,2,!1),l.add(f))}function Qd(n,s,l){var f=0;s&&(f|=4),Am(l,n,f,s)}var $l="_reactListening"+Math.random().toString(36).slice(2);function pa(n){if(!n[$l]){n[$l]=!0,i.forEach(function(l){l!=="selectionchange"&&(DN.has(l)||Qd(l,!1,n),Qd(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[$l]||(s[$l]=!0,Qd("selectionchange",!1,s))}}function Am(n,s,l,f){switch(Xp(s)){case 1:var x=lN;break;case 4:x=cN;break;default:x=Od}l=x.bind(null,s,l,n),x=void 0,!yl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(x=!0),f?x!==void 0?n.addEventListener(s,l,{capture:!0,passive:x}):n.addEventListener(s,l,!0):x!==void 0?n.addEventListener(s,l,{passive:x}):n.addEventListener(s,l,!1)}function Jd(n,s,l,f,x){var _=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var ee=f.stateNode.containerInfo;if(ee===x||ee.nodeType===8&&ee.parentNode===x)break;if(I===4)for(I=f.return;I!==null;){var le=I.tag;if((le===3||le===4)&&(le=I.stateNode.containerInfo,le===x||le.nodeType===8&&le.parentNode===x))return;I=I.return}for(;ee!==null;){if(I=ii(ee),I===null)return;if(le=I.tag,le===5||le===6){f=_=I;continue e}ee=ee.parentNode}}f=f.return}Sd(function(){var Ne=_,ke=ft(l),Ce=[];e:{var Se=_m.get(n);if(Se!==void 0){var Me=Ud,Fe=n;switch(n){case"keypress":if(Pl(l)===0)break e;case"keydown":case"keyup":Me=_N;break;case"focusin":Fe="focus",Me=Vd;break;case"focusout":Fe="blur",Me=Vd;break;case"beforeblur":case"afterblur":Me=Vd;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=fN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=jN;break;case vm:case bm:case Nm:Me=mN;break;case Em:Me=CN;break;case"scroll":Me=uN;break;case"wheel":Me=RN;break;case"copy":case"cut":case"paste":Me=xN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=rm}var $e=(s&4)!==0,Pt=!$e&&n==="scroll",xe=$e?Se!==null?Se+"Capture":null:Se;$e=[];for(var de=Ne,we;de!==null;){we=de;var Te=we.stateNode;if(we.tag===5&&Te!==null&&(we=Te,xe!==null&&(Te=Et(de,xe),Te!=null&&$e.push(ma(de,Te,we)))),Pt)break;de=de.return}0<$e.length&&(Se=new Me(Se,Fe,null,l,ke),Ce.push({event:Se,listeners:$e}))}}if((s&7)===0){e:{if(Se=n==="mouseover"||n==="pointerover",Me=n==="mouseout"||n==="pointerout",Se&&l!==ct&&(Fe=l.relatedTarget||l.fromElement)&&(ii(Fe)||Fe[Fn]))break e;if((Me||Se)&&(Se=ke.window===ke?ke:(Se=ke.ownerDocument)?Se.defaultView||Se.parentWindow:window,Me?(Fe=l.relatedTarget||l.toElement,Me=Ne,Fe=Fe?ii(Fe):null,Fe!==null&&(Pt=In(Fe),Fe!==Pt||Fe.tag!==5&&Fe.tag!==6)&&(Fe=null)):(Me=null,Fe=Ne),Me!==Fe)){if($e=em,Te="onMouseLeave",xe="onMouseEnter",de="mouse",(n==="pointerout"||n==="pointerover")&&($e=rm,Te="onPointerLeave",xe="onPointerEnter",de="pointer"),Pt=Me==null?Se:Zi(Me),we=Fe==null?Se:Zi(Fe),Se=new $e(Te,de+"leave",Me,l,ke),Se.target=Pt,Se.relatedTarget=we,Te=null,ii(ke)===Ne&&($e=new $e(xe,de+"enter",Fe,l,ke),$e.target=we,$e.relatedTarget=Pt,Te=$e),Pt=Te,Me&&Fe)t:{for($e=Me,xe=Fe,de=0,we=$e;we;we=Di(we))de++;for(we=0,Te=xe;Te;Te=Di(Te))we++;for(;0<de-we;)$e=Di($e),de--;for(;0<we-de;)xe=Di(xe),we--;for(;de--;){if($e===xe||xe!==null&&$e===xe.alternate)break t;$e=Di($e),xe=Di(xe)}$e=null}else $e=null;Me!==null&&Cm(Ce,Se,Me,$e,!1),Fe!==null&&Pt!==null&&Cm(Ce,Pt,Fe,$e,!0)}}e:{if(Se=Ne?Zi(Ne):window,Me=Se.nodeName&&Se.nodeName.toLowerCase(),Me==="select"||Me==="input"&&Se.type==="file")var ze=UN;else if(lm(Se))if(um)ze=HN;else{ze=zN;var qe=$N}else(Me=Se.nodeName)&&Me.toLowerCase()==="input"&&(Se.type==="checkbox"||Se.type==="radio")&&(ze=VN);if(ze&&(ze=ze(n,Ne))){cm(Ce,ze,l,ke);break e}qe&&qe(n,Se,Ne),n==="focusout"&&(qe=Se._wrapperState)&&qe.controlled&&Se.type==="number"&&P(Se,"number",Se.value)}switch(qe=Ne?Zi(Ne):window,n){case"focusin":(lm(qe)||qe.contentEditable==="true")&&(Gi=qe,Kd=Ne,fa=null);break;case"focusout":fa=Kd=Gi=null;break;case"mousedown":Dd=!0;break;case"contextmenu":case"mouseup":case"dragend":Dd=!1,ym(Ce,l,ke);break;case"selectionchange":if(qN)break;case"keydown":case"keyup":ym(Ce,l,ke)}var Ge;if(Ld)e:{switch(n){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else qi?om(n,l)&&(Ye="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Ye="onCompositionStart");Ye&&(nm&&l.locale!=="ko"&&(qi||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&qi&&(Ge=Qp()):(ms=ke,Fd="value"in ms?ms.value:ms.textContent,qi=!0)),qe=zl(Ne,Ye),0<qe.length&&(Ye=new tm(Ye,n,null,l,ke),Ce.push({event:Ye,listeners:qe}),Ge?Ye.data=Ge:(Ge=am(l),Ge!==null&&(Ye.data=Ge)))),(Ge=PN?MN(n,l):ON(n,l))&&(Ne=zl(Ne,"onBeforeInput"),0<Ne.length&&(ke=new tm("onBeforeInput","beforeinput",null,l,ke),Ce.push({event:ke,listeners:Ne}),ke.data=Ge))}jm(Ce,s)})}function ma(n,s,l){return{instance:n,listener:s,currentTarget:l}}function zl(n,s){for(var l=s+"Capture",f=[];n!==null;){var x=n,_=x.stateNode;x.tag===5&&_!==null&&(x=_,_=Et(n,l),_!=null&&f.unshift(ma(n,_,x)),_=Et(n,s),_!=null&&f.push(ma(n,_,x))),n=n.return}return f}function Di(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Cm(n,s,l,f,x){for(var _=s._reactName,I=[];l!==null&&l!==f;){var ee=l,le=ee.alternate,Ne=ee.stateNode;if(le!==null&&le===f)break;ee.tag===5&&Ne!==null&&(ee=Ne,x?(le=Et(l,_),le!=null&&I.unshift(ma(l,le,ee))):x||(le=Et(l,_),le!=null&&I.push(ma(l,le,ee)))),l=l.return}I.length!==0&&n.push({event:s,listeners:I})}var YN=/\r\n?/g,ZN=/\u0000|\uFFFD/g;function Tm(n){return(typeof n=="string"?n:""+n).replace(YN,`
`).replace(ZN,"")}function Vl(n,s,l){if(s=Tm(s),Tm(n)!==s&&l)throw Error(r(425))}function Hl(){}var ef=null,tf=null;function rf(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var nf=typeof setTimeout=="function"?setTimeout:void 0,XN=typeof clearTimeout=="function"?clearTimeout:void 0,Rm=typeof Promise=="function"?Promise:void 0,QN=typeof queueMicrotask=="function"?queueMicrotask:typeof Rm<"u"?function(n){return Rm.resolve(null).then(n).catch(JN)}:nf;function JN(n){setTimeout(function(){throw n})}function sf(n,s){var l=s,f=0;do{var x=l.nextSibling;if(n.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(f===0){n.removeChild(x),ia(s);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=x}while(l);ia(s)}function xs(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Bm(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}var Yi=Math.random().toString(36).slice(2),gn="__reactFiber$"+Yi,ga="__reactProps$"+Yi,Fn="__reactContainer$"+Yi,of="__reactEvents$"+Yi,e3="__reactListeners$"+Yi,t3="__reactHandles$"+Yi;function ii(n){var s=n[gn];if(s)return s;for(var l=n.parentNode;l;){if(s=l[Fn]||l[gn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=Bm(n);n!==null;){if(l=n[gn])return l;n=Bm(n)}return s}n=l,l=n.parentNode}return null}function xa(n){return n=n[gn]||n[Fn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Zi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Ll(n){return n[ga]||null}var af=[],Xi=-1;function ys(n){return{current:n}}function vt(n){0>Xi||(n.current=af[Xi],af[Xi]=null,Xi--)}function yt(n,s){Xi++,af[Xi]=n.current,n.current=s}var ws={},rr=ys(ws),yr=ys(!1),oi=ws;function Qi(n,s){var l=n.type.contextTypes;if(!l)return ws;var f=n.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===s)return f.__reactInternalMemoizedMaskedChildContext;var x={},_;for(_ in l)x[_]=s[_];return f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=x),x}function wr(n){return n=n.childContextTypes,n!=null}function Wl(){vt(yr),vt(rr)}function Pm(n,s,l){if(rr.current!==ws)throw Error(r(168));yt(rr,s),yt(yr,l)}function Mm(n,s,l){var f=n.stateNode;if(s=s.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var x in f)if(!(x in s))throw Error(r(108,pe(n)||"Unknown",x));return _e({},l,f)}function ql(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ws,oi=rr.current,yt(rr,n),yt(yr,yr.current),!0}function Om(n,s,l){var f=n.stateNode;if(!f)throw Error(r(169));l?(n=Mm(n,s,oi),f.__reactInternalMemoizedMergedChildContext=n,vt(yr),vt(rr),yt(rr,n)):vt(yr),yt(yr,l)}var Un=null,Gl=!1,lf=!1;function Im(n){Un===null?Un=[n]:Un.push(n)}function r3(n){Gl=!0,Im(n)}function vs(){if(!lf&&Un!==null){lf=!0;var n=0,s=pt;try{var l=Un;for(pt=1;n<l.length;n++){var f=l[n];do f=f(!0);while(f!==null)}Un=null,Gl=!1}catch(x){throw Un!==null&&(Un=Un.slice(n+1)),ht(et,vs),x}finally{pt=s,lf=!1}}return null}var Ji=[],eo=0,Kl=null,Dl=0,$r=[],zr=0,ai=null,$n=1,zn="";function li(n,s){Ji[eo++]=Dl,Ji[eo++]=Kl,Kl=n,Dl=s}function Fm(n,s,l){$r[zr++]=$n,$r[zr++]=zn,$r[zr++]=ai,ai=n;var f=$n;n=zn;var x=32-Zr(f)-1;f&=~(1<<x),l+=1;var _=32-Zr(s)+x;if(30<_){var I=x-x%5;_=(f&(1<<I)-1).toString(32),f>>=I,x-=I,$n=1<<32-Zr(s)+x|l<<x|f,zn=_+n}else $n=1<<_|l<<x|f,zn=n}function cf(n){n.return!==null&&(li(n,1),Fm(n,1,0))}function uf(n){for(;n===Kl;)Kl=Ji[--eo],Ji[eo]=null,Dl=Ji[--eo],Ji[eo]=null;for(;n===ai;)ai=$r[--zr],$r[zr]=null,zn=$r[--zr],$r[zr]=null,$n=$r[--zr],$r[zr]=null}var Cr=null,Tr=null,_t=!1,Qr=null;function Um(n,s){var l=Wr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=n,s=n.deletions,s===null?(n.deletions=[l],n.flags|=16):s.push(l)}function $m(n,s){switch(n.tag){case 5:var l=n.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,Cr=n,Tr=xs(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,Cr=n,Tr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ai!==null?{id:$n,overflow:zn}:null,n.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Wr(18,null,null,0),l.stateNode=s,l.return=n,n.child=l,Cr=n,Tr=null,!0):!1;default:return!1}}function df(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ff(n){if(_t){var s=Tr;if(s){var l=s;if(!$m(n,s)){if(df(n))throw Error(r(418));s=xs(l.nextSibling);var f=Cr;s&&$m(n,s)?Um(f,l):(n.flags=n.flags&-4097|2,_t=!1,Cr=n)}}else{if(df(n))throw Error(r(418));n.flags=n.flags&-4097|2,_t=!1,Cr=n}}}function zm(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Cr=n}function Yl(n){if(n!==Cr)return!1;if(!_t)return zm(n),_t=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!rf(n.type,n.memoizedProps)),s&&(s=Tr)){if(df(n))throw Vm(),Error(r(418));for(;s;)Um(n,s),s=xs(s.nextSibling)}if(zm(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(s===0){Tr=xs(n.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}n=n.nextSibling}Tr=null}}else Tr=Cr?xs(n.stateNode.nextSibling):null;return!0}function Vm(){for(var n=Tr;n;)n=xs(n.nextSibling)}function to(){Tr=Cr=null,_t=!1}function hf(n){Qr===null?Qr=[n]:Qr.push(n)}var n3=G.ReactCurrentBatchConfig;function ya(n,s,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var f=l.stateNode}if(!f)throw Error(r(147,n));var x=f,_=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===_?s.ref:(s=function(I){var ee=x.refs;I===null?delete ee[_]:ee[_]=I},s._stringRef=_,s)}if(typeof n!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,n))}return n}function Zl(n,s){throw n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function Hm(n){var s=n._init;return s(n._payload)}function Lm(n){function s(xe,de){if(n){var we=xe.deletions;we===null?(xe.deletions=[de],xe.flags|=16):we.push(de)}}function l(xe,de){if(!n)return null;for(;de!==null;)s(xe,de),de=de.sibling;return null}function f(xe,de){for(xe=new Map;de!==null;)de.key!==null?xe.set(de.key,de):xe.set(de.index,de),de=de.sibling;return xe}function x(xe,de){return xe=As(xe,de),xe.index=0,xe.sibling=null,xe}function _(xe,de,we){return xe.index=we,n?(we=xe.alternate,we!==null?(we=we.index,we<de?(xe.flags|=2,de):we):(xe.flags|=2,de)):(xe.flags|=1048576,de)}function I(xe){return n&&xe.alternate===null&&(xe.flags|=2),xe}function ee(xe,de,we,Te){return de===null||de.tag!==6?(de=sh(we,xe.mode,Te),de.return=xe,de):(de=x(de,we),de.return=xe,de)}function le(xe,de,we,Te){var ze=we.type;return ze===X?ke(xe,de,we.props.children,Te,we.key):de!==null&&(de.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===J&&Hm(ze)===de.type)?(Te=x(de,we.props),Te.ref=ya(xe,de,we),Te.return=xe,Te):(Te=vc(we.type,we.key,we.props,null,xe.mode,Te),Te.ref=ya(xe,de,we),Te.return=xe,Te)}function Ne(xe,de,we,Te){return de===null||de.tag!==4||de.stateNode.containerInfo!==we.containerInfo||de.stateNode.implementation!==we.implementation?(de=ih(we,xe.mode,Te),de.return=xe,de):(de=x(de,we.children||[]),de.return=xe,de)}function ke(xe,de,we,Te,ze){return de===null||de.tag!==7?(de=gi(we,xe.mode,Te,ze),de.return=xe,de):(de=x(de,we),de.return=xe,de)}function Ce(xe,de,we){if(typeof de=="string"&&de!==""||typeof de=="number")return de=sh(""+de,xe.mode,we),de.return=xe,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case O:return we=vc(de.type,de.key,de.props,null,xe.mode,we),we.ref=ya(xe,null,de),we.return=xe,we;case Q:return de=ih(de,xe.mode,we),de.return=xe,de;case J:var Te=de._init;return Ce(xe,Te(de._payload),we)}if(L(de)||ye(de))return de=gi(de,xe.mode,we,null),de.return=xe,de;Zl(xe,de)}return null}function Se(xe,de,we,Te){var ze=de!==null?de.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return ze!==null?null:ee(xe,de,""+we,Te);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case O:return we.key===ze?le(xe,de,we,Te):null;case Q:return we.key===ze?Ne(xe,de,we,Te):null;case J:return ze=we._init,Se(xe,de,ze(we._payload),Te)}if(L(we)||ye(we))return ze!==null?null:ke(xe,de,we,Te,null);Zl(xe,we)}return null}function Me(xe,de,we,Te,ze){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return xe=xe.get(we)||null,ee(de,xe,""+Te,ze);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case O:return xe=xe.get(Te.key===null?we:Te.key)||null,le(de,xe,Te,ze);case Q:return xe=xe.get(Te.key===null?we:Te.key)||null,Ne(de,xe,Te,ze);case J:var qe=Te._init;return Me(xe,de,we,qe(Te._payload),ze)}if(L(Te)||ye(Te))return xe=xe.get(we)||null,ke(de,xe,Te,ze,null);Zl(de,Te)}return null}function Fe(xe,de,we,Te){for(var ze=null,qe=null,Ge=de,Ye=de=0,Kt=null;Ge!==null&&Ye<we.length;Ye++){Ge.index>Ye?(Kt=Ge,Ge=null):Kt=Ge.sibling;var dt=Se(xe,Ge,we[Ye],Te);if(dt===null){Ge===null&&(Ge=Kt);break}n&&Ge&&dt.alternate===null&&s(xe,Ge),de=_(dt,de,Ye),qe===null?ze=dt:qe.sibling=dt,qe=dt,Ge=Kt}if(Ye===we.length)return l(xe,Ge),_t&&li(xe,Ye),ze;if(Ge===null){for(;Ye<we.length;Ye++)Ge=Ce(xe,we[Ye],Te),Ge!==null&&(de=_(Ge,de,Ye),qe===null?ze=Ge:qe.sibling=Ge,qe=Ge);return _t&&li(xe,Ye),ze}for(Ge=f(xe,Ge);Ye<we.length;Ye++)Kt=Me(Ge,xe,Ye,we[Ye],Te),Kt!==null&&(n&&Kt.alternate!==null&&Ge.delete(Kt.key===null?Ye:Kt.key),de=_(Kt,de,Ye),qe===null?ze=Kt:qe.sibling=Kt,qe=Kt);return n&&Ge.forEach(function(Cs){return s(xe,Cs)}),_t&&li(xe,Ye),ze}function $e(xe,de,we,Te){var ze=ye(we);if(typeof ze!="function")throw Error(r(150));if(we=ze.call(we),we==null)throw Error(r(151));for(var qe=ze=null,Ge=de,Ye=de=0,Kt=null,dt=we.next();Ge!==null&&!dt.done;Ye++,dt=we.next()){Ge.index>Ye?(Kt=Ge,Ge=null):Kt=Ge.sibling;var Cs=Se(xe,Ge,dt.value,Te);if(Cs===null){Ge===null&&(Ge=Kt);break}n&&Ge&&Cs.alternate===null&&s(xe,Ge),de=_(Cs,de,Ye),qe===null?ze=Cs:qe.sibling=Cs,qe=Cs,Ge=Kt}if(dt.done)return l(xe,Ge),_t&&li(xe,Ye),ze;if(Ge===null){for(;!dt.done;Ye++,dt=we.next())dt=Ce(xe,dt.value,Te),dt!==null&&(de=_(dt,de,Ye),qe===null?ze=dt:qe.sibling=dt,qe=dt);return _t&&li(xe,Ye),ze}for(Ge=f(xe,Ge);!dt.done;Ye++,dt=we.next())dt=Me(Ge,xe,Ye,dt.value,Te),dt!==null&&(n&&dt.alternate!==null&&Ge.delete(dt.key===null?Ye:dt.key),de=_(dt,de,Ye),qe===null?ze=dt:qe.sibling=dt,qe=dt);return n&&Ge.forEach(function(I3){return s(xe,I3)}),_t&&li(xe,Ye),ze}function Pt(xe,de,we,Te){if(typeof we=="object"&&we!==null&&we.type===X&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case O:e:{for(var ze=we.key,qe=de;qe!==null;){if(qe.key===ze){if(ze=we.type,ze===X){if(qe.tag===7){l(xe,qe.sibling),de=x(qe,we.props.children),de.return=xe,xe=de;break e}}else if(qe.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===J&&Hm(ze)===qe.type){l(xe,qe.sibling),de=x(qe,we.props),de.ref=ya(xe,qe,we),de.return=xe,xe=de;break e}l(xe,qe);break}else s(xe,qe);qe=qe.sibling}we.type===X?(de=gi(we.props.children,xe.mode,Te,we.key),de.return=xe,xe=de):(Te=vc(we.type,we.key,we.props,null,xe.mode,Te),Te.ref=ya(xe,de,we),Te.return=xe,xe=Te)}return I(xe);case Q:e:{for(qe=we.key;de!==null;){if(de.key===qe)if(de.tag===4&&de.stateNode.containerInfo===we.containerInfo&&de.stateNode.implementation===we.implementation){l(xe,de.sibling),de=x(de,we.children||[]),de.return=xe,xe=de;break e}else{l(xe,de);break}else s(xe,de);de=de.sibling}de=ih(we,xe.mode,Te),de.return=xe,xe=de}return I(xe);case J:return qe=we._init,Pt(xe,de,qe(we._payload),Te)}if(L(we))return Fe(xe,de,we,Te);if(ye(we))return $e(xe,de,we,Te);Zl(xe,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,de!==null&&de.tag===6?(l(xe,de.sibling),de=x(de,we),de.return=xe,xe=de):(l(xe,de),de=sh(we,xe.mode,Te),de.return=xe,xe=de),I(xe)):l(xe,de)}return Pt}var ro=Lm(!0),Wm=Lm(!1),Xl=ys(null),Ql=null,no=null,pf=null;function mf(){pf=no=Ql=null}function gf(n){var s=Xl.current;vt(Xl),n._currentValue=s}function xf(n,s,l){for(;n!==null;){var f=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),n===l)break;n=n.return}}function so(n,s){Ql=n,pf=no=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(vr=!0),n.firstContext=null)}function Vr(n){var s=n._currentValue;if(pf!==n)if(n={context:n,memoizedValue:s,next:null},no===null){if(Ql===null)throw Error(r(308));no=n,Ql.dependencies={lanes:0,firstContext:n}}else no=no.next=n;return s}var ci=null;function yf(n){ci===null?ci=[n]:ci.push(n)}function qm(n,s,l,f){var x=s.interleaved;return x===null?(l.next=l,yf(s)):(l.next=x.next,x.next=l),s.interleaved=l,Vn(n,f)}function Vn(n,s){n.lanes|=s;var l=n.alternate;for(l!==null&&(l.lanes|=s),l=n,n=n.return;n!==null;)n.childLanes|=s,l=n.alternate,l!==null&&(l.childLanes|=s),l=n,n=n.return;return l.tag===3?l.stateNode:null}var bs=!1;function wf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gm(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Hn(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Ns(n,s,l){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(ut&2)!==0){var x=f.pending;return x===null?s.next=s:(s.next=x.next,x.next=s),f.pending=s,Vn(n,l)}return x=f.interleaved,x===null?(s.next=s,yf(f)):(s.next=x.next,x.next=s),f.interleaved=s,Vn(n,l)}function Jl(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var f=s.lanes;f&=n.pendingLanes,l|=f,s.lanes=l,Bd(n,l)}}function Km(n,s){var l=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var x=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var I={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};_===null?x=_=I:_=_.next=I,l=l.next}while(l!==null);_===null?x=_=s:_=_.next=s}else x=_=s;l={baseState:f.baseState,firstBaseUpdate:x,lastBaseUpdate:_,shared:f.shared,effects:f.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}function ec(n,s,l,f){var x=n.updateQueue;bs=!1;var _=x.firstBaseUpdate,I=x.lastBaseUpdate,ee=x.shared.pending;if(ee!==null){x.shared.pending=null;var le=ee,Ne=le.next;le.next=null,I===null?_=Ne:I.next=Ne,I=le;var ke=n.alternate;ke!==null&&(ke=ke.updateQueue,ee=ke.lastBaseUpdate,ee!==I&&(ee===null?ke.firstBaseUpdate=Ne:ee.next=Ne,ke.lastBaseUpdate=le))}if(_!==null){var Ce=x.baseState;I=0,ke=Ne=le=null,ee=_;do{var Se=ee.lane,Me=ee.eventTime;if((f&Se)===Se){ke!==null&&(ke=ke.next={eventTime:Me,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var Fe=n,$e=ee;switch(Se=s,Me=l,$e.tag){case 1:if(Fe=$e.payload,typeof Fe=="function"){Ce=Fe.call(Me,Ce,Se);break e}Ce=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=$e.payload,Se=typeof Fe=="function"?Fe.call(Me,Ce,Se):Fe,Se==null)break e;Ce=_e({},Ce,Se);break e;case 2:bs=!0}}ee.callback!==null&&ee.lane!==0&&(n.flags|=64,Se=x.effects,Se===null?x.effects=[ee]:Se.push(ee))}else Me={eventTime:Me,lane:Se,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},ke===null?(Ne=ke=Me,le=Ce):ke=ke.next=Me,I|=Se;if(ee=ee.next,ee===null){if(ee=x.shared.pending,ee===null)break;Se=ee,ee=Se.next,Se.next=null,x.lastBaseUpdate=Se,x.shared.pending=null}}while(!0);if(ke===null&&(le=Ce),x.baseState=le,x.firstBaseUpdate=Ne,x.lastBaseUpdate=ke,s=x.shared.interleaved,s!==null){x=s;do I|=x.lane,x=x.next;while(x!==s)}else _===null&&(x.shared.lanes=0);fi|=I,n.lanes=I,n.memoizedState=Ce}}function Dm(n,s,l){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var f=n[s],x=f.callback;if(x!==null){if(f.callback=null,f=l,typeof x!="function")throw Error(r(191,x));x.call(f)}}}var wa={},xn=ys(wa),va=ys(wa),ba=ys(wa);function ui(n){if(n===wa)throw Error(r(174));return n}function vf(n,s){switch(yt(ba,s),yt(va,n),yt(xn,wa),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:B(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=B(s,n)}vt(xn),yt(xn,s)}function io(){vt(xn),vt(va),vt(ba)}function Ym(n){ui(ba.current);var s=ui(xn.current),l=B(s,n.type);s!==l&&(yt(va,n),yt(xn,l))}function bf(n){va.current===n&&(vt(xn),vt(va))}var kt=ys(0);function tc(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Nf=[];function Ef(){for(var n=0;n<Nf.length;n++)Nf[n]._workInProgressVersionPrimary=null;Nf.length=0}var rc=G.ReactCurrentDispatcher,_f=G.ReactCurrentBatchConfig,di=0,jt=null,$t=null,qt=null,nc=!1,Na=!1,Ea=0,s3=0;function nr(){throw Error(r(321))}function Sf(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!Xr(n[l],s[l]))return!1;return!0}function kf(n,s,l,f,x,_){if(di=_,jt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,rc.current=n===null||n.memoizedState===null?l3:c3,n=l(f,x),Na){_=0;do{if(Na=!1,Ea=0,25<=_)throw Error(r(301));_+=1,qt=$t=null,s.updateQueue=null,rc.current=u3,n=l(f,x)}while(Na)}if(rc.current=oc,s=$t!==null&&$t.next!==null,di=0,qt=$t=jt=null,nc=!1,s)throw Error(r(300));return n}function jf(){var n=Ea!==0;return Ea=0,n}function yn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?jt.memoizedState=qt=n:qt=qt.next=n,qt}function Hr(){if($t===null){var n=jt.alternate;n=n!==null?n.memoizedState:null}else n=$t.next;var s=qt===null?jt.memoizedState:qt.next;if(s!==null)qt=s,$t=n;else{if(n===null)throw Error(r(310));$t=n,n={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},qt===null?jt.memoizedState=qt=n:qt=qt.next=n}return qt}function _a(n,s){return typeof s=="function"?s(n):s}function Af(n){var s=Hr(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var f=$t,x=f.baseQueue,_=l.pending;if(_!==null){if(x!==null){var I=x.next;x.next=_.next,_.next=I}f.baseQueue=x=_,l.pending=null}if(x!==null){_=x.next,f=f.baseState;var ee=I=null,le=null,Ne=_;do{var ke=Ne.lane;if((di&ke)===ke)le!==null&&(le=le.next={lane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),f=Ne.hasEagerState?Ne.eagerState:n(f,Ne.action);else{var Ce={lane:ke,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null};le===null?(ee=le=Ce,I=f):le=le.next=Ce,jt.lanes|=ke,fi|=ke}Ne=Ne.next}while(Ne!==null&&Ne!==_);le===null?I=f:le.next=ee,Xr(f,s.memoizedState)||(vr=!0),s.memoizedState=f,s.baseState=I,s.baseQueue=le,l.lastRenderedState=f}if(n=l.interleaved,n!==null){x=n;do _=x.lane,jt.lanes|=_,fi|=_,x=x.next;while(x!==n)}else x===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Cf(n){var s=Hr(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var f=l.dispatch,x=l.pending,_=s.memoizedState;if(x!==null){l.pending=null;var I=x=x.next;do _=n(_,I.action),I=I.next;while(I!==x);Xr(_,s.memoizedState)||(vr=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,f]}function Zm(){}function Xm(n,s){var l=jt,f=Hr(),x=s(),_=!Xr(f.memoizedState,x);if(_&&(f.memoizedState=x,vr=!0),f=f.queue,Tf(eg.bind(null,l,f,n),[n]),f.getSnapshot!==s||_||qt!==null&&qt.memoizedState.tag&1){if(l.flags|=2048,Sa(9,Jm.bind(null,l,f,x,s),void 0,null),Gt===null)throw Error(r(349));(di&30)!==0||Qm(l,s,x)}return x}function Qm(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=jt.updateQueue,s===null?(s={lastEffect:null,stores:null},jt.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function Jm(n,s,l,f){s.value=l,s.getSnapshot=f,tg(s)&&rg(n)}function eg(n,s,l){return l(function(){tg(s)&&rg(n)})}function tg(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!Xr(n,l)}catch{return!0}}function rg(n){var s=Vn(n,1);s!==null&&rn(s,n,1,-1)}function ng(n){var s=yn();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:n},s.queue=n,n=n.dispatch=a3.bind(null,jt,n),[s.memoizedState,n]}function Sa(n,s,l,f){return n={tag:n,create:s,destroy:l,deps:f,next:null},s=jt.updateQueue,s===null?(s={lastEffect:null,stores:null},jt.updateQueue=s,s.lastEffect=n.next=n):(l=s.lastEffect,l===null?s.lastEffect=n.next=n:(f=l.next,l.next=n,n.next=f,s.lastEffect=n)),n}function sg(){return Hr().memoizedState}function sc(n,s,l,f){var x=yn();jt.flags|=n,x.memoizedState=Sa(1|s,l,void 0,f===void 0?null:f)}function ic(n,s,l,f){var x=Hr();f=f===void 0?null:f;var _=void 0;if($t!==null){var I=$t.memoizedState;if(_=I.destroy,f!==null&&Sf(f,I.deps)){x.memoizedState=Sa(s,l,_,f);return}}jt.flags|=n,x.memoizedState=Sa(1|s,l,_,f)}function ig(n,s){return sc(8390656,8,n,s)}function Tf(n,s){return ic(2048,8,n,s)}function og(n,s){return ic(4,2,n,s)}function ag(n,s){return ic(4,4,n,s)}function lg(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function cg(n,s,l){return l=l!=null?l.concat([n]):null,ic(4,4,lg.bind(null,s,n),l)}function Rf(){}function ug(n,s){var l=Hr();s=s===void 0?null:s;var f=l.memoizedState;return f!==null&&s!==null&&Sf(s,f[1])?f[0]:(l.memoizedState=[n,s],n)}function dg(n,s){var l=Hr();s=s===void 0?null:s;var f=l.memoizedState;return f!==null&&s!==null&&Sf(s,f[1])?f[0]:(n=n(),l.memoizedState=[n,s],n)}function fg(n,s,l){return(di&21)===0?(n.baseState&&(n.baseState=!1,vr=!0),n.memoizedState=l):(Xr(l,s)||(l=Hp(),jt.lanes|=l,fi|=l,n.baseState=!0),s)}function i3(n,s){var l=pt;pt=l!==0&&4>l?l:4,n(!0);var f=_f.transition;_f.transition={};try{n(!1),s()}finally{pt=l,_f.transition=f}}function hg(){return Hr().memoizedState}function o3(n,s,l){var f=ks(n);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},pg(n))mg(s,l);else if(l=qm(n,s,l,f),l!==null){var x=hr();rn(l,n,f,x),gg(l,s,f)}}function a3(n,s,l){var f=ks(n),x={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(pg(n))mg(s,x);else{var _=n.alternate;if(n.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var I=s.lastRenderedState,ee=_(I,l);if(x.hasEagerState=!0,x.eagerState=ee,Xr(ee,I)){var le=s.interleaved;le===null?(x.next=x,yf(s)):(x.next=le.next,le.next=x),s.interleaved=x;return}}catch{}finally{}l=qm(n,s,x,f),l!==null&&(x=hr(),rn(l,n,f,x),gg(l,s,f))}}function pg(n){var s=n.alternate;return n===jt||s!==null&&s===jt}function mg(n,s){Na=nc=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function gg(n,s,l){if((l&4194240)!==0){var f=s.lanes;f&=n.pendingLanes,l|=f,s.lanes=l,Bd(n,l)}}var oc={readContext:Vr,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},l3={readContext:Vr,useCallback:function(n,s){return yn().memoizedState=[n,s===void 0?null:s],n},useContext:Vr,useEffect:ig,useImperativeHandle:function(n,s,l){return l=l!=null?l.concat([n]):null,sc(4194308,4,lg.bind(null,s,n),l)},useLayoutEffect:function(n,s){return sc(4194308,4,n,s)},useInsertionEffect:function(n,s){return sc(4,2,n,s)},useMemo:function(n,s){var l=yn();return s=s===void 0?null:s,n=n(),l.memoizedState=[n,s],n},useReducer:function(n,s,l){var f=yn();return s=l!==void 0?l(s):s,f.memoizedState=f.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},f.queue=n,n=n.dispatch=o3.bind(null,jt,n),[f.memoizedState,n]},useRef:function(n){var s=yn();return n={current:n},s.memoizedState=n},useState:ng,useDebugValue:Rf,useDeferredValue:function(n){return yn().memoizedState=n},useTransition:function(){var n=ng(!1),s=n[0];return n=i3.bind(null,n[1]),yn().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,l){var f=jt,x=yn();if(_t){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Gt===null)throw Error(r(349));(di&30)!==0||Qm(f,s,l)}x.memoizedState=l;var _={value:l,getSnapshot:s};return x.queue=_,ig(eg.bind(null,f,_,n),[n]),f.flags|=2048,Sa(9,Jm.bind(null,f,_,l,s),void 0,null),l},useId:function(){var n=yn(),s=Gt.identifierPrefix;if(_t){var l=zn,f=$n;l=(f&~(1<<32-Zr(f)-1)).toString(32)+l,s=":"+s+"R"+l,l=Ea++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=s3++,s=":"+s+"r"+l.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},c3={readContext:Vr,useCallback:ug,useContext:Vr,useEffect:Tf,useImperativeHandle:cg,useInsertionEffect:og,useLayoutEffect:ag,useMemo:dg,useReducer:Af,useRef:sg,useState:function(){return Af(_a)},useDebugValue:Rf,useDeferredValue:function(n){var s=Hr();return fg(s,$t.memoizedState,n)},useTransition:function(){var n=Af(_a)[0],s=Hr().memoizedState;return[n,s]},useMutableSource:Zm,useSyncExternalStore:Xm,useId:hg,unstable_isNewReconciler:!1},u3={readContext:Vr,useCallback:ug,useContext:Vr,useEffect:Tf,useImperativeHandle:cg,useInsertionEffect:og,useLayoutEffect:ag,useMemo:dg,useReducer:Cf,useRef:sg,useState:function(){return Cf(_a)},useDebugValue:Rf,useDeferredValue:function(n){var s=Hr();return $t===null?s.memoizedState=n:fg(s,$t.memoizedState,n)},useTransition:function(){var n=Cf(_a)[0],s=Hr().memoizedState;return[n,s]},useMutableSource:Zm,useSyncExternalStore:Xm,useId:hg,unstable_isNewReconciler:!1};function Jr(n,s){if(n&&n.defaultProps){s=_e({},s),n=n.defaultProps;for(var l in n)s[l]===void 0&&(s[l]=n[l]);return s}return s}function Bf(n,s,l,f){s=n.memoizedState,l=l(f,s),l=l==null?s:_e({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var ac={isMounted:function(n){return(n=n._reactInternals)?In(n)===n:!1},enqueueSetState:function(n,s,l){n=n._reactInternals;var f=hr(),x=ks(n),_=Hn(f,x);_.payload=s,l!=null&&(_.callback=l),s=Ns(n,_,x),s!==null&&(rn(s,n,x,f),Jl(s,n,x))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var f=hr(),x=ks(n),_=Hn(f,x);_.tag=1,_.payload=s,l!=null&&(_.callback=l),s=Ns(n,_,x),s!==null&&(rn(s,n,x,f),Jl(s,n,x))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=hr(),f=ks(n),x=Hn(l,f);x.tag=2,s!=null&&(x.callback=s),s=Ns(n,x,f),s!==null&&(rn(s,n,f,l),Jl(s,n,f))}};function xg(n,s,l,f,x,_,I){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,_,I):s.prototype&&s.prototype.isPureReactComponent?!da(l,f)||!da(x,_):!0}function yg(n,s,l){var f=!1,x=ws,_=s.contextType;return typeof _=="object"&&_!==null?_=Vr(_):(x=wr(s)?oi:rr.current,f=s.contextTypes,_=(f=f!=null)?Qi(n,x):ws),s=new s(l,_),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ac,n.stateNode=s,s._reactInternals=n,f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=x,n.__reactInternalMemoizedMaskedChildContext=_),s}function wg(n,s,l,f){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==n&&ac.enqueueReplaceState(s,s.state,null)}function Pf(n,s,l,f){var x=n.stateNode;x.props=l,x.state=n.memoizedState,x.refs={},wf(n);var _=s.contextType;typeof _=="object"&&_!==null?x.context=Vr(_):(_=wr(s)?oi:rr.current,x.context=Qi(n,_)),x.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Bf(n,s,_,l),x.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(s=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),s!==x.state&&ac.enqueueReplaceState(x,x.state,null),ec(n,l,x,f),x.state=n.memoizedState),typeof x.componentDidMount=="function"&&(n.flags|=4194308)}function oo(n,s){try{var l="",f=s;do l+=Pe(f),f=f.return;while(f);var x=l}catch(_){x=`
Error generating stack: `+_.message+`
`+_.stack}return{value:n,source:s,stack:x,digest:null}}function Mf(n,s,l){return{value:n,source:null,stack:l??null,digest:s??null}}function Of(n,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var d3=typeof WeakMap=="function"?WeakMap:Map;function vg(n,s,l){l=Hn(-1,l),l.tag=3,l.payload={element:null};var f=s.value;return l.callback=function(){pc||(pc=!0,Zf=f),Of(n,s)},l}function bg(n,s,l){l=Hn(-1,l),l.tag=3;var f=n.type.getDerivedStateFromError;if(typeof f=="function"){var x=s.value;l.payload=function(){return f(x)},l.callback=function(){Of(n,s)}}var _=n.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(l.callback=function(){Of(n,s),typeof f!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var I=s.stack;this.componentDidCatch(s.value,{componentStack:I!==null?I:""})}),l}function Ng(n,s,l){var f=n.pingCache;if(f===null){f=n.pingCache=new d3;var x=new Set;f.set(s,x)}else x=f.get(s),x===void 0&&(x=new Set,f.set(s,x));x.has(l)||(x.add(l),n=S3.bind(null,n,s,l),s.then(n,n))}function Eg(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function _g(n,s,l,f,x){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Hn(-1,1),s.tag=2,Ns(l,s,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=x,n)}var f3=G.ReactCurrentOwner,vr=!1;function fr(n,s,l,f){s.child=n===null?Wm(s,null,l,f):ro(s,n.child,l,f)}function Sg(n,s,l,f,x){l=l.render;var _=s.ref;return so(s,x),f=kf(n,s,l,f,_,x),l=jf(),n!==null&&!vr?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~x,Ln(n,s,x)):(_t&&l&&cf(s),s.flags|=1,fr(n,s,f,x),s.child)}function kg(n,s,l,f,x){if(n===null){var _=l.type;return typeof _=="function"&&!nh(_)&&_.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=_,jg(n,s,_,f,x)):(n=vc(l.type,null,f,s,s.mode,x),n.ref=s.ref,n.return=s,s.child=n)}if(_=n.child,(n.lanes&x)===0){var I=_.memoizedProps;if(l=l.compare,l=l!==null?l:da,l(I,f)&&n.ref===s.ref)return Ln(n,s,x)}return s.flags|=1,n=As(_,f),n.ref=s.ref,n.return=s,s.child=n}function jg(n,s,l,f,x){if(n!==null){var _=n.memoizedProps;if(da(_,f)&&n.ref===s.ref)if(vr=!1,s.pendingProps=f=_,(n.lanes&x)!==0)(n.flags&131072)!==0&&(vr=!0);else return s.lanes=n.lanes,Ln(n,s,x)}return If(n,s,l,f,x)}function Ag(n,s,l){var f=s.pendingProps,x=f.children,_=n!==null?n.memoizedState:null;if(f.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(lo,Rr),Rr|=l;else{if((l&1073741824)===0)return n=_!==null?_.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,yt(lo,Rr),Rr|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:l,yt(lo,Rr),Rr|=f}else _!==null?(f=_.baseLanes|l,s.memoizedState=null):f=l,yt(lo,Rr),Rr|=f;return fr(n,s,x,l),s.child}function Cg(n,s){var l=s.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function If(n,s,l,f,x){var _=wr(l)?oi:rr.current;return _=Qi(s,_),so(s,x),l=kf(n,s,l,f,_,x),f=jf(),n!==null&&!vr?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~x,Ln(n,s,x)):(_t&&f&&cf(s),s.flags|=1,fr(n,s,l,x),s.child)}function Tg(n,s,l,f,x){if(wr(l)){var _=!0;ql(s)}else _=!1;if(so(s,x),s.stateNode===null)cc(n,s),yg(s,l,f),Pf(s,l,f,x),f=!0;else if(n===null){var I=s.stateNode,ee=s.memoizedProps;I.props=ee;var le=I.context,Ne=l.contextType;typeof Ne=="object"&&Ne!==null?Ne=Vr(Ne):(Ne=wr(l)?oi:rr.current,Ne=Qi(s,Ne));var ke=l.getDerivedStateFromProps,Ce=typeof ke=="function"||typeof I.getSnapshotBeforeUpdate=="function";Ce||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(ee!==f||le!==Ne)&&wg(s,I,f,Ne),bs=!1;var Se=s.memoizedState;I.state=Se,ec(s,f,I,x),le=s.memoizedState,ee!==f||Se!==le||yr.current||bs?(typeof ke=="function"&&(Bf(s,l,ke,f),le=s.memoizedState),(ee=bs||xg(s,l,ee,f,Se,le,Ne))?(Ce||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(s.flags|=4194308)):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=le),I.props=f,I.state=le,I.context=Ne,f=ee):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{I=s.stateNode,Gm(n,s),ee=s.memoizedProps,Ne=s.type===s.elementType?ee:Jr(s.type,ee),I.props=Ne,Ce=s.pendingProps,Se=I.context,le=l.contextType,typeof le=="object"&&le!==null?le=Vr(le):(le=wr(l)?oi:rr.current,le=Qi(s,le));var Me=l.getDerivedStateFromProps;(ke=typeof Me=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(ee!==Ce||Se!==le)&&wg(s,I,f,le),bs=!1,Se=s.memoizedState,I.state=Se,ec(s,f,I,x);var Fe=s.memoizedState;ee!==Ce||Se!==Fe||yr.current||bs?(typeof Me=="function"&&(Bf(s,l,Me,f),Fe=s.memoizedState),(Ne=bs||xg(s,l,Ne,f,Se,Fe,le)||!1)?(ke||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(f,Fe,le),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(f,Fe,le)),typeof I.componentDidUpdate=="function"&&(s.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof I.componentDidUpdate!="function"||ee===n.memoizedProps&&Se===n.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||ee===n.memoizedProps&&Se===n.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=Fe),I.props=f,I.state=Fe,I.context=le,f=Ne):(typeof I.componentDidUpdate!="function"||ee===n.memoizedProps&&Se===n.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||ee===n.memoizedProps&&Se===n.memoizedState||(s.flags|=1024),f=!1)}return Ff(n,s,l,f,_,x)}function Ff(n,s,l,f,x,_){Cg(n,s);var I=(s.flags&128)!==0;if(!f&&!I)return x&&Om(s,l,!1),Ln(n,s,_);f=s.stateNode,f3.current=s;var ee=I&&typeof l.getDerivedStateFromError!="function"?null:f.render();return s.flags|=1,n!==null&&I?(s.child=ro(s,n.child,null,_),s.child=ro(s,null,ee,_)):fr(n,s,ee,_),s.memoizedState=f.state,x&&Om(s,l,!0),s.child}function Rg(n){var s=n.stateNode;s.pendingContext?Pm(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Pm(n,s.context,!1),vf(n,s.containerInfo)}function Bg(n,s,l,f,x){return to(),hf(x),s.flags|=256,fr(n,s,l,f),s.child}var Uf={dehydrated:null,treeContext:null,retryLane:0};function $f(n){return{baseLanes:n,cachePool:null,transitions:null}}function Pg(n,s,l){var f=s.pendingProps,x=kt.current,_=!1,I=(s.flags&128)!==0,ee;if((ee=I)||(ee=n!==null&&n.memoizedState===null?!1:(x&2)!==0),ee?(_=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(x|=1),yt(kt,x&1),n===null)return ff(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(I=f.children,n=f.fallback,_?(f=s.mode,_=s.child,I={mode:"hidden",children:I},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=I):_=bc(I,f,0,null),n=gi(n,f,l,null),_.return=s,n.return=s,_.sibling=n,s.child=_,s.child.memoizedState=$f(l),s.memoizedState=Uf,n):zf(s,I));if(x=n.memoizedState,x!==null&&(ee=x.dehydrated,ee!==null))return h3(n,s,I,f,ee,x,l);if(_){_=f.fallback,I=s.mode,x=n.child,ee=x.sibling;var le={mode:"hidden",children:f.children};return(I&1)===0&&s.child!==x?(f=s.child,f.childLanes=0,f.pendingProps=le,s.deletions=null):(f=As(x,le),f.subtreeFlags=x.subtreeFlags&14680064),ee!==null?_=As(ee,_):(_=gi(_,I,l,null),_.flags|=2),_.return=s,f.return=s,f.sibling=_,s.child=f,f=_,_=s.child,I=n.child.memoizedState,I=I===null?$f(l):{baseLanes:I.baseLanes|l,cachePool:null,transitions:I.transitions},_.memoizedState=I,_.childLanes=n.childLanes&~l,s.memoizedState=Uf,f}return _=n.child,n=_.sibling,f=As(_,{mode:"visible",children:f.children}),(s.mode&1)===0&&(f.lanes=l),f.return=s,f.sibling=null,n!==null&&(l=s.deletions,l===null?(s.deletions=[n],s.flags|=16):l.push(n)),s.child=f,s.memoizedState=null,f}function zf(n,s){return s=bc({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function lc(n,s,l,f){return f!==null&&hf(f),ro(s,n.child,null,l),n=zf(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function h3(n,s,l,f,x,_,I){if(l)return s.flags&256?(s.flags&=-257,f=Mf(Error(r(422))),lc(n,s,I,f)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(_=f.fallback,x=s.mode,f=bc({mode:"visible",children:f.children},x,0,null),_=gi(_,x,I,null),_.flags|=2,f.return=s,_.return=s,f.sibling=_,s.child=f,(s.mode&1)!==0&&ro(s,n.child,null,I),s.child.memoizedState=$f(I),s.memoizedState=Uf,_);if((s.mode&1)===0)return lc(n,s,I,null);if(x.data==="$!"){if(f=x.nextSibling&&x.nextSibling.dataset,f)var ee=f.dgst;return f=ee,_=Error(r(419)),f=Mf(_,f,void 0),lc(n,s,I,f)}if(ee=(I&n.childLanes)!==0,vr||ee){if(f=Gt,f!==null){switch(I&-I){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(f.suspendedLanes|I))!==0?0:x,x!==0&&x!==_.retryLane&&(_.retryLane=x,Vn(n,x),rn(f,n,x,-1))}return rh(),f=Mf(Error(r(421))),lc(n,s,I,f)}return x.data==="$?"?(s.flags|=128,s.child=n.child,s=k3.bind(null,n),x._reactRetry=s,null):(n=_.treeContext,Tr=xs(x.nextSibling),Cr=s,_t=!0,Qr=null,n!==null&&($r[zr++]=$n,$r[zr++]=zn,$r[zr++]=ai,$n=n.id,zn=n.overflow,ai=s),s=zf(s,f.children),s.flags|=4096,s)}function Mg(n,s,l){n.lanes|=s;var f=n.alternate;f!==null&&(f.lanes|=s),xf(n.return,s,l)}function Vf(n,s,l,f,x){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:x}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=l,_.tailMode=x)}function Og(n,s,l){var f=s.pendingProps,x=f.revealOrder,_=f.tail;if(fr(n,s,f.children,l),f=kt.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Mg(n,l,s);else if(n.tag===19)Mg(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}if(yt(kt,f),(s.mode&1)===0)s.memoizedState=null;else switch(x){case"forwards":for(l=s.child,x=null;l!==null;)n=l.alternate,n!==null&&tc(n)===null&&(x=l),l=l.sibling;l=x,l===null?(x=s.child,s.child=null):(x=l.sibling,l.sibling=null),Vf(s,!1,x,l,_);break;case"backwards":for(l=null,x=s.child,s.child=null;x!==null;){if(n=x.alternate,n!==null&&tc(n)===null){s.child=x;break}n=x.sibling,x.sibling=l,l=x,x=n}Vf(s,!0,l,null,_);break;case"together":Vf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function cc(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Ln(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),fi|=s.lanes,(l&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,l=As(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=As(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function p3(n,s,l){switch(s.tag){case 3:Rg(s),to();break;case 5:Ym(s);break;case 1:wr(s.type)&&ql(s);break;case 4:vf(s,s.stateNode.containerInfo);break;case 10:var f=s.type._context,x=s.memoizedProps.value;yt(Xl,f._currentValue),f._currentValue=x;break;case 13:if(f=s.memoizedState,f!==null)return f.dehydrated!==null?(yt(kt,kt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Pg(n,s,l):(yt(kt,kt.current&1),n=Ln(n,s,l),n!==null?n.sibling:null);yt(kt,kt.current&1);break;case 19:if(f=(l&s.childLanes)!==0,(n.flags&128)!==0){if(f)return Og(n,s,l);s.flags|=128}if(x=s.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),yt(kt,kt.current),f)break;return null;case 22:case 23:return s.lanes=0,Ag(n,s,l)}return Ln(n,s,l)}var Ig,Hf,Fg,Ug;Ig=function(n,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Hf=function(){},Fg=function(n,s,l,f){var x=n.memoizedProps;if(x!==f){n=s.stateNode,ui(xn.current);var _=null;switch(l){case"input":x=se(n,x),f=se(n,f),_=[];break;case"select":x=_e({},x,{value:void 0}),f=_e({},f,{value:void 0}),_=[];break;case"textarea":x=ge(n,x),f=ge(n,f),_=[];break;default:typeof x.onClick!="function"&&typeof f.onClick=="function"&&(n.onclick=Hl)}De(l,f);var I;l=null;for(Ne in x)if(!f.hasOwnProperty(Ne)&&x.hasOwnProperty(Ne)&&x[Ne]!=null)if(Ne==="style"){var ee=x[Ne];for(I in ee)ee.hasOwnProperty(I)&&(l||(l={}),l[I]="")}else Ne!=="dangerouslySetInnerHTML"&&Ne!=="children"&&Ne!=="suppressContentEditableWarning"&&Ne!=="suppressHydrationWarning"&&Ne!=="autoFocus"&&(a.hasOwnProperty(Ne)?_||(_=[]):(_=_||[]).push(Ne,null));for(Ne in f){var le=f[Ne];if(ee=x!=null?x[Ne]:void 0,f.hasOwnProperty(Ne)&&le!==ee&&(le!=null||ee!=null))if(Ne==="style")if(ee){for(I in ee)!ee.hasOwnProperty(I)||le&&le.hasOwnProperty(I)||(l||(l={}),l[I]="");for(I in le)le.hasOwnProperty(I)&&ee[I]!==le[I]&&(l||(l={}),l[I]=le[I])}else l||(_||(_=[]),_.push(Ne,l)),l=le;else Ne==="dangerouslySetInnerHTML"?(le=le?le.__html:void 0,ee=ee?ee.__html:void 0,le!=null&&ee!==le&&(_=_||[]).push(Ne,le)):Ne==="children"?typeof le!="string"&&typeof le!="number"||(_=_||[]).push(Ne,""+le):Ne!=="suppressContentEditableWarning"&&Ne!=="suppressHydrationWarning"&&(a.hasOwnProperty(Ne)?(le!=null&&Ne==="onScroll"&&wt("scroll",n),_||ee===le||(_=[])):(_=_||[]).push(Ne,le))}l&&(_=_||[]).push("style",l);var Ne=_;(s.updateQueue=Ne)&&(s.flags|=4)}},Ug=function(n,s,l,f){l!==f&&(s.flags|=4)};function ka(n,s){if(!_t)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function sr(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,f=0;if(s)for(var x=n.child;x!==null;)l|=x.lanes|x.childLanes,f|=x.subtreeFlags&14680064,f|=x.flags&14680064,x.return=n,x=x.sibling;else for(x=n.child;x!==null;)l|=x.lanes|x.childLanes,f|=x.subtreeFlags,f|=x.flags,x.return=n,x=x.sibling;return n.subtreeFlags|=f,n.childLanes=l,s}function m3(n,s,l){var f=s.pendingProps;switch(uf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(s),null;case 1:return wr(s.type)&&Wl(),sr(s),null;case 3:return f=s.stateNode,io(),vt(yr),vt(rr),Ef(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(n===null||n.child===null)&&(Yl(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Qr!==null&&(Jf(Qr),Qr=null))),Hf(n,s),sr(s),null;case 5:bf(s);var x=ui(ba.current);if(l=s.type,n!==null&&s.stateNode!=null)Fg(n,s,l,f,x),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!f){if(s.stateNode===null)throw Error(r(166));return sr(s),null}if(n=ui(xn.current),Yl(s)){f=s.stateNode,l=s.type;var _=s.memoizedProps;switch(f[gn]=s,f[ga]=_,n=(s.mode&1)!==0,l){case"dialog":wt("cancel",f),wt("close",f);break;case"iframe":case"object":case"embed":wt("load",f);break;case"video":case"audio":for(x=0;x<ha.length;x++)wt(ha[x],f);break;case"source":wt("error",f);break;case"img":case"image":case"link":wt("error",f),wt("load",f);break;case"details":wt("toggle",f);break;case"input":ae(f,_),wt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},wt("invalid",f);break;case"textarea":Ae(f,_),wt("invalid",f)}De(l,_),x=null;for(var I in _)if(_.hasOwnProperty(I)){var ee=_[I];I==="children"?typeof ee=="string"?f.textContent!==ee&&(_.suppressHydrationWarning!==!0&&Vl(f.textContent,ee,n),x=["children",ee]):typeof ee=="number"&&f.textContent!==""+ee&&(_.suppressHydrationWarning!==!0&&Vl(f.textContent,ee,n),x=["children",""+ee]):a.hasOwnProperty(I)&&ee!=null&&I==="onScroll"&&wt("scroll",f)}switch(l){case"input":z(f),b(f,_,!0);break;case"textarea":z(f),Ue(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=Hl)}f=x,s.updateQueue=f,f!==null&&(s.flags|=4)}else{I=x.nodeType===9?x:x.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ze(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=I.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof f.is=="string"?n=I.createElement(l,{is:f.is}):(n=I.createElement(l),l==="select"&&(I=n,f.multiple?I.multiple=!0:f.size&&(I.size=f.size))):n=I.createElementNS(n,l),n[gn]=s,n[ga]=f,Ig(n,s,!1,!1),s.stateNode=n;e:{switch(I=We(l,f),l){case"dialog":wt("cancel",n),wt("close",n),x=f;break;case"iframe":case"object":case"embed":wt("load",n),x=f;break;case"video":case"audio":for(x=0;x<ha.length;x++)wt(ha[x],n);x=f;break;case"source":wt("error",n),x=f;break;case"img":case"image":case"link":wt("error",n),wt("load",n),x=f;break;case"details":wt("toggle",n),x=f;break;case"input":ae(n,f),x=se(n,f),wt("invalid",n);break;case"option":x=f;break;case"select":n._wrapperState={wasMultiple:!!f.multiple},x=_e({},f,{value:void 0}),wt("invalid",n);break;case"textarea":Ae(n,f),x=ge(n,f),wt("invalid",n);break;default:x=f}De(l,x),ee=x;for(_ in ee)if(ee.hasOwnProperty(_)){var le=ee[_];_==="style"?Ke(n,le):_==="dangerouslySetInnerHTML"?(le=le?le.__html:void 0,le!=null&&S(n,le)):_==="children"?typeof le=="string"?(l!=="textarea"||le!=="")&&K(n,le):typeof le=="number"&&K(n,""+le):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(a.hasOwnProperty(_)?le!=null&&_==="onScroll"&&wt("scroll",n):le!=null&&U(n,_,le,I))}switch(l){case"input":z(n),b(n,f,!1);break;case"textarea":z(n),Ue(n);break;case"option":f.value!=null&&n.setAttribute("value",""+he(f.value));break;case"select":n.multiple=!!f.multiple,_=f.value,_!=null?re(n,!!f.multiple,_,!1):f.defaultValue!=null&&re(n,!!f.multiple,f.defaultValue,!0);break;default:typeof x.onClick=="function"&&(n.onclick=Hl)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return sr(s),null;case 6:if(n&&s.stateNode!=null)Ug(n,s,n.memoizedProps,f);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(l=ui(ba.current),ui(xn.current),Yl(s)){if(f=s.stateNode,l=s.memoizedProps,f[gn]=s,(_=f.nodeValue!==l)&&(n=Cr,n!==null))switch(n.tag){case 3:Vl(f.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Vl(f.nodeValue,l,(n.mode&1)!==0)}_&&(s.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[gn]=s,s.stateNode=f}return sr(s),null;case 13:if(vt(kt),f=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(_t&&Tr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Vm(),to(),s.flags|=98560,_=!1;else if(_=Yl(s),f!==null&&f.dehydrated!==null){if(n===null){if(!_)throw Error(r(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[gn]=s}else to(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;sr(s),_=!1}else Qr!==null&&(Jf(Qr),Qr=null),_=!0;if(!_)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(f=f!==null,f!==(n!==null&&n.memoizedState!==null)&&f&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(kt.current&1)!==0?zt===0&&(zt=3):rh())),s.updateQueue!==null&&(s.flags|=4),sr(s),null);case 4:return io(),Hf(n,s),n===null&&pa(s.stateNode.containerInfo),sr(s),null;case 10:return gf(s.type._context),sr(s),null;case 17:return wr(s.type)&&Wl(),sr(s),null;case 19:if(vt(kt),_=s.memoizedState,_===null)return sr(s),null;if(f=(s.flags&128)!==0,I=_.rendering,I===null)if(f)ka(_,!1);else{if(zt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(I=tc(n),I!==null){for(s.flags|=128,ka(_,!1),f=I.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),s.subtreeFlags=0,f=l,l=s.child;l!==null;)_=l,n=f,_.flags&=14680066,I=_.alternate,I===null?(_.childLanes=0,_.lanes=n,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=I.childLanes,_.lanes=I.lanes,_.child=I.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=I.memoizedProps,_.memoizedState=I.memoizedState,_.updateQueue=I.updateQueue,_.type=I.type,n=I.dependencies,_.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return yt(kt,kt.current&1|2),s.child}n=n.sibling}_.tail!==null&&He()>co&&(s.flags|=128,f=!0,ka(_,!1),s.lanes=4194304)}else{if(!f)if(n=tc(I),n!==null){if(s.flags|=128,f=!0,l=n.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),ka(_,!0),_.tail===null&&_.tailMode==="hidden"&&!I.alternate&&!_t)return sr(s),null}else 2*He()-_.renderingStartTime>co&&l!==1073741824&&(s.flags|=128,f=!0,ka(_,!1),s.lanes=4194304);_.isBackwards?(I.sibling=s.child,s.child=I):(l=_.last,l!==null?l.sibling=I:s.child=I,_.last=I)}return _.tail!==null?(s=_.tail,_.rendering=s,_.tail=s.sibling,_.renderingStartTime=He(),s.sibling=null,l=kt.current,yt(kt,f?l&1|2:l&1),s):(sr(s),null);case 22:case 23:return th(),f=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==f&&(s.flags|=8192),f&&(s.mode&1)!==0?(Rr&1073741824)!==0&&(sr(s),s.subtreeFlags&6&&(s.flags|=8192)):sr(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function g3(n,s){switch(uf(s),s.tag){case 1:return wr(s.type)&&Wl(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return io(),vt(yr),vt(rr),Ef(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return bf(s),null;case 13:if(vt(kt),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));to()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return vt(kt),null;case 4:return io(),null;case 10:return gf(s.type._context),null;case 22:case 23:return th(),null;case 24:return null;default:return null}}var uc=!1,ir=!1,x3=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function ao(n,s){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){Tt(n,s,f)}else l.current=null}function Lf(n,s,l){try{l()}catch(f){Tt(n,s,f)}}var $g=!1;function y3(n,s){if(ef=Tl,n=xm(),Gd(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var x=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var I=0,ee=-1,le=-1,Ne=0,ke=0,Ce=n,Se=null;t:for(;;){for(var Me;Ce!==l||x!==0&&Ce.nodeType!==3||(ee=I+x),Ce!==_||f!==0&&Ce.nodeType!==3||(le=I+f),Ce.nodeType===3&&(I+=Ce.nodeValue.length),(Me=Ce.firstChild)!==null;)Se=Ce,Ce=Me;for(;;){if(Ce===n)break t;if(Se===l&&++Ne===x&&(ee=I),Se===_&&++ke===f&&(le=I),(Me=Ce.nextSibling)!==null)break;Ce=Se,Se=Ce.parentNode}Ce=Me}l=ee===-1||le===-1?null:{start:ee,end:le}}else l=null}l=l||{start:0,end:0}}else l=null;for(tf={focusedElem:n,selectionRange:l},Tl=!1,Ie=s;Ie!==null;)if(s=Ie,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Ie=n;else for(;Ie!==null;){s=Ie;try{var Fe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Fe!==null){var $e=Fe.memoizedProps,Pt=Fe.memoizedState,xe=s.stateNode,de=xe.getSnapshotBeforeUpdate(s.elementType===s.type?$e:Jr(s.type,$e),Pt);xe.__reactInternalSnapshotBeforeUpdate=de}break;case 3:var we=s.stateNode.containerInfo;we.nodeType===1?we.textContent="":we.nodeType===9&&we.documentElement&&we.removeChild(we.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Te){Tt(s,s.return,Te)}if(n=s.sibling,n!==null){n.return=s.return,Ie=n;break}Ie=s.return}return Fe=$g,$g=!1,Fe}function ja(n,s,l){var f=s.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var x=f=f.next;do{if((x.tag&n)===n){var _=x.destroy;x.destroy=void 0,_!==void 0&&Lf(s,l,_)}x=x.next}while(x!==f)}}function dc(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&n)===n){var f=l.create;l.destroy=f()}l=l.next}while(l!==s)}}function Wf(n){var s=n.ref;if(s!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof s=="function"?s(n):s.current=n}}function zg(n){var s=n.alternate;s!==null&&(n.alternate=null,zg(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[gn],delete s[ga],delete s[of],delete s[e3],delete s[t3])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Vg(n){return n.tag===5||n.tag===3||n.tag===4}function Hg(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Vg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function qf(n,s,l){var f=n.tag;if(f===5||f===6)n=n.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(n,s):l.insertBefore(n,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(n,l)):(s=l,s.appendChild(n)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Hl));else if(f!==4&&(n=n.child,n!==null))for(qf(n,s,l),n=n.sibling;n!==null;)qf(n,s,l),n=n.sibling}function Gf(n,s,l){var f=n.tag;if(f===5||f===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(f!==4&&(n=n.child,n!==null))for(Gf(n,s,l),n=n.sibling;n!==null;)Gf(n,s,l),n=n.sibling}var Zt=null,en=!1;function Es(n,s,l){for(l=l.child;l!==null;)Lg(n,s,l),l=l.sibling}function Lg(n,s,l){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(_l,l)}catch{}switch(l.tag){case 5:ir||ao(l,s);case 6:var f=Zt,x=en;Zt=null,Es(n,s,l),Zt=f,en=x,Zt!==null&&(en?(n=Zt,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):Zt.removeChild(l.stateNode));break;case 18:Zt!==null&&(en?(n=Zt,l=l.stateNode,n.nodeType===8?sf(n.parentNode,l):n.nodeType===1&&sf(n,l),ia(n)):sf(Zt,l.stateNode));break;case 4:f=Zt,x=en,Zt=l.stateNode.containerInfo,en=!0,Es(n,s,l),Zt=f,en=x;break;case 0:case 11:case 14:case 15:if(!ir&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){x=f=f.next;do{var _=x,I=_.destroy;_=_.tag,I!==void 0&&((_&2)!==0||(_&4)!==0)&&Lf(l,s,I),x=x.next}while(x!==f)}Es(n,s,l);break;case 1:if(!ir&&(ao(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(ee){Tt(l,s,ee)}Es(n,s,l);break;case 21:Es(n,s,l);break;case 22:l.mode&1?(ir=(f=ir)||l.memoizedState!==null,Es(n,s,l),ir=f):Es(n,s,l);break;default:Es(n,s,l)}}function Wg(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new x3),s.forEach(function(f){var x=j3.bind(null,n,f);l.has(f)||(l.add(f),f.then(x,x))})}}function tn(n,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var x=l[f];try{var _=n,I=s,ee=I;e:for(;ee!==null;){switch(ee.tag){case 5:Zt=ee.stateNode,en=!1;break e;case 3:Zt=ee.stateNode.containerInfo,en=!0;break e;case 4:Zt=ee.stateNode.containerInfo,en=!0;break e}ee=ee.return}if(Zt===null)throw Error(r(160));Lg(_,I,x),Zt=null,en=!1;var le=x.alternate;le!==null&&(le.return=null),x.return=null}catch(Ne){Tt(x,s,Ne)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)qg(s,n),s=s.sibling}function qg(n,s){var l=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(tn(s,n),wn(n),f&4){try{ja(3,n,n.return),dc(3,n)}catch($e){Tt(n,n.return,$e)}try{ja(5,n,n.return)}catch($e){Tt(n,n.return,$e)}}break;case 1:tn(s,n),wn(n),f&512&&l!==null&&ao(l,l.return);break;case 5:if(tn(s,n),wn(n),f&512&&l!==null&&ao(l,l.return),n.flags&32){var x=n.stateNode;try{K(x,"")}catch($e){Tt(n,n.return,$e)}}if(f&4&&(x=n.stateNode,x!=null)){var _=n.memoizedProps,I=l!==null?l.memoizedProps:_,ee=n.type,le=n.updateQueue;if(n.updateQueue=null,le!==null)try{ee==="input"&&_.type==="radio"&&_.name!=null&&T(x,_),We(ee,I);var Ne=We(ee,_);for(I=0;I<le.length;I+=2){var ke=le[I],Ce=le[I+1];ke==="style"?Ke(x,Ce):ke==="dangerouslySetInnerHTML"?S(x,Ce):ke==="children"?K(x,Ce):U(x,ke,Ce,Ne)}switch(ee){case"input":y(x,_);break;case"textarea":Oe(x,_);break;case"select":var Se=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!_.multiple;var Me=_.value;Me!=null?re(x,!!_.multiple,Me,!1):Se!==!!_.multiple&&(_.defaultValue!=null?re(x,!!_.multiple,_.defaultValue,!0):re(x,!!_.multiple,_.multiple?[]:"",!1))}x[ga]=_}catch($e){Tt(n,n.return,$e)}}break;case 6:if(tn(s,n),wn(n),f&4){if(n.stateNode===null)throw Error(r(162));x=n.stateNode,_=n.memoizedProps;try{x.nodeValue=_}catch($e){Tt(n,n.return,$e)}}break;case 3:if(tn(s,n),wn(n),f&4&&l!==null&&l.memoizedState.isDehydrated)try{ia(s.containerInfo)}catch($e){Tt(n,n.return,$e)}break;case 4:tn(s,n),wn(n);break;case 13:tn(s,n),wn(n),x=n.child,x.flags&8192&&(_=x.memoizedState!==null,x.stateNode.isHidden=_,!_||x.alternate!==null&&x.alternate.memoizedState!==null||(Yf=He())),f&4&&Wg(n);break;case 22:if(ke=l!==null&&l.memoizedState!==null,n.mode&1?(ir=(Ne=ir)||ke,tn(s,n),ir=Ne):tn(s,n),wn(n),f&8192){if(Ne=n.memoizedState!==null,(n.stateNode.isHidden=Ne)&&!ke&&(n.mode&1)!==0)for(Ie=n,ke=n.child;ke!==null;){for(Ce=Ie=ke;Ie!==null;){switch(Se=Ie,Me=Se.child,Se.tag){case 0:case 11:case 14:case 15:ja(4,Se,Se.return);break;case 1:ao(Se,Se.return);var Fe=Se.stateNode;if(typeof Fe.componentWillUnmount=="function"){f=Se,l=Se.return;try{s=f,Fe.props=s.memoizedProps,Fe.state=s.memoizedState,Fe.componentWillUnmount()}catch($e){Tt(f,l,$e)}}break;case 5:ao(Se,Se.return);break;case 22:if(Se.memoizedState!==null){Dg(Ce);continue}}Me!==null?(Me.return=Se,Ie=Me):Dg(Ce)}ke=ke.sibling}e:for(ke=null,Ce=n;;){if(Ce.tag===5){if(ke===null){ke=Ce;try{x=Ce.stateNode,Ne?(_=x.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(ee=Ce.stateNode,le=Ce.memoizedProps.style,I=le!=null&&le.hasOwnProperty("display")?le.display:null,ee.style.display=ve("display",I))}catch($e){Tt(n,n.return,$e)}}}else if(Ce.tag===6){if(ke===null)try{Ce.stateNode.nodeValue=Ne?"":Ce.memoizedProps}catch($e){Tt(n,n.return,$e)}}else if((Ce.tag!==22&&Ce.tag!==23||Ce.memoizedState===null||Ce===n)&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===n)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===n)break e;ke===Ce&&(ke=null),Ce=Ce.return}ke===Ce&&(ke=null),Ce.sibling.return=Ce.return,Ce=Ce.sibling}}break;case 19:tn(s,n),wn(n),f&4&&Wg(n);break;case 21:break;default:tn(s,n),wn(n)}}function wn(n){var s=n.flags;if(s&2){try{e:{for(var l=n.return;l!==null;){if(Vg(l)){var f=l;break e}l=l.return}throw Error(r(160))}switch(f.tag){case 5:var x=f.stateNode;f.flags&32&&(K(x,""),f.flags&=-33);var _=Hg(n);Gf(n,_,x);break;case 3:case 4:var I=f.stateNode.containerInfo,ee=Hg(n);qf(n,ee,I);break;default:throw Error(r(161))}}catch(le){Tt(n,n.return,le)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function w3(n,s,l){Ie=n,Gg(n)}function Gg(n,s,l){for(var f=(n.mode&1)!==0;Ie!==null;){var x=Ie,_=x.child;if(x.tag===22&&f){var I=x.memoizedState!==null||uc;if(!I){var ee=x.alternate,le=ee!==null&&ee.memoizedState!==null||ir;ee=uc;var Ne=ir;if(uc=I,(ir=le)&&!Ne)for(Ie=x;Ie!==null;)I=Ie,le=I.child,I.tag===22&&I.memoizedState!==null?Yg(x):le!==null?(le.return=I,Ie=le):Yg(x);for(;_!==null;)Ie=_,Gg(_),_=_.sibling;Ie=x,uc=ee,ir=Ne}Kg(n)}else(x.subtreeFlags&8772)!==0&&_!==null?(_.return=x,Ie=_):Kg(n)}}function Kg(n){for(;Ie!==null;){var s=Ie;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:ir||dc(5,s);break;case 1:var f=s.stateNode;if(s.flags&4&&!ir)if(l===null)f.componentDidMount();else{var x=s.elementType===s.type?l.memoizedProps:Jr(s.type,l.memoizedProps);f.componentDidUpdate(x,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=s.updateQueue;_!==null&&Dm(s,_,f);break;case 3:var I=s.updateQueue;if(I!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Dm(s,I,l)}break;case 5:var ee=s.stateNode;if(l===null&&s.flags&4){l=ee;var le=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":le.autoFocus&&l.focus();break;case"img":le.src&&(l.src=le.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Ne=s.alternate;if(Ne!==null){var ke=Ne.memoizedState;if(ke!==null){var Ce=ke.dehydrated;Ce!==null&&ia(Ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ir||s.flags&512&&Wf(s)}catch(Se){Tt(s,s.return,Se)}}if(s===n){Ie=null;break}if(l=s.sibling,l!==null){l.return=s.return,Ie=l;break}Ie=s.return}}function Dg(n){for(;Ie!==null;){var s=Ie;if(s===n){Ie=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Ie=l;break}Ie=s.return}}function Yg(n){for(;Ie!==null;){var s=Ie;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{dc(4,s)}catch(le){Tt(s,l,le)}break;case 1:var f=s.stateNode;if(typeof f.componentDidMount=="function"){var x=s.return;try{f.componentDidMount()}catch(le){Tt(s,x,le)}}var _=s.return;try{Wf(s)}catch(le){Tt(s,_,le)}break;case 5:var I=s.return;try{Wf(s)}catch(le){Tt(s,I,le)}}}catch(le){Tt(s,s.return,le)}if(s===n){Ie=null;break}var ee=s.sibling;if(ee!==null){ee.return=s.return,Ie=ee;break}Ie=s.return}}var v3=Math.ceil,fc=G.ReactCurrentDispatcher,Kf=G.ReactCurrentOwner,Lr=G.ReactCurrentBatchConfig,ut=0,Gt=null,It=null,Xt=0,Rr=0,lo=ys(0),zt=0,Aa=null,fi=0,hc=0,Df=0,Ca=null,br=null,Yf=0,co=1/0,Wn=null,pc=!1,Zf=null,_s=null,mc=!1,Ss=null,gc=0,Ta=0,Xf=null,xc=-1,yc=0;function hr(){return(ut&6)!==0?He():xc!==-1?xc:xc=He()}function ks(n){return(n.mode&1)===0?1:(ut&2)!==0&&Xt!==0?Xt&-Xt:n3.transition!==null?(yc===0&&(yc=Hp()),yc):(n=pt,n!==0||(n=window.event,n=n===void 0?16:Xp(n.type)),n)}function rn(n,s,l,f){if(50<Ta)throw Ta=0,Xf=null,Error(r(185));ea(n,l,f),((ut&2)===0||n!==Gt)&&(n===Gt&&((ut&2)===0&&(hc|=l),zt===4&&js(n,Xt)),Nr(n,f),l===1&&ut===0&&(s.mode&1)===0&&(co=He()+500,Gl&&vs()))}function Nr(n,s){var l=n.callbackNode;nN(n,s);var f=jl(n,n===Gt?Xt:0);if(f===0)l!==null&&El(l),n.callbackNode=null,n.callbackPriority=0;else if(s=f&-f,n.callbackPriority!==s){if(l!=null&&El(l),s===1)n.tag===0?r3(Xg.bind(null,n)):Im(Xg.bind(null,n)),QN(function(){(ut&6)===0&&vs()}),l=null;else{switch(Lp(f)){case 1:l=et;break;case 4:l=si;break;case 16:l=pn;break;case 536870912:l=Vp;break;default:l=pn}l=ix(l,Zg.bind(null,n))}n.callbackPriority=s,n.callbackNode=l}}function Zg(n,s){if(xc=-1,yc=0,(ut&6)!==0)throw Error(r(327));var l=n.callbackNode;if(uo()&&n.callbackNode!==l)return null;var f=jl(n,n===Gt?Xt:0);if(f===0)return null;if((f&30)!==0||(f&n.expiredLanes)!==0||s)s=wc(n,f);else{s=f;var x=ut;ut|=2;var _=Jg();(Gt!==n||Xt!==s)&&(Wn=null,co=He()+500,pi(n,s));do try{E3();break}catch(ee){Qg(n,ee)}while(!0);mf(),fc.current=_,ut=x,It!==null?s=0:(Gt=null,Xt=0,s=zt)}if(s!==0){if(s===2&&(x=Td(n),x!==0&&(f=x,s=Qf(n,x))),s===1)throw l=Aa,pi(n,0),js(n,f),Nr(n,He()),l;if(s===6)js(n,f);else{if(x=n.current.alternate,(f&30)===0&&!b3(x)&&(s=wc(n,f),s===2&&(_=Td(n),_!==0&&(f=_,s=Qf(n,_))),s===1))throw l=Aa,pi(n,0),js(n,f),Nr(n,He()),l;switch(n.finishedWork=x,n.finishedLanes=f,s){case 0:case 1:throw Error(r(345));case 2:mi(n,br,Wn);break;case 3:if(js(n,f),(f&130023424)===f&&(s=Yf+500-He(),10<s)){if(jl(n,0)!==0)break;if(x=n.suspendedLanes,(x&f)!==f){hr(),n.pingedLanes|=n.suspendedLanes&x;break}n.timeoutHandle=nf(mi.bind(null,n,br,Wn),s);break}mi(n,br,Wn);break;case 4:if(js(n,f),(f&4194240)===f)break;for(s=n.eventTimes,x=-1;0<f;){var I=31-Zr(f);_=1<<I,I=s[I],I>x&&(x=I),f&=~_}if(f=x,f=He()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*v3(f/1960))-f,10<f){n.timeoutHandle=nf(mi.bind(null,n,br,Wn),f);break}mi(n,br,Wn);break;case 5:mi(n,br,Wn);break;default:throw Error(r(329))}}}return Nr(n,He()),n.callbackNode===l?Zg.bind(null,n):null}function Qf(n,s){var l=Ca;return n.current.memoizedState.isDehydrated&&(pi(n,s).flags|=256),n=wc(n,s),n!==2&&(s=br,br=l,s!==null&&Jf(s)),n}function Jf(n){br===null?br=n:br.push.apply(br,n)}function b3(n){for(var s=n;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var x=l[f],_=x.getSnapshot;x=x.value;try{if(!Xr(_(),x))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function js(n,s){for(s&=~Df,s&=~hc,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var l=31-Zr(s),f=1<<l;n[l]=-1,s&=~f}}function Xg(n){if((ut&6)!==0)throw Error(r(327));uo();var s=jl(n,0);if((s&1)===0)return Nr(n,He()),null;var l=wc(n,s);if(n.tag!==0&&l===2){var f=Td(n);f!==0&&(s=f,l=Qf(n,f))}if(l===1)throw l=Aa,pi(n,0),js(n,s),Nr(n,He()),l;if(l===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,mi(n,br,Wn),Nr(n,He()),null}function eh(n,s){var l=ut;ut|=1;try{return n(s)}finally{ut=l,ut===0&&(co=He()+500,Gl&&vs())}}function hi(n){Ss!==null&&Ss.tag===0&&(ut&6)===0&&uo();var s=ut;ut|=1;var l=Lr.transition,f=pt;try{if(Lr.transition=null,pt=1,n)return n()}finally{pt=f,Lr.transition=l,ut=s,(ut&6)===0&&vs()}}function th(){Rr=lo.current,vt(lo)}function pi(n,s){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,XN(l)),It!==null)for(l=It.return;l!==null;){var f=l;switch(uf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Wl();break;case 3:io(),vt(yr),vt(rr),Ef();break;case 5:bf(f);break;case 4:io();break;case 13:vt(kt);break;case 19:vt(kt);break;case 10:gf(f.type._context);break;case 22:case 23:th()}l=l.return}if(Gt=n,It=n=As(n.current,null),Xt=Rr=s,zt=0,Aa=null,Df=hc=fi=0,br=Ca=null,ci!==null){for(s=0;s<ci.length;s++)if(l=ci[s],f=l.interleaved,f!==null){l.interleaved=null;var x=f.next,_=l.pending;if(_!==null){var I=_.next;_.next=x,f.next=I}l.pending=f}ci=null}return n}function Qg(n,s){do{var l=It;try{if(mf(),rc.current=oc,nc){for(var f=jt.memoizedState;f!==null;){var x=f.queue;x!==null&&(x.pending=null),f=f.next}nc=!1}if(di=0,qt=$t=jt=null,Na=!1,Ea=0,Kf.current=null,l===null||l.return===null){zt=1,Aa=s,It=null;break}e:{var _=n,I=l.return,ee=l,le=s;if(s=Xt,ee.flags|=32768,le!==null&&typeof le=="object"&&typeof le.then=="function"){var Ne=le,ke=ee,Ce=ke.tag;if((ke.mode&1)===0&&(Ce===0||Ce===11||Ce===15)){var Se=ke.alternate;Se?(ke.updateQueue=Se.updateQueue,ke.memoizedState=Se.memoizedState,ke.lanes=Se.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var Me=Eg(I);if(Me!==null){Me.flags&=-257,_g(Me,I,ee,_,s),Me.mode&1&&Ng(_,Ne,s),s=Me,le=Ne;var Fe=s.updateQueue;if(Fe===null){var $e=new Set;$e.add(le),s.updateQueue=$e}else Fe.add(le);break e}else{if((s&1)===0){Ng(_,Ne,s),rh();break e}le=Error(r(426))}}else if(_t&&ee.mode&1){var Pt=Eg(I);if(Pt!==null){(Pt.flags&65536)===0&&(Pt.flags|=256),_g(Pt,I,ee,_,s),hf(oo(le,ee));break e}}_=le=oo(le,ee),zt!==4&&(zt=2),Ca===null?Ca=[_]:Ca.push(_),_=I;do{switch(_.tag){case 3:_.flags|=65536,s&=-s,_.lanes|=s;var xe=vg(_,le,s);Km(_,xe);break e;case 1:ee=le;var de=_.type,we=_.stateNode;if((_.flags&128)===0&&(typeof de.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(_s===null||!_s.has(we)))){_.flags|=65536,s&=-s,_.lanes|=s;var Te=bg(_,ee,s);Km(_,Te);break e}}_=_.return}while(_!==null)}tx(l)}catch(ze){s=ze,It===l&&l!==null&&(It=l=l.return);continue}break}while(!0)}function Jg(){var n=fc.current;return fc.current=oc,n===null?oc:n}function rh(){(zt===0||zt===3||zt===2)&&(zt=4),Gt===null||(fi&268435455)===0&&(hc&268435455)===0||js(Gt,Xt)}function wc(n,s){var l=ut;ut|=2;var f=Jg();(Gt!==n||Xt!==s)&&(Wn=null,pi(n,s));do try{N3();break}catch(x){Qg(n,x)}while(!0);if(mf(),ut=l,fc.current=f,It!==null)throw Error(r(261));return Gt=null,Xt=0,zt}function N3(){for(;It!==null;)ex(It)}function E3(){for(;It!==null&&!Cd();)ex(It)}function ex(n){var s=sx(n.alternate,n,Rr);n.memoizedProps=n.pendingProps,s===null?tx(n):It=s,Kf.current=null}function tx(n){var s=n;do{var l=s.alternate;if(n=s.return,(s.flags&32768)===0){if(l=m3(l,s,Rr),l!==null){It=l;return}}else{if(l=g3(l,s),l!==null){l.flags&=32767,It=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{zt=6,It=null;return}}if(s=s.sibling,s!==null){It=s;return}It=s=n}while(s!==null);zt===0&&(zt=5)}function mi(n,s,l){var f=pt,x=Lr.transition;try{Lr.transition=null,pt=1,_3(n,s,l,f)}finally{Lr.transition=x,pt=f}return null}function _3(n,s,l,f){do uo();while(Ss!==null);if((ut&6)!==0)throw Error(r(327));l=n.finishedWork;var x=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var _=l.lanes|l.childLanes;if(sN(n,_),n===Gt&&(It=Gt=null,Xt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||mc||(mc=!0,ix(pn,function(){return uo(),null})),_=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||_){_=Lr.transition,Lr.transition=null;var I=pt;pt=1;var ee=ut;ut|=4,Kf.current=null,y3(n,l),qg(l,n),WN(tf),Tl=!!ef,tf=ef=null,n.current=l,w3(l),oe(),ut=ee,pt=I,Lr.transition=_}else n.current=l;if(mc&&(mc=!1,Ss=n,gc=x),_=n.pendingLanes,_===0&&(_s=null),Q2(l.stateNode),Nr(n,He()),s!==null)for(f=n.onRecoverableError,l=0;l<s.length;l++)x=s[l],f(x.value,{componentStack:x.stack,digest:x.digest});if(pc)throw pc=!1,n=Zf,Zf=null,n;return(gc&1)!==0&&n.tag!==0&&uo(),_=n.pendingLanes,(_&1)!==0?n===Xf?Ta++:(Ta=0,Xf=n):Ta=0,vs(),null}function uo(){if(Ss!==null){var n=Lp(gc),s=Lr.transition,l=pt;try{if(Lr.transition=null,pt=16>n?16:n,Ss===null)var f=!1;else{if(n=Ss,Ss=null,gc=0,(ut&6)!==0)throw Error(r(331));var x=ut;for(ut|=4,Ie=n.current;Ie!==null;){var _=Ie,I=_.child;if((Ie.flags&16)!==0){var ee=_.deletions;if(ee!==null){for(var le=0;le<ee.length;le++){var Ne=ee[le];for(Ie=Ne;Ie!==null;){var ke=Ie;switch(ke.tag){case 0:case 11:case 15:ja(8,ke,_)}var Ce=ke.child;if(Ce!==null)Ce.return=ke,Ie=Ce;else for(;Ie!==null;){ke=Ie;var Se=ke.sibling,Me=ke.return;if(zg(ke),ke===Ne){Ie=null;break}if(Se!==null){Se.return=Me,Ie=Se;break}Ie=Me}}}var Fe=_.alternate;if(Fe!==null){var $e=Fe.child;if($e!==null){Fe.child=null;do{var Pt=$e.sibling;$e.sibling=null,$e=Pt}while($e!==null)}}Ie=_}}if((_.subtreeFlags&2064)!==0&&I!==null)I.return=_,Ie=I;else e:for(;Ie!==null;){if(_=Ie,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:ja(9,_,_.return)}var xe=_.sibling;if(xe!==null){xe.return=_.return,Ie=xe;break e}Ie=_.return}}var de=n.current;for(Ie=de;Ie!==null;){I=Ie;var we=I.child;if((I.subtreeFlags&2064)!==0&&we!==null)we.return=I,Ie=we;else e:for(I=de;Ie!==null;){if(ee=Ie,(ee.flags&2048)!==0)try{switch(ee.tag){case 0:case 11:case 15:dc(9,ee)}}catch(ze){Tt(ee,ee.return,ze)}if(ee===I){Ie=null;break e}var Te=ee.sibling;if(Te!==null){Te.return=ee.return,Ie=Te;break e}Ie=ee.return}}if(ut=x,vs(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(_l,n)}catch{}f=!0}return f}finally{pt=l,Lr.transition=s}}return!1}function rx(n,s,l){s=oo(l,s),s=vg(n,s,1),n=Ns(n,s,1),s=hr(),n!==null&&(ea(n,1,s),Nr(n,s))}function Tt(n,s,l){if(n.tag===3)rx(n,n,l);else for(;s!==null;){if(s.tag===3){rx(s,n,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(_s===null||!_s.has(f))){n=oo(l,n),n=bg(s,n,1),s=Ns(s,n,1),n=hr(),s!==null&&(ea(s,1,n),Nr(s,n));break}}s=s.return}}function S3(n,s,l){var f=n.pingCache;f!==null&&f.delete(s),s=hr(),n.pingedLanes|=n.suspendedLanes&l,Gt===n&&(Xt&l)===l&&(zt===4||zt===3&&(Xt&130023424)===Xt&&500>He()-Yf?pi(n,0):Df|=l),Nr(n,s)}function nx(n,s){s===0&&((n.mode&1)===0?s=1:(s=kl,kl<<=1,(kl&130023424)===0&&(kl=4194304)));var l=hr();n=Vn(n,s),n!==null&&(ea(n,s,l),Nr(n,l))}function k3(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),nx(n,l)}function j3(n,s){var l=0;switch(n.tag){case 13:var f=n.stateNode,x=n.memoizedState;x!==null&&(l=x.retryLane);break;case 19:f=n.stateNode;break;default:throw Error(r(314))}f!==null&&f.delete(s),nx(n,l)}var sx;sx=function(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps||yr.current)vr=!0;else{if((n.lanes&l)===0&&(s.flags&128)===0)return vr=!1,p3(n,s,l);vr=(n.flags&131072)!==0}else vr=!1,_t&&(s.flags&1048576)!==0&&Fm(s,Dl,s.index);switch(s.lanes=0,s.tag){case 2:var f=s.type;cc(n,s),n=s.pendingProps;var x=Qi(s,rr.current);so(s,l),x=kf(null,s,f,n,x,l);var _=jf();return s.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,wr(f)?(_=!0,ql(s)):_=!1,s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,wf(s),x.updater=ac,s.stateNode=x,x._reactInternals=s,Pf(s,f,n,l),s=Ff(null,s,f,!0,_,l)):(s.tag=0,_t&&_&&cf(s),fr(null,s,x,l),s=s.child),s;case 16:f=s.elementType;e:{switch(cc(n,s),n=s.pendingProps,x=f._init,f=x(f._payload),s.type=f,x=s.tag=C3(f),n=Jr(f,n),x){case 0:s=If(null,s,f,n,l);break e;case 1:s=Tg(null,s,f,n,l);break e;case 11:s=Sg(null,s,f,n,l);break e;case 14:s=kg(null,s,f,Jr(f.type,n),l);break e}throw Error(r(306,f,""))}return s;case 0:return f=s.type,x=s.pendingProps,x=s.elementType===f?x:Jr(f,x),If(n,s,f,x,l);case 1:return f=s.type,x=s.pendingProps,x=s.elementType===f?x:Jr(f,x),Tg(n,s,f,x,l);case 3:e:{if(Rg(s),n===null)throw Error(r(387));f=s.pendingProps,_=s.memoizedState,x=_.element,Gm(n,s),ec(s,f,null,l);var I=s.memoizedState;if(f=I.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){x=oo(Error(r(423)),s),s=Bg(n,s,f,l,x);break e}else if(f!==x){x=oo(Error(r(424)),s),s=Bg(n,s,f,l,x);break e}else for(Tr=xs(s.stateNode.containerInfo.firstChild),Cr=s,_t=!0,Qr=null,l=Wm(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(to(),f===x){s=Ln(n,s,l);break e}fr(n,s,f,l)}s=s.child}return s;case 5:return Ym(s),n===null&&ff(s),f=s.type,x=s.pendingProps,_=n!==null?n.memoizedProps:null,I=x.children,rf(f,x)?I=null:_!==null&&rf(f,_)&&(s.flags|=32),Cg(n,s),fr(n,s,I,l),s.child;case 6:return n===null&&ff(s),null;case 13:return Pg(n,s,l);case 4:return vf(s,s.stateNode.containerInfo),f=s.pendingProps,n===null?s.child=ro(s,null,f,l):fr(n,s,f,l),s.child;case 11:return f=s.type,x=s.pendingProps,x=s.elementType===f?x:Jr(f,x),Sg(n,s,f,x,l);case 7:return fr(n,s,s.pendingProps,l),s.child;case 8:return fr(n,s,s.pendingProps.children,l),s.child;case 12:return fr(n,s,s.pendingProps.children,l),s.child;case 10:e:{if(f=s.type._context,x=s.pendingProps,_=s.memoizedProps,I=x.value,yt(Xl,f._currentValue),f._currentValue=I,_!==null)if(Xr(_.value,I)){if(_.children===x.children&&!yr.current){s=Ln(n,s,l);break e}}else for(_=s.child,_!==null&&(_.return=s);_!==null;){var ee=_.dependencies;if(ee!==null){I=_.child;for(var le=ee.firstContext;le!==null;){if(le.context===f){if(_.tag===1){le=Hn(-1,l&-l),le.tag=2;var Ne=_.updateQueue;if(Ne!==null){Ne=Ne.shared;var ke=Ne.pending;ke===null?le.next=le:(le.next=ke.next,ke.next=le),Ne.pending=le}}_.lanes|=l,le=_.alternate,le!==null&&(le.lanes|=l),xf(_.return,l,s),ee.lanes|=l;break}le=le.next}}else if(_.tag===10)I=_.type===s.type?null:_.child;else if(_.tag===18){if(I=_.return,I===null)throw Error(r(341));I.lanes|=l,ee=I.alternate,ee!==null&&(ee.lanes|=l),xf(I,l,s),I=_.sibling}else I=_.child;if(I!==null)I.return=_;else for(I=_;I!==null;){if(I===s){I=null;break}if(_=I.sibling,_!==null){_.return=I.return,I=_;break}I=I.return}_=I}fr(n,s,x.children,l),s=s.child}return s;case 9:return x=s.type,f=s.pendingProps.children,so(s,l),x=Vr(x),f=f(x),s.flags|=1,fr(n,s,f,l),s.child;case 14:return f=s.type,x=Jr(f,s.pendingProps),x=Jr(f.type,x),kg(n,s,f,x,l);case 15:return jg(n,s,s.type,s.pendingProps,l);case 17:return f=s.type,x=s.pendingProps,x=s.elementType===f?x:Jr(f,x),cc(n,s),s.tag=1,wr(f)?(n=!0,ql(s)):n=!1,so(s,l),yg(s,f,x),Pf(s,f,x,l),Ff(null,s,f,!0,n,l);case 19:return Og(n,s,l);case 22:return Ag(n,s,l)}throw Error(r(156,s.tag))};function ix(n,s){return ht(n,s)}function A3(n,s,l,f){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(n,s,l,f){return new A3(n,s,l,f)}function nh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function C3(n){if(typeof n=="function")return nh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===fe)return 11;if(n===Z)return 14}return 2}function As(n,s){var l=n.alternate;return l===null?(l=Wr(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function vc(n,s,l,f,x,_){var I=2;if(f=n,typeof n=="function")nh(n)&&(I=1);else if(typeof n=="string")I=5;else e:switch(n){case X:return gi(l.children,x,_,s);case $:I=8,x|=8;break;case q:return n=Wr(12,l,s,x|2),n.elementType=q,n.lanes=_,n;case A:return n=Wr(13,l,s,x),n.elementType=A,n.lanes=_,n;case V:return n=Wr(19,l,s,x),n.elementType=V,n.lanes=_,n;case ce:return bc(l,x,_,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case W:I=10;break e;case ie:I=9;break e;case fe:I=11;break e;case Z:I=14;break e;case J:I=16,f=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return s=Wr(I,l,s,x),s.elementType=n,s.type=f,s.lanes=_,s}function gi(n,s,l,f){return n=Wr(7,n,f,s),n.lanes=l,n}function bc(n,s,l,f){return n=Wr(22,n,f,s),n.elementType=ce,n.lanes=l,n.stateNode={isHidden:!1},n}function sh(n,s,l){return n=Wr(6,n,null,s),n.lanes=l,n}function ih(n,s,l){return s=Wr(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function T3(n,s,l,f,x){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rd(0),this.expirationTimes=Rd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rd(0),this.identifierPrefix=f,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function oh(n,s,l,f,x,_,I,ee,le){return n=new T3(n,s,l,ee,le),s===1?(s=1,_===!0&&(s|=8)):s=0,_=Wr(3,null,null,s),n.current=_,_.stateNode=n,_.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},wf(_),n}function R3(n,s,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:f==null?null:""+f,children:n,containerInfo:s,implementation:l}}function ox(n){if(!n)return ws;n=n._reactInternals;e:{if(In(n)!==n||n.tag!==1)throw Error(r(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(wr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(n.tag===1){var l=n.type;if(wr(l))return Mm(n,l,s)}return s}function ax(n,s,l,f,x,_,I,ee,le){return n=oh(l,f,!0,n,x,_,I,ee,le),n.context=ox(null),l=n.current,f=hr(),x=ks(l),_=Hn(f,x),_.callback=s??null,Ns(l,_,x),n.current.lanes=x,ea(n,x,f),Nr(n,f),n}function Nc(n,s,l,f){var x=s.current,_=hr(),I=ks(x);return l=ox(l),s.context===null?s.context=l:s.pendingContext=l,s=Hn(_,I),s.payload={element:n},f=f===void 0?null:f,f!==null&&(s.callback=f),n=Ns(x,s,I),n!==null&&(rn(n,x,I,_),Jl(n,x,I)),I}function Ec(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function lx(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function ah(n,s){lx(n,s),(n=n.alternate)&&lx(n,s)}function B3(){return null}var cx=typeof reportError=="function"?reportError:function(n){console.error(n)};function lh(n){this._internalRoot=n}_c.prototype.render=lh.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));Nc(n,s,null,null)},_c.prototype.unmount=lh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;hi(function(){Nc(null,n,null,null)}),s[Fn]=null}};function _c(n){this._internalRoot=n}_c.prototype.unstable_scheduleHydration=function(n){if(n){var s=Gp();n={blockedOn:null,target:n,priority:s};for(var l=0;l<ps.length&&s!==0&&s<ps[l].priority;l++);ps.splice(l,0,n),l===0&&Yp(n)}};function ch(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Sc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function ux(){}function P3(n,s,l,f,x){if(x){if(typeof f=="function"){var _=f;f=function(){var Ne=Ec(I);_.call(Ne)}}var I=ax(s,f,n,0,null,!1,!1,"",ux);return n._reactRootContainer=I,n[Fn]=I.current,pa(n.nodeType===8?n.parentNode:n),hi(),I}for(;x=n.lastChild;)n.removeChild(x);if(typeof f=="function"){var ee=f;f=function(){var Ne=Ec(le);ee.call(Ne)}}var le=oh(n,0,!1,null,null,!1,!1,"",ux);return n._reactRootContainer=le,n[Fn]=le.current,pa(n.nodeType===8?n.parentNode:n),hi(function(){Nc(s,le,l,f)}),le}function kc(n,s,l,f,x){var _=l._reactRootContainer;if(_){var I=_;if(typeof x=="function"){var ee=x;x=function(){var le=Ec(I);ee.call(le)}}Nc(s,I,n,x)}else I=P3(l,s,n,x,f);return Ec(I)}Wp=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var l=Jo(s.pendingLanes);l!==0&&(Bd(s,l|1),Nr(s,He()),(ut&6)===0&&(co=He()+500,vs()))}break;case 13:hi(function(){var f=Vn(n,1);if(f!==null){var x=hr();rn(f,n,1,x)}}),ah(n,1)}},Pd=function(n){if(n.tag===13){var s=Vn(n,134217728);if(s!==null){var l=hr();rn(s,n,134217728,l)}ah(n,134217728)}},qp=function(n){if(n.tag===13){var s=ks(n),l=Vn(n,s);if(l!==null){var f=hr();rn(l,n,s,f)}ah(n,s)}},Gp=function(){return pt},Kp=function(n,s){var l=pt;try{return pt=n,s()}finally{pt=l}},ri=function(n,s,l){switch(s){case"input":if(y(n,l),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==n&&f.form===n.form){var x=Ll(f);if(!x)throw Error(r(90));Y(f),y(f,x)}}}break;case"textarea":Oe(n,l);break;case"select":s=l.value,s!=null&&re(n,!!l.multiple,s,!1)}},Ed=eh,_d=hi;var M3={usingClientEntryPoint:!1,Events:[xa,Zi,Ll,$i,Yr,eh]},Ra={findFiberByHostInstance:ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},O3={bundleType:Ra.bundleType,version:Ra.version,rendererPackageName:Ra.rendererPackageName,rendererConfig:Ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=bl(n),n===null?null:n.stateNode},findFiberByHostInstance:Ra.findFiberByHostInstance||B3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{_l=jc.inject(O3),mn=jc}catch{}}return Er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M3,Er.createPortal=function(n,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ch(s))throw Error(r(200));return R3(n,s,null,l)},Er.createRoot=function(n,s){if(!ch(n))throw Error(r(299));var l=!1,f="",x=cx;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=oh(n,1,!1,null,null,l,!1,f,x),n[Fn]=s.current,pa(n.nodeType===8?n.parentNode:n),new lh(s)},Er.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=bl(s),n=n===null?null:n.stateNode,n},Er.flushSync=function(n){return hi(n)},Er.hydrate=function(n,s,l){if(!Sc(s))throw Error(r(200));return kc(null,n,s,!0,l)},Er.hydrateRoot=function(n,s,l){if(!ch(n))throw Error(r(405));var f=l!=null&&l.hydratedSources||null,x=!1,_="",I=cx;if(l!=null&&(l.unstable_strictMode===!0&&(x=!0),l.identifierPrefix!==void 0&&(_=l.identifierPrefix),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),s=ax(s,null,n,1,l??null,x,!1,_,I),n[Fn]=s.current,pa(n),f)for(n=0;n<f.length;n++)l=f[n],x=l._getVersion,x=x(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,x]:s.mutableSourceEagerHydrationData.push(l,x);return new _c(s)},Er.render=function(n,s,l){if(!Sc(s))throw Error(r(200));return kc(null,n,s,!1,l)},Er.unmountComponentAtNode=function(n){if(!Sc(n))throw Error(r(40));return n._reactRootContainer?(hi(function(){kc(null,null,n,!1,function(){n._reactRootContainer=null,n[Fn]=null})}),!0):!1},Er.unstable_batchedUpdates=eh,Er.unstable_renderSubtreeIntoContainer=function(n,s,l,f){if(!Sc(l))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return kc(n,s,l,!1,f)},Er.version="18.3.1-next-f1338f8080-20240426",Er}var yx;function gw(){if(yx)return fh.exports;yx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fh.exports=G3(),fh.exports}var wx;function K3(){if(wx)return Ac;wx=1;var e=gw();return Ac.createRoot=e.createRoot,Ac.hydrateRoot=e.hydrateRoot,Ac}var D3=K3();const Y3=qu(D3);var ll=gw();const Z3=qu(ll);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eu(){return Eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Eu.apply(this,arguments)}var qs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qs||(qs={}));const vx="popstate";function X3(e){e===void 0&&(e={});function t(i,a){let{pathname:c,search:d,hash:u}=i.location;return f0("",{pathname:c,search:d,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){return typeof a=="string"?a:yw(a)}return J3(t,r,null,e)}function jr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Q3(){return Math.random().toString(36).substr(2,8)}function bx(e,t){return{usr:e.state,key:e.key,idx:t}}function f0(e,t,r,i){return r===void 0&&(r=null),Eu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Gu(t):t,{state:r,key:t&&t.key||i||Q3()})}function yw(e){let{pathname:t="/",search:r="",hash:i=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Gu(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function J3(e,t,r,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:c=!1}=i,d=a.history,u=qs.Pop,h=null,m=g();m==null&&(m=0,d.replaceState(Eu({},d.state,{idx:m}),""));function g(){return(d.state||{idx:null}).idx}function p(){u=qs.Pop;let j=g(),R=j==null?null:j-m;m=j,h&&h({action:u,location:k.location,delta:R})}function v(j,R){u=qs.Push;let M=f0(k.location,j,R);m=g()+1;let U=bx(M,m),G=k.createHref(M);try{d.pushState(U,"",G)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(G)}c&&h&&h({action:u,location:k.location,delta:1})}function E(j,R){u=qs.Replace;let M=f0(k.location,j,R);m=g();let U=bx(M,m),G=k.createHref(M);d.replaceState(U,"",G),c&&h&&h({action:u,location:k.location,delta:0})}function w(j){let R=a.location.origin!=="null"?a.location.origin:a.location.href,M=typeof j=="string"?j:yw(j);return M=M.replace(/ $/,"%20"),jr(R,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,R)}let k={get action(){return u},get location(){return e(a,d)},listen(j){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(vx,p),h=j,()=>{a.removeEventListener(vx,p),h=null}},createHref(j){return t(a,j)},createURL:w,encodeLocation(j){let R=w(j);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:v,replace:E,go(j){return d.go(j)}};return k}var Nx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Nx||(Nx={}));function eE(e,t,r){return r===void 0&&(r="/"),tE(e,t,r)}function tE(e,t,r,i){let a=typeof t=="string"?Gu(t):t,c=bw(a.pathname||"/",r);if(c==null)return null;let d=ww(e);rE(d);let u=null;for(let h=0;u==null&&h<d.length;++h){let m=pE(c);u=dE(d[h],m)}return u}function ww(e,t,r,i){t===void 0&&(t=[]),r===void 0&&(r=[]),i===void 0&&(i="");let a=(c,d,u)=>{let h={relativePath:u===void 0?c.path||"":u,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};h.relativePath.startsWith("/")&&(jr(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let m=Bo([i,h.relativePath]),g=r.concat(h);c.children&&c.children.length>0&&(jr(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),ww(c.children,t,g,m)),!(c.path==null&&!c.index)&&t.push({path:m,score:cE(m,c.index),routesMeta:g})};return e.forEach((c,d)=>{var u;if(c.path===""||!((u=c.path)!=null&&u.includes("?")))a(c,d);else for(let h of vw(c.path))a(c,d,h)}),t}function vw(e){let t=e.split("/");if(t.length===0)return[];let[r,...i]=t,a=r.endsWith("?"),c=r.replace(/\?$/,"");if(i.length===0)return a?[c,""]:[c];let d=vw(i.join("/")),u=[];return u.push(...d.map(h=>h===""?c:[c,h].join("/"))),a&&u.push(...d),u.map(h=>e.startsWith("/")&&h===""?"/":h)}function rE(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:uE(t.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const nE=/^:[\w-]+$/,sE=3,iE=2,oE=1,aE=10,lE=-2,Ex=e=>e==="*";function cE(e,t){let r=e.split("/"),i=r.length;return r.some(Ex)&&(i+=lE),t&&(i+=iE),r.filter(a=>!Ex(a)).reduce((a,c)=>a+(nE.test(c)?sE:c===""?oE:aE),i)}function uE(e,t){return e.length===t.length&&e.slice(0,-1).every((i,a)=>i===t[a])?e[e.length-1]-t[t.length-1]:0}function dE(e,t,r){let{routesMeta:i}=e,a={},c="/",d=[];for(let u=0;u<i.length;++u){let h=i[u],m=u===i.length-1,g=c==="/"?t:t.slice(c.length)||"/",p=fE({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),v=h.route;if(!p)return null;Object.assign(a,p.params),d.push({params:a,pathname:Bo([c,p.pathname]),pathnameBase:mE(Bo([c,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(c=Bo([c,p.pathnameBase]))}return d}function fE(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=hE(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let c=a[0],d=c.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:i.reduce((m,g,p)=>{let{paramName:v,isOptional:E}=g;if(v==="*"){let k=u[p]||"";d=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}const w=u[p];return E&&!w?m[v]=void 0:m[v]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:d,pattern:e}}function hE(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),xw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function pE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function bw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}const Bo=e=>e.join("/").replace(/\/\/+/g,"/"),mE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function gE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Nw=["post","put","patch","delete"];new Set(Nw);const xE=["get",...Nw];new Set(xE);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},_u.apply(this,arguments)}const yE=C.createContext(null),wE=C.createContext(null),Ew=C.createContext(null),Ku=C.createContext(null),Du=C.createContext({outlet:null,matches:[],isDataRoute:!1}),_w=C.createContext(null);function J0(){return C.useContext(Ku)!=null}function vE(){return J0()||jr(!1),C.useContext(Ku).location}function bE(e,t){return NE(e,t)}function NE(e,t,r,i){J0()||jr(!1);let{navigator:a}=C.useContext(Ew),{matches:c}=C.useContext(Du),d=c[c.length-1],u=d?d.params:{};d&&d.pathname;let h=d?d.pathnameBase:"/";d&&d.route;let m=vE(),g;if(t){var p;let j=typeof t=="string"?Gu(t):t;h==="/"||(p=j.pathname)!=null&&p.startsWith(h)||jr(!1),g=j}else g=m;let v=g.pathname||"/",E=v;if(h!=="/"){let j=h.replace(/^\//,"").split("/");E="/"+v.replace(/^\//,"").split("/").slice(j.length).join("/")}let w=eE(e,{pathname:E}),k=jE(w&&w.map(j=>Object.assign({},j,{params:Object.assign({},u,j.params),pathname:Bo([h,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?h:Bo([h,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),c,r,i);return t&&k?C.createElement(Ku.Provider,{value:{location:_u({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:qs.Pop}},k):k}function EE(){let e=RE(),t=gE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:a},r):null,null)}const _E=C.createElement(EE,null);class SE extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?C.createElement(Du.Provider,{value:this.props.routeContext},C.createElement(_w.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kE(e){let{routeContext:t,match:r,children:i}=e,a=C.useContext(yE);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(Du.Provider,{value:t},i)}function jE(e,t,r,i){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),i===void 0&&(i=null),e==null){var c;if(!r)return null;if(r.errors)e=r.matches;else if((c=i)!=null&&c.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let d=e,u=(a=r)==null?void 0:a.errors;if(u!=null){let g=d.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);g>=0||jr(!1),d=d.slice(0,Math.min(d.length,g+1))}let h=!1,m=-1;if(r&&i&&i.v7_partialHydration)for(let g=0;g<d.length;g++){let p=d[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:v,errors:E}=r,w=p.route.loader&&v[p.route.id]===void 0&&(!E||E[p.route.id]===void 0);if(p.route.lazy||w){h=!0,m>=0?d=d.slice(0,m+1):d=[d[0]];break}}}return d.reduceRight((g,p,v)=>{let E,w=!1,k=null,j=null;r&&(E=u&&p.route.id?u[p.route.id]:void 0,k=p.route.errorElement||_E,h&&(m<0&&v===0?(BE("route-fallback"),w=!0,j=null):m===v&&(w=!0,j=p.route.hydrateFallbackElement||null)));let R=t.concat(d.slice(0,v+1)),M=()=>{let U;return E?U=k:w?U=j:p.route.Component?U=C.createElement(p.route.Component,null):p.route.element?U=p.route.element:U=g,C.createElement(kE,{match:p,routeContext:{outlet:g,matches:R,isDataRoute:r!=null},children:U})};return r&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?C.createElement(SE,{location:r.location,revalidation:r.revalidation,component:k,error:E,children:M(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):M()},null)}var Sw=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Sw||{});function AE(e){let t=C.useContext(wE);return t||jr(!1),t}function CE(e){let t=C.useContext(Du);return t||jr(!1),t}function TE(e){let t=CE(),r=t.matches[t.matches.length-1];return r.route.id||jr(!1),r.route.id}function RE(){var e;let t=C.useContext(_w),r=AE(Sw.UseRouteError),i=TE();return t!==void 0?t:(e=r.errors)==null?void 0:e[i]}const _x={};function BE(e,t,r){_x[e]||(_x[e]=!0)}function PE(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function h0(e){jr(!1)}function ME(e){let{basename:t="/",children:r=null,location:i,navigationType:a=qs.Pop,navigator:c,static:d=!1,future:u}=e;J0()&&jr(!1);let h=t.replace(/^\/*/,"/"),m=C.useMemo(()=>({basename:h,navigator:c,static:d,future:_u({v7_relativeSplatPath:!1},u)}),[h,u,c,d]);typeof i=="string"&&(i=Gu(i));let{pathname:g="/",search:p="",hash:v="",state:E=null,key:w="default"}=i,k=C.useMemo(()=>{let j=bw(g,h);return j==null?null:{location:{pathname:j,search:p,hash:v,state:E,key:w},navigationType:a}},[h,g,p,v,E,w,a]);return k==null?null:C.createElement(Ew.Provider,{value:m},C.createElement(Ku.Provider,{children:r,value:k}))}function OE(e){let{children:t,location:r}=e;return bE(p0(t),r)}new Promise(()=>{});function p0(e,t){t===void 0&&(t=[]);let r=[];return C.Children.forEach(e,(i,a)=>{if(!C.isValidElement(i))return;let c=[...t,a];if(i.type===C.Fragment){r.push.apply(r,p0(i.props.children,c));return}i.type!==h0&&jr(!1),!i.props.index||!i.props.children||jr(!1);let d={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=p0(i.props.children,c)),r.push(d)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const IE="6";try{window.__reactRouterVersion=IE}catch{}const FE="startTransition",Sx=Q0[FE];function UE(e){let{basename:t,children:r,future:i,window:a}=e,c=C.useRef();c.current==null&&(c.current=X3({window:a,v5Compat:!0}));let d=c.current,[u,h]=C.useState({action:d.action,location:d.location}),{v7_startTransition:m}=i||{},g=C.useCallback(p=>{m&&Sx?Sx(()=>h(p)):h(p)},[h,m]);return C.useLayoutEffect(()=>d.listen(g),[d,g]),C.useEffect(()=>PE(i),[i]),C.createElement(ME,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:d,future:i})}var kx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(kx||(kx={}));var jx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(jx||(jx={}));var mh={},Pa={},Ax;function kw(){if(Ax)return Pa;Ax=1,Pa.byteLength=u,Pa.toByteArray=m,Pa.fromByteArray=v;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=i.length;a<c;++a)e[a]=i[a],t[i.charCodeAt(a)]=a;t[45]=62,t[95]=63;function d(E){var w=E.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=E.indexOf("=");k===-1&&(k=w);var j=k===w?0:4-k%4;return[k,j]}function u(E){var w=d(E),k=w[0],j=w[1];return(k+j)*3/4-j}function h(E,w,k){return(w+k)*3/4-k}function m(E){var w,k=d(E),j=k[0],R=k[1],M=new r(h(E,j,R)),U=0,G=R>0?j-4:j,O;for(O=0;O<G;O+=4)w=t[E.charCodeAt(O)]<<18|t[E.charCodeAt(O+1)]<<12|t[E.charCodeAt(O+2)]<<6|t[E.charCodeAt(O+3)],M[U++]=w>>16&255,M[U++]=w>>8&255,M[U++]=w&255;return R===2&&(w=t[E.charCodeAt(O)]<<2|t[E.charCodeAt(O+1)]>>4,M[U++]=w&255),R===1&&(w=t[E.charCodeAt(O)]<<10|t[E.charCodeAt(O+1)]<<4|t[E.charCodeAt(O+2)]>>2,M[U++]=w>>8&255,M[U++]=w&255),M}function g(E){return e[E>>18&63]+e[E>>12&63]+e[E>>6&63]+e[E&63]}function p(E,w,k){for(var j,R=[],M=w;M<k;M+=3)j=(E[M]<<16&16711680)+(E[M+1]<<8&65280)+(E[M+2]&255),R.push(g(j));return R.join("")}function v(E){for(var w,k=E.length,j=k%3,R=[],M=16383,U=0,G=k-j;U<G;U+=M)R.push(p(E,U,U+M>G?G:U+M));return j===1?(w=E[k-1],R.push(e[w>>2]+e[w<<4&63]+"==")):j===2&&(w=(E[k-2]<<8)+E[k-1],R.push(e[w>>10]+e[w>>4&63]+e[w<<2&63]+"=")),R.join("")}return Pa}var Cc={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Cx;function ep(){return Cx||(Cx=1,Cc.read=function(e,t,r,i,a){var c,d,u=a*8-i-1,h=(1<<u)-1,m=h>>1,g=-7,p=r?a-1:0,v=r?-1:1,E=e[t+p];for(p+=v,c=E&(1<<-g)-1,E>>=-g,g+=u;g>0;c=c*256+e[t+p],p+=v,g-=8);for(d=c&(1<<-g)-1,c>>=-g,g+=i;g>0;d=d*256+e[t+p],p+=v,g-=8);if(c===0)c=1-m;else{if(c===h)return d?NaN:(E?-1:1)*(1/0);d=d+Math.pow(2,i),c=c-m}return(E?-1:1)*d*Math.pow(2,c-i)},Cc.write=function(e,t,r,i,a,c){var d,u,h,m=c*8-a-1,g=(1<<m)-1,p=g>>1,v=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=i?0:c-1,w=i?1:-1,k=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,d=g):(d=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-d))<1&&(d--,h*=2),d+p>=1?t+=v/h:t+=v*Math.pow(2,1-p),t*h>=2&&(d++,h/=2),d+p>=g?(u=0,d=g):d+p>=1?(u=(t*h-1)*Math.pow(2,a),d=d+p):(u=t*Math.pow(2,p-1)*Math.pow(2,a),d=0));a>=8;e[r+E]=u&255,E+=w,u/=256,a-=8);for(d=d<<a|u,m+=a;m>0;e[r+E]=d&255,E+=w,d/=256,m-=8);e[r+E-w]|=k*128}),Cc}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Tx;function $E(){return Tx||(Tx=1,function(e){const t=kw(),r=ep(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=M,e.INSPECT_MAX_BYTES=50;const a=2147483647;e.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=c(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const B=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(B,N),B.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function d(B){if(B>a)throw new RangeError('The value "'+B+'" is invalid for option "size"');const N=new Uint8Array(B);return Object.setPrototypeOf(N,u.prototype),N}function u(B,N,S){if(typeof B=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(B)}return h(B,N,S)}u.poolSize=8192;function h(B,N,S){if(typeof B=="string")return v(B,N);if(ArrayBuffer.isView(B))return w(B);if(B==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(ge(B,ArrayBuffer)||B&&ge(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ge(B,SharedArrayBuffer)||B&&ge(B.buffer,SharedArrayBuffer)))return k(B,N,S);if(typeof B=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const K=B.valueOf&&B.valueOf();if(K!=null&&K!==B)return u.from(K,N,S);const ue=j(B);if(ue)return ue;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof B[Symbol.toPrimitive]=="function")return u.from(B[Symbol.toPrimitive]("string"),N,S);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}u.from=function(B,N,S){return h(B,N,S)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function m(B){if(typeof B!="number")throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function g(B,N,S){return m(B),B<=0?d(B):N!==void 0?typeof S=="string"?d(B).fill(N,S):d(B).fill(N):d(B)}u.alloc=function(B,N,S){return g(B,N,S)};function p(B){return m(B),d(B<0?0:R(B)|0)}u.allocUnsafe=function(B){return p(B)},u.allocUnsafeSlow=function(B){return p(B)};function v(B,N){if((typeof N!="string"||N==="")&&(N="utf8"),!u.isEncoding(N))throw new TypeError("Unknown encoding: "+N);const S=U(B,N)|0;let K=d(S);const ue=K.write(B,N);return ue!==S&&(K=K.slice(0,ue)),K}function E(B){const N=B.length<0?0:R(B.length)|0,S=d(N);for(let K=0;K<N;K+=1)S[K]=B[K]&255;return S}function w(B){if(ge(B,Uint8Array)){const N=new Uint8Array(B);return k(N.buffer,N.byteOffset,N.byteLength)}return E(B)}function k(B,N,S){if(N<0||B.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<N+(S||0))throw new RangeError('"length" is outside of buffer bounds');let K;return N===void 0&&S===void 0?K=new Uint8Array(B):S===void 0?K=new Uint8Array(B,N):K=new Uint8Array(B,N,S),Object.setPrototypeOf(K,u.prototype),K}function j(B){if(u.isBuffer(B)){const N=R(B.length)|0,S=d(N);return S.length===0||B.copy(S,0,0,N),S}if(B.length!==void 0)return typeof B.length!="number"||Ae(B.length)?d(0):E(B);if(B.type==="Buffer"&&Array.isArray(B.data))return E(B.data)}function R(B){if(B>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return B|0}function M(B){return+B!=B&&(B=0),u.alloc(+B)}u.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==u.prototype},u.compare=function(N,S){if(ge(N,Uint8Array)&&(N=u.from(N,N.offset,N.byteLength)),ge(S,Uint8Array)&&(S=u.from(S,S.offset,S.byteLength)),!u.isBuffer(N)||!u.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===S)return 0;let K=N.length,ue=S.length;for(let be=0,ve=Math.min(K,ue);be<ve;++be)if(N[be]!==S[be]){K=N[be],ue=S[be];break}return K<ue?-1:ue<K?1:0},u.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(N,S){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return u.alloc(0);let K;if(S===void 0)for(S=0,K=0;K<N.length;++K)S+=N[K].length;const ue=u.allocUnsafe(S);let be=0;for(K=0;K<N.length;++K){let ve=N[K];if(ge(ve,Uint8Array))be+ve.length>ue.length?(u.isBuffer(ve)||(ve=u.from(ve)),ve.copy(ue,be)):Uint8Array.prototype.set.call(ue,ve,be);else if(u.isBuffer(ve))ve.copy(ue,be);else throw new TypeError('"list" argument must be an Array of Buffers');be+=ve.length}return ue};function U(B,N){if(u.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||ge(B,ArrayBuffer))return B.byteLength;if(typeof B!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);const S=B.length,K=arguments.length>2&&arguments[2]===!0;if(!K&&S===0)return 0;let ue=!1;for(;;)switch(N){case"ascii":case"latin1":case"binary":return S;case"utf8":case"utf-8":return y(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S*2;case"hex":return S>>>1;case"base64":return L(B).length;default:if(ue)return K?-1:y(B).length;N=(""+N).toLowerCase(),ue=!0}}u.byteLength=U;function G(B,N,S){let K=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((S===void 0||S>this.length)&&(S=this.length),S<=0)||(S>>>=0,N>>>=0,S<=N))return"";for(B||(B="utf8");;)switch(B){case"hex":return ye(this,N,S);case"utf8":case"utf-8":return V(this,N,S);case"ascii":return ce(this,N,S);case"latin1":case"binary":return te(this,N,S);case"base64":return A(this,N,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,N,S);default:if(K)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),K=!0}}u.prototype._isBuffer=!0;function O(B,N,S){const K=B[N];B[N]=B[S],B[S]=K}u.prototype.swap16=function(){const N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let S=0;S<N;S+=2)O(this,S,S+1);return this},u.prototype.swap32=function(){const N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let S=0;S<N;S+=4)O(this,S,S+3),O(this,S+1,S+2);return this},u.prototype.swap64=function(){const N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let S=0;S<N;S+=8)O(this,S,S+7),O(this,S+1,S+6),O(this,S+2,S+5),O(this,S+3,S+4);return this},u.prototype.toString=function(){const N=this.length;return N===0?"":arguments.length===0?V(this,0,N):G.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(N){if(!u.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:u.compare(this,N)===0},u.prototype.inspect=function(){let N="";const S=e.INSPECT_MAX_BYTES;return N=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(N+=" ... "),"<Buffer "+N+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(N,S,K,ue,be){if(ge(N,Uint8Array)&&(N=u.from(N,N.offset,N.byteLength)),!u.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(S===void 0&&(S=0),K===void 0&&(K=N?N.length:0),ue===void 0&&(ue=0),be===void 0&&(be=this.length),S<0||K>N.length||ue<0||be>this.length)throw new RangeError("out of range index");if(ue>=be&&S>=K)return 0;if(ue>=be)return-1;if(S>=K)return 1;if(S>>>=0,K>>>=0,ue>>>=0,be>>>=0,this===N)return 0;let ve=be-ue,Ke=K-S;const Qe=Math.min(ve,Ke),De=this.slice(ue,be),We=N.slice(S,K);for(let ct=0;ct<Qe;++ct)if(De[ct]!==We[ct]){ve=De[ct],Ke=We[ct];break}return ve<Ke?-1:Ke<ve?1:0};function Q(B,N,S,K,ue){if(B.length===0)return-1;if(typeof S=="string"?(K=S,S=0):S>2147483647?S=2147483647:S<-2147483648&&(S=-2147483648),S=+S,Ae(S)&&(S=ue?0:B.length-1),S<0&&(S=B.length+S),S>=B.length){if(ue)return-1;S=B.length-1}else if(S<0)if(ue)S=0;else return-1;if(typeof N=="string"&&(N=u.from(N,K)),u.isBuffer(N))return N.length===0?-1:X(B,N,S,K,ue);if(typeof N=="number")return N=N&255,typeof Uint8Array.prototype.indexOf=="function"?ue?Uint8Array.prototype.indexOf.call(B,N,S):Uint8Array.prototype.lastIndexOf.call(B,N,S):X(B,[N],S,K,ue);throw new TypeError("val must be string, number or Buffer")}function X(B,N,S,K,ue){let be=1,ve=B.length,Ke=N.length;if(K!==void 0&&(K=String(K).toLowerCase(),K==="ucs2"||K==="ucs-2"||K==="utf16le"||K==="utf-16le")){if(B.length<2||N.length<2)return-1;be=2,ve/=2,Ke/=2,S/=2}function Qe(We,ct){return be===1?We[ct]:We.readUInt16BE(ct*be)}let De;if(ue){let We=-1;for(De=S;De<ve;De++)if(Qe(B,De)===Qe(N,We===-1?0:De-We)){if(We===-1&&(We=De),De-We+1===Ke)return We*be}else We!==-1&&(De-=De-We),We=-1}else for(S+Ke>ve&&(S=ve-Ke),De=S;De>=0;De--){let We=!0;for(let ct=0;ct<Ke;ct++)if(Qe(B,De+ct)!==Qe(N,ct)){We=!1;break}if(We)return De}return-1}u.prototype.includes=function(N,S,K){return this.indexOf(N,S,K)!==-1},u.prototype.indexOf=function(N,S,K){return Q(this,N,S,K,!0)},u.prototype.lastIndexOf=function(N,S,K){return Q(this,N,S,K,!1)};function $(B,N,S,K){S=Number(S)||0;const ue=B.length-S;K?(K=Number(K),K>ue&&(K=ue)):K=ue;const be=N.length;K>be/2&&(K=be/2);let ve;for(ve=0;ve<K;++ve){const Ke=parseInt(N.substr(ve*2,2),16);if(Ae(Ke))return ve;B[S+ve]=Ke}return ve}function q(B,N,S,K){return re(y(N,B.length-S),B,S,K)}function W(B,N,S,K){return re(b(N),B,S,K)}function ie(B,N,S,K){return re(L(N),B,S,K)}function fe(B,N,S,K){return re(P(N,B.length-S),B,S,K)}u.prototype.write=function(N,S,K,ue){if(S===void 0)ue="utf8",K=this.length,S=0;else if(K===void 0&&typeof S=="string")ue=S,K=this.length,S=0;else if(isFinite(S))S=S>>>0,isFinite(K)?(K=K>>>0,ue===void 0&&(ue="utf8")):(ue=K,K=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const be=this.length-S;if((K===void 0||K>be)&&(K=be),N.length>0&&(K<0||S<0)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");ue||(ue="utf8");let ve=!1;for(;;)switch(ue){case"hex":return $(this,N,S,K);case"utf8":case"utf-8":return q(this,N,S,K);case"ascii":case"latin1":case"binary":return W(this,N,S,K);case"base64":return ie(this,N,S,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,N,S,K);default:if(ve)throw new TypeError("Unknown encoding: "+ue);ue=(""+ue).toLowerCase(),ve=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(B,N,S){return N===0&&S===B.length?t.fromByteArray(B):t.fromByteArray(B.slice(N,S))}function V(B,N,S){S=Math.min(B.length,S);const K=[];let ue=N;for(;ue<S;){const be=B[ue];let ve=null,Ke=be>239?4:be>223?3:be>191?2:1;if(ue+Ke<=S){let Qe,De,We,ct;switch(Ke){case 1:be<128&&(ve=be);break;case 2:Qe=B[ue+1],(Qe&192)===128&&(ct=(be&31)<<6|Qe&63,ct>127&&(ve=ct));break;case 3:Qe=B[ue+1],De=B[ue+2],(Qe&192)===128&&(De&192)===128&&(ct=(be&15)<<12|(Qe&63)<<6|De&63,ct>2047&&(ct<55296||ct>57343)&&(ve=ct));break;case 4:Qe=B[ue+1],De=B[ue+2],We=B[ue+3],(Qe&192)===128&&(De&192)===128&&(We&192)===128&&(ct=(be&15)<<18|(Qe&63)<<12|(De&63)<<6|We&63,ct>65535&&ct<1114112&&(ve=ct))}}ve===null?(ve=65533,Ke=1):ve>65535&&(ve-=65536,K.push(ve>>>10&1023|55296),ve=56320|ve&1023),K.push(ve),ue+=Ke}return J(K)}const Z=4096;function J(B){const N=B.length;if(N<=Z)return String.fromCharCode.apply(String,B);let S="",K=0;for(;K<N;)S+=String.fromCharCode.apply(String,B.slice(K,K+=Z));return S}function ce(B,N,S){let K="";S=Math.min(B.length,S);for(let ue=N;ue<S;++ue)K+=String.fromCharCode(B[ue]&127);return K}function te(B,N,S){let K="";S=Math.min(B.length,S);for(let ue=N;ue<S;++ue)K+=String.fromCharCode(B[ue]);return K}function ye(B,N,S){const K=B.length;(!N||N<0)&&(N=0),(!S||S<0||S>K)&&(S=K);let ue="";for(let be=N;be<S;++be)ue+=Oe[B[be]];return ue}function _e(B,N,S){const K=B.slice(N,S);let ue="";for(let be=0;be<K.length-1;be+=2)ue+=String.fromCharCode(K[be]+K[be+1]*256);return ue}u.prototype.slice=function(N,S){const K=this.length;N=~~N,S=S===void 0?K:~~S,N<0?(N+=K,N<0&&(N=0)):N>K&&(N=K),S<0?(S+=K,S<0&&(S=0)):S>K&&(S=K),S<N&&(S=N);const ue=this.subarray(N,S);return Object.setPrototypeOf(ue,u.prototype),ue};function D(B,N,S){if(B%1!==0||B<0)throw new RangeError("offset is not uint");if(B+N>S)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(N,S,K){N=N>>>0,S=S>>>0,K||D(N,S,this.length);let ue=this[N],be=1,ve=0;for(;++ve<S&&(be*=256);)ue+=this[N+ve]*be;return ue},u.prototype.readUintBE=u.prototype.readUIntBE=function(N,S,K){N=N>>>0,S=S>>>0,K||D(N,S,this.length);let ue=this[N+--S],be=1;for(;S>0&&(be*=256);)ue+=this[N+--S]*be;return ue},u.prototype.readUint8=u.prototype.readUInt8=function(N,S){return N=N>>>0,S||D(N,1,this.length),this[N]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(N,S){return N=N>>>0,S||D(N,2,this.length),this[N]|this[N+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(N,S){return N=N>>>0,S||D(N,2,this.length),this[N]<<8|this[N+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(N,S){return N=N>>>0,S||D(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(N,S){return N=N>>>0,S||D(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},u.prototype.readBigUInt64LE=Ue(function(N){N=N>>>0,ne(N,"offset");const S=this[N],K=this[N+7];(S===void 0||K===void 0)&&se(N,this.length-8);const ue=S+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24,be=this[++N]+this[++N]*2**8+this[++N]*2**16+K*2**24;return BigInt(ue)+(BigInt(be)<<BigInt(32))}),u.prototype.readBigUInt64BE=Ue(function(N){N=N>>>0,ne(N,"offset");const S=this[N],K=this[N+7];(S===void 0||K===void 0)&&se(N,this.length-8);const ue=S*2**24+this[++N]*2**16+this[++N]*2**8+this[++N],be=this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+K;return(BigInt(ue)<<BigInt(32))+BigInt(be)}),u.prototype.readIntLE=function(N,S,K){N=N>>>0,S=S>>>0,K||D(N,S,this.length);let ue=this[N],be=1,ve=0;for(;++ve<S&&(be*=256);)ue+=this[N+ve]*be;return be*=128,ue>=be&&(ue-=Math.pow(2,8*S)),ue},u.prototype.readIntBE=function(N,S,K){N=N>>>0,S=S>>>0,K||D(N,S,this.length);let ue=S,be=1,ve=this[N+--ue];for(;ue>0&&(be*=256);)ve+=this[N+--ue]*be;return be*=128,ve>=be&&(ve-=Math.pow(2,8*S)),ve},u.prototype.readInt8=function(N,S){return N=N>>>0,S||D(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},u.prototype.readInt16LE=function(N,S){N=N>>>0,S||D(N,2,this.length);const K=this[N]|this[N+1]<<8;return K&32768?K|4294901760:K},u.prototype.readInt16BE=function(N,S){N=N>>>0,S||D(N,2,this.length);const K=this[N+1]|this[N]<<8;return K&32768?K|4294901760:K},u.prototype.readInt32LE=function(N,S){return N=N>>>0,S||D(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},u.prototype.readInt32BE=function(N,S){return N=N>>>0,S||D(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},u.prototype.readBigInt64LE=Ue(function(N){N=N>>>0,ne(N,"offset");const S=this[N],K=this[N+7];(S===void 0||K===void 0)&&se(N,this.length-8);const ue=this[N+4]+this[N+5]*2**8+this[N+6]*2**16+(K<<24);return(BigInt(ue)<<BigInt(32))+BigInt(S+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24)}),u.prototype.readBigInt64BE=Ue(function(N){N=N>>>0,ne(N,"offset");const S=this[N],K=this[N+7];(S===void 0||K===void 0)&&se(N,this.length-8);const ue=(S<<24)+this[++N]*2**16+this[++N]*2**8+this[++N];return(BigInt(ue)<<BigInt(32))+BigInt(this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+K)}),u.prototype.readFloatLE=function(N,S){return N=N>>>0,S||D(N,4,this.length),r.read(this,N,!0,23,4)},u.prototype.readFloatBE=function(N,S){return N=N>>>0,S||D(N,4,this.length),r.read(this,N,!1,23,4)},u.prototype.readDoubleLE=function(N,S){return N=N>>>0,S||D(N,8,this.length),r.read(this,N,!0,52,8)},u.prototype.readDoubleBE=function(N,S){return N=N>>>0,S||D(N,8,this.length),r.read(this,N,!1,52,8)};function me(B,N,S,K,ue,be){if(!u.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>ue||N<be)throw new RangeError('"value" argument is out of bounds');if(S+K>B.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(N,S,K,ue){if(N=+N,S=S>>>0,K=K>>>0,!ue){const Ke=Math.pow(2,8*K)-1;me(this,N,S,K,Ke,0)}let be=1,ve=0;for(this[S]=N&255;++ve<K&&(be*=256);)this[S+ve]=N/be&255;return S+K},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(N,S,K,ue){if(N=+N,S=S>>>0,K=K>>>0,!ue){const Ke=Math.pow(2,8*K)-1;me(this,N,S,K,Ke,0)}let be=K-1,ve=1;for(this[S+be]=N&255;--be>=0&&(ve*=256);)this[S+be]=N/ve&255;return S+K},u.prototype.writeUint8=u.prototype.writeUInt8=function(N,S,K){return N=+N,S=S>>>0,K||me(this,N,S,1,255,0),this[S]=N&255,S+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(N,S,K){return N=+N,S=S>>>0,K||me(this,N,S,2,65535,0),this[S]=N&255,this[S+1]=N>>>8,S+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(N,S,K){return N=+N,S=S>>>0,K||me(this,N,S,2,65535,0),this[S]=N>>>8,this[S+1]=N&255,S+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(N,S,K){return N=+N,S=S>>>0,K||me(this,N,S,4,4294967295,0),this[S+3]=N>>>24,this[S+2]=N>>>16,this[S+1]=N>>>8,this[S]=N&255,S+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(N,S,K){return N=+N,S=S>>>0,K||me(this,N,S,4,4294967295,0),this[S]=N>>>24,this[S+1]=N>>>16,this[S+2]=N>>>8,this[S+3]=N&255,S+4};function Be(B,N,S,K,ue){Y(N,K,ue,B,S,7);let be=Number(N&BigInt(4294967295));B[S++]=be,be=be>>8,B[S++]=be,be=be>>8,B[S++]=be,be=be>>8,B[S++]=be;let ve=Number(N>>BigInt(32)&BigInt(4294967295));return B[S++]=ve,ve=ve>>8,B[S++]=ve,ve=ve>>8,B[S++]=ve,ve=ve>>8,B[S++]=ve,S}function H(B,N,S,K,ue){Y(N,K,ue,B,S,7);let be=Number(N&BigInt(4294967295));B[S+7]=be,be=be>>8,B[S+6]=be,be=be>>8,B[S+5]=be,be=be>>8,B[S+4]=be;let ve=Number(N>>BigInt(32)&BigInt(4294967295));return B[S+3]=ve,ve=ve>>8,B[S+2]=ve,ve=ve>>8,B[S+1]=ve,ve=ve>>8,B[S]=ve,S+8}u.prototype.writeBigUInt64LE=Ue(function(N,S=0){return Be(this,N,S,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Ue(function(N,S=0){return H(this,N,S,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(N,S,K,ue){if(N=+N,S=S>>>0,!ue){const Qe=Math.pow(2,8*K-1);me(this,N,S,K,Qe-1,-Qe)}let be=0,ve=1,Ke=0;for(this[S]=N&255;++be<K&&(ve*=256);)N<0&&Ke===0&&this[S+be-1]!==0&&(Ke=1),this[S+be]=(N/ve>>0)-Ke&255;return S+K},u.prototype.writeIntBE=function(N,S,K,ue){if(N=+N,S=S>>>0,!ue){const Qe=Math.pow(2,8*K-1);me(this,N,S,K,Qe-1,-Qe)}let be=K-1,ve=1,Ke=0;for(this[S+be]=N&255;--be>=0&&(ve*=256);)N<0&&Ke===0&&this[S+be+1]!==0&&(Ke=1),this[S+be]=(N/ve>>0)-Ke&255;return S+K},u.prototype.writeInt8=function(N,S,K){return N=+N,S=S>>>0,K||me(this,N,S,1,127,-128),N<0&&(N=255+N+1),this[S]=N&255,S+1},u.prototype.writeInt16LE=function(N,S,K){return N=+N,S=S>>>0,K||me(this,N,S,2,32767,-32768),this[S]=N&255,this[S+1]=N>>>8,S+2},u.prototype.writeInt16BE=function(N,S,K){return N=+N,S=S>>>0,K||me(this,N,S,2,32767,-32768),this[S]=N>>>8,this[S+1]=N&255,S+2},u.prototype.writeInt32LE=function(N,S,K){return N=+N,S=S>>>0,K||me(this,N,S,4,2147483647,-2147483648),this[S]=N&255,this[S+1]=N>>>8,this[S+2]=N>>>16,this[S+3]=N>>>24,S+4},u.prototype.writeInt32BE=function(N,S,K){return N=+N,S=S>>>0,K||me(this,N,S,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[S]=N>>>24,this[S+1]=N>>>16,this[S+2]=N>>>8,this[S+3]=N&255,S+4},u.prototype.writeBigInt64LE=Ue(function(N,S=0){return Be(this,N,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Ue(function(N,S=0){return H(this,N,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Pe(B,N,S,K,ue,be){if(S+K>B.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("Index out of range")}function je(B,N,S,K,ue){return N=+N,S=S>>>0,ue||Pe(B,N,S,4),r.write(B,N,S,K,23,4),S+4}u.prototype.writeFloatLE=function(N,S,K){return je(this,N,S,!0,K)},u.prototype.writeFloatBE=function(N,S,K){return je(this,N,S,!1,K)};function pe(B,N,S,K,ue){return N=+N,S=S>>>0,ue||Pe(B,N,S,8),r.write(B,N,S,K,52,8),S+8}u.prototype.writeDoubleLE=function(N,S,K){return pe(this,N,S,!0,K)},u.prototype.writeDoubleBE=function(N,S,K){return pe(this,N,S,!1,K)},u.prototype.copy=function(N,S,K,ue){if(!u.isBuffer(N))throw new TypeError("argument should be a Buffer");if(K||(K=0),!ue&&ue!==0&&(ue=this.length),S>=N.length&&(S=N.length),S||(S=0),ue>0&&ue<K&&(ue=K),ue===K||N.length===0||this.length===0)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(ue<0)throw new RangeError("sourceEnd out of bounds");ue>this.length&&(ue=this.length),N.length-S<ue-K&&(ue=N.length-S+K);const be=ue-K;return this===N&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(S,K,ue):Uint8Array.prototype.set.call(N,this.subarray(K,ue),S),be},u.prototype.fill=function(N,S,K,ue){if(typeof N=="string"){if(typeof S=="string"?(ue=S,S=0,K=this.length):typeof K=="string"&&(ue=K,K=this.length),ue!==void 0&&typeof ue!="string")throw new TypeError("encoding must be a string");if(typeof ue=="string"&&!u.isEncoding(ue))throw new TypeError("Unknown encoding: "+ue);if(N.length===1){const ve=N.charCodeAt(0);(ue==="utf8"&&ve<128||ue==="latin1")&&(N=ve)}}else typeof N=="number"?N=N&255:typeof N=="boolean"&&(N=Number(N));if(S<0||this.length<S||this.length<K)throw new RangeError("Out of range index");if(K<=S)return this;S=S>>>0,K=K===void 0?this.length:K>>>0,N||(N=0);let be;if(typeof N=="number")for(be=S;be<K;++be)this[be]=N;else{const ve=u.isBuffer(N)?N:u.from(N,ue),Ke=ve.length;if(Ke===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(be=0;be<K-S;++be)this[be+S]=ve[be%Ke]}return this};const he={};function Ee(B,N,S){he[B]=class extends S{constructor(){super(),Object.defineProperty(this,"message",{value:N.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${B}]`,this.stack,delete this.name}get code(){return B}set code(ue){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ue,writable:!0})}toString(){return`${this.name} [${B}]: ${this.message}`}}}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(B){return B?`${B} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(B,N){return`The "${B}" argument must be of type number. Received type ${typeof N}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(B,N,S){let K=`The value of "${B}" is out of range.`,ue=S;return Number.isInteger(S)&&Math.abs(S)>2**32?ue=F(String(S)):typeof S=="bigint"&&(ue=String(S),(S>BigInt(2)**BigInt(32)||S<-(BigInt(2)**BigInt(32)))&&(ue=F(ue)),ue+="n"),K+=` It must be ${N}. Received ${ue}`,K},RangeError);function F(B){let N="",S=B.length;const K=B[0]==="-"?1:0;for(;S>=K+4;S-=3)N=`_${B.slice(S-3,S)}${N}`;return`${B.slice(0,S)}${N}`}function z(B,N,S){ne(N,"offset"),(B[N]===void 0||B[N+S]===void 0)&&se(N,B.length-(S+1))}function Y(B,N,S,K,ue,be){if(B>S||B<N){const ve=typeof N=="bigint"?"n":"";let Ke;throw N===0||N===BigInt(0)?Ke=`>= 0${ve} and < 2${ve} ** ${(be+1)*8}${ve}`:Ke=`>= -(2${ve} ** ${(be+1)*8-1}${ve}) and < 2 ** ${(be+1)*8-1}${ve}`,new he.ERR_OUT_OF_RANGE("value",Ke,B)}z(K,ue,be)}function ne(B,N){if(typeof B!="number")throw new he.ERR_INVALID_ARG_TYPE(N,"number",B)}function se(B,N,S){throw Math.floor(B)!==B?(ne(B,S),new he.ERR_OUT_OF_RANGE("offset","an integer",B)):N<0?new he.ERR_BUFFER_OUT_OF_BOUNDS:new he.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${N}`,B)}const ae=/[^+/0-9A-Za-z-_]/g;function T(B){if(B=B.split("=")[0],B=B.trim().replace(ae,""),B.length<2)return"";for(;B.length%4!==0;)B=B+"=";return B}function y(B,N){N=N||1/0;let S;const K=B.length;let ue=null;const be=[];for(let ve=0;ve<K;++ve){if(S=B.charCodeAt(ve),S>55295&&S<57344){if(!ue){if(S>56319){(N-=3)>-1&&be.push(239,191,189);continue}else if(ve+1===K){(N-=3)>-1&&be.push(239,191,189);continue}ue=S;continue}if(S<56320){(N-=3)>-1&&be.push(239,191,189),ue=S;continue}S=(ue-55296<<10|S-56320)+65536}else ue&&(N-=3)>-1&&be.push(239,191,189);if(ue=null,S<128){if((N-=1)<0)break;be.push(S)}else if(S<2048){if((N-=2)<0)break;be.push(S>>6|192,S&63|128)}else if(S<65536){if((N-=3)<0)break;be.push(S>>12|224,S>>6&63|128,S&63|128)}else if(S<1114112){if((N-=4)<0)break;be.push(S>>18|240,S>>12&63|128,S>>6&63|128,S&63|128)}else throw new Error("Invalid code point")}return be}function b(B){const N=[];for(let S=0;S<B.length;++S)N.push(B.charCodeAt(S)&255);return N}function P(B,N){let S,K,ue;const be=[];for(let ve=0;ve<B.length&&!((N-=2)<0);++ve)S=B.charCodeAt(ve),K=S>>8,ue=S%256,be.push(ue),be.push(K);return be}function L(B){return t.toByteArray(T(B))}function re(B,N,S,K){let ue;for(ue=0;ue<K&&!(ue+S>=N.length||ue>=B.length);++ue)N[ue+S]=B[ue];return ue}function ge(B,N){return B instanceof N||B!=null&&B.constructor!=null&&B.constructor.name!=null&&B.constructor.name===N.name}function Ae(B){return B!==B}const Oe=function(){const B="0123456789abcdef",N=new Array(256);for(let S=0;S<16;++S){const K=S*16;for(let ue=0;ue<16;++ue)N[K+ue]=B[S]+B[ue]}return N}();function Ue(B){return typeof BigInt>"u"?Ze:B}function Ze(){throw new Error("BigInt not supported")}}(mh)),mh}var zE=$E(),m0;(function(e){e[e.SysFatal=1]="SysFatal",e[e.SysTransient=2]="SysTransient",e[e.DestinationInvalid=3]="DestinationInvalid",e[e.CanisterReject=4]="CanisterReject",e[e.CanisterError=5]="CanisterError"})(m0||(m0={}));const VE="modulepreload",HE=function(e){return"/"+e},Rx={},LE=function(t,r,i){let a=Promise.resolve();if(r&&r.length>0){let d=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=d(r.map(m=>{if(m=HE(m),m in Rx)return;Rx[m]=!0;const g=m.endsWith(".css"),p=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${p}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":VE,g||(v.as="script"),v.crossOrigin="",v.href=m,h&&v.setAttribute("nonce",h),document.head.appendChild(v),g)return new Promise((E,w)=>{v.addEventListener("load",E),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${m}`)))})}))}function c(d){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=d,window.dispatchEvent(u),!u.defaultPrevented)throw d}return a.then(d=>{for(const u of d||[])u.status==="rejected"&&c(u.reason);return t().catch(c)})},Su="abcdefghijklmnopqrstuvwxyz234567",$o=Object.create(null);for(let e=0;e<Su.length;e++)$o[Su[e]]=e;$o[0]=$o.o;$o[1]=$o.i;function WE(e){let t=0,r=0,i="";function a(c){return t<0?r|=c>>-t:r=c<<t&248,t>3?(t-=8,1):(t<4&&(i+=Su[r>>3],t+=5),0)}for(let c=0;c<e.length;)c+=a(e[c]);return i+(t<0?Su[r>>3]:"")}function qE(e){let t=0,r=0;const i=new Uint8Array(e.length*4/3|0);let a=0;function c(d){let u=$o[d.toLowerCase()];if(u===void 0)throw new Error(`Invalid character: ${JSON.stringify(d)}`);u<<=3,r|=u>>>t,t+=5,t>=8&&(i[a++]=r,t-=8,t>0?r=u<<5-t&255:r=0)}for(const d of e)c(d);return i.slice(0,a)}const GE=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function KE(e){const t=new Uint8Array(e);let r=-1;for(let i=0;i<t.length;i++){const c=(t[i]^r)&255;r=GE[c]^r>>>8}return(r^-1)>>>0}const fo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function tp(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function DE(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function tr(e,...t){if(!tp(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Bx(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function YE(e,t){tr(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Ya(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function gh(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function vn(e,t){return e<<32-t|e>>>t}const jw=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",ZE=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function zo(e){if(tr(e),jw)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=ZE[e[r]];return t}const qn={_0:48,_9:57,A:65,F:70,a:97,f:102};function Px(e){if(e>=qn._0&&e<=qn._9)return e-qn._0;if(e>=qn.A&&e<=qn.F)return e-(qn.A-10);if(e>=qn.a&&e<=qn.f)return e-(qn.a-10)}function Aw(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(jw)return Uint8Array.fromHex(e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(r);for(let a=0,c=0;a<r;a++,c+=2){const d=Px(e.charCodeAt(c)),u=Px(e.charCodeAt(c+1));if(d===void 0||u===void 0){const h=e[c]+e[c+1];throw new Error('hex string expected, got non-hex character "'+h+'" at index '+c)}i[a]=d*16+u}return i}function Yu(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Cw(e){return typeof e=="string"&&(e=Yu(e)),tr(e),e}function Mt(...e){let t=0;for(let i=0;i<e.length;i++){const a=e[i];tr(a),t+=a.length}const r=new Uint8Array(t);for(let i=0,a=0;i<e.length;i++){const c=e[i];r.set(c,a),a+=c.length}return r}class XE{}function rp(e){const t=i=>e().update(Cw(i)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Tw(e=32){if(fo&&typeof fo.getRandomValues=="function")return fo.getRandomValues(new Uint8Array(e));if(fo&&typeof fo.randomBytes=="function")return Uint8Array.from(fo.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function QE(e,t,r,i){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,i);const a=BigInt(32),c=BigInt(4294967295),d=Number(r>>a&c),u=Number(r&c),h=i?4:0,m=i?0:4;e.setUint32(t+h,d,i),e.setUint32(t+m,u,i)}function JE(e,t,r){return e&t^~e&r}function e_(e,t,r){return e&t^e&r^t&r}class Rw extends XE{constructor(t,r,i,a){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=r,this.padOffset=i,this.isLE=a,this.buffer=new Uint8Array(t),this.view=gh(this.buffer)}update(t){Bx(this),t=Cw(t),tr(t);const{view:r,buffer:i,blockLen:a}=this,c=t.length;for(let d=0;d<c;){const u=Math.min(a-this.pos,c-d);if(u===a){const h=gh(t);for(;a<=c-d;d+=a)this.process(h,d);continue}i.set(t.subarray(d,d+u),this.pos),this.pos+=u,d+=u,this.pos===a&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Bx(this),YE(t,this),this.finished=!0;const{buffer:r,view:i,blockLen:a,isLE:c}=this;let{pos:d}=this;r[d++]=128,Ya(this.buffer.subarray(d)),this.padOffset>a-d&&(this.process(i,0),d=0);for(let p=d;p<a;p++)r[p]=0;QE(i,a-8,BigInt(this.length*8),c),this.process(i,0);const u=gh(t),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const m=h/4,g=this.get();if(m>g.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<m;p++)u.setUint32(4*p,g[p],c)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const i=t.slice(0,r);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:i,length:a,finished:c,destroyed:d,pos:u}=this;return t.destroyed=d,t.finished=c,t.length=a,t.pos=u,a%r&&t.buffer.set(i),t}clone(){return this._cloneInto()}}const Ts=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Rs=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),or=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Tc=BigInt(2**32-1),Mx=BigInt(32);function t_(e,t=!1){return t?{h:Number(e&Tc),l:Number(e>>Mx&Tc)}:{h:Number(e>>Mx&Tc)|0,l:Number(e&Tc)|0}}function r_(e,t=!1){const r=e.length;let i=new Uint32Array(r),a=new Uint32Array(r);for(let c=0;c<r;c++){const{h:d,l:u}=t_(e[c],t);[i[c],a[c]]=[d,u]}return[i,a]}const Ox=(e,t,r)=>e>>>r,Ix=(e,t,r)=>e<<32-r|t>>>r,ho=(e,t,r)=>e>>>r|t<<32-r,po=(e,t,r)=>e<<32-r|t>>>r,Rc=(e,t,r)=>e<<64-r|t>>>r-32,Bc=(e,t,r)=>e>>>r-32|t<<64-r;function Gn(e,t,r,i){const a=(t>>>0)+(i>>>0);return{h:e+r+(a/2**32|0)|0,l:a|0}}const n_=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),s_=(e,t,r,i)=>t+r+i+(e/2**32|0)|0,i_=(e,t,r,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),o_=(e,t,r,i,a)=>t+r+i+a+(e/2**32|0)|0,a_=(e,t,r,i,a)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0)+(a>>>0),l_=(e,t,r,i,a,c)=>t+r+i+a+c+(e/2**32|0)|0,c_=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Bs=new Uint32Array(64);class Bw extends Rw{constructor(t=32){super(64,t,8,!1),this.A=Ts[0]|0,this.B=Ts[1]|0,this.C=Ts[2]|0,this.D=Ts[3]|0,this.E=Ts[4]|0,this.F=Ts[5]|0,this.G=Ts[6]|0,this.H=Ts[7]|0}get(){const{A:t,B:r,C:i,D:a,E:c,F:d,G:u,H:h}=this;return[t,r,i,a,c,d,u,h]}set(t,r,i,a,c,d,u,h){this.A=t|0,this.B=r|0,this.C=i|0,this.D=a|0,this.E=c|0,this.F=d|0,this.G=u|0,this.H=h|0}process(t,r){for(let p=0;p<16;p++,r+=4)Bs[p]=t.getUint32(r,!1);for(let p=16;p<64;p++){const v=Bs[p-15],E=Bs[p-2],w=vn(v,7)^vn(v,18)^v>>>3,k=vn(E,17)^vn(E,19)^E>>>10;Bs[p]=k+Bs[p-7]+w+Bs[p-16]|0}let{A:i,B:a,C:c,D:d,E:u,F:h,G:m,H:g}=this;for(let p=0;p<64;p++){const v=vn(u,6)^vn(u,11)^vn(u,25),E=g+v+JE(u,h,m)+c_[p]+Bs[p]|0,k=(vn(i,2)^vn(i,13)^vn(i,22))+e_(i,a,c)|0;g=m,m=h,h=u,u=d+E|0,d=c,c=a,a=i,i=E+k|0}i=i+this.A|0,a=a+this.B|0,c=c+this.C|0,d=d+this.D|0,u=u+this.E|0,h=h+this.F|0,m=m+this.G|0,g=g+this.H|0,this.set(i,a,c,d,u,h,m,g)}roundClean(){Ya(Bs)}destroy(){this.set(0,0,0,0,0,0,0,0),Ya(this.buffer)}}class u_ extends Bw{constructor(){super(28),this.A=Rs[0]|0,this.B=Rs[1]|0,this.C=Rs[2]|0,this.D=Rs[3]|0,this.E=Rs[4]|0,this.F=Rs[5]|0,this.G=Rs[6]|0,this.H=Rs[7]|0}}const Pw=r_(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),d_=Pw[0],f_=Pw[1],Ps=new Uint32Array(80),Ms=new Uint32Array(80);class h_ extends Rw{constructor(t=64){super(128,t,16,!1),this.Ah=or[0]|0,this.Al=or[1]|0,this.Bh=or[2]|0,this.Bl=or[3]|0,this.Ch=or[4]|0,this.Cl=or[5]|0,this.Dh=or[6]|0,this.Dl=or[7]|0,this.Eh=or[8]|0,this.El=or[9]|0,this.Fh=or[10]|0,this.Fl=or[11]|0,this.Gh=or[12]|0,this.Gl=or[13]|0,this.Hh=or[14]|0,this.Hl=or[15]|0}get(){const{Ah:t,Al:r,Bh:i,Bl:a,Ch:c,Cl:d,Dh:u,Dl:h,Eh:m,El:g,Fh:p,Fl:v,Gh:E,Gl:w,Hh:k,Hl:j}=this;return[t,r,i,a,c,d,u,h,m,g,p,v,E,w,k,j]}set(t,r,i,a,c,d,u,h,m,g,p,v,E,w,k,j){this.Ah=t|0,this.Al=r|0,this.Bh=i|0,this.Bl=a|0,this.Ch=c|0,this.Cl=d|0,this.Dh=u|0,this.Dl=h|0,this.Eh=m|0,this.El=g|0,this.Fh=p|0,this.Fl=v|0,this.Gh=E|0,this.Gl=w|0,this.Hh=k|0,this.Hl=j|0}process(t,r){for(let U=0;U<16;U++,r+=4)Ps[U]=t.getUint32(r),Ms[U]=t.getUint32(r+=4);for(let U=16;U<80;U++){const G=Ps[U-15]|0,O=Ms[U-15]|0,Q=ho(G,O,1)^ho(G,O,8)^Ox(G,O,7),X=po(G,O,1)^po(G,O,8)^Ix(G,O,7),$=Ps[U-2]|0,q=Ms[U-2]|0,W=ho($,q,19)^Rc($,q,61)^Ox($,q,6),ie=po($,q,19)^Bc($,q,61)^Ix($,q,6),fe=i_(X,ie,Ms[U-7],Ms[U-16]),A=o_(fe,Q,W,Ps[U-7],Ps[U-16]);Ps[U]=A|0,Ms[U]=fe|0}let{Ah:i,Al:a,Bh:c,Bl:d,Ch:u,Cl:h,Dh:m,Dl:g,Eh:p,El:v,Fh:E,Fl:w,Gh:k,Gl:j,Hh:R,Hl:M}=this;for(let U=0;U<80;U++){const G=ho(p,v,14)^ho(p,v,18)^Rc(p,v,41),O=po(p,v,14)^po(p,v,18)^Bc(p,v,41),Q=p&E^~p&k,X=v&w^~v&j,$=a_(M,O,X,f_[U],Ms[U]),q=l_($,R,G,Q,d_[U],Ps[U]),W=$|0,ie=ho(i,a,28)^Rc(i,a,34)^Rc(i,a,39),fe=po(i,a,28)^Bc(i,a,34)^Bc(i,a,39),A=i&c^i&u^c&u,V=a&d^a&h^d&h;R=k|0,M=j|0,k=E|0,j=w|0,E=p|0,w=v|0,{h:p,l:v}=Gn(m|0,g|0,q|0,W|0),m=u|0,g=h|0,u=c|0,h=d|0,c=i|0,d=a|0;const Z=n_(W,fe,V);i=s_(Z,q,ie,A),a=Z|0}({h:i,l:a}=Gn(this.Ah|0,this.Al|0,i|0,a|0)),{h:c,l:d}=Gn(this.Bh|0,this.Bl|0,c|0,d|0),{h:u,l:h}=Gn(this.Ch|0,this.Cl|0,u|0,h|0),{h:m,l:g}=Gn(this.Dh|0,this.Dl|0,m|0,g|0),{h:p,l:v}=Gn(this.Eh|0,this.El|0,p|0,v|0),{h:E,l:w}=Gn(this.Fh|0,this.Fl|0,E|0,w|0),{h:k,l:j}=Gn(this.Gh|0,this.Gl|0,k|0,j|0),{h:R,l:M}=Gn(this.Hh|0,this.Hl|0,R|0,M|0),this.set(i,a,c,d,u,h,m,g,p,v,E,w,k,j,R,M)}roundClean(){Ya(Ps,Ms)}destroy(){Ya(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const np=rp(()=>new Bw),p_=rp(()=>new u_),m_=rp(()=>new h_),g_=np,x_=p_;function y_(e){return x_.create().update(new Uint8Array(e)).digest()}const Pc="__principal__",w_=2,Fx=4,v_="aaaaa-aa",b_=e=>{var t;return new Uint8Array(((t=e.match(/.{1,2}/g))!==null&&t!==void 0?t:[]).map(r=>parseInt(r,16)))},N_=e=>e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),"");let rt=class Dc{constructor(t){this._arr=t,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([Fx]))}static managementCanister(){return this.fromText(v_)}static selfAuthenticating(t){const r=y_(t);return new this(new Uint8Array([...r,w_]))}static from(t){if(typeof t=="string")return Dc.fromText(t);if(Object.getPrototypeOf(t)===Uint8Array.prototype)return new Dc(t);if(typeof t=="object"&&t!==null&&t._isPrincipal===!0)return new Dc(t._arr);throw new Error(`Impossible to convert ${JSON.stringify(t)} to Principal.`)}static fromHex(t){return new this(b_(t))}static fromText(t){let r=t;if(t.includes(Pc)){const d=JSON.parse(t);Pc in d&&(r=d[Pc])}const i=r.toLowerCase().replace(/-/g,"");let a=qE(i);a=a.slice(4,a.length);const c=new this(a);if(c.toText()!==r)throw new Error(`Principal "${c.toText()}" does not have a valid checksum (original value "${r}" may not be a valid Principal ID).`);return c}static fromUint8Array(t){return new this(t)}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===Fx}toUint8Array(){return this._arr}toHex(){return N_(this._arr).toUpperCase()}toText(){const t=new ArrayBuffer(4);new DataView(t).setUint32(0,KE(this._arr));const i=new Uint8Array(t),a=Uint8Array.from(this._arr),c=new Uint8Array([...i,...a]),u=WE(c).match(/.{1,5}/g);if(!u)throw new Error;return u.join("-")}toString(){return this.toText()}toJSON(){return{[Pc]:this.toText()}}compareTo(t){for(let r=0;r<Math.min(this._arr.length,t._arr.length);r++){if(this._arr[r]<t._arr[r])return"lt";if(this._arr[r]>t._arr[r])return"gt"}return this._arr.length<t._arr.length?"lt":this._arr.length>t._arr.length?"gt":"eq"}ltEq(t){const r=this.compareTo(t);return r=="lt"||r=="eq"}gtEq(t){const r=this.compareTo(t);return r=="gt"||r=="eq"}};function cn(...e){const t=new Uint8Array(e.reduce((i,a)=>i+a.byteLength,0));let r=0;for(const i of e)t.set(new Uint8Array(i),r),r+=i.byteLength;return t.buffer}function St(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}const E_=new RegExp(/^[0-9a-fA-F]+$/);function as(e){if(!E_.test(e))throw new Error("Invalid hexadecimal string.");const t=[...e].reduce((r,i,a)=>(r[a/2|0]=(r[a/2|0]||"")+i,r),[]).map(r=>Number.parseInt(r,16));return new Uint8Array(t).buffer}function Mw(e,t){if(e.byteLength!==t.byteLength)return e.byteLength-t.byteLength;const r=new Uint8Array(e),i=new Uint8Array(t);for(let a=0;a<r.length;a++)if(r[a]!==i[a])return r[a]-i[a];return 0}function cl(e,t){return Mw(e,t)===0}function Ga(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function ts(e){return e instanceof Uint8Array?Ga(e):e instanceof ArrayBuffer?e:Array.isArray(e)?Ga(new Uint8Array(e)):"buffer"in e?ts(e.buffer):Ga(new Uint8Array(e))}class Rt extends Error{constructor(t){super(t),this.message=t,this.name="AgentError",this.__proto__=Rt.prototype,Object.setPrototypeOf(this,Rt.prototype)}}function mt(...e){const t=new Uint8Array(e.reduce((i,a)=>i+a.byteLength,0));let r=0;for(const i of e)t.set(new Uint8Array(i),r),r+=i.byteLength;return t}class Go{constructor(t,r=(t==null?void 0:t.byteLength)||0){this._buffer=ji(t||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,r)}save(){return this._view}restore(t){this._view=t}get buffer(){return ji(this._view.slice())}get byteLength(){return this._view.byteLength}read(t){const r=this._view.subarray(0,t);return this._view=this._view.subarray(t),r.slice().buffer}readUint8(){const t=this._view[0];return this._view=this._view.subarray(1),t}write(t){const r=new Uint8Array(t),i=this._view.byteLength;this._view.byteOffset+this._view.byteLength+r.byteLength>=this._buffer.byteLength?this.alloc(r.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+r.byteLength),this._view.set(r,i)}get end(){return this._view.byteLength===0}alloc(t){const r=new ArrayBuffer((this._buffer.byteLength+t)*1.2|0),i=new Uint8Array(r,0,this._view.byteLength+t);i.set(this._view),this._buffer=r,this._view=i}}function xh(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function ji(e){return e instanceof Uint8Array?xh(e):e instanceof ArrayBuffer?e:Array.isArray(e)?xh(new Uint8Array(e)):"buffer"in e?ji(e.buffer):xh(new Uint8Array(e))}function __(e){const r=new TextEncoder().encode(e);let i=0;for(const a of r)i=(i*223+a)%2**32;return i}function jn(e){if(/^_\d+_$/.test(e)||/^_0x[0-9a-fA-F]+_$/.test(e)){const t=+e.slice(1,-1);if(Number.isSafeInteger(t)&&t>=0&&t<2**32)return t}return __(e)}function Ow(){throw new Error("unexpected end of buffer")}function Ai(e,t){return e.byteLength<t&&Ow(),e.read(t)}function Ci(e){const t=e.readUint8();return t===void 0&&Ow(),t}function Bt(e){if(typeof e=="number"&&(e=BigInt(e)),e<BigInt(0))throw new Error("Cannot leb encode negative values.");const t=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,r=new Go(new ArrayBuffer(t),0);for(;;){const i=Number(e&BigInt(127));if(e/=BigInt(128),e===BigInt(0)){r.write(new Uint8Array([i]));break}else r.write(new Uint8Array([i|128]))}return r.buffer}function Dt(e){let t=BigInt(1),r=BigInt(0),i;do i=Ci(e),r+=BigInt(i&127).valueOf()*t,t*=BigInt(128);while(i>=128);return r}function Wt(e){typeof e=="number"&&(e=BigInt(e));const t=e<BigInt(0);t&&(e=-e-BigInt(1));const r=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,i=new Go(new ArrayBuffer(r),0);for(;;){const c=a(e);if(e/=BigInt(128),t&&e===BigInt(0)&&(c&64)!==0||!t&&e===BigInt(0)&&(c&64)===0){i.write(new Uint8Array([c]));break}else i.write(new Uint8Array([c|128]))}function a(c){const d=c%BigInt(128);return Number(t?BigInt(128)-d-BigInt(1):d)}return i.buffer}function Us(e){const t=new Uint8Array(e.buffer);let r=0;for(;r<t.byteLength;r++)if(t[r]<128){if((t[r]&64)===0)return Dt(e);break}const i=new Uint8Array(Ai(e,r+1));let a=BigInt(0);for(let c=i.byteLength-1;c>=0;c--)a=a*BigInt(128)+BigInt(128-(i[c]&127)-1);return-a-BigInt(1)}function S_(e,t){if(BigInt(e)<BigInt(0))throw new Error("Cannot write negative values.");return Iw(e,t)}function Iw(e,t){e=BigInt(e);const r=new Go(new ArrayBuffer(Math.min(1,t)),0);let i=0,a=BigInt(256),c=BigInt(0),d=Number(e%a);for(r.write(new Uint8Array([d]));++i<t;)e<0&&c===BigInt(0)&&d!==0&&(c=BigInt(1)),d=Number((e/a-c)%BigInt(256)),r.write(new Uint8Array([d])),a*=BigInt(256);return r.buffer}function Fw(e,t){let r=BigInt(Ci(e)),i=BigInt(1),a=0;for(;++a<t;){i*=BigInt(256);const c=BigInt(Ci(e));r=r+i*c}return r}function k_(e,t){let r=Fw(e,t);const i=BigInt(2)**(BigInt(8)*BigInt(t-1)+BigInt(7));return r>=i&&(r-=i*BigInt(2)),r}function g0(e){const t=BigInt(e);if(e<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<t}const Yc="DIDL",Ux=400;function Za(e,t,r){return e.map((i,a)=>r(i,t[a]))}class j_{constructor(){this._typs=[],this._idx=new Map}has(t){return this._idx.has(t.name)}add(t,r){const i=this._typs.length;this._idx.set(t.name,i),this._typs.push(r)}merge(t,r){const i=this._idx.get(t.name),a=this._idx.get(r);if(i===void 0)throw new Error("Missing type index for "+t);if(a===void 0)throw new Error("Missing type index for "+r);this._typs[i]=this._typs[a],this._typs.splice(a,1),this._idx.delete(r)}encode(){const t=Bt(this._typs.length),r=mt(...this._typs);return mt(t,r)}indexOf(t){if(!this._idx.has(t))throw new Error("Missing type index for "+t);return Wt(this._idx.get(t)||0)}}class A_{visitType(t,r){throw new Error("Not implemented")}visitPrimitive(t,r){return this.visitType(t,r)}visitEmpty(t,r){return this.visitPrimitive(t,r)}visitBool(t,r){return this.visitPrimitive(t,r)}visitNull(t,r){return this.visitPrimitive(t,r)}visitReserved(t,r){return this.visitPrimitive(t,r)}visitText(t,r){return this.visitPrimitive(t,r)}visitNumber(t,r){return this.visitPrimitive(t,r)}visitInt(t,r){return this.visitNumber(t,r)}visitNat(t,r){return this.visitNumber(t,r)}visitFloat(t,r){return this.visitPrimitive(t,r)}visitFixedInt(t,r){return this.visitNumber(t,r)}visitFixedNat(t,r){return this.visitNumber(t,r)}visitPrincipal(t,r){return this.visitPrimitive(t,r)}visitConstruct(t,r){return this.visitType(t,r)}visitVec(t,r,i){return this.visitConstruct(t,i)}visitOpt(t,r,i){return this.visitConstruct(t,i)}visitRecord(t,r,i){return this.visitConstruct(t,i)}visitTuple(t,r,i){const a=r.map((c,d)=>[`_${d}_`,c]);return this.visitRecord(t,a,i)}visitVariant(t,r,i){return this.visitConstruct(t,i)}visitRec(t,r,i){return this.visitConstruct(r,i)}visitFunc(t,r){return this.visitConstruct(t,r)}visitService(t,r){return this.visitConstruct(t,r)}}class Zu{display(){return this.name}valueToString(t){return Ot(t)}buildTypeTable(t){t.has(this)||this._buildTypeTableImpl(t)}}class Dr extends Zu{checkType(t){if(this.name!==t.name)throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`);return t}_buildTypeTableImpl(t){}}class Js extends Zu{checkType(t){if(t instanceof us){const r=t.getType();if(typeof r>"u")throw new Error("type mismatch with uninitialized type");return r}throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`)}encodeType(t){return t.indexOf(this.name)}}class Uw extends Dr{accept(t,r){return t.visitEmpty(this,r)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${Ot(t)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return Wt(-17)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}}class $w extends Zu{checkType(t){throw new Error("Method not implemented for unknown.")}accept(t,r){throw t.visitType(this,r)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${Ot(t)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(t,r){let i=r.decodeValue(t,r);Object(i)!==i&&(i=Object(i));let a;return r instanceof us?a=()=>r.getType():a=()=>r,Object.defineProperty(i,"type",{value:a,writable:!0,enumerable:!1,configurable:!0}),i}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}}class zw extends Dr{accept(t,r){return t.visitBool(this,r)}covariant(t){if(typeof t=="boolean")return!0;throw new Error(`Invalid ${this.display()} argument: ${Ot(t)}`)}encodeValue(t){return new Uint8Array([t?1:0])}encodeType(){return Wt(-2)}decodeValue(t,r){switch(this.checkType(r),Ci(t)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}}class ku extends Dr{accept(t,r){return t.visitNull(this,r)}covariant(t){if(t===null)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ot(t)}`)}encodeValue(){return new ArrayBuffer(0)}encodeType(){return Wt(-1)}decodeValue(t,r){return this.checkType(r),null}get name(){return"null"}}class Vo extends Dr{accept(t,r){return t.visitReserved(this,r)}covariant(t){return!0}encodeValue(){return new ArrayBuffer(0)}encodeType(){return Wt(-16)}decodeValue(t,r){return r.name!==this.name&&r.decodeValue(t,r),null}get name(){return"reserved"}}class Vw extends Dr{accept(t,r){return t.visitText(this,r)}covariant(t){if(typeof t=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${Ot(t)}`)}encodeValue(t){const r=new TextEncoder().encode(t),i=Bt(r.byteLength);return mt(i,r)}encodeType(){return Wt(-15)}decodeValue(t,r){this.checkType(r);const i=Dt(t),a=Ai(t,Number(i));return new TextDecoder("utf8",{fatal:!0}).decode(a)}get name(){return"text"}valueToString(t){return'"'+t+'"'}}class Hw extends Dr{accept(t,r){return t.visitInt(this,r)}covariant(t){if(typeof t=="bigint"||Number.isInteger(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${Ot(t)}`)}encodeValue(t){return Wt(t)}encodeType(){return Wt(-4)}decodeValue(t,r){return this.checkType(r),Us(t)}get name(){return"int"}valueToString(t){return t.toString()}}class Lw extends Dr{accept(t,r){return t.visitNat(this,r)}covariant(t){if(typeof t=="bigint"&&t>=BigInt(0)||Number.isInteger(t)&&t>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ot(t)}`)}encodeValue(t){return Bt(t)}encodeType(){return Wt(-3)}decodeValue(t,r){return this.checkType(r),Dt(t)}get name(){return"nat"}valueToString(t){return t.toString()}}class sp extends Dr{constructor(t){if(super(),this._bits=t,t!==32&&t!==64)throw new Error("not a valid float type")}accept(t,r){return t.visitFloat(this,r)}covariant(t){if(typeof t=="number"||t instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ot(t)}`)}encodeValue(t){const r=new ArrayBuffer(this._bits/8),i=new DataView(r);return this._bits===32?i.setFloat32(0,t,!0):i.setFloat64(0,t,!0),r}encodeType(){const t=this._bits===32?-13:-14;return Wt(t)}decodeValue(t,r){this.checkType(r);const i=Ai(t,this._bits/8),a=new DataView(i);return this._bits===32?a.getFloat32(0,!0):a.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(t){return t.toString()}}class Ti extends Dr{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedInt(this,r)}covariant(t){const r=g0(this._bits-1)*BigInt(-1),i=g0(this._bits-1)-BigInt(1);let a=!1;if(typeof t=="bigint")a=t>=r&&t<=i;else if(Number.isInteger(t)){const c=BigInt(t);a=c>=r&&c<=i}else a=!1;if(a)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ot(t)}`)}encodeValue(t){return Iw(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return Wt(-9-t)}decodeValue(t,r){this.checkType(r);const i=k_(t,this._bits/8);return this._bits<=32?Number(i):i}get name(){return`int${this._bits}`}valueToString(t){return t.toString()}}class Ks extends Dr{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedNat(this,r)}covariant(t){const r=g0(this._bits);let i=!1;if(typeof t=="bigint"&&t>=BigInt(0)?i=t<r:Number.isInteger(t)&&t>=0?i=BigInt(t)<r:i=!1,i)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ot(t)}`)}encodeValue(t){return S_(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return Wt(-5-t)}decodeValue(t,r){this.checkType(r);const i=Fw(t,this._bits/8);return this._bits<=32?Number(i):i}get name(){return`nat${this._bits}`}valueToString(t){return t.toString()}}class Xu extends Js{constructor(t){super(),this._type=t,this._blobOptimization=!1,t instanceof Ks&&t._bits===8&&(this._blobOptimization=!0)}accept(t,r){return t.visitVec(this,this._type,r)}covariant(t){const r=this._type instanceof Ks?this._type._bits:this._type instanceof Ti?this._type._bits:0;if(ArrayBuffer.isView(t)&&r==t.BYTES_PER_ELEMENT*8||Array.isArray(t)&&t.every((i,a)=>{try{return this._type.covariant(i)}catch(c){throw new Error(`Invalid ${this.display()} argument: 

index ${a} -> ${c.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Ot(t)}`)}encodeValue(t){const r=Bt(t.length);if(this._blobOptimization)return mt(r,new Uint8Array(t));if(ArrayBuffer.isView(t))return mt(r,new Uint8Array(t.buffer));const i=new Go(new ArrayBuffer(r.byteLength+t.length),0);i.write(r);for(const a of t){const c=this._type.encodeValue(a);i.write(new Uint8Array(c))}return i.buffer}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const r=Wt(-19),i=this._type.encodeType(t);t.add(this,mt(r,i))}decodeValue(t,r){const i=this.checkType(r);if(!(i instanceof Xu))throw new Error("Not a vector type");const a=Number(Dt(t));if(this._type instanceof Ks){if(this._type._bits==8)return new Uint8Array(t.read(a));if(this._type._bits==16)return new Uint16Array(t.read(a*2));if(this._type._bits==32)return new Uint32Array(t.read(a*4));if(this._type._bits==64)return new BigUint64Array(t.read(a*8))}if(this._type instanceof Ti){if(this._type._bits==8)return new Int8Array(t.read(a));if(this._type._bits==16)return new Int16Array(t.read(a*2));if(this._type._bits==32)return new Int32Array(t.read(a*4));if(this._type._bits==64)return new BigInt64Array(t.read(a*8))}const c=[];for(let d=0;d<a;d++)c.push(this._type.decodeValue(t,i._type));return c}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(t){return"vec {"+t.map(i=>this._type.valueToString(i)).join("; ")+"}"}}class Ri extends Js{constructor(t){super(),this._type=t}accept(t,r){return t.visitOpt(this,this._type,r)}covariant(t){try{if(Array.isArray(t)&&(t.length===0||t.length===1&&this._type.covariant(t[0])))return!0}catch(r){throw new Error(`Invalid ${this.display()} argument: ${Ot(t)} 

-> ${r.message}`)}throw new Error(`Invalid ${this.display()} argument: ${Ot(t)}`)}encodeValue(t){return t.length===0?new Uint8Array([0]):mt(new Uint8Array([1]),this._type.encodeValue(t[0]))}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const r=Wt(-18),i=this._type.encodeType(t);t.add(this,mt(r,i))}decodeValue(t,r){if(r instanceof ku)return[];if(r instanceof Vo)return[];let i=r;if(r instanceof us){const a=r.getType();if(typeof a>"u")throw new Error("type mismatch with uninitialized type");i=a}if(i instanceof Ri)switch(Ci(t)){case 0:return[];case 1:{const a=t.save();try{return[this._type.decodeValue(t,i._type)]}catch{return t.restore(a),i._type.decodeValue(t,i._type),[]}}default:throw new Error("Not an option value")}else{if(this._type instanceof ku||this._type instanceof Ri||this._type instanceof Vo)return i.decodeValue(t,i),[];{const a=t.save();try{return[this._type.decodeValue(t,r)]}catch{return t.restore(a),i.decodeValue(t,r),[]}}}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(t){return t.length===0?"null":`opt ${this._type.valueToString(t[0])}`}}class ul extends Js{constructor(t={}){super(),this._fields=Object.entries(t).sort((r,i)=>jn(r[0])-jn(i[0]))}accept(t,r){return t.visitRecord(this,this._fields,r)}tryAsTuple(){const t=[];for(let r=0;r<this._fields.length;r++){const[i,a]=this._fields[r];if(i!==`_${r}_`)return null;t.push(a)}return t}covariant(t){if(typeof t=="object"&&this._fields.every(([r,i])=>{if(!t.hasOwnProperty(r))throw new Error(`Record is missing key "${r}".`);try{return i.covariant(t[r])}catch(a){throw new Error(`Invalid ${this.display()} argument: 

field ${r} -> ${a.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Ot(t)}`)}encodeValue(t){const r=this._fields.map(([a])=>t[a]),i=Za(this._fields,r,([,a],c)=>a.encodeValue(c));return mt(...i)}_buildTypeTableImpl(t){this._fields.forEach(([c,d])=>d.buildTypeTable(t));const r=Wt(-20),i=Bt(this._fields.length),a=this._fields.map(([c,d])=>mt(Bt(jn(c)),d.encodeType(t)));t.add(this,mt(r,i,mt(...a)))}decodeValue(t,r){const i=this.checkType(r);if(!(i instanceof ul))throw new Error("Not a record type");const a={};let c=0,d=0;for(;d<i._fields.length;){const[u,h]=i._fields[d];if(c>=this._fields.length){h.decodeValue(t,h),d++;continue}const[m,g]=this._fields[c],p=jn(this._fields[c][0]),v=jn(u);if(p===v)a[m]=g.decodeValue(t,h),c++,d++;else if(v>p)if(g instanceof Ri||g instanceof Vo)a[m]=[],c++;else throw new Error("Cannot find required field "+m);else h.decodeValue(t,h),d++}for(const[u,h]of this._fields.slice(c))if(h instanceof Ri||h instanceof Vo)a[u]=[];else throw new Error("Cannot find required field "+u);return a}get name(){return`record {${this._fields.map(([r,i])=>r+":"+i.name).join("; ")}}`}display(){return`record {${this._fields.map(([r,i])=>r+":"+i.display()).join("; ")}}`}valueToString(t){const r=this._fields.map(([a])=>t[a]);return`record {${Za(this._fields,r,([a,c],d)=>a+"="+c.valueToString(d)).join("; ")}}`}}class Qu extends ul{constructor(t){const r={};t.forEach((i,a)=>r["_"+a+"_"]=i),super(r),this._components=t}accept(t,r){return t.visitTuple(this,this._components,r)}covariant(t){if(Array.isArray(t)&&t.length>=this._fields.length&&this._components.every((r,i)=>{try{return r.covariant(t[i])}catch(a){throw new Error(`Invalid ${this.display()} argument: 

index ${i} -> ${a.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Ot(t)}`)}encodeValue(t){const r=Za(this._components,t,(i,a)=>i.encodeValue(a));return mt(...r)}decodeValue(t,r){const i=this.checkType(r);if(!(i instanceof Qu))throw new Error("not a tuple type");if(i._components.length<this._components.length)throw new Error("tuple mismatch");const a=[];for(const[c,d]of i._components.entries())c>=this._components.length?d.decodeValue(t,d):a.push(this._components[c].decodeValue(t,d));return a}display(){return`record {${this._components.map(r=>r.display()).join("; ")}}`}valueToString(t){return`record {${Za(this._components,t,(i,a)=>i.valueToString(a)).join("; ")}}`}}class Ju extends Js{constructor(t={}){super(),this._fields=Object.entries(t).sort((r,i)=>jn(r[0])-jn(i[0]))}accept(t,r){return t.visitVariant(this,this._fields,r)}covariant(t){if(typeof t=="object"&&Object.entries(t).length===1&&this._fields.every(([r,i])=>{try{return!t.hasOwnProperty(r)||i.covariant(t[r])}catch(a){throw new Error(`Invalid ${this.display()} argument: 

variant ${r} -> ${a.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Ot(t)}`)}encodeValue(t){for(let r=0;r<this._fields.length;r++){const[i,a]=this._fields[r];if(t.hasOwnProperty(i)){const c=Bt(r),d=a.encodeValue(t[i]);return mt(c,d)}}throw Error("Variant has no data: "+t)}_buildTypeTableImpl(t){this._fields.forEach(([,c])=>{c.buildTypeTable(t)});const r=Wt(-21),i=Bt(this._fields.length),a=this._fields.map(([c,d])=>mt(Bt(jn(c)),d.encodeType(t)));t.add(this,mt(r,i,...a))}decodeValue(t,r){const i=this.checkType(r);if(!(i instanceof Ju))throw new Error("Not a variant type");const a=Number(Dt(t));if(a>=i._fields.length)throw Error("Invalid variant index: "+a);const[c,d]=i._fields[a];for(const[u,h]of this._fields)if(jn(c)===jn(u)){const m=h.decodeValue(t,d);return{[u]:m}}throw new Error("Cannot find field hash "+c)}get name(){return`variant {${this._fields.map(([r,i])=>r+":"+i.name).join("; ")}}`}display(){return`variant {${this._fields.map(([r,i])=>r+(i.name==="null"?"":`:${i.display()}`)).join("; ")}}`}valueToString(t){for(const[r,i]of this._fields)if(t.hasOwnProperty(r)){const a=i.valueToString(t[r]);return a==="null"?`variant {${r}}`:`variant {${r}=${a}}`}throw new Error("Variant has no data: "+t)}}class us extends Js{constructor(){super(...arguments),this._id=us._counter++,this._type=void 0}accept(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return t.visitRec(this,this._type,r)}fill(t){this._type=t}getType(){return this._type}covariant(t){if(this._type&&this._type.covariant(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${Ot(t)}`)}encodeValue(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(t)}_buildTypeTableImpl(t){if(!this._type)throw Error("Recursive type uninitialized.");t.add(this,new Uint8Array([])),this._type.buildTypeTable(t),t.merge(this,this._type.name)}decodeValue(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(t,r)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`μ${this.name}.${this._type.name}`}valueToString(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(t)}}us._counter=0;function ip(e){if(Ci(e)!==1)throw new Error("Cannot decode principal");const r=Number(Dt(e));return rt.fromUint8Array(new Uint8Array(Ai(e,r)))}class Ww extends Dr{accept(t,r){return t.visitPrincipal(this,r)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ot(t)}`)}encodeValue(t){const r=t.toUint8Array(),i=Bt(r.byteLength);return mt(new Uint8Array([1]),i,r)}encodeType(){return Wt(-24)}decodeValue(t,r){return this.checkType(r),ip(t)}get name(){return"principal"}valueToString(t){return`${this.name} "${t.toText()}"`}}class op extends Js{constructor(t,r,i=[]){super(),this.argTypes=t,this.retTypes=r,this.annotations=i}static argsToString(t,r){if(t.length!==r.length)throw new Error("arity mismatch");return"("+t.map((i,a)=>i.valueToString(r[a])).join(", ")+")"}accept(t,r){return t.visitFunc(this,r)}covariant(t){if(Array.isArray(t)&&t.length===2&&t[0]&&t[0]._isPrincipal&&typeof t[1]=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${Ot(t)}`)}encodeValue([t,r]){const i=t.toUint8Array(),a=Bt(i.byteLength),c=mt(new Uint8Array([1]),a,i),d=new TextEncoder().encode(r),u=Bt(d.byteLength);return mt(new Uint8Array([1]),c,u,d)}_buildTypeTableImpl(t){this.argTypes.forEach(m=>m.buildTypeTable(t)),this.retTypes.forEach(m=>m.buildTypeTable(t));const r=Wt(-22),i=Bt(this.argTypes.length),a=mt(...this.argTypes.map(m=>m.encodeType(t))),c=Bt(this.retTypes.length),d=mt(...this.retTypes.map(m=>m.encodeType(t))),u=Bt(this.annotations.length),h=mt(...this.annotations.map(m=>this.encodeAnnotation(m)));t.add(this,mt(r,i,a,c,d,u,h))}decodeValue(t){if(Ci(t)!==1)throw new Error("Cannot decode function reference");const i=ip(t),a=Number(Dt(t)),c=Ai(t,a),u=new TextDecoder("utf8",{fatal:!0}).decode(c);return[i,u]}get name(){const t=this.argTypes.map(a=>a.name).join(", "),r=this.retTypes.map(a=>a.name).join(", "),i=" "+this.annotations.join(" ");return`(${t}) -> (${r})${i}`}valueToString([t,r]){return`func "${t.toText()}".${r}`}display(){const t=this.argTypes.map(a=>a.display()).join(", "),r=this.retTypes.map(a=>a.display()).join(", "),i=" "+this.annotations.join(" ");return`(${t}) → (${r})${i}`}encodeAnnotation(t){if(t==="query")return new Uint8Array([1]);if(t==="oneway")return new Uint8Array([2]);if(t==="composite_query")return new Uint8Array([3]);throw new Error("Illegal function annotation")}}class qw extends Js{constructor(t){super(),this._fields=Object.entries(t).sort((r,i)=>r[0]<i[0]?-1:r[0]>i[0]?1:0)}accept(t,r){return t.visitService(this,r)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${Ot(t)}`)}encodeValue(t){const r=t.toUint8Array(),i=Bt(r.length);return mt(new Uint8Array([1]),i,r)}_buildTypeTableImpl(t){this._fields.forEach(([c,d])=>d.buildTypeTable(t));const r=Wt(-23),i=Bt(this._fields.length),a=this._fields.map(([c,d])=>{const u=new TextEncoder().encode(c),h=Bt(u.length);return mt(h,u,d.encodeType(t))});t.add(this,mt(r,i,...a))}decodeValue(t){return ip(t)}get name(){return`service {${this._fields.map(([r,i])=>r+":"+i.name).join("; ")}}`}valueToString(t){return`service "${t.toText()}"`}}function Ot(e){const t=JSON.stringify(e,(r,i)=>typeof i=="bigint"?`BigInt(${i})`:i);return t&&t.length>Ux?t.substring(0,Ux-3)+"...":t}function x0(e,t){if(t.length<e.length)throw Error("Wrong number of message arguments");const r=new j_;e.forEach(h=>h.buildTypeTable(r));const i=new TextEncoder().encode(Yc),a=r.encode(),c=Bt(t.length),d=mt(...e.map(h=>h.encodeType(r))),u=mt(...Za(e,t,(h,m)=>{try{h.covariant(m)}catch(g){throw new Error(g.message+`

`)}return h.encodeValue(m)}));return mt(i,a,c,d,u)}function Gw(e,t){const r=new Go(t);if(t.byteLength<Yc.length)throw new Error("Message length smaller than magic number");const i=Ai(r,Yc.length),a=new TextDecoder().decode(i);if(a!==Yc)throw new Error("Wrong magic number: "+JSON.stringify(a));function c(E){const w=[],k=Number(Dt(E));for(let M=0;M<k;M++){const U=Number(Us(E));switch(U){case-18:case-19:{const G=Number(Us(E));w.push([U,G]);break}case-20:case-21:{const G=[];let O=Number(Dt(E)),Q;for(;O--;){const X=Number(Dt(E));if(X>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if(typeof Q=="number"&&Q>=X)throw new Error("field id collision or not sorted");Q=X;const $=Number(Us(E));G.push([X,$])}w.push([U,G]);break}case-22:{const G=[];let O=Number(Dt(E));for(;O--;)G.push(Number(Us(E)));const Q=[];let X=Number(Dt(E));for(;X--;)Q.push(Number(Us(E)));const $=[];let q=Number(Dt(E));for(;q--;)switch(Number(Dt(E))){case 1:{$.push("query");break}case 2:{$.push("oneway");break}case 3:{$.push("composite_query");break}default:throw new Error("unknown annotation")}w.push([U,[G,Q,$]]);break}case-23:{let G=Number(Dt(E));const O=[];for(;G--;){const Q=Number(Dt(E)),X=new TextDecoder().decode(Ai(E,Q)),$=Us(E);O.push([X,$])}w.push([U,O]);break}default:throw new Error("Illegal op_code: "+U)}}const j=[],R=Number(Dt(E));for(let M=0;M<R;M++)j.push(Number(Us(E)));return[w,j]}const[d,u]=c(r);if(u.length<e.length)throw new Error("Wrong number of return values");const h=d.map(E=>g1());function m(E){if(E<-24)throw new Error("future value not supported");if(E<0)switch(E){case-1:return Zw;case-2:return Yw;case-3:return Jw;case-4:return Qw;case-5:return o1;case-6:return a1;case-7:return l1;case-8:return c1;case-9:return r1;case-10:return n1;case-11:return s1;case-12:return i1;case-13:return e1;case-14:return t1;case-15:return Xw;case-16:return Dw;case-17:return Kw;case-24:return u1;default:throw new Error("Illegal op_code: "+E)}if(E>=d.length)throw new Error("type index out of range");return h[E]}function g(E){switch(E[0]){case-19:{const w=m(E[1]);return f1(w)}case-18:{const w=m(E[1]);return h1(w)}case-20:{const w={};for(const[R,M]of E[1]){const U=`_${R}_`;w[U]=m(M)}const k=p1(w),j=k.tryAsTuple();return Array.isArray(j)?d1(...j):k}case-21:{const w={};for(const[k,j]of E[1]){const R=`_${k}_`;w[R]=m(j)}return m1(w)}case-22:{const[w,k,j]=E[1];return x1(w.map(R=>m(R)),k.map(R=>m(R)),j)}case-23:{const w={},k=E[1];for(const[j,R]of k){let M=m(R);if(M instanceof us&&(M=M.getType()),!(M instanceof op))throw new Error("Illegal service definition: services can only contain functions");w[j]=M}return y1(w)}default:throw new Error("Illegal op_code: "+E[0])}}d.forEach((E,w)=>{if(E[0]===-22){const k=g(E);h[w].fill(k)}}),d.forEach((E,w)=>{if(E[0]!==-22){const k=g(E);h[w].fill(k)}});const p=u.map(E=>m(E)),v=e.map((E,w)=>E.decodeValue(r,p[w]));for(let E=e.length;E<p.length;E++)p[E].decodeValue(r,p[E]);if(r.byteLength>0)throw new Error("decode: Left-over bytes");return v}const Kw=new Uw,Dw=new Vo,C_=new $w,Yw=new zw,Zw=new ku,Xw=new Vw,Qw=new Hw,Jw=new Lw,e1=new sp(32),t1=new sp(64),r1=new Ti(8),n1=new Ti(16),s1=new Ti(32),i1=new Ti(64),o1=new Ks(8),a1=new Ks(16),l1=new Ks(32),c1=new Ks(64),u1=new Ww;function d1(...e){return new Qu(e)}function f1(e){return new Xu(e)}function h1(e){return new Ri(e)}function p1(e){return new ul(e)}function m1(e){return new Ju(e)}function g1(){return new us}function x1(e,t,r=[]){return new op(e,t,r)}function y1(e){return new qw(e)}const T_=Object.freeze(Object.defineProperty({__proto__:null,Bool:Yw,BoolClass:zw,ConstructType:Js,Empty:Kw,EmptyClass:Uw,FixedIntClass:Ti,FixedNatClass:Ks,Float32:e1,Float64:t1,FloatClass:sp,Func:x1,FuncClass:op,Int:Qw,Int16:n1,Int32:s1,Int64:i1,Int8:r1,IntClass:Hw,Nat:Jw,Nat16:a1,Nat32:l1,Nat64:c1,Nat8:o1,NatClass:Lw,Null:Zw,NullClass:ku,Opt:h1,OptClass:Ri,PrimitiveType:Dr,Principal:u1,PrincipalClass:Ww,Rec:g1,RecClass:us,Record:p1,RecordClass:ul,Reserved:Dw,ReservedClass:Vo,Service:y1,ServiceClass:qw,Text:Xw,TextClass:Vw,Tuple:d1,TupleClass:Qu,Type:Zu,Unknown:C_,UnknownClass:$w,Variant:m1,VariantClass:Ju,Vec:f1,VecClass:Xu,Visitor:A_,decode:Gw,encode:x0},Symbol.toStringTag,{value:"Module"}));var yh={},wh={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var $x;function ed(){return $x||($x=1,function(e){var t=kw(),r=ep(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=M,e.INSPECT_MAX_BYTES=50;var a=2147483647;e.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=c(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{var T=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(T,y),T.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function d(T){if(T>a)throw new RangeError('The value "'+T+'" is invalid for option "size"');var y=new Uint8Array(T);return Object.setPrototypeOf(y,u.prototype),y}function u(T,y,b){if(typeof T=="number"){if(typeof y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(T)}return h(T,y,b)}u.poolSize=8192;function h(T,y,b){if(typeof T=="string")return v(T,y);if(ArrayBuffer.isView(T))return w(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(ne(T,ArrayBuffer)||T&&ne(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ne(T,SharedArrayBuffer)||T&&ne(T.buffer,SharedArrayBuffer)))return k(T,y,b);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var P=T.valueOf&&T.valueOf();if(P!=null&&P!==T)return u.from(P,y,b);var L=j(T);if(L)return L;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return u.from(T[Symbol.toPrimitive]("string"),y,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}u.from=function(T,y,b){return h(T,y,b)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function m(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function g(T,y,b){return m(T),T<=0?d(T):y!==void 0?typeof b=="string"?d(T).fill(y,b):d(T).fill(y):d(T)}u.alloc=function(T,y,b){return g(T,y,b)};function p(T){return m(T),d(T<0?0:R(T)|0)}u.allocUnsafe=function(T){return p(T)},u.allocUnsafeSlow=function(T){return p(T)};function v(T,y){if((typeof y!="string"||y==="")&&(y="utf8"),!u.isEncoding(y))throw new TypeError("Unknown encoding: "+y);var b=U(T,y)|0,P=d(b),L=P.write(T,y);return L!==b&&(P=P.slice(0,L)),P}function E(T){for(var y=T.length<0?0:R(T.length)|0,b=d(y),P=0;P<y;P+=1)b[P]=T[P]&255;return b}function w(T){if(ne(T,Uint8Array)){var y=new Uint8Array(T);return k(y.buffer,y.byteOffset,y.byteLength)}return E(T)}function k(T,y,b){if(y<0||T.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<y+(b||0))throw new RangeError('"length" is outside of buffer bounds');var P;return y===void 0&&b===void 0?P=new Uint8Array(T):b===void 0?P=new Uint8Array(T,y):P=new Uint8Array(T,y,b),Object.setPrototypeOf(P,u.prototype),P}function j(T){if(u.isBuffer(T)){var y=R(T.length)|0,b=d(y);return b.length===0||T.copy(b,0,0,y),b}if(T.length!==void 0)return typeof T.length!="number"||se(T.length)?d(0):E(T);if(T.type==="Buffer"&&Array.isArray(T.data))return E(T.data)}function R(T){if(T>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return T|0}function M(T){return+T!=T&&(T=0),u.alloc(+T)}u.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==u.prototype},u.compare=function(y,b){if(ne(y,Uint8Array)&&(y=u.from(y,y.offset,y.byteLength)),ne(b,Uint8Array)&&(b=u.from(b,b.offset,b.byteLength)),!u.isBuffer(y)||!u.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===b)return 0;for(var P=y.length,L=b.length,re=0,ge=Math.min(P,L);re<ge;++re)if(y[re]!==b[re]){P=y[re],L=b[re];break}return P<L?-1:L<P?1:0},u.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(y,b){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return u.alloc(0);var P;if(b===void 0)for(b=0,P=0;P<y.length;++P)b+=y[P].length;var L=u.allocUnsafe(b),re=0;for(P=0;P<y.length;++P){var ge=y[P];if(ne(ge,Uint8Array))re+ge.length>L.length?u.from(ge).copy(L,re):Uint8Array.prototype.set.call(L,ge,re);else if(u.isBuffer(ge))ge.copy(L,re);else throw new TypeError('"list" argument must be an Array of Buffers');re+=ge.length}return L};function U(T,y){if(u.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||ne(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);var b=T.length,P=arguments.length>2&&arguments[2]===!0;if(!P&&b===0)return 0;for(var L=!1;;)switch(y){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return he(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b*2;case"hex":return b>>>1;case"base64":return z(T).length;default:if(L)return P?-1:he(T).length;y=(""+y).toLowerCase(),L=!0}}u.byteLength=U;function G(T,y,b){var P=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,y>>>=0,b<=y))return"";for(T||(T="utf8");;)switch(T){case"hex":return ye(this,y,b);case"utf8":case"utf-8":return V(this,y,b);case"ascii":return ce(this,y,b);case"latin1":case"binary":return te(this,y,b);case"base64":return A(this,y,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,y,b);default:if(P)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),P=!0}}u.prototype._isBuffer=!0;function O(T,y,b){var P=T[y];T[y]=T[b],T[b]=P}u.prototype.swap16=function(){var y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<y;b+=2)O(this,b,b+1);return this},u.prototype.swap32=function(){var y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<y;b+=4)O(this,b,b+3),O(this,b+1,b+2);return this},u.prototype.swap64=function(){var y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<y;b+=8)O(this,b,b+7),O(this,b+1,b+6),O(this,b+2,b+5),O(this,b+3,b+4);return this},u.prototype.toString=function(){var y=this.length;return y===0?"":arguments.length===0?V(this,0,y):G.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(y){if(!u.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:u.compare(this,y)===0},u.prototype.inspect=function(){var y="",b=e.INSPECT_MAX_BYTES;return y=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(y+=" ... "),"<Buffer "+y+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(y,b,P,L,re){if(ne(y,Uint8Array)&&(y=u.from(y,y.offset,y.byteLength)),!u.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(b===void 0&&(b=0),P===void 0&&(P=y?y.length:0),L===void 0&&(L=0),re===void 0&&(re=this.length),b<0||P>y.length||L<0||re>this.length)throw new RangeError("out of range index");if(L>=re&&b>=P)return 0;if(L>=re)return-1;if(b>=P)return 1;if(b>>>=0,P>>>=0,L>>>=0,re>>>=0,this===y)return 0;for(var ge=re-L,Ae=P-b,Oe=Math.min(ge,Ae),Ue=this.slice(L,re),Ze=y.slice(b,P),B=0;B<Oe;++B)if(Ue[B]!==Ze[B]){ge=Ue[B],Ae=Ze[B];break}return ge<Ae?-1:Ae<ge?1:0};function Q(T,y,b,P,L){if(T.length===0)return-1;if(typeof b=="string"?(P=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,se(b)&&(b=L?0:T.length-1),b<0&&(b=T.length+b),b>=T.length){if(L)return-1;b=T.length-1}else if(b<0)if(L)b=0;else return-1;if(typeof y=="string"&&(y=u.from(y,P)),u.isBuffer(y))return y.length===0?-1:X(T,y,b,P,L);if(typeof y=="number")return y=y&255,typeof Uint8Array.prototype.indexOf=="function"?L?Uint8Array.prototype.indexOf.call(T,y,b):Uint8Array.prototype.lastIndexOf.call(T,y,b):X(T,[y],b,P,L);throw new TypeError("val must be string, number or Buffer")}function X(T,y,b,P,L){var re=1,ge=T.length,Ae=y.length;if(P!==void 0&&(P=String(P).toLowerCase(),P==="ucs2"||P==="ucs-2"||P==="utf16le"||P==="utf-16le")){if(T.length<2||y.length<2)return-1;re=2,ge/=2,Ae/=2,b/=2}function Oe(S,K){return re===1?S[K]:S.readUInt16BE(K*re)}var Ue;if(L){var Ze=-1;for(Ue=b;Ue<ge;Ue++)if(Oe(T,Ue)===Oe(y,Ze===-1?0:Ue-Ze)){if(Ze===-1&&(Ze=Ue),Ue-Ze+1===Ae)return Ze*re}else Ze!==-1&&(Ue-=Ue-Ze),Ze=-1}else for(b+Ae>ge&&(b=ge-Ae),Ue=b;Ue>=0;Ue--){for(var B=!0,N=0;N<Ae;N++)if(Oe(T,Ue+N)!==Oe(y,N)){B=!1;break}if(B)return Ue}return-1}u.prototype.includes=function(y,b,P){return this.indexOf(y,b,P)!==-1},u.prototype.indexOf=function(y,b,P){return Q(this,y,b,P,!0)},u.prototype.lastIndexOf=function(y,b,P){return Q(this,y,b,P,!1)};function $(T,y,b,P){b=Number(b)||0;var L=T.length-b;P?(P=Number(P),P>L&&(P=L)):P=L;var re=y.length;P>re/2&&(P=re/2);for(var ge=0;ge<P;++ge){var Ae=parseInt(y.substr(ge*2,2),16);if(se(Ae))return ge;T[b+ge]=Ae}return ge}function q(T,y,b,P){return Y(he(y,T.length-b),T,b,P)}function W(T,y,b,P){return Y(Ee(y),T,b,P)}function ie(T,y,b,P){return Y(z(y),T,b,P)}function fe(T,y,b,P){return Y(F(y,T.length-b),T,b,P)}u.prototype.write=function(y,b,P,L){if(b===void 0)L="utf8",P=this.length,b=0;else if(P===void 0&&typeof b=="string")L=b,P=this.length,b=0;else if(isFinite(b))b=b>>>0,isFinite(P)?(P=P>>>0,L===void 0&&(L="utf8")):(L=P,P=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var re=this.length-b;if((P===void 0||P>re)&&(P=re),y.length>0&&(P<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");L||(L="utf8");for(var ge=!1;;)switch(L){case"hex":return $(this,y,b,P);case"utf8":case"utf-8":return q(this,y,b,P);case"ascii":case"latin1":case"binary":return W(this,y,b,P);case"base64":return ie(this,y,b,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,y,b,P);default:if(ge)throw new TypeError("Unknown encoding: "+L);L=(""+L).toLowerCase(),ge=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(T,y,b){return y===0&&b===T.length?t.fromByteArray(T):t.fromByteArray(T.slice(y,b))}function V(T,y,b){b=Math.min(T.length,b);for(var P=[],L=y;L<b;){var re=T[L],ge=null,Ae=re>239?4:re>223?3:re>191?2:1;if(L+Ae<=b){var Oe,Ue,Ze,B;switch(Ae){case 1:re<128&&(ge=re);break;case 2:Oe=T[L+1],(Oe&192)===128&&(B=(re&31)<<6|Oe&63,B>127&&(ge=B));break;case 3:Oe=T[L+1],Ue=T[L+2],(Oe&192)===128&&(Ue&192)===128&&(B=(re&15)<<12|(Oe&63)<<6|Ue&63,B>2047&&(B<55296||B>57343)&&(ge=B));break;case 4:Oe=T[L+1],Ue=T[L+2],Ze=T[L+3],(Oe&192)===128&&(Ue&192)===128&&(Ze&192)===128&&(B=(re&15)<<18|(Oe&63)<<12|(Ue&63)<<6|Ze&63,B>65535&&B<1114112&&(ge=B))}}ge===null?(ge=65533,Ae=1):ge>65535&&(ge-=65536,P.push(ge>>>10&1023|55296),ge=56320|ge&1023),P.push(ge),L+=Ae}return J(P)}var Z=4096;function J(T){var y=T.length;if(y<=Z)return String.fromCharCode.apply(String,T);for(var b="",P=0;P<y;)b+=String.fromCharCode.apply(String,T.slice(P,P+=Z));return b}function ce(T,y,b){var P="";b=Math.min(T.length,b);for(var L=y;L<b;++L)P+=String.fromCharCode(T[L]&127);return P}function te(T,y,b){var P="";b=Math.min(T.length,b);for(var L=y;L<b;++L)P+=String.fromCharCode(T[L]);return P}function ye(T,y,b){var P=T.length;(!y||y<0)&&(y=0),(!b||b<0||b>P)&&(b=P);for(var L="",re=y;re<b;++re)L+=ae[T[re]];return L}function _e(T,y,b){for(var P=T.slice(y,b),L="",re=0;re<P.length-1;re+=2)L+=String.fromCharCode(P[re]+P[re+1]*256);return L}u.prototype.slice=function(y,b){var P=this.length;y=~~y,b=b===void 0?P:~~b,y<0?(y+=P,y<0&&(y=0)):y>P&&(y=P),b<0?(b+=P,b<0&&(b=0)):b>P&&(b=P),b<y&&(b=y);var L=this.subarray(y,b);return Object.setPrototypeOf(L,u.prototype),L};function D(T,y,b){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+y>b)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(y,b,P){y=y>>>0,b=b>>>0,P||D(y,b,this.length);for(var L=this[y],re=1,ge=0;++ge<b&&(re*=256);)L+=this[y+ge]*re;return L},u.prototype.readUintBE=u.prototype.readUIntBE=function(y,b,P){y=y>>>0,b=b>>>0,P||D(y,b,this.length);for(var L=this[y+--b],re=1;b>0&&(re*=256);)L+=this[y+--b]*re;return L},u.prototype.readUint8=u.prototype.readUInt8=function(y,b){return y=y>>>0,b||D(y,1,this.length),this[y]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(y,b){return y=y>>>0,b||D(y,2,this.length),this[y]|this[y+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(y,b){return y=y>>>0,b||D(y,2,this.length),this[y]<<8|this[y+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(y,b){return y=y>>>0,b||D(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(y,b){return y=y>>>0,b||D(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},u.prototype.readIntLE=function(y,b,P){y=y>>>0,b=b>>>0,P||D(y,b,this.length);for(var L=this[y],re=1,ge=0;++ge<b&&(re*=256);)L+=this[y+ge]*re;return re*=128,L>=re&&(L-=Math.pow(2,8*b)),L},u.prototype.readIntBE=function(y,b,P){y=y>>>0,b=b>>>0,P||D(y,b,this.length);for(var L=b,re=1,ge=this[y+--L];L>0&&(re*=256);)ge+=this[y+--L]*re;return re*=128,ge>=re&&(ge-=Math.pow(2,8*b)),ge},u.prototype.readInt8=function(y,b){return y=y>>>0,b||D(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},u.prototype.readInt16LE=function(y,b){y=y>>>0,b||D(y,2,this.length);var P=this[y]|this[y+1]<<8;return P&32768?P|4294901760:P},u.prototype.readInt16BE=function(y,b){y=y>>>0,b||D(y,2,this.length);var P=this[y+1]|this[y]<<8;return P&32768?P|4294901760:P},u.prototype.readInt32LE=function(y,b){return y=y>>>0,b||D(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},u.prototype.readInt32BE=function(y,b){return y=y>>>0,b||D(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},u.prototype.readFloatLE=function(y,b){return y=y>>>0,b||D(y,4,this.length),r.read(this,y,!0,23,4)},u.prototype.readFloatBE=function(y,b){return y=y>>>0,b||D(y,4,this.length),r.read(this,y,!1,23,4)},u.prototype.readDoubleLE=function(y,b){return y=y>>>0,b||D(y,8,this.length),r.read(this,y,!0,52,8)},u.prototype.readDoubleBE=function(y,b){return y=y>>>0,b||D(y,8,this.length),r.read(this,y,!1,52,8)};function me(T,y,b,P,L,re){if(!u.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>L||y<re)throw new RangeError('"value" argument is out of bounds');if(b+P>T.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(y,b,P,L){if(y=+y,b=b>>>0,P=P>>>0,!L){var re=Math.pow(2,8*P)-1;me(this,y,b,P,re,0)}var ge=1,Ae=0;for(this[b]=y&255;++Ae<P&&(ge*=256);)this[b+Ae]=y/ge&255;return b+P},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(y,b,P,L){if(y=+y,b=b>>>0,P=P>>>0,!L){var re=Math.pow(2,8*P)-1;me(this,y,b,P,re,0)}var ge=P-1,Ae=1;for(this[b+ge]=y&255;--ge>=0&&(Ae*=256);)this[b+ge]=y/Ae&255;return b+P},u.prototype.writeUint8=u.prototype.writeUInt8=function(y,b,P){return y=+y,b=b>>>0,P||me(this,y,b,1,255,0),this[b]=y&255,b+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(y,b,P){return y=+y,b=b>>>0,P||me(this,y,b,2,65535,0),this[b]=y&255,this[b+1]=y>>>8,b+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(y,b,P){return y=+y,b=b>>>0,P||me(this,y,b,2,65535,0),this[b]=y>>>8,this[b+1]=y&255,b+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(y,b,P){return y=+y,b=b>>>0,P||me(this,y,b,4,4294967295,0),this[b+3]=y>>>24,this[b+2]=y>>>16,this[b+1]=y>>>8,this[b]=y&255,b+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(y,b,P){return y=+y,b=b>>>0,P||me(this,y,b,4,4294967295,0),this[b]=y>>>24,this[b+1]=y>>>16,this[b+2]=y>>>8,this[b+3]=y&255,b+4},u.prototype.writeIntLE=function(y,b,P,L){if(y=+y,b=b>>>0,!L){var re=Math.pow(2,8*P-1);me(this,y,b,P,re-1,-re)}var ge=0,Ae=1,Oe=0;for(this[b]=y&255;++ge<P&&(Ae*=256);)y<0&&Oe===0&&this[b+ge-1]!==0&&(Oe=1),this[b+ge]=(y/Ae>>0)-Oe&255;return b+P},u.prototype.writeIntBE=function(y,b,P,L){if(y=+y,b=b>>>0,!L){var re=Math.pow(2,8*P-1);me(this,y,b,P,re-1,-re)}var ge=P-1,Ae=1,Oe=0;for(this[b+ge]=y&255;--ge>=0&&(Ae*=256);)y<0&&Oe===0&&this[b+ge+1]!==0&&(Oe=1),this[b+ge]=(y/Ae>>0)-Oe&255;return b+P},u.prototype.writeInt8=function(y,b,P){return y=+y,b=b>>>0,P||me(this,y,b,1,127,-128),y<0&&(y=255+y+1),this[b]=y&255,b+1},u.prototype.writeInt16LE=function(y,b,P){return y=+y,b=b>>>0,P||me(this,y,b,2,32767,-32768),this[b]=y&255,this[b+1]=y>>>8,b+2},u.prototype.writeInt16BE=function(y,b,P){return y=+y,b=b>>>0,P||me(this,y,b,2,32767,-32768),this[b]=y>>>8,this[b+1]=y&255,b+2},u.prototype.writeInt32LE=function(y,b,P){return y=+y,b=b>>>0,P||me(this,y,b,4,2147483647,-2147483648),this[b]=y&255,this[b+1]=y>>>8,this[b+2]=y>>>16,this[b+3]=y>>>24,b+4},u.prototype.writeInt32BE=function(y,b,P){return y=+y,b=b>>>0,P||me(this,y,b,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[b]=y>>>24,this[b+1]=y>>>16,this[b+2]=y>>>8,this[b+3]=y&255,b+4};function Be(T,y,b,P,L,re){if(b+P>T.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function H(T,y,b,P,L){return y=+y,b=b>>>0,L||Be(T,y,b,4),r.write(T,y,b,P,23,4),b+4}u.prototype.writeFloatLE=function(y,b,P){return H(this,y,b,!0,P)},u.prototype.writeFloatBE=function(y,b,P){return H(this,y,b,!1,P)};function Pe(T,y,b,P,L){return y=+y,b=b>>>0,L||Be(T,y,b,8),r.write(T,y,b,P,52,8),b+8}u.prototype.writeDoubleLE=function(y,b,P){return Pe(this,y,b,!0,P)},u.prototype.writeDoubleBE=function(y,b,P){return Pe(this,y,b,!1,P)},u.prototype.copy=function(y,b,P,L){if(!u.isBuffer(y))throw new TypeError("argument should be a Buffer");if(P||(P=0),!L&&L!==0&&(L=this.length),b>=y.length&&(b=y.length),b||(b=0),L>0&&L<P&&(L=P),L===P||y.length===0||this.length===0)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(P<0||P>=this.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("sourceEnd out of bounds");L>this.length&&(L=this.length),y.length-b<L-P&&(L=y.length-b+P);var re=L-P;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(b,P,L):Uint8Array.prototype.set.call(y,this.subarray(P,L),b),re},u.prototype.fill=function(y,b,P,L){if(typeof y=="string"){if(typeof b=="string"?(L=b,b=0,P=this.length):typeof P=="string"&&(L=P,P=this.length),L!==void 0&&typeof L!="string")throw new TypeError("encoding must be a string");if(typeof L=="string"&&!u.isEncoding(L))throw new TypeError("Unknown encoding: "+L);if(y.length===1){var re=y.charCodeAt(0);(L==="utf8"&&re<128||L==="latin1")&&(y=re)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(b<0||this.length<b||this.length<P)throw new RangeError("Out of range index");if(P<=b)return this;b=b>>>0,P=P===void 0?this.length:P>>>0,y||(y=0);var ge;if(typeof y=="number")for(ge=b;ge<P;++ge)this[ge]=y;else{var Ae=u.isBuffer(y)?y:u.from(y,L),Oe=Ae.length;if(Oe===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for(ge=0;ge<P-b;++ge)this[ge+b]=Ae[ge%Oe]}return this};var je=/[^+/0-9A-Za-z-_]/g;function pe(T){if(T=T.split("=")[0],T=T.trim().replace(je,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function he(T,y){y=y||1/0;for(var b,P=T.length,L=null,re=[],ge=0;ge<P;++ge){if(b=T.charCodeAt(ge),b>55295&&b<57344){if(!L){if(b>56319){(y-=3)>-1&&re.push(239,191,189);continue}else if(ge+1===P){(y-=3)>-1&&re.push(239,191,189);continue}L=b;continue}if(b<56320){(y-=3)>-1&&re.push(239,191,189),L=b;continue}b=(L-55296<<10|b-56320)+65536}else L&&(y-=3)>-1&&re.push(239,191,189);if(L=null,b<128){if((y-=1)<0)break;re.push(b)}else if(b<2048){if((y-=2)<0)break;re.push(b>>6|192,b&63|128)}else if(b<65536){if((y-=3)<0)break;re.push(b>>12|224,b>>6&63|128,b&63|128)}else if(b<1114112){if((y-=4)<0)break;re.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw new Error("Invalid code point")}return re}function Ee(T){for(var y=[],b=0;b<T.length;++b)y.push(T.charCodeAt(b)&255);return y}function F(T,y){for(var b,P,L,re=[],ge=0;ge<T.length&&!((y-=2)<0);++ge)b=T.charCodeAt(ge),P=b>>8,L=b%256,re.push(L),re.push(P);return re}function z(T){return t.toByteArray(pe(T))}function Y(T,y,b,P){for(var L=0;L<P&&!(L+b>=y.length||L>=T.length);++L)y[L+b]=T[L];return L}function ne(T,y){return T instanceof y||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===y.name}function se(T){return T!==T}var ae=function(){for(var T="0123456789abcdef",y=new Array(256),b=0;b<16;++b)for(var P=b*16,L=0;L<16;++L)y[P+L]=T[b]+T[L];return y}()}(wh)),wh}var Zc={exports:{}},R_=Zc.exports,zx;function td(){return zx||(zx=1,function(e){(function(t){var r,i=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,c=Math.floor,d="[BigNumber Error] ",u=d+"Number primitive has more than 15 significant digits: ",h=1e14,m=14,g=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],v=1e7,E=1e9;function w(Q){var X,$,q,W=H.prototype={constructor:H,toString:null,valueOf:null},ie=new H(1),fe=20,A=4,V=-7,Z=21,J=-1e7,ce=1e7,te=!1,ye=1,_e=0,D={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},me="0123456789abcdefghijklmnopqrstuvwxyz",Be=!0;function H(F,z){var Y,ne,se,ae,T,y,b,P,L=this;if(!(L instanceof H))return new H(F,z);if(z==null){if(F&&F._isBigNumber===!0){L.s=F.s,!F.c||F.e>ce?L.c=L.e=null:F.e<J?L.c=[L.e=0]:(L.e=F.e,L.c=F.c.slice());return}if((y=typeof F=="number")&&F*0==0){if(L.s=1/F<0?(F=-F,-1):1,F===~~F){for(ae=0,T=F;T>=10;T/=10,ae++);ae>ce?L.c=L.e=null:(L.e=ae,L.c=[F]);return}P=String(F)}else{if(!i.test(P=String(F)))return q(L,P,y);L.s=P.charCodeAt(0)==45?(P=P.slice(1),-1):1}(ae=P.indexOf("."))>-1&&(P=P.replace(".","")),(T=P.search(/e/i))>0?(ae<0&&(ae=T),ae+=+P.slice(T+1),P=P.substring(0,T)):ae<0&&(ae=P.length)}else{if(M(z,2,me.length,"Base"),z==10&&Be)return L=new H(F),he(L,fe+L.e+1,A);if(P=String(F),y=typeof F=="number"){if(F*0!=0)return q(L,P,y,z);if(L.s=1/F<0?(P=P.slice(1),-1):1,H.DEBUG&&P.replace(/^0\.0*|\./,"").length>15)throw Error(u+F)}else L.s=P.charCodeAt(0)===45?(P=P.slice(1),-1):1;for(Y=me.slice(0,z),ae=T=0,b=P.length;T<b;T++)if(Y.indexOf(ne=P.charAt(T))<0){if(ne=="."){if(T>ae){ae=b;continue}}else if(!se&&(P==P.toUpperCase()&&(P=P.toLowerCase())||P==P.toLowerCase()&&(P=P.toUpperCase()))){se=!0,T=-1,ae=0;continue}return q(L,String(F),y,z)}y=!1,P=$(P,z,10,L.s),(ae=P.indexOf("."))>-1?P=P.replace(".",""):ae=P.length}for(T=0;P.charCodeAt(T)===48;T++);for(b=P.length;P.charCodeAt(--b)===48;);if(P=P.slice(T,++b)){if(b-=T,y&&H.DEBUG&&b>15&&(F>g||F!==c(F)))throw Error(u+L.s*F);if((ae=ae-T-1)>ce)L.c=L.e=null;else if(ae<J)L.c=[L.e=0];else{if(L.e=ae,L.c=[],T=(ae+1)%m,ae<0&&(T+=m),T<b){for(T&&L.c.push(+P.slice(0,T)),b-=m;T<b;)L.c.push(+P.slice(T,T+=m));T=m-(P=P.slice(T)).length}else T-=b;for(;T--;P+="0");L.c.push(+P)}}else L.c=[L.e=0]}H.clone=w,H.ROUND_UP=0,H.ROUND_DOWN=1,H.ROUND_CEIL=2,H.ROUND_FLOOR=3,H.ROUND_HALF_UP=4,H.ROUND_HALF_DOWN=5,H.ROUND_HALF_EVEN=6,H.ROUND_HALF_CEIL=7,H.ROUND_HALF_FLOOR=8,H.EUCLID=9,H.config=H.set=function(F){var z,Y;if(F!=null)if(typeof F=="object"){if(F.hasOwnProperty(z="DECIMAL_PLACES")&&(Y=F[z],M(Y,0,E,z),fe=Y),F.hasOwnProperty(z="ROUNDING_MODE")&&(Y=F[z],M(Y,0,8,z),A=Y),F.hasOwnProperty(z="EXPONENTIAL_AT")&&(Y=F[z],Y&&Y.pop?(M(Y[0],-E,0,z),M(Y[1],0,E,z),V=Y[0],Z=Y[1]):(M(Y,-E,E,z),V=-(Z=Y<0?-Y:Y))),F.hasOwnProperty(z="RANGE"))if(Y=F[z],Y&&Y.pop)M(Y[0],-E,-1,z),M(Y[1],1,E,z),J=Y[0],ce=Y[1];else if(M(Y,-E,E,z),Y)J=-(ce=Y<0?-Y:Y);else throw Error(d+z+" cannot be zero: "+Y);if(F.hasOwnProperty(z="CRYPTO"))if(Y=F[z],Y===!!Y)if(Y)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))te=Y;else throw te=!Y,Error(d+"crypto unavailable");else te=Y;else throw Error(d+z+" not true or false: "+Y);if(F.hasOwnProperty(z="MODULO_MODE")&&(Y=F[z],M(Y,0,9,z),ye=Y),F.hasOwnProperty(z="POW_PRECISION")&&(Y=F[z],M(Y,0,E,z),_e=Y),F.hasOwnProperty(z="FORMAT"))if(Y=F[z],typeof Y=="object")D=Y;else throw Error(d+z+" not an object: "+Y);if(F.hasOwnProperty(z="ALPHABET"))if(Y=F[z],typeof Y=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(Y))Be=Y.slice(0,10)=="0123456789",me=Y;else throw Error(d+z+" invalid: "+Y)}else throw Error(d+"Object expected: "+F);return{DECIMAL_PLACES:fe,ROUNDING_MODE:A,EXPONENTIAL_AT:[V,Z],RANGE:[J,ce],CRYPTO:te,MODULO_MODE:ye,POW_PRECISION:_e,FORMAT:D,ALPHABET:me}},H.isBigNumber=function(F){if(!F||F._isBigNumber!==!0)return!1;if(!H.DEBUG)return!0;var z,Y,ne=F.c,se=F.e,ae=F.s;e:if({}.toString.call(ne)=="[object Array]"){if((ae===1||ae===-1)&&se>=-E&&se<=E&&se===c(se)){if(ne[0]===0){if(se===0&&ne.length===1)return!0;break e}if(z=(se+1)%m,z<1&&(z+=m),String(ne[0]).length==z){for(z=0;z<ne.length;z++)if(Y=ne[z],Y<0||Y>=h||Y!==c(Y))break e;if(Y!==0)return!0}}}else if(ne===null&&se===null&&(ae===null||ae===1||ae===-1))return!0;throw Error(d+"Invalid BigNumber: "+F)},H.maximum=H.max=function(){return je(arguments,-1)},H.minimum=H.min=function(){return je(arguments,1)},H.random=function(){var F=9007199254740992,z=Math.random()*F&2097151?function(){return c(Math.random()*F)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(Y){var ne,se,ae,T,y,b=0,P=[],L=new H(ie);if(Y==null?Y=fe:M(Y,0,E),T=a(Y/m),te)if(crypto.getRandomValues){for(ne=crypto.getRandomValues(new Uint32Array(T*=2));b<T;)y=ne[b]*131072+(ne[b+1]>>>11),y>=9e15?(se=crypto.getRandomValues(new Uint32Array(2)),ne[b]=se[0],ne[b+1]=se[1]):(P.push(y%1e14),b+=2);b=T/2}else if(crypto.randomBytes){for(ne=crypto.randomBytes(T*=7);b<T;)y=(ne[b]&31)*281474976710656+ne[b+1]*1099511627776+ne[b+2]*4294967296+ne[b+3]*16777216+(ne[b+4]<<16)+(ne[b+5]<<8)+ne[b+6],y>=9e15?crypto.randomBytes(7).copy(ne,b):(P.push(y%1e14),b+=7);b=T/7}else throw te=!1,Error(d+"crypto unavailable");if(!te)for(;b<T;)y=z(),y<9e15&&(P[b++]=y%1e14);for(T=P[--b],Y%=m,T&&Y&&(y=p[m-Y],P[b]=c(T/y)*y);P[b]===0;P.pop(),b--);if(b<0)P=[ae=0];else{for(ae=-1;P[0]===0;P.splice(0,1),ae-=m);for(b=1,y=P[0];y>=10;y/=10,b++);b<m&&(ae-=m-b)}return L.e=ae,L.c=P,L}}(),H.sum=function(){for(var F=1,z=arguments,Y=new H(z[0]);F<z.length;)Y=Y.plus(z[F++]);return Y},$=function(){var F="0123456789";function z(Y,ne,se,ae){for(var T,y=[0],b,P=0,L=Y.length;P<L;){for(b=y.length;b--;y[b]*=ne);for(y[0]+=ae.indexOf(Y.charAt(P++)),T=0;T<y.length;T++)y[T]>se-1&&(y[T+1]==null&&(y[T+1]=0),y[T+1]+=y[T]/se|0,y[T]%=se)}return y.reverse()}return function(Y,ne,se,ae,T){var y,b,P,L,re,ge,Ae,Oe,Ue=Y.indexOf("."),Ze=fe,B=A;for(Ue>=0&&(L=_e,_e=0,Y=Y.replace(".",""),Oe=new H(ne),ge=Oe.pow(Y.length-Ue),_e=L,Oe.c=z(O(j(ge.c),ge.e,"0"),10,se,F),Oe.e=Oe.c.length),Ae=z(Y,ne,se,T?(y=me,F):(y=F,me)),P=L=Ae.length;Ae[--L]==0;Ae.pop());if(!Ae[0])return y.charAt(0);if(Ue<0?--P:(ge.c=Ae,ge.e=P,ge.s=ae,ge=X(ge,Oe,Ze,B,se),Ae=ge.c,re=ge.r,P=ge.e),b=P+Ze+1,Ue=Ae[b],L=se/2,re=re||b<0||Ae[b+1]!=null,re=B<4?(Ue!=null||re)&&(B==0||B==(ge.s<0?3:2)):Ue>L||Ue==L&&(B==4||re||B==6&&Ae[b-1]&1||B==(ge.s<0?8:7)),b<1||!Ae[0])Y=re?O(y.charAt(1),-Ze,y.charAt(0)):y.charAt(0);else{if(Ae.length=b,re)for(--se;++Ae[--b]>se;)Ae[b]=0,b||(++P,Ae=[1].concat(Ae));for(L=Ae.length;!Ae[--L];);for(Ue=0,Y="";Ue<=L;Y+=y.charAt(Ae[Ue++]));Y=O(Y,P,y.charAt(0))}return Y}}(),X=function(){function F(ne,se,ae){var T,y,b,P,L=0,re=ne.length,ge=se%v,Ae=se/v|0;for(ne=ne.slice();re--;)b=ne[re]%v,P=ne[re]/v|0,T=Ae*b+P*ge,y=ge*b+T%v*v+L,L=(y/ae|0)+(T/v|0)+Ae*P,ne[re]=y%ae;return L&&(ne=[L].concat(ne)),ne}function z(ne,se,ae,T){var y,b;if(ae!=T)b=ae>T?1:-1;else for(y=b=0;y<ae;y++)if(ne[y]!=se[y]){b=ne[y]>se[y]?1:-1;break}return b}function Y(ne,se,ae,T){for(var y=0;ae--;)ne[ae]-=y,y=ne[ae]<se[ae]?1:0,ne[ae]=y*T+ne[ae]-se[ae];for(;!ne[0]&&ne.length>1;ne.splice(0,1));}return function(ne,se,ae,T,y){var b,P,L,re,ge,Ae,Oe,Ue,Ze,B,N,S,K,ue,be,ve,Ke,Qe=ne.s==se.s?1:-1,De=ne.c,We=se.c;if(!De||!De[0]||!We||!We[0])return new H(!ne.s||!se.s||(De?We&&De[0]==We[0]:!We)?NaN:De&&De[0]==0||!We?Qe*0:Qe/0);for(Ue=new H(Qe),Ze=Ue.c=[],P=ne.e-se.e,Qe=ae+P+1,y||(y=h,P=k(ne.e/m)-k(se.e/m),Qe=Qe/m|0),L=0;We[L]==(De[L]||0);L++);if(We[L]>(De[L]||0)&&P--,Qe<0)Ze.push(1),re=!0;else{for(ue=De.length,ve=We.length,L=0,Qe+=2,ge=c(y/(We[0]+1)),ge>1&&(We=F(We,ge,y),De=F(De,ge,y),ve=We.length,ue=De.length),K=ve,B=De.slice(0,ve),N=B.length;N<ve;B[N++]=0);Ke=We.slice(),Ke=[0].concat(Ke),be=We[0],We[1]>=y/2&&be++;do{if(ge=0,b=z(We,B,ve,N),b<0){if(S=B[0],ve!=N&&(S=S*y+(B[1]||0)),ge=c(S/be),ge>1)for(ge>=y&&(ge=y-1),Ae=F(We,ge,y),Oe=Ae.length,N=B.length;z(Ae,B,Oe,N)==1;)ge--,Y(Ae,ve<Oe?Ke:We,Oe,y),Oe=Ae.length,b=1;else ge==0&&(b=ge=1),Ae=We.slice(),Oe=Ae.length;if(Oe<N&&(Ae=[0].concat(Ae)),Y(B,Ae,N,y),N=B.length,b==-1)for(;z(We,B,ve,N)<1;)ge++,Y(B,ve<N?Ke:We,N,y),N=B.length}else b===0&&(ge++,B=[0]);Ze[L++]=ge,B[0]?B[N++]=De[K]||0:(B=[De[K]],N=1)}while((K++<ue||B[0]!=null)&&Qe--);re=B[0]!=null,Ze[0]||Ze.splice(0,1)}if(y==h){for(L=1,Qe=Ze[0];Qe>=10;Qe/=10,L++);he(Ue,ae+(Ue.e=L+P*m-1)+1,T,re)}else Ue.e=P,Ue.r=+re;return Ue}}();function Pe(F,z,Y,ne){var se,ae,T,y,b;if(Y==null?Y=A:M(Y,0,8),!F.c)return F.toString();if(se=F.c[0],T=F.e,z==null)b=j(F.c),b=ne==1||ne==2&&(T<=V||T>=Z)?G(b,T):O(b,T,"0");else if(F=he(new H(F),z,Y),ae=F.e,b=j(F.c),y=b.length,ne==1||ne==2&&(z<=ae||ae<=V)){for(;y<z;b+="0",y++);b=G(b,ae)}else if(z-=T,b=O(b,ae,"0"),ae+1>y){if(--z>0)for(b+=".";z--;b+="0");}else if(z+=ae-y,z>0)for(ae+1==y&&(b+=".");z--;b+="0");return F.s<0&&se?"-"+b:b}function je(F,z){for(var Y,ne,se=1,ae=new H(F[0]);se<F.length;se++)ne=new H(F[se]),(!ne.s||(Y=R(ae,ne))===z||Y===0&&ae.s===z)&&(ae=ne);return ae}function pe(F,z,Y){for(var ne=1,se=z.length;!z[--se];z.pop());for(se=z[0];se>=10;se/=10,ne++);return(Y=ne+Y*m-1)>ce?F.c=F.e=null:Y<J?F.c=[F.e=0]:(F.e=Y,F.c=z),F}q=function(){var F=/^(-?)0([xbo])(?=\w[\w.]*$)/i,z=/^([^.]+)\.$/,Y=/^\.([^.]+)$/,ne=/^-?(Infinity|NaN)$/,se=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(ae,T,y,b){var P,L=y?T:T.replace(se,"");if(ne.test(L))ae.s=isNaN(L)?null:L<0?-1:1;else{if(!y&&(L=L.replace(F,function(re,ge,Ae){return P=(Ae=Ae.toLowerCase())=="x"?16:Ae=="b"?2:8,!b||b==P?ge:re}),b&&(P=b,L=L.replace(z,"$1").replace(Y,"0.$1")),T!=L))return new H(L,P);if(H.DEBUG)throw Error(d+"Not a"+(b?" base "+b:"")+" number: "+T);ae.s=null}ae.c=ae.e=null}}();function he(F,z,Y,ne){var se,ae,T,y,b,P,L,re=F.c,ge=p;if(re){e:{for(se=1,y=re[0];y>=10;y/=10,se++);if(ae=z-se,ae<0)ae+=m,T=z,b=re[P=0],L=c(b/ge[se-T-1]%10);else if(P=a((ae+1)/m),P>=re.length)if(ne){for(;re.length<=P;re.push(0));b=L=0,se=1,ae%=m,T=ae-m+1}else break e;else{for(b=y=re[P],se=1;y>=10;y/=10,se++);ae%=m,T=ae-m+se,L=T<0?0:c(b/ge[se-T-1]%10)}if(ne=ne||z<0||re[P+1]!=null||(T<0?b:b%ge[se-T-1]),ne=Y<4?(L||ne)&&(Y==0||Y==(F.s<0?3:2)):L>5||L==5&&(Y==4||ne||Y==6&&(ae>0?T>0?b/ge[se-T]:0:re[P-1])%10&1||Y==(F.s<0?8:7)),z<1||!re[0])return re.length=0,ne?(z-=F.e+1,re[0]=ge[(m-z%m)%m],F.e=-z||0):re[0]=F.e=0,F;if(ae==0?(re.length=P,y=1,P--):(re.length=P+1,y=ge[m-ae],re[P]=T>0?c(b/ge[se-T]%ge[T])*y:0),ne)for(;;)if(P==0){for(ae=1,T=re[0];T>=10;T/=10,ae++);for(T=re[0]+=y,y=1;T>=10;T/=10,y++);ae!=y&&(F.e++,re[0]==h&&(re[0]=1));break}else{if(re[P]+=y,re[P]!=h)break;re[P--]=0,y=1}for(ae=re.length;re[--ae]===0;re.pop());}F.e>ce?F.c=F.e=null:F.e<J&&(F.c=[F.e=0])}return F}function Ee(F){var z,Y=F.e;return Y===null?F.toString():(z=j(F.c),z=Y<=V||Y>=Z?G(z,Y):O(z,Y,"0"),F.s<0?"-"+z:z)}return W.absoluteValue=W.abs=function(){var F=new H(this);return F.s<0&&(F.s=1),F},W.comparedTo=function(F,z){return R(this,new H(F,z))},W.decimalPlaces=W.dp=function(F,z){var Y,ne,se,ae=this;if(F!=null)return M(F,0,E),z==null?z=A:M(z,0,8),he(new H(ae),F+ae.e+1,z);if(!(Y=ae.c))return null;if(ne=((se=Y.length-1)-k(this.e/m))*m,se=Y[se])for(;se%10==0;se/=10,ne--);return ne<0&&(ne=0),ne},W.dividedBy=W.div=function(F,z){return X(this,new H(F,z),fe,A)},W.dividedToIntegerBy=W.idiv=function(F,z){return X(this,new H(F,z),0,1)},W.exponentiatedBy=W.pow=function(F,z){var Y,ne,se,ae,T,y,b,P,L,re=this;if(F=new H(F),F.c&&!F.isInteger())throw Error(d+"Exponent not an integer: "+Ee(F));if(z!=null&&(z=new H(z)),y=F.e>14,!re.c||!re.c[0]||re.c[0]==1&&!re.e&&re.c.length==1||!F.c||!F.c[0])return L=new H(Math.pow(+Ee(re),y?F.s*(2-U(F)):+Ee(F))),z?L.mod(z):L;if(b=F.s<0,z){if(z.c?!z.c[0]:!z.s)return new H(NaN);ne=!b&&re.isInteger()&&z.isInteger(),ne&&(re=re.mod(z))}else{if(F.e>9&&(re.e>0||re.e<-1||(re.e==0?re.c[0]>1||y&&re.c[1]>=24e7:re.c[0]<8e13||y&&re.c[0]<=9999975e7)))return ae=re.s<0&&U(F)?-0:0,re.e>-1&&(ae=1/ae),new H(b?1/ae:ae);_e&&(ae=a(_e/m+2))}for(y?(Y=new H(.5),b&&(F.s=1),P=U(F)):(se=Math.abs(+Ee(F)),P=se%2),L=new H(ie);;){if(P){if(L=L.times(re),!L.c)break;ae?L.c.length>ae&&(L.c.length=ae):ne&&(L=L.mod(z))}if(se){if(se=c(se/2),se===0)break;P=se%2}else if(F=F.times(Y),he(F,F.e+1,1),F.e>14)P=U(F);else{if(se=+Ee(F),se===0)break;P=se%2}re=re.times(re),ae?re.c&&re.c.length>ae&&(re.c.length=ae):ne&&(re=re.mod(z))}return ne?L:(b&&(L=ie.div(L)),z?L.mod(z):ae?he(L,_e,A,T):L)},W.integerValue=function(F){var z=new H(this);return F==null?F=A:M(F,0,8),he(z,z.e+1,F)},W.isEqualTo=W.eq=function(F,z){return R(this,new H(F,z))===0},W.isFinite=function(){return!!this.c},W.isGreaterThan=W.gt=function(F,z){return R(this,new H(F,z))>0},W.isGreaterThanOrEqualTo=W.gte=function(F,z){return(z=R(this,new H(F,z)))===1||z===0},W.isInteger=function(){return!!this.c&&k(this.e/m)>this.c.length-2},W.isLessThan=W.lt=function(F,z){return R(this,new H(F,z))<0},W.isLessThanOrEqualTo=W.lte=function(F,z){return(z=R(this,new H(F,z)))===-1||z===0},W.isNaN=function(){return!this.s},W.isNegative=function(){return this.s<0},W.isPositive=function(){return this.s>0},W.isZero=function(){return!!this.c&&this.c[0]==0},W.minus=function(F,z){var Y,ne,se,ae,T=this,y=T.s;if(F=new H(F,z),z=F.s,!y||!z)return new H(NaN);if(y!=z)return F.s=-z,T.plus(F);var b=T.e/m,P=F.e/m,L=T.c,re=F.c;if(!b||!P){if(!L||!re)return L?(F.s=-z,F):new H(re?T:NaN);if(!L[0]||!re[0])return re[0]?(F.s=-z,F):new H(L[0]?T:A==3?-0:0)}if(b=k(b),P=k(P),L=L.slice(),y=b-P){for((ae=y<0)?(y=-y,se=L):(P=b,se=re),se.reverse(),z=y;z--;se.push(0));se.reverse()}else for(ne=(ae=(y=L.length)<(z=re.length))?y:z,y=z=0;z<ne;z++)if(L[z]!=re[z]){ae=L[z]<re[z];break}if(ae&&(se=L,L=re,re=se,F.s=-F.s),z=(ne=re.length)-(Y=L.length),z>0)for(;z--;L[Y++]=0);for(z=h-1;ne>y;){if(L[--ne]<re[ne]){for(Y=ne;Y&&!L[--Y];L[Y]=z);--L[Y],L[ne]+=h}L[ne]-=re[ne]}for(;L[0]==0;L.splice(0,1),--P);return L[0]?pe(F,L,P):(F.s=A==3?-1:1,F.c=[F.e=0],F)},W.modulo=W.mod=function(F,z){var Y,ne,se=this;return F=new H(F,z),!se.c||!F.s||F.c&&!F.c[0]?new H(NaN):!F.c||se.c&&!se.c[0]?new H(se):(ye==9?(ne=F.s,F.s=1,Y=X(se,F,0,3),F.s=ne,Y.s*=ne):Y=X(se,F,0,ye),F=se.minus(Y.times(F)),!F.c[0]&&ye==1&&(F.s=se.s),F)},W.multipliedBy=W.times=function(F,z){var Y,ne,se,ae,T,y,b,P,L,re,ge,Ae,Oe,Ue,Ze,B=this,N=B.c,S=(F=new H(F,z)).c;if(!N||!S||!N[0]||!S[0])return!B.s||!F.s||N&&!N[0]&&!S||S&&!S[0]&&!N?F.c=F.e=F.s=null:(F.s*=B.s,!N||!S?F.c=F.e=null:(F.c=[0],F.e=0)),F;for(ne=k(B.e/m)+k(F.e/m),F.s*=B.s,b=N.length,re=S.length,b<re&&(Oe=N,N=S,S=Oe,se=b,b=re,re=se),se=b+re,Oe=[];se--;Oe.push(0));for(Ue=h,Ze=v,se=re;--se>=0;){for(Y=0,ge=S[se]%Ze,Ae=S[se]/Ze|0,T=b,ae=se+T;ae>se;)P=N[--T]%Ze,L=N[T]/Ze|0,y=Ae*P+L*ge,P=ge*P+y%Ze*Ze+Oe[ae]+Y,Y=(P/Ue|0)+(y/Ze|0)+Ae*L,Oe[ae--]=P%Ue;Oe[ae]=Y}return Y?++ne:Oe.splice(0,1),pe(F,Oe,ne)},W.negated=function(){var F=new H(this);return F.s=-F.s||null,F},W.plus=function(F,z){var Y,ne=this,se=ne.s;if(F=new H(F,z),z=F.s,!se||!z)return new H(NaN);if(se!=z)return F.s=-z,ne.minus(F);var ae=ne.e/m,T=F.e/m,y=ne.c,b=F.c;if(!ae||!T){if(!y||!b)return new H(se/0);if(!y[0]||!b[0])return b[0]?F:new H(y[0]?ne:se*0)}if(ae=k(ae),T=k(T),y=y.slice(),se=ae-T){for(se>0?(T=ae,Y=b):(se=-se,Y=y),Y.reverse();se--;Y.push(0));Y.reverse()}for(se=y.length,z=b.length,se-z<0&&(Y=b,b=y,y=Y,z=se),se=0;z;)se=(y[--z]=y[z]+b[z]+se)/h|0,y[z]=h===y[z]?0:y[z]%h;return se&&(y=[se].concat(y),++T),pe(F,y,T)},W.precision=W.sd=function(F,z){var Y,ne,se,ae=this;if(F!=null&&F!==!!F)return M(F,1,E),z==null?z=A:M(z,0,8),he(new H(ae),F,z);if(!(Y=ae.c))return null;if(se=Y.length-1,ne=se*m+1,se=Y[se]){for(;se%10==0;se/=10,ne--);for(se=Y[0];se>=10;se/=10,ne++);}return F&&ae.e+1>ne&&(ne=ae.e+1),ne},W.shiftedBy=function(F){return M(F,-g,g),this.times("1e"+F)},W.squareRoot=W.sqrt=function(){var F,z,Y,ne,se,ae=this,T=ae.c,y=ae.s,b=ae.e,P=fe+4,L=new H("0.5");if(y!==1||!T||!T[0])return new H(!y||y<0&&(!T||T[0])?NaN:T?ae:1/0);if(y=Math.sqrt(+Ee(ae)),y==0||y==1/0?(z=j(T),(z.length+b)%2==0&&(z+="0"),y=Math.sqrt(+z),b=k((b+1)/2)-(b<0||b%2),y==1/0?z="5e"+b:(z=y.toExponential(),z=z.slice(0,z.indexOf("e")+1)+b),Y=new H(z)):Y=new H(y+""),Y.c[0]){for(b=Y.e,y=b+P,y<3&&(y=0);;)if(se=Y,Y=L.times(se.plus(X(ae,se,P,1))),j(se.c).slice(0,y)===(z=j(Y.c)).slice(0,y))if(Y.e<b&&--y,z=z.slice(y-3,y+1),z=="9999"||!ne&&z=="4999"){if(!ne&&(he(se,se.e+fe+2,0),se.times(se).eq(ae))){Y=se;break}P+=4,y+=4,ne=1}else{(!+z||!+z.slice(1)&&z.charAt(0)=="5")&&(he(Y,Y.e+fe+2,1),F=!Y.times(Y).eq(ae));break}}return he(Y,Y.e+fe+1,A,F)},W.toExponential=function(F,z){return F!=null&&(M(F,0,E),F++),Pe(this,F,z,1)},W.toFixed=function(F,z){return F!=null&&(M(F,0,E),F=F+this.e+1),Pe(this,F,z)},W.toFormat=function(F,z,Y){var ne,se=this;if(Y==null)F!=null&&z&&typeof z=="object"?(Y=z,z=null):F&&typeof F=="object"?(Y=F,F=z=null):Y=D;else if(typeof Y!="object")throw Error(d+"Argument not an object: "+Y);if(ne=se.toFixed(F,z),se.c){var ae,T=ne.split("."),y=+Y.groupSize,b=+Y.secondaryGroupSize,P=Y.groupSeparator||"",L=T[0],re=T[1],ge=se.s<0,Ae=ge?L.slice(1):L,Oe=Ae.length;if(b&&(ae=y,y=b,b=ae,Oe-=ae),y>0&&Oe>0){for(ae=Oe%y||y,L=Ae.substr(0,ae);ae<Oe;ae+=y)L+=P+Ae.substr(ae,y);b>0&&(L+=P+Ae.slice(ae)),ge&&(L="-"+L)}ne=re?L+(Y.decimalSeparator||"")+((b=+Y.fractionGroupSize)?re.replace(new RegExp("\\d{"+b+"}\\B","g"),"$&"+(Y.fractionGroupSeparator||"")):re):L}return(Y.prefix||"")+ne+(Y.suffix||"")},W.toFraction=function(F){var z,Y,ne,se,ae,T,y,b,P,L,re,ge,Ae=this,Oe=Ae.c;if(F!=null&&(y=new H(F),!y.isInteger()&&(y.c||y.s!==1)||y.lt(ie)))throw Error(d+"Argument "+(y.isInteger()?"out of range: ":"not an integer: ")+Ee(y));if(!Oe)return new H(Ae);for(z=new H(ie),P=Y=new H(ie),ne=b=new H(ie),ge=j(Oe),ae=z.e=ge.length-Ae.e-1,z.c[0]=p[(T=ae%m)<0?m+T:T],F=!F||y.comparedTo(z)>0?ae>0?z:P:y,T=ce,ce=1/0,y=new H(ge),b.c[0]=0;L=X(y,z,0,1),se=Y.plus(L.times(ne)),se.comparedTo(F)!=1;)Y=ne,ne=se,P=b.plus(L.times(se=P)),b=se,z=y.minus(L.times(se=z)),y=se;return se=X(F.minus(Y),ne,0,1),b=b.plus(se.times(P)),Y=Y.plus(se.times(ne)),b.s=P.s=Ae.s,ae=ae*2,re=X(P,ne,ae,A).minus(Ae).abs().comparedTo(X(b,Y,ae,A).minus(Ae).abs())<1?[P,ne]:[b,Y],ce=T,re},W.toNumber=function(){return+Ee(this)},W.toPrecision=function(F,z){return F!=null&&M(F,1,E),Pe(this,F,z,2)},W.toString=function(F){var z,Y=this,ne=Y.s,se=Y.e;return se===null?ne?(z="Infinity",ne<0&&(z="-"+z)):z="NaN":(F==null?z=se<=V||se>=Z?G(j(Y.c),se):O(j(Y.c),se,"0"):F===10&&Be?(Y=he(new H(Y),fe+se+1,A),z=O(j(Y.c),Y.e,"0")):(M(F,2,me.length,"Base"),z=$(O(j(Y.c),se,"0"),10,F,ne,!0)),ne<0&&Y.c[0]&&(z="-"+z)),z},W.valueOf=W.toJSON=function(){return Ee(this)},W._isBigNumber=!0,Q!=null&&H.set(Q),H}function k(Q){var X=Q|0;return Q>0||Q===X?X:X-1}function j(Q){for(var X,$,q=1,W=Q.length,ie=Q[0]+"";q<W;){for(X=Q[q++]+"",$=m-X.length;$--;X="0"+X);ie+=X}for(W=ie.length;ie.charCodeAt(--W)===48;);return ie.slice(0,W+1||1)}function R(Q,X){var $,q,W=Q.c,ie=X.c,fe=Q.s,A=X.s,V=Q.e,Z=X.e;if(!fe||!A)return null;if($=W&&!W[0],q=ie&&!ie[0],$||q)return $?q?0:-A:fe;if(fe!=A)return fe;if($=fe<0,q=V==Z,!W||!ie)return q?0:!W^$?1:-1;if(!q)return V>Z^$?1:-1;for(A=(V=W.length)<(Z=ie.length)?V:Z,fe=0;fe<A;fe++)if(W[fe]!=ie[fe])return W[fe]>ie[fe]^$?1:-1;return V==Z?0:V>Z^$?1:-1}function M(Q,X,$,q){if(Q<X||Q>$||Q!==c(Q))throw Error(d+(q||"Argument")+(typeof Q=="number"?Q<X||Q>$?" out of range: ":" not an integer: ":" not a primitive number: ")+String(Q))}function U(Q){var X=Q.c.length-1;return k(Q.e/m)==X&&Q.c[X]%2!=0}function G(Q,X){return(Q.length>1?Q.charAt(0)+"."+Q.slice(1):Q)+(X<0?"e":"e+")+X}function O(Q,X,$){var q,W;if(X<0){for(W=$+".";++X;W+=$);Q=W+Q}else if(q=Q.length,++X>q){for(W=$,X-=q;--X;W+=$);Q+=W}else X<q&&(Q=Q.slice(0,X)+"."+Q.slice(X));return Q}r=w(),r.default=r.BigNumber=r,e.exports?e.exports=r:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=r)})(R_)}(Zc)),Zc.exports}var vh,Vx;function B_(){return Vx||(Vx=1,vh=function(t,r,i){var a=new t.Uint8Array(i),c=r.pushInt,d=r.pushInt32,u=r.pushInt32Neg,h=r.pushInt64,m=r.pushInt64Neg,g=r.pushFloat,p=r.pushFloatSingle,v=r.pushFloatDouble,E=r.pushTrue,w=r.pushFalse,k=r.pushUndefined,j=r.pushNull,R=r.pushInfinity,M=r.pushInfinityNeg,U=r.pushNaN,G=r.pushNaNNeg,O=r.pushArrayStart,Q=r.pushArrayStartFixed,X=r.pushArrayStartFixed32,$=r.pushArrayStartFixed64,q=r.pushObjectStart,W=r.pushObjectStartFixed,ie=r.pushObjectStartFixed32,fe=r.pushObjectStartFixed64,A=r.pushByteString,V=r.pushByteStringStart,Z=r.pushUtf8String,J=r.pushUtf8StringStart,ce=r.pushSimpleUnassigned,te=r.pushTagStart,ye=r.pushTagStart4,_e=r.pushTagStart8,D=r.pushTagUnassigned,me=r.pushBreak,Be=t.Math.pow,H=0,Pe=0,je=0;function pe(oe){for(oe=oe|0,H=0,Pe=oe;(H|0)<(Pe|0)&&(je=Cd[a[H]&255](a[H]|0)|0,!((je|0)>0)););return je|0}function he(oe){return oe=oe|0,((H|0)+(oe|0)|0)<(Pe|0)?0:1}function Ee(oe){return oe=oe|0,a[oe|0]<<8|a[oe+1|0]|0}function F(oe){return oe=oe|0,a[oe|0]<<24|a[oe+1|0]<<16|a[oe+2|0]<<8|a[oe+3|0]|0}function z(oe){return oe=oe|0,c(oe|0),H=H+1|0,0}function Y(oe){return oe=oe|0,he(1)|0?1:(c(a[H+1|0]|0),H=H+2|0,0)}function ne(oe){return oe=oe|0,he(2)|0?1:(c(Ee(H+1|0)|0),H=H+3|0,0)}function se(oe){return oe=oe|0,he(4)|0?1:(d(Ee(H+1|0)|0,Ee(H+3|0)|0),H=H+5|0,0)}function ae(oe){return oe=oe|0,he(8)|0?1:(h(Ee(H+1|0)|0,Ee(H+3|0)|0,Ee(H+5|0)|0,Ee(H+7|0)|0),H=H+9|0,0)}function T(oe){return oe=oe|0,c(-1-(oe-32|0)|0),H=H+1|0,0}function y(oe){return oe=oe|0,he(1)|0?1:(c(-1-(a[H+1|0]|0)|0),H=H+2|0,0)}function b(oe){oe=oe|0;var He=0;return he(2)|0?1:(He=Ee(H+1|0)|0,c(-1-(He|0)|0),H=H+3|0,0)}function P(oe){return oe=oe|0,he(4)|0?1:(u(Ee(H+1|0)|0,Ee(H+3|0)|0),H=H+5|0,0)}function L(oe){return oe=oe|0,he(8)|0?1:(m(Ee(H+1|0)|0,Ee(H+3|0)|0,Ee(H+5|0)|0,Ee(H+7|0)|0),H=H+9|0,0)}function re(oe){oe=oe|0;var He=0,it=0,et=0;return et=oe-64|0,he(et|0)|0?1:(He=H+1|0,it=(H+1|0)+(et|0)|0,A(He|0,it|0),H=it|0,0)}function ge(oe){oe=oe|0;var He=0,it=0,et=0;return he(1)|0||(et=a[H+1|0]|0,He=H+2|0,it=(H+2|0)+(et|0)|0,he(et+1|0)|0)?1:(A(He|0,it|0),H=it|0,0)}function Ae(oe){oe=oe|0;var He=0,it=0,et=0;return he(2)|0||(et=Ee(H+1|0)|0,He=H+3|0,it=(H+3|0)+(et|0)|0,he(et+2|0)|0)?1:(A(He|0,it|0),H=it|0,0)}function Oe(oe){oe=oe|0;var He=0,it=0,et=0;return he(4)|0||(et=F(H+1|0)|0,He=H+5|0,it=(H+5|0)+(et|0)|0,he(et+4|0)|0)?1:(A(He|0,it|0),H=it|0,0)}function Ue(oe){return oe=oe|0,1}function Ze(oe){return oe=oe|0,V(),H=H+1|0,0}function B(oe){oe=oe|0;var He=0,it=0,et=0;return et=oe-96|0,he(et|0)|0?1:(He=H+1|0,it=(H+1|0)+(et|0)|0,Z(He|0,it|0),H=it|0,0)}function N(oe){oe=oe|0;var He=0,it=0,et=0;return he(1)|0||(et=a[H+1|0]|0,He=H+2|0,it=(H+2|0)+(et|0)|0,he(et+1|0)|0)?1:(Z(He|0,it|0),H=it|0,0)}function S(oe){oe=oe|0;var He=0,it=0,et=0;return he(2)|0||(et=Ee(H+1|0)|0,He=H+3|0,it=(H+3|0)+(et|0)|0,he(et+2|0)|0)?1:(Z(He|0,it|0),H=it|0,0)}function K(oe){oe=oe|0;var He=0,it=0,et=0;return he(4)|0||(et=F(H+1|0)|0,He=H+5|0,it=(H+5|0)+(et|0)|0,he(et+4|0)|0)?1:(Z(He|0,it|0),H=it|0,0)}function ue(oe){return oe=oe|0,1}function be(oe){return oe=oe|0,J(),H=H+1|0,0}function ve(oe){return oe=oe|0,Q(oe-128|0),H=H+1|0,0}function Ke(oe){return oe=oe|0,he(1)|0?1:(Q(a[H+1|0]|0),H=H+2|0,0)}function Qe(oe){return oe=oe|0,he(2)|0?1:(Q(Ee(H+1|0)|0),H=H+3|0,0)}function De(oe){return oe=oe|0,he(4)|0?1:(X(Ee(H+1|0)|0,Ee(H+3|0)|0),H=H+5|0,0)}function We(oe){return oe=oe|0,he(8)|0?1:($(Ee(H+1|0)|0,Ee(H+3|0)|0,Ee(H+5|0)|0,Ee(H+7|0)|0),H=H+9|0,0)}function ct(oe){return oe=oe|0,O(),H=H+1|0,0}function ft(oe){oe=oe|0;var He=0;return He=oe-160|0,he(He|0)|0?1:(W(He|0),H=H+1|0,0)}function ri(oe){return oe=oe|0,he(1)|0?1:(W(a[H+1|0]|0),H=H+2|0,0)}function fn(oe){return oe=oe|0,he(2)|0?1:(W(Ee(H+1|0)|0),H=H+3|0,0)}function hn(oe){return oe=oe|0,he(4)|0?1:(ie(Ee(H+1|0)|0,Ee(H+3|0)|0),H=H+5|0,0)}function Ui(oe){return oe=oe|0,he(8)|0?1:(fe(Ee(H+1|0)|0,Ee(H+3|0)|0,Ee(H+5|0)|0,Ee(H+7|0)|0),H=H+9|0,0)}function $i(oe){return oe=oe|0,q(),H=H+1|0,0}function Yr(oe){return oe=oe|0,te(oe-192|0|0),H=H+1|0,0}function Ed(oe){return oe=oe|0,te(oe|0),H=H+1|0,0}function _d(oe){return oe=oe|0,te(oe|0),H=H+1|0,0}function xl(oe){return oe=oe|0,te(oe|0),H=H+1|0,0}function Sd(oe){return oe=oe|0,te(oe|0),H=H+1|0,0}function Et(oe){return oe=oe|0,te(oe-192|0|0),H=H+1|0,0}function yl(oe){return oe=oe|0,te(oe|0),H=H+1|0,0}function zi(oe){return oe=oe|0,te(oe|0),H=H+1|0,0}function $p(oe){return oe=oe|0,te(oe|0),H=H+1|0,0}function ni(oe){return oe=oe|0,he(1)|0?1:(te(a[H+1|0]|0),H=H+2|0,0)}function Vi(oe){return oe=oe|0,he(2)|0?1:(te(Ee(H+1|0)|0),H=H+3|0,0)}function Hi(oe){return oe=oe|0,he(4)|0?1:(ye(Ee(H+1|0)|0,Ee(H+3|0)|0),H=H+5|0,0)}function Qo(oe){return oe=oe|0,he(8)|0?1:(_e(Ee(H+1|0)|0,Ee(H+3|0)|0,Ee(H+5|0)|0,Ee(H+7|0)|0),H=H+9|0,0)}function Ct(oe){return oe=oe|0,ce((oe|0)-224|0),H=H+1|0,0}function kd(oe){return oe=oe|0,w(),H=H+1|0,0}function jd(oe){return oe=oe|0,E(),H=H+1|0,0}function In(oe){return oe=oe|0,j(),H=H+1|0,0}function wl(oe){return oe=oe|0,k(),H=H+1|0,0}function vl(oe){return oe=oe|0,he(1)|0?1:(ce(a[H+1|0]|0),H=H+2|0,0)}function Ad(oe){oe=oe|0;var He=0,it=0,et=1,si=0,pn=0,zp=0;return he(2)|0?1:(He=a[H+1|0]|0,it=a[H+2|0]|0,(He|0)&128&&(et=-1),si=+(((He|0)&124)>>2),pn=+(((He|0)&3)<<8|it),+si==0?g(+(+et*5960464477539063e-23*+pn)):+si==31?+et==1?+pn>0?U():R():+pn>0?G():M():g(+(+et*Be(2,+(+si-25))*+(1024+pn))),H=H+3|0,0)}function bl(oe){return oe=oe|0,he(4)|0?1:(p(a[H+1|0]|0,a[H+2|0]|0,a[H+3|0]|0,a[H+4|0]|0),H=H+5|0,0)}function Nl(oe){return oe=oe|0,he(8)|0?1:(v(a[H+1|0]|0,a[H+2|0]|0,a[H+3|0]|0,a[H+4|0]|0,a[H+5|0]|0,a[H+6|0]|0,a[H+7|0]|0,a[H+8|0]|0),H=H+9|0,0)}function ht(oe){return oe=oe|0,1}function El(oe){return oe=oe|0,me(),H=H+1|0,0}var Cd=[z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,Y,ne,se,ae,ht,ht,ht,ht,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,y,b,P,L,ht,ht,ht,ht,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,ge,Ae,Oe,Ue,ht,ht,ht,Ze,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,N,S,K,ue,ht,ht,ht,be,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,Ke,Qe,De,We,ht,ht,ht,ct,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ri,fn,hn,Ui,ht,ht,ht,$i,Yr,Yr,Yr,Yr,Yr,Yr,Et,Et,Et,Et,Et,Et,Et,Et,Et,Et,Et,Et,Et,Et,Et,Et,Et,Et,ni,Vi,Hi,Qo,ht,ht,ht,ht,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,kd,jd,In,wl,vl,Ad,bl,Nl,ht,ht,ht,El];return{parse:pe}}),vh}var bh={},_r={},Hx;function rd(){if(Hx)return _r;Hx=1;const e=td().BigNumber;return _r.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},_r.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},_r.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},_r.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},_r.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},_r.SHIFT32=Math.pow(2,32),_r.SHIFT16=Math.pow(2,16),_r.MAX_SAFE_HIGH=2097151,_r.NEG_ONE=new e(-1),_r.TEN=new e(10),_r.TWO=new e(2),_r.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5},_r}var Lx;function ap(){return Lx||(Lx=1,function(e){const{Buffer:t}=ed(),r=td().BigNumber,i=rd(),a=i.SHIFT32,c=i.SHIFT16,d=2097151;e.parseHalf=function(m){var g,p,v;return v=m[0]&128?-1:1,g=(m[0]&124)>>2,p=(m[0]&3)<<8|m[1],g?g===31?v*(p?NaN:1/0):v*Math.pow(2,g-25)*(1024+p):v*5960464477539063e-23*p};function u(h){return h<16?"0"+h.toString(16):h.toString(16)}e.arrayBufferToBignumber=function(h){const m=h.byteLength;let g="";for(let p=0;p<m;p++)g+=u(h[p]);return new r(g,16)},e.buildMap=h=>{const m=new Map,g=Object.keys(h),p=g.length;for(let v=0;v<p;v++)m.set(g[v],h[g[v]]);return m},e.buildInt32=(h,m)=>h*c+m,e.buildInt64=(h,m,g,p)=>{const v=e.buildInt32(h,m),E=e.buildInt32(g,p);return v>d?new r(v).times(a).plus(E):v*a+E},e.writeHalf=function(m,g){const p=t.allocUnsafe(4);p.writeFloatBE(g,0);const v=p.readUInt32BE(0);if((v&8191)!==0)return!1;var E=v>>16&32768;const w=v>>23&255,k=v&8388607;if(w>=113&&w<=142)E+=(w-112<<10)+(k>>13);else if(w>=103&&w<113){if(k&(1<<126-w)-1)return!1;E+=k+8388608>>126-w}else return!1;return m.writeUInt16BE(E,0),!0},e.keySorter=function(h,m){var g=h[0].byteLength,p=m[0].byteLength;return g>p?1:p>g?-1:h[0].compare(m[0])},e.isNegativeZero=h=>h===0&&1/h<0,e.nextPowerOf2=h=>{let m=0;if(h&&!(h&h-1))return h;for(;h!==0;)h>>=1,m+=1;return 1<<m}}(bh)),bh}var Nh,Wx;function w1(){if(Wx)return Nh;Wx=1;const e=rd(),t=e.MT,r=e.SIMPLE,i=e.SYMS;class a{constructor(d){if(typeof d!="number")throw new Error("Invalid Simple type: "+typeof d);if(d<0||d>255||(d|0)!==d)throw new Error("value must be a small positive integer: "+d);this.value=d}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(d){return d._pushInt(this.value,t.SIMPLE_FLOAT)}static isSimple(d){return d instanceof a}static decode(d,u){switch(u==null&&(u=!0),d){case r.FALSE:return!1;case r.TRUE:return!0;case r.NULL:return u?null:i.NULL;case r.UNDEFINED:return u?void 0:i.UNDEFINED;case-1:if(!u)throw new Error("Invalid BREAK");return i.BREAK;default:return new a(d)}}}return Nh=a,Nh}var Eh,qx;function v1(){if(qx)return Eh;qx=1;class e{constructor(r,i,a){if(this.tag=r,this.value=i,this.err=a,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(r){return r._pushTag(this.tag),r.pushAny(this.value)}convert(r){var i,a;if(a=r!=null?r[this.tag]:void 0,typeof a!="function"&&(a=e["_tag"+this.tag],typeof a!="function"))return this;try{return a.call(e,this.value)}catch(c){return i=c,this.err=i,this}}}return Eh=e,Eh}var _h,Gx;function b1(){if(Gx)return _h;Gx=1;const e=self.location?self.location.protocol+"//"+self.location.host:"",t=self.URL;class r{constructor(c="",d=e){this.super=new t(c,d),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(c){this.super.hash=c}set host(c){this.super.host=c}set hostname(c){this.super.hostname=c}set href(c){this.super.href=c}set origin(c){this.super.origin=c}set password(c){this.super.password=c}set pathname(c){this.super.pathname=c}set port(c){this.super.port=c}set protocol(c){this.super.protocol=c}set search(c){this.super.search=c}set searchParams(c){this.super.searchParams=c}set username(c){this.super.username=c}createObjectURL(c){return this.super.createObjectURL(c)}revokeObjectURL(c){this.super.revokeObjectURL(c)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}}function i(a){if(typeof a=="string")return new t(a).toString();if(!(a instanceof t)){const c=a.username&&a.password?`${a.username}:${a.password}@`:"",d=a.auth?a.auth+"@":"",u=a.port?":"+a.port:"",h=a.protocol?a.protocol+"//":"",m=a.host||"",g=a.hostname||"",p=a.search||(a.query?"?"+a.query:""),v=a.hash||"",E=a.pathname||"",w=a.path||E+p;return`${h}${c||d}${m||g+u}${w}${v}`}}return _h={URLWithLegacySupport:r,URLSearchParams:self.URLSearchParams,defaultBase:e,format:i},_h}var Sh,Kx;function P_(){if(Kx)return Sh;Kx=1;const{URLWithLegacySupport:e,format:t}=b1();return Sh=(r,i={},a={},c)=>{let d=i.protocol?i.protocol.replace(":",""):"http";d=(a[d]||c||d)+":";let u;try{u=new e(r)}catch{u={}}const h=Object.assign({},i,{protocol:d||u.protocol,host:i.host||u.host});return new e(r,t(h)).toString()},Sh}var kh,Dx;function N1(){if(Dx)return kh;Dx=1;const{URLWithLegacySupport:e,format:t,URLSearchParams:r,defaultBase:i}=b1(),a=P_();return kh={URL:e,URLSearchParams:r,format:t,relative:a,defaultBase:i},kh}var jh,Yx;function E1(){if(Yx)return jh;Yx=1;const{Buffer:e}=ed(),t=ep(),r=td().BigNumber,i=B_(),a=ap(),c=rd(),d=w1(),u=v1(),{URL:h}=N1();class m{constructor(p){p=p||{},!p.size||p.size<65536?p.size=65536:p.size=a.nextPowerOf2(p.size),this._heap=new ArrayBuffer(p.size),this._heap8=new Uint8Array(this._heap),this._buffer=e.from(this._heap),this._reset(),this._knownTags=Object.assign({0:v=>new Date(v),1:v=>new Date(v*1e3),2:v=>a.arrayBufferToBignumber(v),3:v=>c.NEG_ONE.minus(a.arrayBufferToBignumber(v)),4:v=>c.TEN.pow(v[0]).times(v[1]),5:v=>c.TWO.pow(v[0]).times(v[1]),32:v=>new h(v),35:v=>new RegExp(v)},p.tags),this.parser=i(z3,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var p=this._parents.pop();if(p.length>0)throw new Error(`Missing ${p.length} elements`);switch(p.type){case c.PARENT.TAG:this._push(this.createTag(p.ref[0],p.ref[1]));break;case c.PARENT.BYTE_STRING:this._push(this.createByteString(p.ref,p.length));break;case c.PARENT.UTF8_STRING:this._push(this.createUtf8String(p.ref,p.length));break;case c.PARENT.MAP:if(p.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(p.ref,p.length));break;case c.PARENT.OBJECT:if(p.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(p.ref,p.length));break;case c.PARENT.ARRAY:this._push(this.createArray(p.ref,p.length));break}this._currentParent&&this._currentParent.type===c.PARENT.TAG&&this._dec()}_dec(){const p=this._currentParent;p.length<0||(p.length--,p.length===0&&this._closeParent())}_push(p,v){const E=this._currentParent;switch(E.values++,E.type){case c.PARENT.ARRAY:case c.PARENT.BYTE_STRING:case c.PARENT.UTF8_STRING:E.length>-1?this._ref[this._ref.length-E.length]=p:this._ref.push(p),this._dec();break;case c.PARENT.OBJECT:E.tmpKey!=null?(this._ref[E.tmpKey]=p,E.tmpKey=null,this._dec()):(E.tmpKey=p,typeof E.tmpKey!="string"&&(E.type=c.PARENT.MAP,E.ref=a.buildMap(E.ref)));break;case c.PARENT.MAP:E.tmpKey!=null?(this._ref.set(E.tmpKey,p),E.tmpKey=null,this._dec()):E.tmpKey=p;break;case c.PARENT.TAG:this._ref.push(p),v||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(p,v,E){this._parents[this._depth]={type:v,length:E,ref:p,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:c.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(p,v){const E=this._knownTags[p];return E?E(v):new u(p,v)}createMap(p,v){return p}createObject(p,v){return p}createArray(p,v){return p}createByteString(p,v){return e.concat(p)}createByteStringFromHeap(p,v){return p===v?e.alloc(0):e.from(this._heap.slice(p,v))}createInt(p){return p}createInt32(p,v){return a.buildInt32(p,v)}createInt64(p,v,E,w){return a.buildInt64(p,v,E,w)}createFloat(p){return p}createFloatSingle(p,v,E,w){return t.read([p,v,E,w],0,!1,23,4)}createFloatDouble(p,v,E,w,k,j,R,M){return t.read([p,v,E,w,k,j,R,M],0,!1,52,8)}createInt32Neg(p,v){return-1-a.buildInt32(p,v)}createInt64Neg(p,v,E,w){const k=a.buildInt32(p,v),j=a.buildInt32(E,w);return k>c.MAX_SAFE_HIGH?c.NEG_ONE.minus(new r(k).times(c.SHIFT32).plus(j)):-1-(k*c.SHIFT32+j)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(p,v){return p.join("")}createUtf8StringFromHeap(p,v){return p===v?"":this._buffer.toString("utf8",p,v)}createSimpleUnassigned(p){return new d(p)}pushInt(p){this._push(this.createInt(p))}pushInt32(p,v){this._push(this.createInt32(p,v))}pushInt64(p,v,E,w){this._push(this.createInt64(p,v,E,w))}pushFloat(p){this._push(this.createFloat(p))}pushFloatSingle(p,v,E,w){this._push(this.createFloatSingle(p,v,E,w))}pushFloatDouble(p,v,E,w,k,j,R,M){this._push(this.createFloatDouble(p,v,E,w,k,j,R,M))}pushInt32Neg(p,v){this._push(this.createInt32Neg(p,v))}pushInt64Neg(p,v,E,w){this._push(this.createInt64Neg(p,v,E,w))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],c.PARENT.ARRAY,-1)}pushArrayStartFixed(p){this._createArrayStartFixed(p)}pushArrayStartFixed32(p,v){const E=a.buildInt32(p,v);this._createArrayStartFixed(E)}pushArrayStartFixed64(p,v,E,w){const k=a.buildInt64(p,v,E,w);this._createArrayStartFixed(k)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(p){this._createObjectStartFixed(p)}pushObjectStartFixed32(p,v){const E=a.buildInt32(p,v);this._createObjectStartFixed(E)}pushObjectStartFixed64(p,v,E,w){const k=a.buildInt64(p,v,E,w);this._createObjectStartFixed(k)}pushByteStringStart(){this._parents[this._depth]={type:c.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(p,v){this._push(this.createByteStringFromHeap(p,v))}pushUtf8StringStart(){this._parents[this._depth]={type:c.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(p,v){this._push(this.createUtf8StringFromHeap(p,v))}pushSimpleUnassigned(p){this._push(this.createSimpleUnassigned(p))}pushTagStart(p){this._parents[this._depth]={type:c.PARENT.TAG,length:1,ref:[p]}}pushTagStart4(p,v){this.pushTagStart(a.buildInt32(p,v))}pushTagStart8(p,v,E,w){this.pushTagStart(a.buildInt64(p,v,E,w))}pushTagUnassigned(p){this._push(this.createTag(p))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(p){if(p===0){this._push(this.createObject({}));return}this._createParent({},c.PARENT.OBJECT,p)}_createArrayStartFixed(p){if(p===0){this._push(this.createArray([]));return}this._createParent(new Array(p),c.PARENT.ARRAY,p)}_decode(p){if(p.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(p);const v=this.parser.parse(p.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(v>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(p){return this._decode(p),this._res[0]}decodeAll(p){return this._decode(p),this._res}static decode(p,v){return typeof p=="string"&&(p=e.from(p,v||"hex")),new m({size:p.length}).decodeFirst(p)}static decodeAll(p,v){return typeof p=="string"&&(p=e.from(p,v||"hex")),new m({size:p.length}).decodeAll(p)}}return m.decodeFirst=m.decode,jh=m,jh}var Ah,Zx;function M_(){if(Zx)return Ah;Zx=1;const{Buffer:e}=ed(),t=E1(),r=ap();class i extends t{createTag(d,u){return`${d}(${u})`}createInt(d){return super.createInt(d).toString()}createInt32(d,u){return super.createInt32(d,u).toString()}createInt64(d,u,h,m){return super.createInt64(d,u,h,m).toString()}createInt32Neg(d,u){return super.createInt32Neg(d,u).toString()}createInt64Neg(d,u,h,m){return super.createInt64Neg(d,u,h,m).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(d){const u=super.createFloat(d);return r.isNegativeZero(d)?"-0_1":`${u}_1`}createFloatSingle(d,u,h,m){return`${super.createFloatSingle(d,u,h,m)}_2`}createFloatDouble(d,u,h,m,g,p,v,E){return`${super.createFloatDouble(d,u,h,m,g,p,v,E)}_3`}createByteString(d,u){const h=d.join(", ");return u===-1?`(_ ${h})`:`h'${h}`}createByteStringFromHeap(d,u){return`h'${e.from(super.createByteStringFromHeap(d,u)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(d){return`simple(${d})`}createArray(d,u){const h=super.createArray(d,u);return u===-1?`[_ ${h.join(", ")}]`:`[${h.join(", ")}]`}createMap(d,u){const h=super.createMap(d),m=Array.from(h.keys()).reduce(a(h),"");return u===-1?`{_ ${m}}`:`{${m}}`}createObject(d,u){const h=super.createObject(d),m=Object.keys(h).reduce(a(h),"");return u===-1?`{_ ${m}}`:`{${m}}`}createUtf8String(d,u){const h=d.join(", ");return u===-1?`(_ ${h})`:`"${h}"`}createUtf8StringFromHeap(d,u){return`"${e.from(super.createUtf8StringFromHeap(d,u)).toString("utf8")}"`}static diagnose(d,u){return typeof d=="string"&&(d=e.from(d,u||"hex")),new i().decodeFirst(d)}}Ah=i;function a(c){return(d,u)=>d?`${d}, ${u}: ${c[u]}`:`${u}: ${c[u]}`}return Ah}var Ch,Xx;function O_(){if(Xx)return Ch;Xx=1;const{Buffer:e}=ed(),{URL:t}=N1(),r=td().BigNumber,i=ap(),a=rd(),c=a.MT,d=a.NUMBYTES,u=a.SHIFT32,h=a.SYMS,m=a.TAG,g=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.TWO,p=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.FOUR,v=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.EIGHT,E=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.TRUE,w=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.FALSE,k=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.UNDEFINED,j=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.NULL,R=new r("0x20000000000000"),M=e.from("f97e00","hex"),U=e.from("f9fc00","hex"),G=e.from("f97c00","hex");function O(X){return{}.toString.call(X).slice(8,-1)}class Q{constructor($){$=$||{},this.streaming=typeof $.stream=="function",this.onData=$.stream,this.semanticTypes=[[t,this._pushUrl],[r,this._pushBigNumber]];const q=$.genTypes||[],W=q.length;for(let ie=0;ie<W;ie++)this.addSemanticType(q[ie][0],q[ie][1]);this._reset()}addSemanticType($,q){const W=this.semanticTypes.length;for(let ie=0;ie<W;ie++)if(this.semanticTypes[ie][0]===$){const A=this.semanticTypes[ie][1];return this.semanticTypes[ie][1]=q,A}return this.semanticTypes.push([$,q]),null}push($){return $&&(this.result[this.offset]=$,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=$.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite($,q,W){return this.result[this.offset]=$,this.resultMethod[this.offset]=q,this.resultLength[this.offset]=W,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8($){return this.pushWrite($,1,1)}_pushUInt16BE($){return this.pushWrite($,2,2)}_pushUInt32BE($){return this.pushWrite($,3,4)}_pushDoubleBE($){return this.pushWrite($,4,8)}_pushNaN(){return this.push(M)}_pushInfinity($){const q=$<0?U:G;return this.push(q)}_pushFloat($){const q=e.allocUnsafe(2);if(i.writeHalf(q,$)&&i.parseHalf(q)===$)return this._pushUInt8(g)&&this.push(q);const W=e.allocUnsafe(4);return W.writeFloatBE($,0),W.readFloatBE(0)===$?this._pushUInt8(p)&&this.push(W):this._pushUInt8(v)&&this._pushDoubleBE($)}_pushInt($,q,W){const ie=q<<5;return $<24?this._pushUInt8(ie|$):$<=255?this._pushUInt8(ie|d.ONE)&&this._pushUInt8($):$<=65535?this._pushUInt8(ie|d.TWO)&&this._pushUInt16BE($):$<=4294967295?this._pushUInt8(ie|d.FOUR)&&this._pushUInt32BE($):$<=Number.MAX_SAFE_INTEGER?this._pushUInt8(ie|d.EIGHT)&&this._pushUInt32BE(Math.floor($/u))&&this._pushUInt32BE($%u):q===c.NEG_INT?this._pushFloat(W):this._pushFloat($)}_pushIntNum($){return $<0?this._pushInt(-$-1,c.NEG_INT,$):this._pushInt($,c.POS_INT)}_pushNumber($){switch(!1){case $===$:return this._pushNaN($);case isFinite($):return this._pushInfinity($);case $%1!==0:return this._pushIntNum($);default:return this._pushFloat($)}}_pushString($){const q=e.byteLength($,"utf8");return this._pushInt(q,c.UTF8_STRING)&&this.pushWrite($,5,q)}_pushBoolean($){return this._pushUInt8($?E:w)}_pushUndefined($){return this._pushUInt8(k)}_pushArray($,q){const W=q.length;if(!$._pushInt(W,c.ARRAY))return!1;for(let ie=0;ie<W;ie++)if(!$.pushAny(q[ie]))return!1;return!0}_pushTag($){return this._pushInt($,c.TAG)}_pushDate($,q){return $._pushTag(m.DATE_EPOCH)&&$.pushAny(Math.round(q/1e3))}_pushBuffer($,q){return $._pushInt(q.length,c.BYTE_STRING)&&$.push(q)}_pushNoFilter($,q){return $._pushBuffer($,q.slice())}_pushRegexp($,q){return $._pushTag(m.REGEXP)&&$.pushAny(q.source)}_pushSet($,q){if(!$._pushInt(q.size,c.ARRAY))return!1;for(const W of q)if(!$.pushAny(W))return!1;return!0}_pushUrl($,q){return $._pushTag(m.URI)&&$.pushAny(q.format())}_pushBigint($){let q=m.POS_BIGINT;$.isNegative()&&($=$.negated().minus(1),q=m.NEG_BIGINT);let W=$.toString(16);W.length%2&&(W="0"+W);const ie=e.from(W,"hex");return this._pushTag(q)&&this._pushBuffer(this,ie)}_pushBigNumber($,q){if(q.isNaN())return $._pushNaN();if(!q.isFinite())return $._pushInfinity(q.isNegative()?-1/0:1/0);if(q.isInteger())return $._pushBigint(q);if(!($._pushTag(m.DECIMAL_FRAC)&&$._pushInt(2,c.ARRAY)))return!1;const W=q.decimalPlaces(),ie=q.multipliedBy(new r(10).pow(W));return $._pushIntNum(-W)?ie.abs().isLessThan(R)?$._pushIntNum(ie.toNumber()):$._pushBigint(ie):!1}_pushMap($,q){return $._pushInt(q.size,c.MAP)?this._pushRawMap(q.size,Array.from(q)):!1}_pushObject($){if(!$)return this._pushUInt8(j);for(var q=this.semanticTypes.length,W=0;W<q;W++)if($ instanceof this.semanticTypes[W][0])return this.semanticTypes[W][1].call($,this,$);var ie=$.encodeCBOR;if(typeof ie=="function")return ie.call($,this);var fe=Object.keys($),A=fe.length;return this._pushInt(A,c.MAP)?this._pushRawMap(A,fe.map(V=>[V,$[V]])):!1}_pushRawMap($,q){q=q.map(function(ie){return ie[0]=Q.encode(ie[0]),ie}).sort(i.keySorter);for(var W=0;W<$;W++)if(!this.push(q[W][0])||!this.pushAny(q[W][1]))return!1;return!0}write($){return this.pushAny($)}pushAny($){var q=O($);switch(q){case"Number":return this._pushNumber($);case"String":return this._pushString($);case"Boolean":return this._pushBoolean($);case"Object":return this._pushObject($);case"Array":return this._pushArray(this,$);case"Uint8Array":return this._pushBuffer(this,e.isBuffer($)?$:e.from($));case"Null":return this._pushUInt8(j);case"Undefined":return this._pushUndefined($);case"Map":return this._pushMap(this,$);case"Set":return this._pushSet(this,$);case"URL":return this._pushUrl(this,$);case"BigNumber":return this._pushBigNumber(this,$);case"Date":return this._pushDate(this,$);case"RegExp":return this._pushRegexp(this,$);case"Symbol":switch($){case h.NULL:return this._pushObject(null);case h.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+$.toString())}default:throw new Error("Unknown type: "+typeof $+", "+($?$.toString():""))}}finalize(){if(this.offset===0)return null;for(var $=this.result,q=this.resultLength,W=this.resultMethod,ie=this.offset,fe=0,A=0;A<ie;A++)fe+=q[A];var V=e.allocUnsafe(fe),Z=0,J=0;for(A=0;A<ie;A++){switch(J=q[A],W[A]){case 0:$[A].copy(V,Z);break;case 1:V.writeUInt8($[A],Z,!0);break;case 2:V.writeUInt16BE($[A],Z,!0);break;case 3:V.writeUInt32BE($[A],Z,!0);break;case 4:V.writeDoubleBE($[A],Z,!0);break;case 5:V.write($[A],Z,J,"utf8");break;default:throw new Error("unkown method")}Z+=J}var ce=V;return this._reset(),ce}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode($){const q=new Q;if(!q.pushAny($))throw new Error("Failed to encode input");return q.finalize()}}return Ch=Q,Ch}var Qx;function I_(){return Qx||(Qx=1,function(e){e.Diagnose=M_(),e.Decoder=E1(),e.Encoder=O_(),e.Simple=w1(),e.Tagged=v1(),e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.decode=e.Decoder.decode,e.leveldb={decode:e.Decoder.decodeAll,encode:e.Encoder.encode,buffer:!0,name:"cbor"}}(yh)),yh}var F_=I_();const _1=qu(F_);function ln(e){return Ga(g_.create().update(new Uint8Array(e)).digest())}function Xc(e){if(e instanceof _1.Tagged)return Xc(e.value);if(typeof e=="string")return S1(e);if(typeof e=="number")return ln(Bt(e));if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return ln(e);if(Array.isArray(e)){const t=e.map(Xc);return ln(cn(...t))}else{if(e&&typeof e=="object"&&e._isPrincipal)return ln(e.toUint8Array());if(typeof e=="object"&&e!==null&&typeof e.toHash=="function")return Xc(e.toHash());if(typeof e=="object")return ju(e);if(typeof e=="bigint")return ln(Bt(e))}throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${e}`),{value:e})}const S1=e=>{const t=new TextEncoder().encode(e);return ln(t)};function Xa(e){return ju(e)}function ju(e){const i=Object.entries(e).filter(([,d])=>d!==void 0).map(([d,u])=>{const h=S1(d),m=Xc(u);return[h,m]}).sort(([d],[u])=>Mw(d,u)),a=cn(...i.map(d=>cn(...d)));return ln(a)}var U_=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(r[i[a]]=e[i[a]]);return r};const $_=new TextEncoder().encode(`
ic-request`);class lp{getPrincipal(){return this._principal||(this._principal=rt.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(t){const{body:r}=t,i=U_(t,["body"]),a=Xa(r);return Object.assign(Object.assign({},i),{body:{content:r,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign(cn($_,a))}})}}class Qa{getPrincipal(){return rt.anonymous()}async transformRequest(t){return Object.assign(Object.assign({},t),{body:{content:t.body}})}}var Ma={},Kn={},gt={},Jx;function k1(){if(Jx)return gt;Jx=1,Object.defineProperty(gt,"__esModule",{value:!0});const e=9007199254740992;function t(A,...V){const Z=new Uint8Array(A.byteLength+V.reduce((ce,te)=>ce+te.byteLength,0));Z.set(new Uint8Array(A),0);let J=A.byteLength;for(const ce of V)Z.set(new Uint8Array(ce),J),J+=ce.byteLength;return Z.buffer}function r(A,V,Z){Z=Z.replace(/[^0-9a-fA-F]/g,"");const J=2**(V-24);Z=Z.slice(-J*2).padStart(J*2,"0");const ce=[(A<<5)+V].concat(Z.match(/../g).map(te=>parseInt(te,16)));return new Uint8Array(ce).buffer}function i(A,V){if(V<24)return new Uint8Array([(A<<5)+V]).buffer;{const Z=V<=255?24:V<=65535?25:V<=4294967295?26:27;return r(A,Z,V.toString(16))}}function a(A){const V=[];for(let Z=0;Z<A.length;Z++){let J=A.charCodeAt(Z);J<128?V.push(J):J<2048?V.push(192|J>>6,128|J&63):J<55296||J>=57344?V.push(224|J>>12,128|J>>6&63,128|J&63):(Z++,J=(J&1023)<<10|A.charCodeAt(Z)&1023,V.push(240|J>>18,128|J>>12&63,128|J>>6&63,128|J&63))}return t(new Uint8Array(i(3,A.length)),new Uint8Array(V))}function c(A,V){if(A==14277111)return t(new Uint8Array([217,217,247]),V);if(A<24)return t(new Uint8Array([192+A]),V);{const Z=A<=255?24:A<=65535?25:A<=4294967295?26:27,J=2**(Z-24),ce=A.toString(16).slice(-J*2).padStart(J*2,"0"),te=[192+Z].concat(ce.match(/../g).map(ye=>parseInt(ye,16)));return new Uint8Array(te).buffer}}gt.tagged=c;function d(A){return new Uint8Array(A).buffer}gt.raw=d;function u(A){if(isNaN(A))throw new RangeError("Invalid number.");A=Math.min(Math.max(0,A),23);const V=[0+A];return new Uint8Array(V).buffer}gt.uSmall=u;function h(A,V){if(A=parseInt(""+A,V),isNaN(A))throw new RangeError("Invalid number.");return A=Math.min(Math.max(0,A),255),A=A.toString(16),r(0,24,A)}gt.u8=h;function m(A,V){if(A=parseInt(""+A,V),isNaN(A))throw new RangeError("Invalid number.");return A=Math.min(Math.max(0,A),65535),A=A.toString(16),r(0,25,A)}gt.u16=m;function g(A,V){if(A=parseInt(""+A,V),isNaN(A))throw new RangeError("Invalid number.");return A=Math.min(Math.max(0,A),4294967295),A=A.toString(16),r(0,26,A)}gt.u32=g;function p(A,V){if(typeof A=="string"&&V==16){if(A.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return r(0,27,A)}if(A=parseInt(""+A,V),isNaN(A))throw new RangeError("Invalid number.");return A=Math.min(Math.max(0,A),e),A=A.toString(16),r(0,27,A)}gt.u64=p;function v(A){if(isNaN(A))throw new RangeError("Invalid number.");if(A===0)return u(0);A=Math.min(Math.max(0,-A),24)-1;const V=[32+A];return new Uint8Array(V).buffer}gt.iSmall=v;function E(A,V){if(A=parseInt(""+A,V),isNaN(A))throw new RangeError("Invalid number.");return A=Math.min(Math.max(0,-A-1),255),A=A.toString(16),r(1,24,A)}gt.i8=E;function w(A,V){if(A=parseInt(""+A,V),isNaN(A))throw new RangeError("Invalid number.");return A=Math.min(Math.max(0,-A-1),65535),A=A.toString(16),r(1,25,A)}gt.i16=w;function k(A,V){if(A=parseInt(""+A,V),isNaN(A))throw new RangeError("Invalid number.");return A=Math.min(Math.max(0,-A-1),4294967295),A=A.toString(16),r(1,26,A)}gt.i32=k;function j(A,V){if(typeof A=="string"&&V==16){if(A.startsWith("-")?A=A.slice(1):A="0",A.match(/[^0-9a-fA-F]/)||A.length>16)throw new RangeError("Invalid number.");let Z=!1,J=A.split("").reduceRight((ce,te)=>{if(Z)return te+ce;let ye=parseInt(te,16)-1;return ye>=0?(Z=!0,ye.toString(16)+ce):"f"+ce},"");return Z?r(1,27,J):p(0)}if(A=parseInt(""+A,V),isNaN(A))throw new RangeError("Invalid number.");return A=Math.min(Math.max(0,-A-1),9007199254740992),A=A.toString(16),r(1,27,A)}gt.i64=j;function R(A){return A>=0?A<24?u(A):A<=255?h(A):A<=65535?m(A):A<=4294967295?g(A):p(A):A>=-24?v(A):A>=-255?E(A):A>=-65535?w(A):A>=-4294967295?k(A):j(A)}gt.number=R;function M(A){return t(i(2,A.byteLength),A)}gt.bytes=M;function U(A){return a(A)}gt.string=U;function G(A){return t(i(4,A.length),...A)}gt.array=G;function O(A,V=!1){A instanceof Map||(A=new Map(Object.entries(A)));let Z=Array.from(A.entries());return V&&(Z=Z.sort(([J],[ce])=>J.localeCompare(ce))),t(i(5,A.size),...Z.map(([J,ce])=>t(a(J),ce)))}gt.map=O;function Q(A){const V=new Float32Array([A]);return t(new Uint8Array([250]),new Uint8Array(V.buffer))}gt.singleFloat=Q;function X(A){const V=new Float64Array([A]);return t(new Uint8Array([251]),new Uint8Array(V.buffer))}gt.doubleFloat=X;function $(A){return A?q():W()}gt.bool=$;function q(){return d(new Uint8Array([245]))}gt.true_=q;function W(){return d(new Uint8Array([244]))}gt.false_=W;function ie(){return d(new Uint8Array([246]))}gt.null_=ie;function fe(){return d(new Uint8Array([247]))}return gt.undefined_=fe,gt}var ey;function z_(){if(ey)return Kn;ey=1;var e=Kn&&Kn.__importStar||function(u){if(u&&u.__esModule)return u;var h={};if(u!=null)for(var m in u)Object.hasOwnProperty.call(u,m)&&(h[m]=u[m]);return h.default=u,h};Object.defineProperty(Kn,"__esModule",{value:!0});const t=e(k1()),r=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class i{constructor(h,m=!1){this._serializer=h,this._stable=m,this.name="jsonDefault",this.priority=-100}match(h){return["undefined","boolean","number","string","object"].indexOf(typeof h)!=-1}encode(h){switch(typeof h){case"undefined":return t.undefined_();case"boolean":return t.bool(h);case"number":return Math.floor(h)===h?t.number(h):t.doubleFloat(h);case"string":return t.string(h);case"object":if(h===null)return t.null_();if(Array.isArray(h))return t.array(h.map(m=>this._serializer.serializeValue(m)));if(r.find(m=>h instanceof m))return t.bytes(h.buffer);if(Object.getOwnPropertyNames(h).indexOf("toJSON")!==-1)return this.encode(h.toJSON());if(h instanceof Map){const m=new Map;for(const[g,p]of h.entries())m.set(g,this._serializer.serializeValue(p));return t.map(m,this._stable)}else{const m=new Map;for(const[g,p]of Object.entries(h))m.set(g,this._serializer.serializeValue(p));return t.map(m,this._stable)}default:throw new Error("Invalid value.")}}}Kn.JsonDefaultCborEncoder=i;class a{constructor(){this.name="cborEncoder",this.priority=-90}match(h){return typeof h=="object"&&typeof h.toCBOR=="function"}encode(h){return h.toCBOR()}}Kn.ToCborEncoder=a;class c{constructor(){this._encoders=new Set}static withDefaultEncoders(h=!1){const m=new this;return m.addEncoder(new i(m,h)),m.addEncoder(new a),m}removeEncoder(h){for(const m of this._encoders.values())m.name==h&&this._encoders.delete(m)}addEncoder(h){this._encoders.add(h)}getEncoderFor(h){let m=null;for(const g of this._encoders)(!m||g.priority>m.priority)&&g.match(h)&&(m=g);if(m===null)throw new Error("Could not find an encoder for value.");return m}serializeValue(h){return this.getEncoderFor(h).encode(h)}serialize(h){return this.serializeValue(h)}}Kn.CborSerializer=c;class d extends c{serialize(h){return t.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(h))]))}}return Kn.SelfDescribeCborSerializer=d,Kn}var ty;function V_(){return ty||(ty=1,function(e){function t(a){for(var c in a)e.hasOwnProperty(c)||(e[c]=a[c])}var r=Ma&&Ma.__importStar||function(a){if(a&&a.__esModule)return a;var c={};if(a!=null)for(var d in a)Object.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c.default=a,c};Object.defineProperty(e,"__esModule",{value:!0}),t(z_());const i=r(k1());e.value=i}(Ma)),Ma}var Pr=V_();class H_{get name(){return"Principal"}get priority(){return 0}match(t){return t&&t._isPrincipal===!0}encode(t){return Pr.value.bytes(t.toUint8Array())}}class L_{get name(){return"Buffer"}get priority(){return 1}match(t){return t instanceof ArrayBuffer||ArrayBuffer.isView(t)}encode(t){return Pr.value.bytes(new Uint8Array(t))}}class W_{get name(){return"BigInt"}get priority(){return 1}match(t){return typeof t=="bigint"}encode(t){return t>BigInt(0)?Pr.value.tagged(2,Pr.value.bytes(as(t.toString(16)))):Pr.value.tagged(3,Pr.value.bytes(as((BigInt("-1")*t).toString(16))))}}const nd=Pr.SelfDescribeCborSerializer.withDefaultEncoders(!0);nd.addEncoder(new H_);nd.addEncoder(new L_);nd.addEncoder(new W_);var y0;(function(e){e[e.Uint64LittleEndian=71]="Uint64LittleEndian",e[e.Semantic=55799]="Semantic"})(y0||(y0={}));function Th(e){return nd.serialize(e)}function ry(e){const t=e.byteLength;let r=BigInt(0);for(let i=0;i<t;i++)r=r*BigInt(256)+BigInt(e[i]);return r}class q_ extends _1.Decoder{createByteString(t){return cn(...t)}createByteStringFromHeap(t,r){return t===r?new ArrayBuffer(0):new Uint8Array(this._heap.slice(t,r))}}function rs(e){const t=new Uint8Array(e),r=new q_({size:t.byteLength,tags:{2:i=>ry(i),3:i=>-ry(i),[y0.Semantic]:i=>i}});try{return r.decodeFirst(t)}catch(i){throw new Error(`Failed to decode CBOR: ${i}, input: ${St(t)}`)}}const Mc=()=>{if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){const e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0]}if(typeof crypto<"u"&&crypto.getRandomValues){const e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}return typeof crypto<"u"&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(Math.random()*4294967295)};var w0;(function(e){e.Call="call"})(w0||(w0={}));function v0(){const e=new ArrayBuffer(16),t=new DataView(e),r=Mc(),i=Mc(),a=Mc(),c=Mc();return t.setUint32(0,r),t.setUint32(4,i),t.setUint32(8,a),t.setUint32(12,c),e}const ny=BigInt(1e6),G_=60*1e3;class Oc{constructor(t){if(t<90*1e3){const u=BigInt(Date.now()+t)*ny/BigInt(1e9);this._value=u*BigInt(1e9);return}const c=BigInt(Math.floor(Date.now()+t-G_))*ny/BigInt(1e9)/BigInt(60)*BigInt(60)*BigInt(1e9);this._value=c}toCBOR(){return Pr.value.u64(this._value.toString(16),16)}toHash(){return Bt(this._value)}}function sy(e=v0){return async t=>{const r=t.request.headers;t.request.headers=r,t.endpoint==="call"&&(t.body.nonce=e())}}function Ua(e){const t=[];return e.forEach((r,i)=>{t.push([i,r])}),t}class Rh extends Rt{constructor(t,r){super(t),this.response=r,this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}class K_ extends Rt{constructor(t,r,i,a,c,d){super(t),this.response=r,this.requestId=i,this.senderPubkey=a,this.senderSig=c,this.ingressExpiry=d,this.name="AgentCallError",Object.setPrototypeOf(this,new.target.prototype)}}class D_ extends Rt{constructor(t,r,i,a,c,d){super(t),this.response=r,this.requestId=i,this.senderPubkey=a,this.senderSig=c,this.ingressExpiry=d,this.name="AgentQueryError",Object.setPrototypeOf(this,new.target.prototype)}}class Y_ extends Rt{constructor(t,r,i,a,c,d){super(t),this.response=r,this.requestId=i,this.senderPubkey=a,this.senderSig=c,this.ingressExpiry=d,this.name="AgentReadStateError",Object.setPrototypeOf(this,new.target.prototype)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cp=BigInt(0),Au=BigInt(1);function Ja(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function j1(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?cp:BigInt("0x"+e)}function Bn(e){return j1(zo(e))}function el(e){return tr(e),j1(zo(Uint8Array.from(e).reverse()))}function Jt(e,t){return Aw(e.toString(16).padStart(t*2,"0"))}function sd(e,t){return Jt(e,t).reverse()}function xr(e,t,r){let i;if(typeof t=="string")try{i=Aw(t)}catch(c){throw new Error(e+" must be hex string or Uint8Array, cause: "+c)}else if(tp(t))i=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const a=i.length;if(typeof r=="number"&&a!==r)throw new Error(e+" of length "+r+" expected, got "+a);return i}const Bh=e=>typeof e=="bigint"&&cp<=e;function A1(e,t,r){return Bh(e)&&Bh(t)&&Bh(r)&&t<=e&&e<r}function $a(e,t,r,i){if(!A1(t,r,i))throw new Error("expected valid "+e+": "+r+" <= n < "+i+", got "+t)}function Ka(e){let t;for(t=0;e>cp;e>>=Au,t+=1);return t}function Z_(e,t){return e>>BigInt(t)&Au}const Po=e=>(Au<<BigInt(e))-Au;function X_(e){return typeof e=="function"&&Number.isSafeInteger(e.outputLen)}function dl(e,t,r={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function i(a,c,d){const u=e[a];if(d&&u===void 0)return;const h=typeof u;if(h!==c||u===null)throw new Error(`param "${a}" is invalid: expected ${c}, got ${h}`)}Object.entries(t).forEach(([a,c])=>i(a,c,!1)),Object.entries(r).forEach(([a,c])=>i(a,c,!0))}const iy=()=>{throw new Error("not implemented")};function tl(e){const t=new WeakMap;return(r,...i)=>{const a=t.get(r);if(a!==void 0)return a;const c=e(r,...i);return t.set(r,c),c}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kr=BigInt(0),er=BigInt(1),Ei=BigInt(2),Q_=BigInt(3),C1=BigInt(4),T1=BigInt(5),R1=BigInt(8);function Ft(e,t){const r=e%t;return r>=kr?r:t+r}function bn(e,t,r){let i=e;for(;t-- >kr;)i*=i,i%=r;return i}function oy(e,t){if(e===kr)throw new Error("invert: expected non-zero number");if(t<=kr)throw new Error("invert: expected positive modulus, got "+t);let r=Ft(e,t),i=t,a=kr,c=er;for(;r!==kr;){const u=i/r,h=i%r,m=a-c*u;i=r,r=h,a=c,c=m}if(i!==er)throw new Error("invert: does not exist");return Ft(a,t)}function B1(e,t){const r=(e.ORDER+er)/C1,i=e.pow(t,r);if(!e.eql(e.sqr(i),t))throw new Error("Cannot find square root");return i}function J_(e,t){const r=(e.ORDER-T1)/R1,i=e.mul(t,Ei),a=e.pow(i,r),c=e.mul(t,a),d=e.mul(e.mul(c,Ei),a),u=e.mul(c,e.sub(d,e.ONE));if(!e.eql(e.sqr(u),t))throw new Error("Cannot find square root");return u}function e5(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-er,r=0;for(;t%Ei===kr;)t/=Ei,r++;let i=Ei;const a=Ii(e);for(;Cu(a,i)===1;)if(i++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return B1;let c=a.pow(i,t);const d=(t+er)/Ei;return function(h,m){if(h.is0(m))return m;if(Cu(h,m)!==1)throw new Error("Cannot find square root");let g=r,p=h.mul(h.ONE,c),v=h.pow(m,t),E=h.pow(m,d);for(;!h.eql(v,h.ONE);){if(h.is0(v))return h.ZERO;let w=1,k=h.sqr(v);for(;!h.eql(k,h.ONE);)if(w++,k=h.sqr(k),w===g)throw new Error("Cannot find square root");const j=er<<BigInt(g-w-1),R=h.pow(p,j);g=w,p=h.sqr(R),v=h.mul(v,p),E=h.mul(E,R)}return E}}function t5(e){return e%C1===Q_?B1:e%R1===T1?J_:e5(e)}const r5=(e,t)=>(Ft(e,t)&er)===er,n5=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function P1(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=n5.reduce((i,a)=>(i[a]="function",i),t);return dl(e,r),e}function Qc(e,t,r){if(r<kr)throw new Error("invalid exponent, negatives unsupported");if(r===kr)return e.ONE;if(r===er)return t;let i=e.ONE,a=t;for(;r>kr;)r&er&&(i=e.mul(i,a)),a=e.sqr(a),r>>=er;return i}function Si(e,t,r=!1){const i=new Array(t.length).fill(r?e.ZERO:void 0),a=t.reduce((d,u,h)=>e.is0(u)?d:(i[h]=d,e.mul(d,u)),e.ONE),c=e.inv(a);return t.reduceRight((d,u,h)=>e.is0(u)?d:(i[h]=e.mul(d,i[h]),e.mul(d,u)),c),i}function Cu(e,t){const r=(e.ORDER-er)/Ei,i=e.pow(t,r),a=e.eql(i,e.ONE),c=e.eql(i,e.ZERO),d=e.eql(i,e.neg(e.ONE));if(!a&&!c&&!d)throw new Error("invalid Legendre symbol result");return a?1:c?0:-1}function s5(e,t){t!==void 0&&DE(t);const r=t!==void 0?t:e.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function Ii(e,t,r=!1,i={}){if(e<=kr)throw new Error("invalid field: expected ORDER > 0, got "+e);let a,c;if(typeof t=="object"&&t!=null){if(i.sqrt||r)throw new Error("cannot specify opts in two arguments");const g=t;g.BITS&&(a=g.BITS),g.sqrt&&(c=g.sqrt),typeof g.isLE=="boolean"&&(r=g.isLE)}else typeof t=="number"&&(a=t),i.sqrt&&(c=i.sqrt);const{nBitLength:d,nByteLength:u}=s5(e,a);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let h;const m=Object.freeze({ORDER:e,isLE:r,BITS:d,BYTES:u,MASK:Po(d),ZERO:kr,ONE:er,create:g=>Ft(g,e),isValid:g=>{if(typeof g!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof g);return kr<=g&&g<e},is0:g=>g===kr,isValidNot0:g=>!m.is0(g)&&m.isValid(g),isOdd:g=>(g&er)===er,neg:g=>Ft(-g,e),eql:(g,p)=>g===p,sqr:g=>Ft(g*g,e),add:(g,p)=>Ft(g+p,e),sub:(g,p)=>Ft(g-p,e),mul:(g,p)=>Ft(g*p,e),pow:(g,p)=>Qc(m,g,p),div:(g,p)=>Ft(g*oy(p,e),e),sqrN:g=>g*g,addN:(g,p)=>g+p,subN:(g,p)=>g-p,mulN:(g,p)=>g*p,inv:g=>oy(g,e),sqrt:c||(g=>(h||(h=t5(e)),h(m,g))),toBytes:g=>r?sd(g,u):Jt(g,u),fromBytes:g=>{if(g.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+g.length);return r?el(g):Bn(g)},invertBatch:g=>Si(m,g),cmov:(g,p,v)=>v?p:g});return Object.freeze(m)}function M1(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function O1(e){const t=M1(e);return t+Math.ceil(t/2)}function i5(e,t,r=!1){const i=e.length,a=M1(t),c=O1(t);if(i<16||i<c||i>1024)throw new Error("expected "+c+"-1024 bytes of input, got "+i);const d=r?el(e):Bn(e),u=Ft(d,t-er)+er;return r?sd(u,a):Jt(u,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ho=BigInt(0),_i=BigInt(1);function Da(e,t){const r=t.negate();return e?r:t}function Tu(e,t,r){const i=t==="pz"?d=>d.pz:d=>d.ez,a=Si(e.Fp,r.map(i));return r.map((d,u)=>d.toAffine(a[u])).map(e.fromAffine)}function I1(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Ph(e,t){I1(e,t);const r=Math.ceil(t/e)+1,i=2**(e-1),a=2**e,c=Po(e),d=BigInt(e);return{windows:r,windowSize:i,mask:c,maxNumber:a,shiftBy:d}}function ay(e,t,r){const{windowSize:i,mask:a,maxNumber:c,shiftBy:d}=r;let u=Number(e&a),h=e>>d;u>i&&(u-=c,h+=_i);const m=t*i,g=m+Math.abs(u)-1,p=u===0,v=u<0,E=t%2!==0;return{nextN:h,offset:g,isZero:p,isNeg:v,isNegF:E,offsetF:m}}function o5(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,i)=>{if(!(r instanceof t))throw new Error("invalid point at index "+i)})}function a5(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,i)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+i)})}const Mh=new WeakMap,F1=new WeakMap;function Oh(e){return F1.get(e)||1}function ly(e){if(e!==Ho)throw new Error("invalid wNAF")}function U1(e,t){return{constTimeNegate:Da,hasPrecomputes(r){return Oh(r)!==1},unsafeLadder(r,i,a=e.ZERO){let c=r;for(;i>Ho;)i&_i&&(a=a.add(c)),c=c.double(),i>>=_i;return a},precomputeWindow(r,i){const{windows:a,windowSize:c}=Ph(i,t),d=[];let u=r,h=u;for(let m=0;m<a;m++){h=u,d.push(h);for(let g=1;g<c;g++)h=h.add(u),d.push(h);u=h.double()}return d},wNAF(r,i,a){let c=e.ZERO,d=e.BASE;const u=Ph(r,t);for(let h=0;h<u.windows;h++){const{nextN:m,offset:g,isZero:p,isNeg:v,isNegF:E,offsetF:w}=ay(a,h,u);a=m,p?d=d.add(Da(E,i[w])):c=c.add(Da(v,i[g]))}return ly(a),{p:c,f:d}},wNAFUnsafe(r,i,a,c=e.ZERO){const d=Ph(r,t);for(let u=0;u<d.windows&&a!==Ho;u++){const{nextN:h,offset:m,isZero:g,isNeg:p}=ay(a,u,d);if(a=h,!g){const v=i[m];c=c.add(p?v.negate():v)}}return ly(a),c},getPrecomputes(r,i,a){let c=Mh.get(i);return c||(c=this.precomputeWindow(i,r),r!==1&&(typeof a=="function"&&(c=a(c)),Mh.set(i,c))),c},wNAFCached(r,i,a){const c=Oh(r);return this.wNAF(c,this.getPrecomputes(c,r,a),i)},wNAFCachedUnsafe(r,i,a,c){const d=Oh(r);return d===1?this.unsafeLadder(r,i,c):this.wNAFUnsafe(d,this.getPrecomputes(d,r,a),i,c)},setWindowSize(r,i){I1(i,t),F1.set(r,i),Mh.delete(r)}}}function l5(e,t,r,i){let a=t,c=e.ZERO,d=e.ZERO;for(;r>Ho||i>Ho;)r&_i&&(c=c.add(a)),i&_i&&(d=d.add(a)),a=a.double(),r>>=_i,i>>=_i;return{p1:c,p2:d}}function $1(e,t,r,i){o5(r,e),a5(i,t);const a=r.length,c=i.length;if(a!==c)throw new Error("arrays of points and scalars must have equal length");const d=e.ZERO,u=Ka(BigInt(a));let h=1;u>12?h=u-3:u>4?h=u-2:u>0&&(h=2);const m=Po(h),g=new Array(Number(m)+1).fill(d),p=Math.floor((t.BITS-1)/h)*h;let v=d;for(let E=p;E>=0;E-=h){g.fill(d);for(let k=0;k<c;k++){const j=i[k],R=Number(j>>BigInt(E)&m);g[R]=g[R].add(r[k])}let w=d;for(let k=g.length-1,j=d;k>0;k--)j=j.add(g[k]),w=w.add(j);if(v=v.add(w),E!==0)for(let k=0;k<h;k++)v=v.double()}return v}function cy(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return P1(t),t}else return Ii(e)}function z1(e,t,r={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const u of["p","n","h"]){const h=t[u];if(!(typeof h=="bigint"&&h>Ho))throw new Error(`CURVE.${u} must be positive bigint`)}const i=cy(t.p,r.Fp),a=cy(t.n,r.Fn),d=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const u of d)if(!i.isValid(t[u]))throw new Error(`CURVE.${u} must be valid field element of CURVE.Fp`);return{Fp:i,Fn:a}}const c5=Bn;function zs(e,t){if(rl(e),rl(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const r=Array.from({length:t}).fill(0);for(let i=t-1;i>=0;i--)r[i]=e&255,e>>>=8;return new Uint8Array(r)}function u5(e,t){const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e[i]^t[i];return r}function rl(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function d5(e,t,r,i){tr(e),tr(t),rl(r),t.length>255&&(t=i(Mt(Yu("H2C-OVERSIZE-DST-"),t)));const{outputLen:a,blockLen:c}=i,d=Math.ceil(r/a);if(r>65535||d>255)throw new Error("expand_message_xmd: invalid lenInBytes");const u=Mt(t,zs(t.length,1)),h=zs(0,c),m=zs(r,2),g=new Array(d),p=i(Mt(h,e,m,zs(0,1),u));g[0]=i(Mt(p,zs(1,1),u));for(let E=1;E<=d;E++){const w=[u5(p,g[E-1]),zs(E+1,1),u];g[E]=i(Mt(...w))}return Mt(...g).slice(0,r)}function f5(e,t,r,i,a){if(tr(e),tr(t),rl(r),t.length>255){const c=Math.ceil(2*i/8);t=a.create({dkLen:c}).update(Yu("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return a.create({dkLen:r}).update(e).update(zs(r,2)).update(t).update(zs(t.length,1)).digest()}function uy(e,t,r){dl(r,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:i,k:a,m:c,hash:d,expand:u,DST:h}=r;if(!tp(h)&&typeof h!="string")throw new Error("DST must be string or uint8array");if(!X_(r.hash))throw new Error("expected valid hash");tr(e),rl(t);const m=typeof h=="string"?Yu(h):h,g=i.toString(2).length,p=Math.ceil((g+a)/8),v=t*c*p;let E;if(u==="xmd")E=d5(e,m,v,d);else if(u==="xof")E=f5(e,m,v,a,d);else if(u==="_internal_pass")E=e;else throw new Error('expand must be "xmd" or "xof"');const w=new Array(t);for(let k=0;k<t;k++){const j=new Array(c);for(let R=0;R<c;R++){const M=p*(R+k*c),U=E.subarray(M,M+p);j[R]=Ft(c5(U),i)}w[k]=j}return w}function V1(e,t){const r=t.map(i=>Array.from(i).reverse());return(i,a)=>{const[c,d,u,h]=r.map(p=>p.reduce((v,E)=>e.add(e.mul(v,i),E))),[m,g]=Si(e,[d,h],!0);return i=e.mul(c,m),a=e.mul(a,e.mul(u,g)),{x:i,y:a}}}function dy(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");function i(c){return e.fromAffine(t(c))}function a(c){const d=c.clearCofactor();return d.equals(e.ZERO)?e.ZERO:(d.assertValidity(),d)}return{defaults:r,hashToCurve(c,d){const u=r.DST?r.DST:{},h=Object.assign({},r,u,d),m=uy(c,2,h),g=i(m[0]),p=i(m[1]);return a(g.add(p))},encodeToCurve(c,d){const u=r.encodeDST?r.encodeDST:{},h=Object.assign({},r,u,d),m=uy(c,1,h);return a(i(m[0]))},mapToCurve(c){if(!Array.isArray(c))throw new Error("expected array of bigints");for(const d of c)if(typeof d!="bigint")throw new Error("expected array of bigints");return a(i(c))}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const b0=BigInt(0),Sr=BigInt(1),Os=BigInt(2),Ao=BigInt(3),N0=BigInt(4);function H1(e,t,r){function i(a){const c=e.sqr(a),d=e.mul(c,a);return e.add(e.add(d,e.mul(a,t)),r)}return i}function L1(e,t,r){const{BYTES:i}=e;function a(c){let d;if(typeof c=="bigint")d=c;else{let u=xr("private key",c);if(t){if(!t.includes(u.length*2))throw new Error("invalid private key");const h=new Uint8Array(i);h.set(u,h.length-u.length),u=h}try{d=e.fromBytes(u)}catch{throw new Error(`invalid private key: expected ui8a of size ${i}, got ${typeof c}`)}}if(r&&(d=e.create(d)),!e.isValidNot0(d))throw new Error("invalid private key: out of range [1..N-1]");return d}return a}function h5(e,t={}){const{Fp:r,Fn:i}=z1("weierstrass",e,t),{h:a,n:c}=e;dl(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:d}=t;if(d&&(!r.is0(e.a)||typeof d.beta!="bigint"||typeof d.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function h($,q,W){const{x:ie,y:fe}=q.toAffine(),A=r.toBytes(ie);if(Ja("isCompressed",W),W){u();const V=!r.isOdd(fe);return Mt(p5(V),A)}else return Mt(Uint8Array.of(4),A,r.toBytes(fe))}function m($){tr($);const q=r.BYTES,W=q+1,ie=2*q+1,fe=$.length,A=$[0],V=$.subarray(1);if(fe===W&&(A===2||A===3)){const Z=r.fromBytes(V);if(!r.isValid(Z))throw new Error("bad point: is not on curve, wrong x");const J=v(Z);let ce;try{ce=r.sqrt(J)}catch(_e){const D=_e instanceof Error?": "+_e.message:"";throw new Error("bad point: is not on curve, sqrt error"+D)}u();const te=r.isOdd(ce);return(A&1)===1!==te&&(ce=r.neg(ce)),{x:Z,y:ce}}else if(fe===ie&&A===4){const Z=r.fromBytes(V.subarray(q*0,q*1)),J=r.fromBytes(V.subarray(q*1,q*2));if(!E(Z,J))throw new Error("bad point: is not on curve");return{x:Z,y:J}}else throw new Error(`bad point: got length ${fe}, expected compressed=${W} or uncompressed=${ie}`)}const g=t.toBytes||h,p=t.fromBytes||m,v=H1(r,e.a,e.b);function E($,q){const W=r.sqr(q),ie=v($);return r.eql(W,ie)}if(!E(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const w=r.mul(r.pow(e.a,Ao),N0),k=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(w,k)))throw new Error("bad curve params: a or b");function j($,q,W=!1){if(!r.isValid(q)||W&&r.is0(q))throw new Error(`bad point coordinate ${$}`);return q}function R($){if(!($ instanceof O))throw new Error("ProjectivePoint expected")}const M=tl(($,q)=>{const{px:W,py:ie,pz:fe}=$;if(r.eql(fe,r.ONE))return{x:W,y:ie};const A=$.is0();q==null&&(q=A?r.ONE:r.inv(fe));const V=r.mul(W,q),Z=r.mul(ie,q),J=r.mul(fe,q);if(A)return{x:r.ZERO,y:r.ZERO};if(!r.eql(J,r.ONE))throw new Error("invZ was invalid");return{x:V,y:Z}}),U=tl($=>{if($.is0()){if(t.allowInfinityPoint&&!r.is0($.py))return;throw new Error("bad point: ZERO")}const{x:q,y:W}=$.toAffine();if(!r.isValid(q)||!r.isValid(W))throw new Error("bad point: x or y not field elements");if(!E(q,W))throw new Error("bad point: equation left != right");if(!$.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function G($,q,W,ie,fe){return W=new O(r.mul(W.px,$),W.py,W.pz),q=Da(ie,q),W=Da(fe,W),q.add(W)}class O{constructor(q,W,ie){this.px=j("x",q),this.py=j("y",W,!0),this.pz=j("z",ie),Object.freeze(this)}static fromAffine(q){const{x:W,y:ie}=q||{};if(!q||!r.isValid(W)||!r.isValid(ie))throw new Error("invalid affine point");if(q instanceof O)throw new Error("projective point not allowed");return r.is0(W)&&r.is0(ie)?O.ZERO:new O(W,ie,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(q){return Tu(O,"pz",q)}static fromBytes(q){return tr(q),O.fromHex(q)}static fromHex(q){const W=O.fromAffine(p(xr("pointHex",q)));return W.assertValidity(),W}static fromPrivateKey(q){const W=L1(i,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return O.BASE.multiply(W(q))}static msm(q,W){return $1(O,i,q,W)}precompute(q=8,W=!0){return X.setWindowSize(this,q),W||this.multiply(Ao),this}_setWindowSize(q){this.precompute(q)}assertValidity(){U(this)}hasEvenY(){const{y:q}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(q)}equals(q){R(q);const{px:W,py:ie,pz:fe}=this,{px:A,py:V,pz:Z}=q,J=r.eql(r.mul(W,Z),r.mul(A,fe)),ce=r.eql(r.mul(ie,Z),r.mul(V,fe));return J&&ce}negate(){return new O(this.px,r.neg(this.py),this.pz)}double(){const{a:q,b:W}=e,ie=r.mul(W,Ao),{px:fe,py:A,pz:V}=this;let Z=r.ZERO,J=r.ZERO,ce=r.ZERO,te=r.mul(fe,fe),ye=r.mul(A,A),_e=r.mul(V,V),D=r.mul(fe,A);return D=r.add(D,D),ce=r.mul(fe,V),ce=r.add(ce,ce),Z=r.mul(q,ce),J=r.mul(ie,_e),J=r.add(Z,J),Z=r.sub(ye,J),J=r.add(ye,J),J=r.mul(Z,J),Z=r.mul(D,Z),ce=r.mul(ie,ce),_e=r.mul(q,_e),D=r.sub(te,_e),D=r.mul(q,D),D=r.add(D,ce),ce=r.add(te,te),te=r.add(ce,te),te=r.add(te,_e),te=r.mul(te,D),J=r.add(J,te),_e=r.mul(A,V),_e=r.add(_e,_e),te=r.mul(_e,D),Z=r.sub(Z,te),ce=r.mul(_e,ye),ce=r.add(ce,ce),ce=r.add(ce,ce),new O(Z,J,ce)}add(q){R(q);const{px:W,py:ie,pz:fe}=this,{px:A,py:V,pz:Z}=q;let J=r.ZERO,ce=r.ZERO,te=r.ZERO;const ye=e.a,_e=r.mul(e.b,Ao);let D=r.mul(W,A),me=r.mul(ie,V),Be=r.mul(fe,Z),H=r.add(W,ie),Pe=r.add(A,V);H=r.mul(H,Pe),Pe=r.add(D,me),H=r.sub(H,Pe),Pe=r.add(W,fe);let je=r.add(A,Z);return Pe=r.mul(Pe,je),je=r.add(D,Be),Pe=r.sub(Pe,je),je=r.add(ie,fe),J=r.add(V,Z),je=r.mul(je,J),J=r.add(me,Be),je=r.sub(je,J),te=r.mul(ye,Pe),J=r.mul(_e,Be),te=r.add(J,te),J=r.sub(me,te),te=r.add(me,te),ce=r.mul(J,te),me=r.add(D,D),me=r.add(me,D),Be=r.mul(ye,Be),Pe=r.mul(_e,Pe),me=r.add(me,Be),Be=r.sub(D,Be),Be=r.mul(ye,Be),Pe=r.add(Pe,Be),D=r.mul(me,Pe),ce=r.add(ce,D),D=r.mul(je,Pe),J=r.mul(H,J),J=r.sub(J,D),D=r.mul(H,me),te=r.mul(je,te),te=r.add(te,D),new O(J,ce,te)}subtract(q){return this.add(q.negate())}is0(){return this.equals(O.ZERO)}multiply(q){const{endo:W}=t;if(!i.isValidNot0(q))throw new Error("invalid scalar: out of range");let ie,fe;const A=V=>X.wNAFCached(this,V,O.normalizeZ);if(W){const{k1neg:V,k1:Z,k2neg:J,k2:ce}=W.splitScalar(q),{p:te,f:ye}=A(Z),{p:_e,f:D}=A(ce);fe=ye.add(D),ie=G(W.beta,te,_e,V,J)}else{const{p:V,f:Z}=A(q);ie=V,fe=Z}return O.normalizeZ([ie,fe])[0]}multiplyUnsafe(q){const{endo:W}=t,ie=this;if(!i.isValid(q))throw new Error("invalid scalar: out of range");if(q===b0||ie.is0())return O.ZERO;if(q===Sr)return ie;if(X.hasPrecomputes(this))return this.multiply(q);if(W){const{k1neg:fe,k1:A,k2neg:V,k2:Z}=W.splitScalar(q),{p1:J,p2:ce}=l5(O,ie,A,Z);return G(W.beta,J,ce,fe,V)}else return X.wNAFCachedUnsafe(ie,q)}multiplyAndAddUnsafe(q,W,ie){const fe=this.multiplyUnsafe(W).add(q.multiplyUnsafe(ie));return fe.is0()?void 0:fe}toAffine(q){return M(this,q)}isTorsionFree(){const{isTorsionFree:q}=t;return a===Sr?!0:q?q(O,this):X.wNAFCachedUnsafe(this,c).is0()}clearCofactor(){const{clearCofactor:q}=t;return a===Sr?this:q?q(O,this):this.multiplyUnsafe(a)}toBytes(q=!0){return Ja("isCompressed",q),this.assertValidity(),g(O,this,q)}toRawBytes(q=!0){return this.toBytes(q)}toHex(q=!0){return zo(this.toBytes(q))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}O.BASE=new O(e.Gx,e.Gy,r.ONE),O.ZERO=new O(r.ZERO,r.ONE,r.ZERO),O.Fp=r,O.Fn=i;const Q=i.BITS,X=U1(O,t.endo?Math.ceil(Q/2):Q);return O}function fy(e){const{CURVE:t,curveOpts:r}=m5(e),i=h5(t,r);return g5(e,i)}function p5(e){return Uint8Array.of(e?2:3)}function m5(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,i=Ii(t.n,e.nBitLength),a={Fp:r,Fn:i,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:a}}function g5(e,t){const{Fp:r,Fn:i}=t;function a(u){return A1(u,Sr,i.ORDER)}const c=H1(r,e.a,e.b),d=L1(i,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return Object.assign({},{CURVE:e,Point:t,ProjectivePoint:t,normPrivateKeyToScalar:d,weierstrassEquation:c,isWithinCurveOrder:a})}function x5(e,t){const r=e.ORDER;let i=b0;for(let w=r-Sr;w%Os===b0;w/=Os)i+=Sr;const a=i,c=Os<<a-Sr-Sr,d=c*Os,u=(r-Sr)/d,h=(u-Sr)/Os,m=d-Sr,g=c,p=e.pow(t,u),v=e.pow(t,(u+Sr)/Os);let E=(w,k)=>{let j=p,R=e.pow(k,m),M=e.sqr(R);M=e.mul(M,k);let U=e.mul(w,M);U=e.pow(U,h),U=e.mul(U,R),R=e.mul(U,k),M=e.mul(U,w);let G=e.mul(M,R);U=e.pow(G,g);let O=e.eql(U,e.ONE);R=e.mul(M,v),U=e.mul(G,j),M=e.cmov(R,M,O),G=e.cmov(U,G,O);for(let Q=a;Q>Sr;Q--){let X=Q-Os;X=Os<<X-Sr;let $=e.pow(G,X);const q=e.eql($,e.ONE);R=e.mul(M,j),j=e.mul(j,j),$=e.mul(G,j),M=e.cmov(R,M,q),G=e.cmov($,G,q)}return{isValid:O,value:M}};if(e.ORDER%N0===Ao){const w=(e.ORDER-Ao)/N0,k=e.sqrt(e.neg(t));E=(j,R)=>{let M=e.sqr(R);const U=e.mul(j,R);M=e.mul(M,U);let G=e.pow(M,w);G=e.mul(G,U);const O=e.mul(G,k),Q=e.mul(e.sqr(G),R),X=e.eql(Q,j);let $=e.cmov(O,G,X);return{isValid:X,value:$}}}return E}function W1(e,t){P1(e);const{A:r,B:i,Z:a}=t;if(!e.isValid(r)||!e.isValid(i)||!e.isValid(a))throw new Error("mapToCurveSimpleSWU: invalid opts");const c=x5(e,a);if(!e.isOdd)throw new Error("Field does not have .isOdd()");return d=>{let u,h,m,g,p,v,E,w;u=e.sqr(d),u=e.mul(u,a),h=e.sqr(u),h=e.add(h,u),m=e.add(h,e.ONE),m=e.mul(m,i),g=e.cmov(a,e.neg(h),!e.eql(h,e.ZERO)),g=e.mul(g,r),h=e.sqr(m),v=e.sqr(g),p=e.mul(v,r),h=e.add(h,p),h=e.mul(h,m),v=e.mul(v,g),p=e.mul(v,i),h=e.add(h,p),E=e.mul(u,m);const{isValid:k,value:j}=c(h,v);w=e.mul(u,d),w=e.mul(w,j),E=e.cmov(E,m,k),w=e.cmov(w,j,k);const R=e.isOdd(d)===e.isOdd(w);w=e.cmov(e.neg(w),w,R);const M=Si(e,[g],!0)[0];return E=e.mul(E,M),{x:E,y:w}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const y5=BigInt(0),Ic=BigInt(1),hy=BigInt(2),Co=BigInt(3);function w5(e){const t=[];for(;e>Ic;e>>=Ic)(e&Ic)===y5?t.unshift(0):(e&Co)===Co?(t.unshift(-1),e+=Ic):t.unshift(1);return t}function v5(e){const{Fp:t,Fr:r,Fp2:i,Fp6:a,Fp12:c}=e.fields,d=e.params.xNegative,u=e.params.twistType,h=fy(e.G1),m=Object.assign(h,dy(h.Point,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults})),g=fy(e.G2),p=Object.assign(g,dy(g.Point,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults}));let v;if(u==="multiplicative")v=(pe,he,Ee,F,z,Y)=>c.mul014(F,pe,i.mul(he,z),i.mul(Ee,Y));else if(u==="divisive")v=(pe,he,Ee,F,z,Y)=>c.mul034(F,i.mul(Ee,Y),i.mul(he,z),pe);else throw new Error("bls: unknown twist type");const E=i.div(i.ONE,i.mul(i.ONE,hy));function w(pe,he,Ee,F){const z=i.sqr(Ee),Y=i.sqr(F),ne=i.mulByB(i.mul(Y,Co)),se=i.mul(ne,Co),ae=i.sub(i.sub(i.sqr(i.add(Ee,F)),Y),z),T=i.sub(ne,z),y=i.mul(i.sqr(he),Co),b=i.neg(ae);return pe.push([T,y,b]),he=i.mul(i.mul(i.mul(i.sub(z,se),he),Ee),E),Ee=i.sub(i.sqr(i.mul(i.add(z,se),E)),i.mul(i.sqr(ne),Co)),F=i.mul(z,ae),{Rx:he,Ry:Ee,Rz:F}}function k(pe,he,Ee,F,z,Y){const ne=i.sub(Ee,i.mul(Y,F)),se=i.sub(he,i.mul(z,F)),ae=i.sub(i.mul(ne,z),i.mul(se,Y)),T=i.neg(ne),y=se;pe.push([ae,T,y]);const b=i.sqr(se),P=i.mul(b,se),L=i.mul(b,he),re=i.add(i.sub(P,i.mul(L,hy)),i.mul(i.sqr(ne),F));return he=i.mul(se,re),Ee=i.sub(i.mul(i.sub(L,re),ne),i.mul(P,Ee)),F=i.mul(F,P),{Rx:he,Ry:Ee,Rz:F}}const j=w5(e.params.ateLoopSize),R=tl(pe=>{const he=pe,{x:Ee,y:F}=he.toAffine(),z=Ee,Y=F,ne=i.neg(F);let se=z,ae=Y,T=i.ONE;const y=[];for(const b of j){const P=[];({Rx:se,Ry:ae,Rz:T}=w(P,se,ae,T)),b&&({Rx:se,Ry:ae,Rz:T}=k(P,se,ae,T,z,b===-1?ne:Y)),y.push(P)}if(e.postPrecompute){const b=y[y.length-1];e.postPrecompute(se,ae,T,z,Y,k.bind(null,b))}return y});function M(pe,he=!1){let Ee=c.ONE;if(pe.length){const F=pe[0][0].length;for(let z=0;z<F;z++){Ee=c.sqr(Ee);for(const[Y,ne,se]of pe)for(const[ae,T,y]of Y[z])Ee=v(ae,T,y,Ee,ne,se)}}return d&&(Ee=c.conjugate(Ee)),he?c.finalExponentiate(Ee):Ee}function U(pe,he=!0){const Ee=[];Tu(m.Point,"pz",pe.map(({g1:F})=>F)),Tu(p.Point,"pz",pe.map(({g2:F})=>F));for(const{g1:F,g2:z}of pe){if(F.is0()||z.is0())throw new Error("pairing is not available for ZERO point");F.assertValidity(),z.assertValidity();const Y=F.toAffine();Ee.push([R(z),Y.x,Y.y])}return M(Ee,he)}function G(pe,he,Ee=!0){return U([{g1:pe,g2:he}],Ee)}const O=e.randomBytes||Tw,Q={randomPrivateKey:()=>{const pe=O1(r.ORDER);return i5(O(pe),r.ORDER)},calcPairingPrecomputes:R};function X(pe){if(!Array.isArray(pe)||pe.length===0)throw new Error("expected non-empty array")}function $(pe){return pe instanceof m.Point?pe:m.Point.fromHex(pe)}function q(pe){return pe instanceof p.Point?pe:V.fromHex(pe)}function W(pe,he){function Ee(ne){return ne instanceof pe.Point?ne:pe.Point.fromHex(ne)}function F(ne){return ne instanceof he.Point?ne:he.Point.fromHex(ne)}function z(ne){if(!(ne instanceof he.Point))throw new Error(`expected valid message hashed to ${Y?"G2":"G1"} curve`);return ne}const Y=he.Point.Fp.BYTES>pe.Point.Fp.BYTES;return{getPublicKey(ne){return pe.Point.fromPrivateKey(ne)},sign(ne,se,ae){if(ae!=null)throw new Error("sign() expects 2 arguments");return z(ne).assertValidity(),ne.multiply(pe.normPrivateKeyToScalar(se))},verify(ne,se,ae,T){if(T!=null)throw new Error("verify() expects 3 arguments");ne=F(ne),ae=Ee(ae);const y=ae.negate(),b=pe.Point.BASE,P=z(se),L=ne,ge=U(Y?[{g1:y,g2:P},{g1:b,g2:L}]:[{g1:P,g2:y},{g1:L,g2:b}]);return c.eql(ge,c.ONE)},aggregatePublicKeys(ne){X(ne),ne=ne.map(ae=>Ee(ae));const se=ne.reduce((ae,T)=>ae.add(T),pe.Point.ZERO);return se.assertValidity(),se},aggregateSignatures(ne){X(ne),ne=ne.map(ae=>F(ae));const se=ne.reduce((ae,T)=>ae.add(T),he.Point.ZERO);return se.assertValidity(),se},hash(ne,se){tr(ne);const ae=se?{DST:se}:void 0;return he.hashToCurve(ne,ae)},Signature:Y?e.G2.Signature:e.G1.ShortSignature}}const ie=W(m,p),fe=W(p,m),{ShortSignature:A}=e.G1,{Signature:V}=e.G2;function Z(pe,he){return pe instanceof m.Point?pe:fe.hash(xr("point",pe),he==null?void 0:he.DST)}function J(pe,he){return pe instanceof p.Point?pe:ie.hash(xr("point",pe),he==null?void 0:he.DST)}function ce(pe){return ie.getPublicKey(pe).toBytes(!0)}function te(pe){return fe.getPublicKey(pe).toBytes(!0)}function ye(pe,he,Ee){const F=J(pe,Ee),z=ie.sign(F,he);return pe instanceof p.Point?z:V.toBytes(z)}function _e(pe,he,Ee){const F=Z(pe,Ee),z=fe.sign(F,he);return pe instanceof m.Point?z:A.toBytes(z)}function D(pe,he,Ee,F){const z=J(he,F);return ie.verify(pe,z,Ee)}function me(pe,he,Ee,F){const z=Z(he,F);return fe.verify(pe,z,Ee)}function Be(pe){const he=ie.aggregatePublicKeys(pe);return pe[0]instanceof m.Point?he:he.toBytes(!0)}function H(pe){const he=ie.aggregateSignatures(pe);return pe[0]instanceof p.Point?he:V.toBytes(he)}function Pe(pe){const he=fe.aggregateSignatures(pe);return pe[0]instanceof m.Point?he:A.toBytes(he)}function je(pe,he,Ee,F){if(X(he),Ee.length!==he.length)throw new Error("amount of public keys and messages should be equal");const z=q(pe),Y=he.map(T=>J(T,F)),ne=Ee.map($),se=new Map;for(let T=0;T<ne.length;T++){const y=ne[T],b=Y[T];let P=se.get(b);P===void 0&&(P=[],se.set(b,P)),P.push(y)}const ae=[];try{for(const[T,y]of se){const b=y.reduce((P,L)=>P.add(L));ae.push({g1:b,g2:T})}return ae.push({g1:m.Point.BASE.negate(),g2:z}),c.eql(U(ae),c.ONE)}catch{return!1}}return m.Point.BASE.precompute(4),{longSignatures:ie,shortSignatures:fe,millerLoopBatch:M,pairing:G,pairingBatch:U,verifyBatch:je,curves:{G1:h.Point,G2:g.Point},fields:{Fr:r,Fp:t,Fp2:i,Fp6:a,Fp12:c},params:{ateLoopSize:e.params.ateLoopSize,twistType:e.params.twistType,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:Q,getPublicKey:ce,getPublicKeyForShortSignatures:te,sign:ye,signShortSignature:_e,verify:D,verifyShortSignature:me,aggregatePublicKeys:Be,aggregateSignatures:H,aggregateShortSignatures:Pe,G1:m,G2:p,Signature:V,ShortSignature:A}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const py=BigInt(0),To=BigInt(1),Jn=BigInt(2),my=BigInt(3);function Ih(e,t,r,i,a=1,c){const d=BigInt(c===void 0?i:c),u=r**BigInt(i),h=[];for(let m=0;m<a;m++){const g=BigInt(m+1),p=[];for(let v=0,E=To;v<i;v++){const w=(g*E-g)/d%u;p.push(e.pow(t,w)),E*=r}h.push(p)}return h}function b5(e,t,r){const i=t.pow(r,(e.ORDER-To)/my),a=t.pow(r,(e.ORDER-To)/Jn);function c(v,E){const w=t.mul(t.frobeniusMap(v,1),i),k=t.mul(t.frobeniusMap(E,1),a);return[w,k]}const d=t.pow(r,(e.ORDER**Jn-To)/my),u=t.pow(r,(e.ORDER**Jn-To)/Jn);if(!t.eql(u,t.neg(t.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function h(v,E){return[t.mul(v,d),t.neg(E)]}const m=v=>(E,w)=>{const k=w.toAffine(),j=v(k.x,k.y);return E.fromAffine({x:j[0],y:j[1]})},g=m(c),p=m(h);return{psi:c,psi2:h,G2psi:g,G2psi2:p,PSI_X:i,PSI_Y:a,PSI2_X:d,PSI2_Y:u}}function N5(e){const{ORDER:t}=e,r=Ii(t),i=r.create(e.NONRESIDUE||BigInt(-1)),a=r.div(r.ONE,Jn),c=Ih(r,i,r.ORDER,2)[0],d=({c0:A,c1:V},{c0:Z,c1:J})=>({c0:r.add(A,Z),c1:r.add(V,J)}),u=({c0:A,c1:V},{c0:Z,c1:J})=>({c0:r.sub(A,Z),c1:r.sub(V,J)}),h=({c0:A,c1:V},Z)=>{if(typeof Z=="bigint")return{c0:r.mul(A,Z),c1:r.mul(V,Z)};const{c0:J,c1:ce}=Z;let te=r.mul(A,J),ye=r.mul(V,ce);const _e=r.sub(te,ye),D=r.sub(r.mul(r.add(A,V),r.add(J,ce)),r.add(te,ye));return{c0:_e,c1:D}},m=({c0:A,c1:V})=>{const Z=r.add(A,V),J=r.sub(A,V),ce=r.add(A,A);return{c0:r.mul(Z,J),c1:r.mul(ce,V)}},g=A=>{if(A.length!==2)throw new Error("invalid tuple");const V=A.map(Z=>r.create(Z));return{c0:V[0],c1:V[1]}};function p(A,V){return typeof A=="bigint"&&py<=A&&A<V}const v=t*t,E=g(e.FP2_NONRESIDUE),w={ORDER:v,isLE:r.isLE,NONRESIDUE:E,BITS:Ka(v),BYTES:Math.ceil(Ka(v)/8),MASK:Po(Ka(v)),ZERO:{c0:r.ZERO,c1:r.ZERO},ONE:{c0:r.ONE,c1:r.ZERO},create:A=>A,isValid:({c0:A,c1:V})=>p(A,v)&&p(V,v),is0:({c0:A,c1:V})=>r.is0(A)&&r.is0(V),isValidNot0:A=>!w.is0(A)&&w.isValid(A),eql:({c0:A,c1:V},{c0:Z,c1:J})=>r.eql(A,Z)&&r.eql(V,J),neg:({c0:A,c1:V})=>({c0:r.neg(A),c1:r.neg(V)}),pow:(A,V)=>Qc(w,A,V),invertBatch:A=>Si(w,A),add:d,sub:u,mul:h,sqr:m,addN:d,subN:u,mulN:h,sqrN:m,div:(A,V)=>w.mul(A,typeof V=="bigint"?r.inv(r.create(V)):w.inv(V)),inv:({c0:A,c1:V})=>{const Z=r.inv(r.create(A*A+V*V));return{c0:r.mul(Z,r.create(A)),c1:r.mul(Z,r.create(-V))}},sqrt:A=>{if(e.Fp2sqrt)return e.Fp2sqrt(A);const{c0:V,c1:Z}=A;if(r.is0(Z))return Cu(r,V)===1?w.create({c0:r.sqrt(V),c1:r.ZERO}):w.create({c0:r.ZERO,c1:r.sqrt(r.div(V,i))});const J=r.sqrt(r.sub(r.sqr(V),r.mul(r.sqr(Z),i)));let ce=r.mul(r.add(J,V),a);Cu(r,ce)===-1&&(ce=r.sub(ce,J));const ye=r.sqrt(ce),_e=w.create({c0:ye,c1:r.div(r.mul(Z,a),ye)});if(!w.eql(w.sqr(_e),A))throw new Error("Cannot find square root");const D=_e,me=w.neg(D),{re:Be,im:H}=w.reim(D),{re:Pe,im:je}=w.reim(me);return H>je||H===je&&Be>Pe?D:me},isOdd:A=>{const{re:V,im:Z}=w.reim(A),J=V%Jn,ce=V===py,te=Z%Jn;return BigInt(J||ce&&te)==To},fromBytes(A){if(A.length!==w.BYTES)throw new Error("fromBytes invalid length="+A.length);return{c0:r.fromBytes(A.subarray(0,r.BYTES)),c1:r.fromBytes(A.subarray(r.BYTES))}},toBytes:({c0:A,c1:V})=>Mt(r.toBytes(A),r.toBytes(V)),cmov:({c0:A,c1:V},{c0:Z,c1:J},ce)=>({c0:r.cmov(A,Z,ce),c1:r.cmov(V,J,ce)}),reim:({c0:A,c1:V})=>({re:A,im:V}),mulByNonresidue:({c0:A,c1:V})=>w.mul({c0:A,c1:V},E),mulByB:e.Fp2mulByB,fromBigTuple:g,frobeniusMap:({c0:A,c1:V},Z)=>({c0:A,c1:r.mul(V,c[Z%2])})},k=({c0:A,c1:V,c2:Z},{c0:J,c1:ce,c2:te})=>({c0:w.add(A,J),c1:w.add(V,ce),c2:w.add(Z,te)}),j=({c0:A,c1:V,c2:Z},{c0:J,c1:ce,c2:te})=>({c0:w.sub(A,J),c1:w.sub(V,ce),c2:w.sub(Z,te)}),R=({c0:A,c1:V,c2:Z},J)=>{if(typeof J=="bigint")return{c0:w.mul(A,J),c1:w.mul(V,J),c2:w.mul(Z,J)};const{c0:ce,c1:te,c2:ye}=J,_e=w.mul(A,ce),D=w.mul(V,te),me=w.mul(Z,ye);return{c0:w.add(_e,w.mulByNonresidue(w.sub(w.mul(w.add(V,Z),w.add(te,ye)),w.add(D,me)))),c1:w.add(w.sub(w.mul(w.add(A,V),w.add(ce,te)),w.add(_e,D)),w.mulByNonresidue(me)),c2:w.sub(w.add(D,w.mul(w.add(A,Z),w.add(ce,ye))),w.add(_e,me))}},M=({c0:A,c1:V,c2:Z})=>{let J=w.sqr(A),ce=w.mul(w.mul(A,V),Jn),te=w.mul(w.mul(V,Z),Jn),ye=w.sqr(Z);return{c0:w.add(w.mulByNonresidue(te),J),c1:w.add(w.mulByNonresidue(ye),ce),c2:w.sub(w.sub(w.add(w.add(ce,w.sqr(w.add(w.sub(A,V),Z))),te),J),ye)}},[U,G]=Ih(w,E,r.ORDER,6,2,3),O={ORDER:w.ORDER,isLE:w.isLE,BITS:3*w.BITS,BYTES:3*w.BYTES,MASK:Po(3*w.BITS),ZERO:{c0:w.ZERO,c1:w.ZERO,c2:w.ZERO},ONE:{c0:w.ONE,c1:w.ZERO,c2:w.ZERO},create:A=>A,isValid:({c0:A,c1:V,c2:Z})=>w.isValid(A)&&w.isValid(V)&&w.isValid(Z),is0:({c0:A,c1:V,c2:Z})=>w.is0(A)&&w.is0(V)&&w.is0(Z),isValidNot0:A=>!O.is0(A)&&O.isValid(A),neg:({c0:A,c1:V,c2:Z})=>({c0:w.neg(A),c1:w.neg(V),c2:w.neg(Z)}),eql:({c0:A,c1:V,c2:Z},{c0:J,c1:ce,c2:te})=>w.eql(A,J)&&w.eql(V,ce)&&w.eql(Z,te),sqrt:iy,div:(A,V)=>O.mul(A,typeof V=="bigint"?r.inv(r.create(V)):O.inv(V)),pow:(A,V)=>Qc(O,A,V),invertBatch:A=>Si(O,A),add:k,sub:j,mul:R,sqr:M,addN:k,subN:j,mulN:R,sqrN:M,inv:({c0:A,c1:V,c2:Z})=>{let J=w.sub(w.sqr(A),w.mulByNonresidue(w.mul(Z,V))),ce=w.sub(w.mulByNonresidue(w.sqr(Z)),w.mul(A,V)),te=w.sub(w.sqr(V),w.mul(A,Z)),ye=w.inv(w.add(w.mulByNonresidue(w.add(w.mul(Z,ce),w.mul(V,te))),w.mul(A,J)));return{c0:w.mul(ye,J),c1:w.mul(ye,ce),c2:w.mul(ye,te)}},fromBytes:A=>{if(A.length!==O.BYTES)throw new Error("fromBytes invalid length="+A.length);return{c0:w.fromBytes(A.subarray(0,w.BYTES)),c1:w.fromBytes(A.subarray(w.BYTES,2*w.BYTES)),c2:w.fromBytes(A.subarray(2*w.BYTES))}},toBytes:({c0:A,c1:V,c2:Z})=>Mt(w.toBytes(A),w.toBytes(V),w.toBytes(Z)),cmov:({c0:A,c1:V,c2:Z},{c0:J,c1:ce,c2:te},ye)=>({c0:w.cmov(A,J,ye),c1:w.cmov(V,ce,ye),c2:w.cmov(Z,te,ye)}),fromBigSix:A=>{if(!Array.isArray(A)||A.length!==6)throw new Error("invalid Fp6 usage");return{c0:w.fromBigTuple(A.slice(0,2)),c1:w.fromBigTuple(A.slice(2,4)),c2:w.fromBigTuple(A.slice(4,6))}},frobeniusMap:({c0:A,c1:V,c2:Z},J)=>({c0:w.frobeniusMap(A,J),c1:w.mul(w.frobeniusMap(V,J),U[J%6]),c2:w.mul(w.frobeniusMap(Z,J),G[J%6])}),mulByFp2:({c0:A,c1:V,c2:Z},J)=>({c0:w.mul(A,J),c1:w.mul(V,J),c2:w.mul(Z,J)}),mulByNonresidue:({c0:A,c1:V,c2:Z})=>({c0:w.mulByNonresidue(Z),c1:A,c2:V}),mul1:({c0:A,c1:V,c2:Z},J)=>({c0:w.mulByNonresidue(w.mul(Z,J)),c1:w.mul(A,J),c2:w.mul(V,J)}),mul01({c0:A,c1:V,c2:Z},J,ce){let te=w.mul(A,J),ye=w.mul(V,ce);return{c0:w.add(w.mulByNonresidue(w.sub(w.mul(w.add(V,Z),ce),ye)),te),c1:w.sub(w.sub(w.mul(w.add(J,ce),w.add(A,V)),te),ye),c2:w.add(w.sub(w.mul(w.add(A,Z),J),te),ye)}}},Q=Ih(w,E,r.ORDER,12,1,6)[0],X=({c0:A,c1:V},{c0:Z,c1:J})=>({c0:O.add(A,Z),c1:O.add(V,J)}),$=({c0:A,c1:V},{c0:Z,c1:J})=>({c0:O.sub(A,Z),c1:O.sub(V,J)}),q=({c0:A,c1:V},Z)=>{if(typeof Z=="bigint")return{c0:O.mul(A,Z),c1:O.mul(V,Z)};let{c0:J,c1:ce}=Z,te=O.mul(A,J),ye=O.mul(V,ce);return{c0:O.add(te,O.mulByNonresidue(ye)),c1:O.sub(O.mul(O.add(A,V),O.add(J,ce)),O.add(te,ye))}},W=({c0:A,c1:V})=>{let Z=O.mul(A,V);return{c0:O.sub(O.sub(O.mul(O.add(O.mulByNonresidue(V),A),O.add(A,V)),Z),O.mulByNonresidue(Z)),c1:O.add(Z,Z)}};function ie(A,V){const Z=w.sqr(A),J=w.sqr(V);return{first:w.add(w.mulByNonresidue(J),Z),second:w.sub(w.sub(w.sqr(w.add(A,V)),Z),J)}}const fe={ORDER:w.ORDER,isLE:O.isLE,BITS:2*O.BITS,BYTES:2*O.BYTES,MASK:Po(2*O.BITS),ZERO:{c0:O.ZERO,c1:O.ZERO},ONE:{c0:O.ONE,c1:O.ZERO},create:A=>A,isValid:({c0:A,c1:V})=>O.isValid(A)&&O.isValid(V),is0:({c0:A,c1:V})=>O.is0(A)&&O.is0(V),isValidNot0:A=>!fe.is0(A)&&fe.isValid(A),neg:({c0:A,c1:V})=>({c0:O.neg(A),c1:O.neg(V)}),eql:({c0:A,c1:V},{c0:Z,c1:J})=>O.eql(A,Z)&&O.eql(V,J),sqrt:iy,inv:({c0:A,c1:V})=>{let Z=O.inv(O.sub(O.sqr(A),O.mulByNonresidue(O.sqr(V))));return{c0:O.mul(A,Z),c1:O.neg(O.mul(V,Z))}},div:(A,V)=>fe.mul(A,typeof V=="bigint"?r.inv(r.create(V)):fe.inv(V)),pow:(A,V)=>Qc(fe,A,V),invertBatch:A=>Si(fe,A),add:X,sub:$,mul:q,sqr:W,addN:X,subN:$,mulN:q,sqrN:W,fromBytes:A=>{if(A.length!==fe.BYTES)throw new Error("fromBytes invalid length="+A.length);return{c0:O.fromBytes(A.subarray(0,O.BYTES)),c1:O.fromBytes(A.subarray(O.BYTES))}},toBytes:({c0:A,c1:V})=>Mt(O.toBytes(A),O.toBytes(V)),cmov:({c0:A,c1:V},{c0:Z,c1:J},ce)=>({c0:O.cmov(A,Z,ce),c1:O.cmov(V,J,ce)}),fromBigTwelve:A=>({c0:O.fromBigSix(A.slice(0,6)),c1:O.fromBigSix(A.slice(6,12))}),frobeniusMap(A,V){const{c0:Z,c1:J,c2:ce}=O.frobeniusMap(A.c1,V),te=Q[V%12];return{c0:O.frobeniusMap(A.c0,V),c1:O.create({c0:w.mul(Z,te),c1:w.mul(J,te),c2:w.mul(ce,te)})}},mulByFp2:({c0:A,c1:V},Z)=>({c0:O.mulByFp2(A,Z),c1:O.mulByFp2(V,Z)}),conjugate:({c0:A,c1:V})=>({c0:A,c1:O.neg(V)}),mul014:({c0:A,c1:V},Z,J,ce)=>{let te=O.mul01(A,Z,J),ye=O.mul1(V,ce);return{c0:O.add(O.mulByNonresidue(ye),te),c1:O.sub(O.sub(O.mul01(O.add(V,A),Z,w.add(J,ce)),te),ye)}},mul034:({c0:A,c1:V},Z,J,ce)=>{const te=O.create({c0:w.mul(A.c0,Z),c1:w.mul(A.c1,Z),c2:w.mul(A.c2,Z)}),ye=O.mul01(V,J,ce),_e=O.mul01(O.add(A,V),w.add(Z,J),ce);return{c0:O.add(O.mulByNonresidue(ye),te),c1:O.sub(_e,O.add(te,ye))}},_cyclotomicSquare:e.Fp12cyclotomicSquare,_cyclotomicExp:e.Fp12cyclotomicExp,finalExponentiate:e.Fp12finalExponentiate};return{Fp:r,Fp2:w,Fp6:O,Fp12:fe,Fp4Square:ie}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ur=BigInt(0),Ru=BigInt(1),Yt=BigInt(2),id=BigInt(3),nl=BigInt(4),Vs=BigInt("0xd201000000010000"),E5=Ka(Vs),Bi={p:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),n:BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001"),h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),a:ur,b:nl,Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1")},_5=Ii(Bi.n),{Fp:Le,Fp2:Ve,Fp6:E0,Fp4Square:Fh,Fp12:ot}=N5({ORDER:Bi.p,FP2_NONRESIDUE:[Ru,Ru],Fp2mulByB:({c0:e,c1:t})=>{const r=Le.mul(e,nl),i=Le.mul(t,nl);return{c0:Le.sub(r,i),c1:Le.add(r,i)}},Fp12cyclotomicSquare:({c0:e,c1:t})=>{const{c0:r,c1:i,c2:a}=e,{c0:c,c1:d,c2:u}=t,{first:h,second:m}=Fh(r,d),{first:g,second:p}=Fh(c,a),{first:v,second:E}=Fh(i,u),w=Ve.mulByNonresidue(E);return{c0:E0.create({c0:Ve.add(Ve.mul(Ve.sub(h,r),Yt),h),c1:Ve.add(Ve.mul(Ve.sub(g,i),Yt),g),c2:Ve.add(Ve.mul(Ve.sub(v,a),Yt),v)}),c1:E0.create({c0:Ve.add(Ve.mul(Ve.add(w,c),Yt),w),c1:Ve.add(Ve.mul(Ve.add(m,d),Yt),m),c2:Ve.add(Ve.mul(Ve.add(p,u),Yt),p)})}},Fp12cyclotomicExp(e,t){let r=ot.ONE;for(let i=E5-1;i>=0;i--)r=ot._cyclotomicSquare(r),Z_(t,i)&&(r=ot.mul(r,e));return r},Fp12finalExponentiate:e=>{const t=Vs,r=ot.div(ot.frobeniusMap(e,6),e),i=ot.mul(ot.frobeniusMap(r,2),r),a=ot.conjugate(ot._cyclotomicExp(i,t)),c=ot.mul(ot.conjugate(ot._cyclotomicSquare(i)),a),d=ot.conjugate(ot._cyclotomicExp(c,t)),u=ot.conjugate(ot._cyclotomicExp(d,t)),h=ot.mul(ot.conjugate(ot._cyclotomicExp(u,t)),ot._cyclotomicSquare(a)),m=ot.conjugate(ot._cyclotomicExp(h,t)),g=ot.frobeniusMap(ot.mul(a,u),2),p=ot.frobeniusMap(ot.mul(d,i),3),v=ot.frobeniusMap(ot.mul(h,ot.conjugate(i)),1),E=ot.mul(ot.mul(m,ot.conjugate(c)),i);return ot.mul(ot.mul(ot.mul(g,p),v),E)}}),{G2psi:gy,G2psi2:S5}=b5(Le,Ve,Ve.div(Ve.ONE,Ve.NONRESIDUE)),Uh=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:Le.ORDER,m:2,k:128,expand:"xmd",hash:np}),up={p:Ve.ORDER,n:Bi.n,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),a:Ve.ZERO,b:Ve.fromBigTuple([nl,nl]),Gx:Ve.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:Ve.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")])},od=fl(Le.toBytes(ur),{infinity:!0,compressed:!0});function ad(e){e=e.slice();const t=e[0]&224,r=!!(t>>7&1),i=!!(t>>6&1),a=!!(t>>5&1);return e[0]&=31,{compressed:r,infinity:i,sort:a,value:e}}function fl(e,t){if(e[0]&224)throw new Error("setMask: non-empty mask");return t.compressed&&(e[0]|=128),t.infinity&&(e[0]|=64),t.sort&&(e[0]|=32),e}function k5(e,t,r){const{BYTES:i,ORDER:a}=Le,c=t.is0(),{x:d,y:u}=t.toAffine();if(r){if(c)return od.slice();const h=!!(u*Yt/a);return fl(Jt(d,i),{compressed:!0,sort:h})}else return c?Mt(Uint8Array.of(64),new Uint8Array(2*i-1)):Mt(Jt(d,i),Jt(u,i))}function $h(e){e.assertValidity();const{BYTES:t,ORDER:r}=Le,{x:i,y:a}=e.toAffine();if(e.is0())return od.slice();const c=!!(a*Yt/r);return fl(Jt(i,t),{compressed:!0,sort:c})}function j5(e){const{compressed:t,infinity:r,sort:i,value:a}=ad(e),{BYTES:c,ORDER:d}=Le;if(a.length===48&&t){const u=Bn(a),h=Le.create(u&Le.MASK);if(r){if(h!==ur)throw new Error("invalid G1 point: non-empty, at infinity, with compression");return{x:ur,y:ur}}const m=Le.add(Le.pow(h,id),Le.create(Bi.b));let g=Le.sqrt(m);if(!g)throw new Error("invalid G1 point: compressed point");return g*Yt/d!==BigInt(i)&&(g=Le.neg(g)),{x:Le.create(h),y:Le.create(g)}}else if(a.length===96&&!t){const u=Bn(a.subarray(0,c)),h=Bn(a.subarray(c));if(r){if(u!==ur||h!==ur)throw new Error("G1: non-empty point at infinity");return ld.G1.Point.ZERO.toAffine()}return{x:Le.create(u),y:Le.create(h)}}else throw new Error("invalid G1 point: expected 48/96 bytes")}function xy(e){const{infinity:t,sort:r,value:i}=ad(xr("signatureHex",e,48)),a=Le.ORDER,c=ld.G1.Point,d=Bn(i);if(t)return c.ZERO;const u=Le.create(d&Le.MASK),h=Le.add(Le.pow(u,id),Le.create(Bi.b));let m=Le.sqrt(h);if(!m)throw new Error("invalid G1 point: compressed");const g=BigInt(r);m*Yt/a!==g&&(m=Le.neg(m));const p=c.fromAffine({x:u,y:m});return p.assertValidity(),p}function A5(e,t,r){const{BYTES:i,ORDER:a}=Le,c=t.is0(),{x:d,y:u}=t.toAffine();if(r){if(c)return Mt(od,Jt(ur,i));const h=!!(u.c1===ur?u.c0*Yt/a:u.c1*Yt/a);return Mt(fl(Jt(d.c1,i),{compressed:!0,sort:h}),Jt(d.c0,i))}else{if(c)return Mt(Uint8Array.of(64),new Uint8Array(4*i-1));const{re:h,im:m}=Ve.reim(d),{re:g,im:p}=Ve.reim(u);return Mt(Jt(m,i),Jt(h,i),Jt(p,i),Jt(g,i))}}function zh(e){e.assertValidity();const{BYTES:t}=Le;if(e.is0())return Mt(od,Jt(ur,t));const{x:r,y:i}=e.toAffine(),{re:a,im:c}=Ve.reim(r),{re:d,im:u}=Ve.reim(i),m=!!((u>ur?u*Yt:d*Yt)/Le.ORDER&Ru),g=a;return Mt(fl(Jt(c,t),{sort:m,compressed:!0}),Jt(g,t))}function C5(e){const{BYTES:t,ORDER:r}=Le,{compressed:i,infinity:a,sort:c,value:d}=ad(e);if(!i&&!a&&c||!i&&a&&c||c&&a&&i)throw new Error("invalid encoding flag: "+(e[0]&224));const u=(h,m,g)=>Bn(h.slice(m,g));if(d.length===96&&i){if(a){if(d.reduce((w,k)=>w!==0?k+1:k,0)>0)throw new Error("invalid G2 point: compressed");return{x:Ve.ZERO,y:Ve.ZERO}}const h=u(d,0,t),m=u(d,t,2*t),g=Ve.create({c0:Le.create(m),c1:Le.create(h)}),p=Ve.add(Ve.pow(g,id),up.b);let v=Ve.sqrt(p);const E=v.c1===ur?v.c0*Yt/r:v.c1*Yt/r?Ru:ur;return v=c&&E>0?v:Ve.neg(v),{x:g,y:v}}else if(d.length===192&&!i){if(a){if(d.reduce((v,E)=>v!==0?E+1:E,0)>0)throw new Error("invalid G2 point: uncompressed");return{x:Ve.ZERO,y:Ve.ZERO}}const h=u(d,0*t,1*t),m=u(d,1*t,2*t),g=u(d,2*t,3*t),p=u(d,3*t,4*t);return{x:Ve.fromBigTuple([m,h]),y:Ve.fromBigTuple([p,g])}}else throw new Error("invalid G2 point: expected 96/192 bytes")}function yy(e){const{ORDER:t}=Le,{infinity:r,sort:i,value:a}=ad(xr("signatureHex",e)),c=ld.G2.Point,d=a.length/2;if(d!==48&&d!==96)throw new Error("invalid compressed signature length, expected 96/192 bytes");const u=Bn(a.slice(0,d)),h=Bn(a.slice(d));if(r)return c.ZERO;const m=Le.create(u&Le.MASK),g=Le.create(h),p=Ve.create({c0:g,c1:m}),v=Ve.add(Ve.pow(p,id),up.b);let E=Ve.sqrt(v);if(!E)throw new Error("Failed to find a square root");const{re:w,im:k}=Ve.reim(E),j=BigInt(i),R=k>ur&&k*Yt/t!==j,M=k===ur&&w*Yt/t!==j;(R||M)&&(E=Ve.neg(E));const U=c.fromAffine({x:p,y:E});return U.assertValidity(),U}const ld=v5({fields:{Fp:Le,Fp2:Ve,Fp6:E0,Fp12:ot,Fr:_5},G1:{...Bi,Fp:Le,htfDefaults:{...Uh,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,t)=>{const r=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),i=new e(Le.mul(t.px,r),t.py,t.pz);return t.multiplyUnsafe(Vs).negate().multiplyUnsafe(Vs).equals(i)},clearCofactor:(e,t)=>t.multiplyUnsafe(Vs).add(t),mapToCurve:M5,fromBytes:j5,toBytes:k5,ShortSignature:{fromBytes(e){return tr(e),xy(e)},fromHex(e){return xy(e)},toBytes(e){return $h(e)},toRawBytes(e){return $h(e)},toHex(e){return zo($h(e))}}},G2:{...up,Fp:Ve,hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...Uh},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:O5,isTorsionFree:(e,t)=>t.multiplyUnsafe(Vs).negate().equals(gy(e,t)),clearCofactor:(e,t)=>{const r=Vs;let i=t.multiplyUnsafe(r).negate(),a=gy(e,t),c=t.double();return c=S5(e,c),c=c.subtract(a),a=i.add(a),a=a.multiplyUnsafe(r).negate(),c=c.add(a),c=c.subtract(i),c.subtract(t)},fromBytes:C5,toBytes:A5,Signature:{fromBytes(e){return tr(e),yy(e)},fromHex(e){return yy(e)},toBytes(e){return zh(e)},toRawBytes(e){return zh(e)},toHex(e){return zo(zh(e))}}},params:{ateLoopSize:Vs,r:Bi.n,xNegative:!0,twistType:"multiplicative"},htfDefaults:Uh,hash:np}),T5=V1(Ve,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(e=>e.map(t=>Ve.fromBigTuple(t.map(BigInt))))),R5=V1(Le,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),B5=W1(Le,{A:Le.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:Le.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:Le.create(BigInt(11))}),P5=W1(Ve,{A:Ve.create({c0:Le.create(ur),c1:Le.create(BigInt(240))}),B:Ve.create({c0:Le.create(BigInt(1012)),c1:Le.create(BigInt(1012))}),Z:Ve.create({c0:Le.create(BigInt(-2)),c1:Le.create(BigInt(-1))})});function M5(e){const{x:t,y:r}=B5(Le.create(e[0]));return R5(t,r)}function O5(e){const{x:t,y:r}=P5(Ve.fromBigTuple(e));return T5(t,r)}function I5(e,t,r){const i=typeof e=="string"?e:St(e),a=typeof t=="string"?t:St(t),c=typeof r=="string"?r:St(r);return ld.verifyShortSignature(a,c,i)}const q1=e=>Dt(new Go(e)),dp=e=>{const t=q1(e);return new Date(Number(t)/1e6)};var F5=function(e,t,r,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},U5=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},Jc;class kn extends Rt{constructor(t){super(`Invalid certificate: ${t}`)}}var Mr;(function(e){e[e.Empty=0]="Empty",e[e.Fork=1]="Fork",e[e.Labeled=2]="Labeled",e[e.Leaf=3]="Leaf",e[e.Pruned=4]="Pruned"})(Mr||(Mr={}));function $5(e,t){const r=new Uint8Array(e),i=new Uint8Array(t);for(let a=0;a<r.length;a++)if(r[a]>i[a])return!0;return!1}class ki{constructor(t,r,i,a,c=5,d=!1){this._rootKey=r,this._canisterId=i,this._blsVerify=a,this._maxAgeInMinutes=c,Jc.set(this,!1),F5(this,Jc,d,"f"),this.cert=rs(new Uint8Array(t))}static async create(t){const r=ki.createUnverified(t);return await r.verify(),r}static createUnverified(t){let r=t.blsVerify;return r||(r=I5),new ki(t.certificate,t.rootKey,t.canisterId,r,t.maxAgeInMinutes,t.disableTimeVerification)}lookup(t){return Lo(t,this.cert.tree)}lookup_label(t){return this.lookup([t])}async verify(){const t=await eu(this.cert.tree),r=await this._checkDelegationAndGetKey(this.cert.delegation),i=this.cert.signature,a=V5(r),c=cn(za("ic-state-root"),t);let d=!1;const u=Kr(this.lookup(["time"]));if(!u)throw new kn("Certificate does not contain a time");if(!U5(this,Jc,"f")){const m=this._maxAgeInMinutes*60*1e3,g=Date.now(),p=g-m,v=g+3e5,E=dp(u);if(E.getTime()<p)throw new kn(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: `+E.toISOString()+" Current time: "+new Date(g).toISOString());if(E.getTime()>v)throw new kn("Certificate is signed more than 5 minutes in the future. Certificate time: "+E.toISOString()+" Current time: "+new Date(g).toISOString())}try{d=await this._blsVerify(new Uint8Array(a),new Uint8Array(i),new Uint8Array(c))}catch{d=!1}if(!d)throw new kn("Signature verification failed")}async _checkDelegationAndGetKey(t){if(!t)return this._rootKey;const r=await ki.createUnverified({certificate:t.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,maxAgeInMinutes:1/0});if(r.cert.delegation)throw new kn("Delegation certificates cannot be nested");if(await r.verify(),this._canisterId.toString()!==h6&&!G1({canisterId:this._canisterId,subnetId:rt.fromUint8Array(new Uint8Array(t.subnet_id)),tree:r.cert.tree}))throw new kn(`Canister ${this._canisterId} not in range of delegations for subnet 0x${St(t.subnet_id)}`);const i=Kr(r.lookup(["subnet",t.subnet_id,"public_key"]));if(!i)throw new Error(`Could not find subnet key for subnet 0x${St(t.subnet_id)}`);return i}}Jc=new WeakMap;const Oa=as("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),z5=96;function V5(e){const t=Oa.byteLength+z5;if(e.byteLength!==t)throw new TypeError(`BLS DER-encoded public key must be ${t} bytes long`);const r=e.slice(0,Oa.byteLength);if(!cl(r,Oa))throw new TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${Oa}, but get ${r}`);return e.slice(Oa.byteLength)}function Kr(e){if(e.status===Vt.Found){if(e.value instanceof ArrayBuffer)return e.value;if(e.value instanceof Uint8Array)return e.value.buffer}}async function eu(e){switch(e[0]){case Mr.Empty:return ln(za("ic-hashtree-empty"));case Mr.Pruned:return e[1];case Mr.Leaf:return ln(cn(za("ic-hashtree-leaf"),e[1]));case Mr.Labeled:return ln(cn(za("ic-hashtree-labeled"),e[1],await eu(e[2])));case Mr.Fork:return ln(cn(za("ic-hashtree-fork"),await eu(e[1]),await eu(e[2])));default:throw new Error("unreachable")}}function za(e){const t=new Uint8Array([e.length]),r=new TextEncoder().encode(e);return cn(t,r)}var Vt;(function(e){e.Unknown="unknown",e.Absent="absent",e.Found="found"})(Vt||(Vt={}));var es;(function(e){e.Less="less",e.Greater="greater"})(es||(es={}));function Lo(e,t){if(e.length===0)switch(t[0]){case Mr.Leaf:{if(!t[1])throw new Error("Invalid tree structure for leaf");return t[1]instanceof ArrayBuffer?{status:Vt.Found,value:t[1]}:t[1]instanceof Uint8Array?{status:Vt.Found,value:t[1].buffer}:{status:Vt.Found,value:t[1]}}default:return{status:Vt.Found,value:t}}const r=typeof e[0]=="string"?new TextEncoder().encode(e[0]):e[0],i=tu(r,t);switch(i.status){case Vt.Found:return Lo(e.slice(1),i.value);case es.Greater:case es.Less:return{status:Vt.Absent};default:return i}}function _0(e){switch(e[0]){case Mr.Empty:return[];case Mr.Fork:return _0(e[1]).concat(_0(e[2]));default:return[e]}}function tu(e,t){switch(t[0]){case Mr.Labeled:return $5(e,t[1])?{status:es.Greater}:cl(e,t[1])?{status:Vt.Found,value:t[2]}:{status:es.Less};case Mr.Fork:const r=tu(e,t[1]);switch(r.status){case es.Greater:{const i=tu(e,t[2]);return i.status===es.Less?{status:Vt.Absent}:i}case Vt.Unknown:{let i=tu(e,t[2]);return i.status===es.Less?{status:Vt.Unknown}:i}default:return r}case Mr.Pruned:return{status:Vt.Unknown};default:return{status:Vt.Absent}}}function G1(e){const{canisterId:t,subnetId:r,tree:i}=e,a=Lo(["subnet",r.toUint8Array(),"canister_ranges"],i);if(a.status!==Vt.Found||!(a.value instanceof ArrayBuffer))throw new Error(`Could not find canister ranges for subnet ${r}`);return rs(a.value).map(h=>[rt.fromUint8Array(h[0]),rt.fromUint8Array(h[1])]).some(h=>h[0].ltEq(t)&&h[1].gtEq(t))}class H5{constructor(t,r,i){this.key=t,this.path=r,this.decodeStrategy=i}}const K1=async e=>{const{agent:t,paths:r}=e,i=rt.from(e.canisterId),a=[...new Set(r)],c=a.map(h=>S0(h,i)),d=new Map,u=a.map((h,m)=>(async()=>{var g;try{const p=await t.readState(i,{paths:[c[m]]});if(t.rootKey==null)throw new Error("Agent is missing root key");const v=await ki.create({certificate:p.certificate,rootKey:t.rootKey,canisterId:i,disableTimeVerification:!0}),E=(j,R)=>{if(R==="subnet"){if(t.rootKey==null)throw new Error("Agent is missing root key");const M=D1(p.certificate,i,t.rootKey);return{path:R,data:M}}else return{path:R,data:Kr(j.lookup(S0(R,i)))}},{path:w,data:k}=E(v,a[m]);if(!k)console.warn(`Expected to find result for path ${w}, but instead found nothing.`),typeof w=="string"?d.set(w,null):d.set(w.key,null);else switch(w){case"time":{d.set(w,dp(k));break}case"controllers":{d.set(w,W5(k));break}case"module_hash":{d.set(w,wy(k));break}case"subnet":{d.set(w,k);break}case"candid":{d.set(w,new TextDecoder().decode(k));break}default:if(typeof w!="string"&&"key"in w&&"path"in w)switch(w.decodeStrategy){case"raw":d.set(w.key,k);break;case"leb128":{d.set(w.key,q1(k));break}case"cbor":{d.set(w.key,Y1(k));break}case"hex":{d.set(w.key,wy(k));break}case"utf-8":d.set(w.key,L5(k))}}}catch(p){if(!((g=p==null?void 0:p.message)===null||g===void 0)&&g.includes("Invalid certificate"))throw new Rt(p.message);typeof h!="string"&&"key"in h&&"path"in h?d.set(h.key,null):d.set(h,null),console.group(),console.warn(`Expected to find result for path ${h}, but instead found nothing.`),console.warn(p),console.groupEnd()}})());return await Promise.all(u),d},D1=(e,t,r)=>{if(!t._isPrincipal)throw new Error("Invalid canisterId");const i=rs(new Uint8Array(e)),a=i.tree;let c=i.delegation,d;if(c&&c.subnet_id?d=rt.fromUint8Array(new Uint8Array(c.subnet_id)):!c&&typeof r<"u"?(d=rt.selfAuthenticating(new Uint8Array(r)),c={subnet_id:d.toUint8Array(),certificate:new ArrayBuffer(0)}):(d=rt.selfAuthenticating(rt.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),c={subnet_id:d.toUint8Array(),certificate:new ArrayBuffer(0)}),!G1({canisterId:t,subnetId:d,tree:a}))throw new Error("Canister not in range");const h=Lo(["subnet",c.subnet_id,"node"],a);if(h.status!==Vt.Found)throw new Error("Node not found");if(h.value instanceof ArrayBuffer)throw new Error("Invalid node tree");const m=_0(h.value),g=new Map;return m.forEach(p=>{const v=rt.from(new Uint8Array(p[1])).toText(),E=Lo(["public_key"],p[2]);if(E.status!==Vt.Found)throw new Error("Public key not found");const w=E.value;if(w.byteLength!==44)throw new Error("Invalid public key length");g.set(v,w)}),{subnetId:rt.fromUint8Array(new Uint8Array(c.subnet_id)).toText(),nodeKeys:g}},S0=(e,t)=>{const r=new TextEncoder,i=c=>new DataView(r.encode(c).buffer).buffer,a=new DataView(t.toUint8Array().buffer).buffer;switch(e){case"time":return[i("time")];case"controllers":return[i("canister"),a,i("controllers")];case"module_hash":return[i("canister"),a,i("module_hash")];case"subnet":return[i("subnet")];case"candid":return[i("canister"),a,i("metadata"),i("candid:service")];default:if("key"in e&&"path"in e)if(typeof e.path=="string"||e.path instanceof ArrayBuffer){const c=e.path,d=typeof c=="string"?i(c):c;return[i("canister"),a,i("metadata"),d]}else return e.path}throw new Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${e} was formatted correctly.`)},wy=e=>St(e),Y1=e=>rs(e),L5=e=>new TextDecoder().decode(e),W5=e=>Y1(e).map(r=>rt.fromUint8Array(new Uint8Array(r))),q5=Object.freeze(Object.defineProperty({__proto__:null,CustomPath:H5,encodePath:S0,fetchNodeKeys:D1,request:K1},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const En=BigInt(0),pr=BigInt(1),Vh=BigInt(2),G5=BigInt(8),K5={zip215:!0};function D5(e,t,r,i){const a=e.sqr(r),c=e.sqr(i),d=e.add(e.mul(t.a,a),c),u=e.add(e.ONE,e.mul(t.d,e.mul(a,c)));return e.eql(d,u)}function Y5(e,t={}){const{Fp:r,Fn:i}=z1("edwards",e,t),{h:a,n:c}=e;dl(t,{},{uvRatio:"function"});const d=Vh<<BigInt(i.BYTES*8)-pr,u=k=>r.create(k),h=t.uvRatio||((k,j)=>{try{return{isValid:!0,value:r.sqrt(r.div(k,j))}}catch{return{isValid:!1,value:En}}});if(!D5(r,e,e.Gx,e.Gy))throw new Error("bad curve params: generator point");function m(k,j,R=!1){const M=R?pr:En;return $a("coordinate "+k,j,M,d),j}function g(k){if(!(k instanceof E))throw new Error("ExtendedPoint expected")}const p=tl((k,j)=>{const{ex:R,ey:M,ez:U}=k,G=k.is0();j==null&&(j=G?G5:r.inv(U));const O=u(R*j),Q=u(M*j),X=u(U*j);if(G)return{x:En,y:pr};if(X!==pr)throw new Error("invZ was invalid");return{x:O,y:Q}}),v=tl(k=>{const{a:j,d:R}=e;if(k.is0())throw new Error("bad point: ZERO");const{ex:M,ey:U,ez:G,et:O}=k,Q=u(M*M),X=u(U*U),$=u(G*G),q=u($*$),W=u(Q*j),ie=u($*u(W+X)),fe=u(q+u(R*u(Q*X)));if(ie!==fe)throw new Error("bad point: equation left != right (1)");const A=u(M*U),V=u(G*O);if(A!==V)throw new Error("bad point: equation left != right (2)");return!0});class E{constructor(j,R,M,U){this.ex=m("x",j),this.ey=m("y",R),this.ez=m("z",M,!0),this.et=m("t",U),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(j){if(j instanceof E)throw new Error("extended point not allowed");const{x:R,y:M}=j||{};return m("x",R),m("y",M),new E(R,M,pr,u(R*M))}static normalizeZ(j){return Tu(E,"ez",j)}static msm(j,R){return $1(E,i,j,R)}_setWindowSize(j){this.precompute(j)}precompute(j=8,R=!0){return w.setWindowSize(this,j),R||this.multiply(Vh),this}assertValidity(){v(this)}equals(j){g(j);const{ex:R,ey:M,ez:U}=this,{ex:G,ey:O,ez:Q}=j,X=u(R*Q),$=u(G*U),q=u(M*Q),W=u(O*U);return X===$&&q===W}is0(){return this.equals(E.ZERO)}negate(){return new E(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:j}=e,{ex:R,ey:M,ez:U}=this,G=u(R*R),O=u(M*M),Q=u(Vh*u(U*U)),X=u(j*G),$=R+M,q=u(u($*$)-G-O),W=X+O,ie=W-Q,fe=X-O,A=u(q*ie),V=u(W*fe),Z=u(q*fe),J=u(ie*W);return new E(A,V,J,Z)}add(j){g(j);const{a:R,d:M}=e,{ex:U,ey:G,ez:O,et:Q}=this,{ex:X,ey:$,ez:q,et:W}=j,ie=u(U*X),fe=u(G*$),A=u(Q*M*W),V=u(O*q),Z=u((U+G)*(X+$)-ie-fe),J=V-A,ce=V+A,te=u(fe-R*ie),ye=u(Z*J),_e=u(ce*te),D=u(Z*te),me=u(J*ce);return new E(ye,_e,me,D)}subtract(j){return this.add(j.negate())}multiply(j){const R=j;$a("scalar",R,pr,c);const{p:M,f:U}=w.wNAFCached(this,R,E.normalizeZ);return E.normalizeZ([M,U])[0]}multiplyUnsafe(j,R=E.ZERO){const M=j;return $a("scalar",M,En,c),M===En?E.ZERO:this.is0()||M===pr?this:w.wNAFCachedUnsafe(this,M,E.normalizeZ,R)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}isTorsionFree(){return w.wNAFCachedUnsafe(this,c).is0()}toAffine(j){return p(this,j)}clearCofactor(){return a===pr?this:this.multiplyUnsafe(a)}static fromBytes(j,R=!1){return tr(j),this.fromHex(j,R)}static fromHex(j,R=!1){const{d:M,a:U}=e,G=r.BYTES;j=xr("pointHex",j,G),Ja("zip215",R);const O=j.slice(),Q=j[G-1];O[G-1]=Q&-129;const X=el(O),$=R?d:r.ORDER;$a("pointHex.y",X,En,$);const q=u(X*X),W=u(q-pr),ie=u(M*q-U);let{isValid:fe,value:A}=h(W,ie);if(!fe)throw new Error("Point.fromHex: invalid y coordinate");const V=(A&pr)===pr,Z=(Q&128)!==0;if(!R&&A===En&&Z)throw new Error("Point.fromHex: x=0 and x_0=1");return Z!==V&&(A=u(-A)),E.fromAffine({x:A,y:X})}static fromPrivateScalar(j){return E.BASE.multiply(j)}toBytes(){const{x:j,y:R}=this.toAffine(),M=sd(R,r.BYTES);return M[M.length-1]|=j&pr?128:0,M}toRawBytes(){return this.toBytes()}toHex(){return zo(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}E.BASE=new E(e.Gx,e.Gy,pr,u(e.Gx*e.Gy)),E.ZERO=new E(En,pr,pr,En),E.Fp=r,E.Fn=i;const w=U1(E,i.BYTES*8);return E}function Z5(e,t){dl(t,{hash:"function"},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r,hash:i}=t,{BASE:a,Fp:c,Fn:d}=e,u=d.ORDER,h=t.randomBytes||Tw,m=t.adjustScalarBytes||(O=>O),g=t.domain||((O,Q,X)=>{if(Ja("phflag",X),Q.length||X)throw new Error("Contexts/pre-hash are not supported");return O});function p(O){return d.create(O)}function v(O){return p(el(O))}function E(O){const Q=c.BYTES;O=xr("private key",O,Q);const X=xr("hashed private key",i(O),2*Q),$=m(X.slice(0,Q)),q=X.slice(Q,2*Q),W=v($);return{head:$,prefix:q,scalar:W}}function w(O){const{head:Q,prefix:X,scalar:$}=E(O),q=a.multiply($),W=q.toBytes();return{head:Q,prefix:X,scalar:$,point:q,pointBytes:W}}function k(O){return w(O).pointBytes}function j(O=Uint8Array.of(),...Q){const X=Mt(...Q);return v(i(g(X,xr("context",O),!!r)))}function R(O,Q,X={}){O=xr("message",O),r&&(O=r(O));const{prefix:$,scalar:q,pointBytes:W}=w(Q),ie=j(X.context,$,O),fe=a.multiply(ie).toBytes(),A=j(X.context,fe,W,O),V=p(ie+A*q);$a("signature.s",V,En,u);const Z=c.BYTES,J=Mt(fe,sd(V,Z));return xr("result",J,Z*2)}const M=K5;function U(O,Q,X,$=M){const{context:q,zip215:W}=$,ie=c.BYTES;O=xr("signature",O,2*ie),Q=xr("message",Q),X=xr("publicKey",X,ie),W!==void 0&&Ja("zip215",W),r&&(Q=r(Q));const fe=el(O.slice(ie,2*ie));let A,V,Z;try{A=e.fromHex(X,W),V=e.fromHex(O.slice(0,ie),W),Z=a.multiplyUnsafe(fe)}catch{return!1}if(!W&&A.isSmallOrder())return!1;const J=j(q,V.toBytes(),A.toBytes(),Q);return V.add(A.multiplyUnsafe(J)).subtract(Z).clearCofactor().is0()}return a.precompute(8),{getPublicKey:k,sign:R,verify:U,utils:{getExtendedPublicKey:w,randomPrivateKey:()=>h(c.BYTES),precompute(O=8,Q=e.BASE){return Q.precompute(O,!1)}},Point:e}}function X5(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,i=Ii(t.n,e.nBitLength,!0),a={Fp:r,Fn:i,uvRatio:e.uvRatio},c={hash:e.hash,randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:a,eddsaOpts:c}}function Q5(e,t){return Object.assign({},t,{ExtendedPoint:t.Point,CURVE:e})}function J5(e){const{CURVE:t,curveOpts:r,eddsaOpts:i}=X5(e),a=Y5(t,r),c=Z5(a,i);return Q5(e,c)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const e6=BigInt(1),vy=BigInt(2);BigInt(3);const t6=BigInt(5),r6=BigInt(8),cd={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:r6,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function n6(e){const t=BigInt(10),r=BigInt(20),i=BigInt(40),a=BigInt(80),c=cd.p,u=e*e%c*e%c,h=bn(u,vy,c)*u%c,m=bn(h,e6,c)*e%c,g=bn(m,t6,c)*m%c,p=bn(g,t,c)*g%c,v=bn(p,r,c)*p%c,E=bn(v,i,c)*v%c,w=bn(E,a,c)*E%c,k=bn(w,a,c)*E%c,j=bn(k,t,c)*g%c;return{pow_p_5_8:bn(j,vy,c)*e%c,b2:u}}function s6(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const by=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function i6(e,t){const r=cd.p,i=Ft(t*t*t,r),a=Ft(i*i*t,r),c=n6(e*a).pow_p_5_8;let d=Ft(e*i*c,r);const u=Ft(t*d*d,r),h=d,m=Ft(d*by,r),g=u===e,p=u===Ft(-e,r),v=u===Ft(-e*by,r);return g&&(d=h),(p||v)&&(d=m),r5(d,r)&&(d=Ft(-d,r)),{isValid:g||p,value:d}}const o6=Ii(cd.p,void 0,!0),a6={...cd,Fp:o6,hash:m_,adjustScalarBytes:s6,uvRatio:i6},vo=J5(a6);var Ny=function(e,t,r,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},mr=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},lr,Va,Z1,X1;class l6{constructor(t={}){lr.set(this,void 0),Va.set(this,void 0),this[Z1]=this.entries.bind(this),this[X1]="ExpirableMap";const{source:r=[],expirationTime:i=10*60*1e3}=t,a=Date.now();Ny(this,lr,new Map([...r].map(([c,d])=>[c,{value:d,timestamp:a}])),"f"),Ny(this,Va,i,"f")}prune(){const t=Date.now();for(const[r,i]of mr(this,lr,"f").entries())t-i.timestamp>mr(this,Va,"f")&&mr(this,lr,"f").delete(r);return this}set(t,r){this.prune();const i={value:r,timestamp:Date.now()};return mr(this,lr,"f").set(t,i),this}get(t){const r=mr(this,lr,"f").get(t);if(r!==void 0){if(Date.now()-r.timestamp>mr(this,Va,"f")){mr(this,lr,"f").delete(t);return}return r.value}}clear(){mr(this,lr,"f").clear()}entries(){const t=mr(this,lr,"f").entries();return function*(){for(const[i,a]of t)yield[i,a.value]}()}values(){const t=mr(this,lr,"f").values();return function*(){for(const i of t)yield i.value}()}keys(){return mr(this,lr,"f").keys()}forEach(t,r){for(const[i,a]of mr(this,lr,"f").entries())t.call(r,a.value,i,this)}has(t){return mr(this,lr,"f").has(t)}delete(t){return mr(this,lr,"f").delete(t)}get size(){return mr(this,lr,"f").size}}lr=new WeakMap,Va=new WeakMap,Z1=Symbol.iterator,X1=Symbol.toStringTag;const Ey=e=>{if(e<=127)return 1;if(e<=255)return 2;if(e<=65535)return 3;if(e<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},_y=(e,t,r)=>{if(r<=127)return e[t]=r,1;if(r<=255)return e[t]=129,e[t+1]=r,2;if(r<=65535)return e[t]=130,e[t+1]=r>>8,e[t+2]=r,3;if(r<=16777215)return e[t]=131,e[t+1]=r>>16,e[t+2]=r>>8,e[t+3]=r,4;throw new Error("Length too long (> 4 bytes)")},k0=(e,t)=>{if(e[t]<128)return 1;if(e[t]===128)throw new Error("Invalid length 0");if(e[t]===129)return 2;if(e[t]===130)return 3;if(e[t]===131)return 4;throw new Error("Length too long (> 4 bytes)")},c6=(e,t)=>{const r=k0(e,t);if(r===1)return e[t];if(r===2)return e[t+1];if(r===3)return(e[t+1]<<8)+e[t+2];if(r===4)return(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];throw new Error("Length too long (> 4 bytes)")};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);const Bu=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function Q1(e,t){const r=2+Ey(e.byteLength+1),i=t.byteLength+r+e.byteLength;let a=0;const c=new Uint8Array(1+Ey(i)+i);return c[a++]=48,a+=_y(c,a,i),c.set(t,a),a+=t.byteLength,c[a++]=3,a+=_y(c,a,e.byteLength+1),c[a++]=0,c.set(new Uint8Array(e),a),c}const J1=(e,t)=>{let r=0;const i=(u,h)=>{if(a[r++]!==u)throw new Error("Expected: "+h)},a=new Uint8Array(e);if(i(48,"sequence"),r+=k0(a,r),!cl(a.slice(r,r+t.byteLength),t))throw new Error("Not the expected OID.");r+=t.byteLength,i(3,"bit string");const c=c6(a,r)-1;r+=k0(a,r),i(0,"0 padding");const d=a.slice(r);if(c!==d.length)throw new Error(`DER payload mismatch: Expected length ${c} actual length ${d.length}`);return d};var Sy=function(e,t,r,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},ky=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},ru,nu;let ev=class Ha{constructor(t){if(ru.set(this,void 0),nu.set(this,void 0),t.byteLength!==Ha.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");Sy(this,ru,t,"f"),Sy(this,nu,Ha.derEncode(t),"f")}static from(t){return this.fromDer(t.toDer())}static fromRaw(t){return new Ha(t)}static fromDer(t){return new Ha(this.derDecode(t))}static derEncode(t){return Q1(t,Bu).buffer}static derDecode(t){const r=J1(t,Bu);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return r}get rawKey(){return ky(this,ru,"f")}get derKey(){return ky(this,nu,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}};ru=new WeakMap,nu=new WeakMap;ev.RAW_KEY_LENGTH=32;class u6{constructor(){this.observers=[]}subscribe(t){this.observers.push(t)}unsubscribe(t){this.observers=this.observers.filter(r=>r!==t)}notify(t,...r){this.observers.forEach(i=>i(t,...r))}}class d6 extends u6{constructor(){super()}print(t,...r){this.notify({message:t,level:"info"},...r)}warn(t,...r){this.notify({message:t,level:"warn"},...r)}error(t,r,...i){this.notify({message:t,level:"error",error:r},...i)}}var Nn=function(e,t,r,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},ar=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},_n,su,iu,ou,au,lu,cu,uu,bo;const tv=.5,rv=1.5,nv=500,sv=6e4,iv=9e5,ov=10;class ud{constructor(t=ud.default){_n.set(this,void 0),su.set(this,void 0),iu.set(this,void 0),ou.set(this,void 0),au.set(this,void 0),lu.set(this,void 0),cu.set(this,void 0),uu.set(this,void 0),bo.set(this,0);const{initialInterval:r=nv,randomizationFactor:i=tv,multiplier:a=rv,maxInterval:c=sv,maxElapsedTime:d=iv,maxIterations:u=ov,date:h=Date}=t;Nn(this,_n,r,"f"),Nn(this,su,i,"f"),Nn(this,iu,a,"f"),Nn(this,ou,c,"f"),Nn(this,uu,h,"f"),Nn(this,au,h.now(),"f"),Nn(this,lu,d,"f"),Nn(this,cu,u,"f")}get ellapsedTimeInMsec(){return ar(this,uu,"f").now()-ar(this,au,"f")}get currentInterval(){return ar(this,_n,"f")}get count(){return ar(this,bo,"f")}get randomValueFromInterval(){const t=ar(this,su,"f")*ar(this,_n,"f"),r=ar(this,_n,"f")-t,i=ar(this,_n,"f")+t;return Math.random()*(i-r)+r}incrementCurrentInterval(){var t;return Nn(this,_n,Math.min(ar(this,_n,"f")*ar(this,iu,"f"),ar(this,ou,"f")),"f"),Nn(this,bo,(t=ar(this,bo,"f"),t++,t),"f"),ar(this,_n,"f")}next(){return this.ellapsedTimeInMsec>=ar(this,lu,"f")||ar(this,bo,"f")>=ar(this,cu,"f")?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}}_n=new WeakMap,su=new WeakMap,iu=new WeakMap,ou=new WeakMap,au=new WeakMap,lu=new WeakMap,cu=new WeakMap,uu=new WeakMap,bo=new WeakMap;ud.default={initialInterval:nv,randomizationFactor:tv,multiplier:rv,maxInterval:sv,maxElapsedTime:iv,maxIterations:ov,date:Date};var Qt=function(e,t,r,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},Re=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},cr,xi,Mo,Sn,Xn,Ro,La,No,sn,an,yi,wi,Wa,Eo,_o,vi,Ni,av,du,fu,bi,Qn;(function(e){e.Received="received",e.Processing="processing",e.Replied="replied",e.Rejected="rejected",e.Unknown="unknown",e.Done="done"})(Qn||(Qn={}));const Fc=60*1e3,f6="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",h6="aaaaa-aa",p6="ic0.app",m6=".ic0.app",g6="icp0.io",x6=".icp0.io",y6="icp-api.io",w6=".icp-api.io";class Hh extends Rt{constructor(t){super(t),this.message=t}}class Uc extends Rt{constructor(t){super(t),this.message=t}}function v6(){let e;if(typeof window<"u")if(window.fetch)e=window.fetch.bind(window);else throw new Hh("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.");else if(typeof global<"u")if(global.fetch)e=global.fetch.bind(global);else throw new Hh("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.");else typeof self<"u"&&self.fetch&&(e=self.fetch.bind(self));if(e)return e;throw new Hh("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.")}function b6(e){let t;if(e!==void 0)!e.match(/^[a-z]+:/)&&typeof window<"u"?t=new URL(window.location.protocol+"//"+e):t=new URL(e);else{const r=["ic0.app","icp0.io","127.0.0.1","localhost"],i=[".github.dev",".gitpod.io"],a=typeof window<"u"?window.location:void 0,c=a==null?void 0:a.hostname;let d;c&&typeof c=="string"&&(i.some(u=>c.endsWith(u))?d=c:d=r.find(u=>c.endsWith(u))),a&&d?t=new URL(`${a.protocol}//${d}${a.port?":"+a.port:""}`):t=new URL("https://icp-api.io")}return t.toString()}class ns{constructor(t={}){var r,i;cr.add(this),xi.set(this,null),Mo.set(this,!1),Sn.set(this,void 0),Xn.set(this,void 0),Ro.set(this,void 0),La.set(this,void 0),No.set(this,0),sn.set(this,void 0),an.set(this,void 0),yi.set(this,void 0),wi.set(this,void 0),this._isAgent=!0,this.config={},Wa.set(this,0),this.log=new d6,Eo.set(this,[]),_o.set(this,[]),vi.set(this,new l6({expirationTime:5*60*1e3})),Ni.set(this,!0),fu.set(this,(d,u)=>{if(Re(this,Ni,"f")===!1)return d;if(!u)throw new kn("Invalid signature from replica signed query: no matching node key found.");const{status:h,signatures:m=[],requestId:g}=d,p=ts(new TextEncoder().encode("\vic-response"));for(const v of m){const{timestamp:E,identity:w}=v,k=rt.fromUint8Array(w).toText();let j;if(h==="replied"){const{reply:O}=d;j=ju({status:h,reply:O,timestamp:BigInt(E),request_id:g})}else if(h==="rejected"){const{reject_code:O,reject_message:Q,error_code:X}=d;j=ju({status:h,reject_code:O,reject_message:Q,error_code:X,timestamp:BigInt(E),request_id:g})}else throw new Error(`Unknown status: ${h}`);const R=cn(p,ts(new Uint8Array(j))),M=u==null?void 0:u.nodeKeys.get(k);if(!M)throw new kn("Invalid signature from replica signed query: no matching node key found.");const U=ev.fromDer(M).rawKey;if(vo.verify(v.signature,new Uint8Array(R),new Uint8Array(U)))return d;throw new kn(`Invalid signature from replica ${k} signed query.`)}return d}),this.config=t,Qt(this,Xn,t.fetch||v6()||fetch.bind(global),"f"),Qt(this,Ro,t.fetchOptions,"f"),Qt(this,La,t.callOptions,"f"),Qt(this,Mo,(r=t.shouldFetchRootKey)!==null&&r!==void 0?r:!1,"f"),t.rootKey?this.rootKey=t.rootKey:Re(this,Mo,"f")?this.rootKey=null:this.rootKey=as(f6);const a=b6(t.host);this.host=new URL(a),t.verifyQuerySignatures!==void 0&&Qt(this,Ni,t.verifyQuerySignatures,"f"),Qt(this,an,(i=t.retryTimes)!==null&&i!==void 0?i:3,"f");const c=()=>new ud({maxIterations:Re(this,an,"f")});if(Qt(this,yi,t.backoffStrategy||c,"f"),this.host.hostname.endsWith(m6)?this.host.hostname=p6:this.host.hostname.endsWith(x6)?this.host.hostname=g6:this.host.hostname.endsWith(w6)&&(this.host.hostname=y6),t.credentials){const{name:d,password:u}=t.credentials;Qt(this,sn,`${d}${u?":"+u:""}`,"f")}if(Qt(this,Sn,Promise.resolve(t.identity||new Qa),"f"),t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes>5)throw new Rt(`The maximum ingress expiry time is 5 minutes. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);if(t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes<=0)throw new Rt(`Ingress expiry time must be greater than 0. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);Qt(this,wi,t.ingressExpiryInMinutes||5,"f"),this.addTransform("update",sy(v0)),t.useQueryNonces&&this.addTransform("query",sy(v0)),t.logToConsole&&this.log.subscribe(d=>{d.level==="error"?console.error(d.message):d.level==="warn"?console.warn(d.message):console.log(d.message)})}get waterMark(){return Re(this,Wa,"f")}static createSync(t={}){return new this(Object.assign({},t))}static async create(t={shouldFetchRootKey:!1}){const r=ns.createSync(t),i=[r.syncTime()];return r.host.toString()!=="https://icp-api.io"&&t.shouldFetchRootKey&&i.push(r.fetchRootKey()),await Promise.all(i),r}static async from(t){var r;try{return"config"in t?await ns.create(t.config):await ns.create({fetch:t._fetch,fetchOptions:t._fetchOptions,callOptions:t._callOptions,host:t._host.toString(),identity:(r=t._identity)!==null&&r!==void 0?r:void 0})}catch{throw new Rt("Failed to create agent from provided agent")}}isLocal(){const t=this.host.hostname;return t==="127.0.0.1"||t.endsWith("127.0.0.1")}addTransform(t,r,i=r.priority||0){if(t==="update"){const a=Re(this,_o,"f").findIndex(c=>(c.priority||0)<i);Re(this,_o,"f").splice(a>=0?a:Re(this,_o,"f").length,0,Object.assign(r,{priority:i}))}else if(t==="query"){const a=Re(this,Eo,"f").findIndex(c=>(c.priority||0)<i);Re(this,Eo,"f").splice(a>=0?a:Re(this,Eo,"f").length,0,Object.assign(r,{priority:i}))}}async getPrincipal(){if(!Re(this,Sn,"f"))throw new Uc("This identity has expired due this application's security policy. Please refresh your authentication.");return(await Re(this,Sn,"f")).getPrincipal()}async call(t,r,i){var a,c;await Re(this,cr,"m",bi).call(this);const d=(a=r.callSync)!==null&&a!==void 0?a:!0,u=await(i!==void 0?await i:await Re(this,Sn,"f"));if(!u)throw new Uc("This identity has expired due this application's security policy. Please refresh your authentication.");const h=rt.from(t),m=r.effectiveCanisterId?rt.from(r.effectiveCanisterId):h,g=u.getPrincipal()||rt.anonymous();let p=new Oc(Re(this,wi,"f")*Fc);Math.abs(Re(this,No,"f"))>1e3*30&&(p=new Oc(Re(this,wi,"f")*Fc+Re(this,No,"f")));const v={request_type:w0.Call,canister_id:h,method_name:r.methodName,arg:r.arg,sender:g,ingress_expiry:p};let E=await this._transform({request:{body:null,method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},Re(this,sn,"f")?{Authorization:"Basic "+btoa(Re(this,sn,"f"))}:{})},endpoint:"call",body:v}),w;r!=null&&r.nonce?w=k(r.nonce):E.body.nonce?w=k(E.body.nonce):w=void 0,v.nonce=w;function k(U){return new Uint8Array(U)}E=await u.transformRequest(E);const j=Th(E.body),R=Re(this,yi,"f").call(this),M=Xa(v);try{const U=()=>(this.log.print(`fetching "/api/v3/canister/${m.toText()}/call" with request:`,E),Re(this,Xn,"f").call(this,""+new URL(`/api/v3/canister/${m.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},Re(this,La,"f")),E.request),{body:j}))),G=()=>(this.log.print(`fetching "/api/v2/canister/${m.toText()}/call" with request:`,E),Re(this,Xn,"f").call(this,""+new URL(`/api/v2/canister/${m.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},Re(this,La,"f")),E.request),{body:j}))),Q=await Re(this,cr,"m",du).call(this,{request:d?U:G,backoff:R,tries:0}),X=await Q.arrayBuffer(),$=Q.status===200&&X.byteLength>0?rs(X):null;if($&&"certificate"in $){const q=await this.parseTimeFromResponse({certificate:$.certificate});Qt(this,Wa,q,"f")}return{requestId:M,response:{ok:Q.ok,status:Q.status,statusText:Q.statusText,body:$,headers:Ua(Q.headers)},requestDetails:v}}catch(U){if(U.message.includes("v3 api not supported."))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(t,Object.assign(Object.assign({},r),{callSync:!1}),i);const G=`Error while making call: ${(c=U.message)!==null&&c!==void 0?c:String(U)}`,O=new K_(G,U,St(M),St(E.body.sender_pubkey),St(E.body.sender_sig),String(E.body.content.ingress_expiry._value));throw this.log.error(G,O),O}}async query(t,r,i){var a,c,d,u;await Re(this,cr,"m",bi).call(this);const h=Re(this,yi,"f").call(this),m=r.effectiveCanisterId?rt.from(r.effectiveCanisterId):rt.from(t);this.log.print(`ecid ${m.toString()}`),this.log.print(`canisterId ${t.toString()}`);let g,p;const v=await(i!==void 0?i:Re(this,Sn,"f"));if(!v)throw new Uc("This identity has expired due this application's security policy. Please refresh your authentication.");const E=rt.from(t),w=(v==null?void 0:v.getPrincipal())||rt.anonymous(),k={request_type:"query",canister_id:E,method_name:r.methodName,arg:r.arg,sender:w,ingress_expiry:new Oc(Re(this,wi,"f")*Fc)},j=Xa(k);g=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},Re(this,sn,"f")?{Authorization:"Basic "+btoa(Re(this,sn,"f"))}:{})},endpoint:"read",body:k}),g=await(v==null?void 0:v.transformRequest(g));const R=Th(g.body),M={canister:E.toText(),ecid:m,transformedRequest:g,body:R,requestId:j,backoff:h,tries:0},U=async()=>({requestDetails:k,query:await Re(this,cr,"m",av).call(this,M)}),G=async()=>{if(!Re(this,Ni,"f"))return;const O=Re(this,vi,"f").get(m.toString());return O||(await this.fetchSubnetKeys(m.toString()),Re(this,vi,"f").get(m.toString()))};try{const[O,Q]=await Promise.all([U(),G()]);p=O;const{requestDetails:X,query:$}=p,q=Object.assign(Object.assign({},$),{requestDetails:X});if(this.log.print("Query response:",q),!Re(this,Ni,"f"))return q;try{return Re(this,fu,"f").call(this,q,Q)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),Re(this,vi,"f").delete(t.toString()),await this.fetchSubnetKeys(m.toString());const ie=Re(this,vi,"f").get(t.toString());if(!ie)throw new kn("Invalid signature from replica signed query: no matching node key found.");return Re(this,fu,"f").call(this,q,ie)}}catch(O){const Q=`Error while making call: ${(a=O.message)!==null&&a!==void 0?a:String(O)}`,X=new D_(Q,O,String(j),St((c=g==null?void 0:g.body)===null||c===void 0?void 0:c.sender_pubkey),St((d=g==null?void 0:g.body)===null||d===void 0?void 0:d.sender_sig),String((u=g==null?void 0:g.body)===null||u===void 0?void 0:u.content.ingress_expiry._value));throw this.log.error(Q,X),X}}async createReadStateRequest(t,r){await Re(this,cr,"m",bi).call(this);const i=await(r!==void 0?await r:await Re(this,Sn,"f"));if(!i)throw new Uc("This identity has expired due this application's security policy. Please refresh your authentication.");const a=(i==null?void 0:i.getPrincipal())||rt.anonymous(),c=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},Re(this,sn,"f")?{Authorization:"Basic "+btoa(Re(this,sn,"f"))}:{})},endpoint:"read_state",body:{request_type:"read_state",paths:t.paths,sender:a,ingress_expiry:new Oc(Re(this,wi,"f")*Fc)}});return i==null?void 0:i.transformRequest(c)}async readState(t,r,i,a){var c,d,u,h;function m(k){for(const j of k.paths){const[R,M]=j,U=ts(new TextEncoder().encode("request_status"));if(cl(R,U))return M}}const g=m(r);await Re(this,cr,"m",bi).call(this);const p=typeof t=="string"?rt.fromText(t):t,v=a??await this.createReadStateRequest(r,i),E=Th(v.body);this.log.print(`fetching "/api/v2/canister/${p}/read_state" with request:`,v);const w=Re(this,yi,"f").call(this);try{const k=await Re(this,cr,"m",du).call(this,{request:()=>Re(this,Xn,"f").call(this,""+new URL(`/api/v2/canister/${p.toString()}/read_state`,this.host),Object.assign(Object.assign(Object.assign({},Re(this,Ro,"f")),v.request),{body:E})),backoff:w,tries:0});if(!k.ok)throw new Error(`Server returned an error:
  Code: ${k.status} (${k.statusText})
  Body: ${await k.text()}
`);const j=rs(await k.arrayBuffer());this.log.print("Read state response:",j);const R=await this.parseTimeFromResponse(j);return R>0&&(this.log.print("Read state response time:",R),Qt(this,Wa,R,"f")),j}catch(k){const j=`Caught exception while attempting to read state: ${(c=k.message)!==null&&c!==void 0?c:String(k)}`,R=new Y_(j,k,String(g),St((d=v==null?void 0:v.body)===null||d===void 0?void 0:d.sender_pubkey),St((u=v==null?void 0:v.body)===null||u===void 0?void 0:u.sender_sig),String((h=v==null?void 0:v.body)===null||h===void 0?void 0:h.content.ingress_expiry._value));throw this.log.error(j,R),R}}async parseTimeFromResponse(t){let r;if(t.certificate){const i=rs(t.certificate);if(i&&"tree"in i)r=i.tree;else throw new Error("Could not decode time from response");const a=Lo(["time"],r);if(a.status!==Vt.Found)throw new Error("Time was not found in the response or was not in its expected format.");if(!(a.value instanceof ArrayBuffer)&&!ArrayBuffer.isView(a))throw new Error("Time was not found in the response or was not in its expected format.");const c=dp(ts(a.value));return this.log.print("Time from response:",c),this.log.print("Time from response in milliseconds:",Number(c)),Number(c)}else this.log.warn("No certificate found in response");return 0}async syncTime(t){await Re(this,cr,"m",bi).call(this);const r=await LE(()=>Promise.resolve().then(()=>q5),void 0),i=Date.now();try{t||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");const a=ns.createSync({identity:new Qa,host:this.host.toString(),fetch:Re(this,Xn,"f"),retryTimes:0}),d=(await r.request({canisterId:t??rt.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),agent:a,paths:["time"]})).get("time");d&&(Qt(this,No,Number(d)-Number(i),"f"),this.log.notify({message:`Syncing time: offset of ${Re(this,No,"f")}`,level:"info"}))}catch(a){this.log.error("Caught exception while attempting to sync time",a)}}async status(){const t=Re(this,sn,"f")?{Authorization:"Basic "+btoa(Re(this,sn,"f"))}:{};this.log.print('fetching "/api/v2/status"');const r=Re(this,yi,"f").call(this),i=await Re(this,cr,"m",du).call(this,{backoff:r,request:()=>Re(this,Xn,"f").call(this,""+new URL("/api/v2/status",this.host),Object.assign({headers:t},Re(this,Ro,"f"))),tries:0});return rs(await i.arrayBuffer())}async fetchRootKey(){let t;return Re(this,xi,"f")?t=await Re(this,xi,"f"):(Qt(this,xi,new Promise((r,i)=>{this.status().then(a=>{const c=a.root_key;this.rootKey=c,r(c)}).catch(i)}),"f"),t=await Re(this,xi,"f")),Qt(this,xi,null,"f"),t}invalidateIdentity(){Qt(this,Sn,null,"f")}replaceIdentity(t){Qt(this,Sn,Promise.resolve(t),"f")}async fetchSubnetKeys(t){await Re(this,cr,"m",bi).call(this);const r=rt.from(t),a=(await K1({canisterId:r,paths:["subnet"],agent:this})).get("subnet");if(a&&typeof a=="object"&&"nodeKeys"in a)return Re(this,vi,"f").set(r.toText(),a),a}_transform(t){let r=Promise.resolve(t);if(t.endpoint==="call")for(const i of Re(this,_o,"f"))r=r.then(a=>i(a).then(c=>c||a));else for(const i of Re(this,Eo,"f"))r=r.then(a=>i(a).then(c=>c||a));return r}}xi=new WeakMap,Mo=new WeakMap,Sn=new WeakMap,Xn=new WeakMap,Ro=new WeakMap,La=new WeakMap,No=new WeakMap,sn=new WeakMap,an=new WeakMap,yi=new WeakMap,wi=new WeakMap,Wa=new WeakMap,Eo=new WeakMap,_o=new WeakMap,vi=new WeakMap,Ni=new WeakMap,fu=new WeakMap,cr=new WeakSet,av=async function e(t){var r,i;const{ecid:a,transformedRequest:c,body:d,requestId:u,backoff:h,tries:m}=t,g=m===0?0:h.next();if(this.log.print(`fetching "/api/v2/canister/${a.toString()}/query" with tries:`,{tries:m,backoff:h,delay:g}),g===null)throw new Rt(`Timestamp failed to pass the watermark after retrying the configured ${Re(this,an,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);g>0&&await new Promise(w=>setTimeout(w,g));let p;try{this.log.print(`fetching "/api/v2/canister/${a.toString()}/query" with request:`,c);const w=await Re(this,Xn,"f").call(this,""+new URL(`/api/v2/canister/${a.toString()}/query`,this.host),Object.assign(Object.assign(Object.assign({},Re(this,Ro,"f")),c.request),{body:d}));if(w.status===200){const k=rs(await w.arrayBuffer());p=Object.assign(Object.assign({},k),{httpDetails:{ok:w.ok,status:w.status,statusText:w.statusText,headers:Ua(w.headers)},requestId:u})}else throw new Rh(`Gateway returned an error:
  Code: ${w.status} (${w.statusText})
  Body: ${await w.text()}
`,{ok:w.ok,status:w.status,statusText:w.statusText,headers:Ua(w.headers)})}catch(w){if(m<Re(this,an,"f"))return this.log.warn(`Caught exception while attempting to make query:
  ${w}
  Retrying query.`),await Re(this,cr,"m",e).call(this,Object.assign(Object.assign({},t),{tries:m+1}));throw w}const v=(i=(r=p.signatures)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.timestamp;if(!Re(this,Ni,"f"))return p;if(!v)throw new Error("Timestamp not found in query response. This suggests a malformed or malicious response.");const E=Number(BigInt(v)/BigInt(1e6));if(this.log.print("watermark and timestamp",{waterMark:this.waterMark,timestamp:E}),Number(this.waterMark)>E){const w=new Rt("Timestamp is below the watermark. Retrying query.");if(this.log.error("Timestamp is below",w,{timestamp:v,waterMark:this.waterMark}),m<Re(this,an,"f"))return await Re(this,cr,"m",e).call(this,Object.assign(Object.assign({},t),{tries:m+1}));throw new Rt(`Timestamp failed to pass the watermark after retrying the configured ${Re(this,an,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`)}return p},du=async function e(t){const{request:r,backoff:i,tries:a}=t,c=a===0?0:i.next();if(c===null)throw new Rt(`Timestamp failed to pass the watermark after retrying the configured ${Re(this,an,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);c>0&&await new Promise(m=>setTimeout(m,c));let d;try{d=await r()}catch(m){if(Re(this,an,"f")>a)return this.log.warn(`Caught exception while attempting to make request:
  ${m}
  Retrying request.`),await Re(this,cr,"m",e).call(this,{request:r,backoff:i,tries:a+1});throw m}if(d.ok)return d;const u=await d.clone().text(),h=`Server returned an error:
  Code: ${d.status} (${d.statusText})
  Body: ${u}
`;if(d.status===404&&d.url.includes("api/v3"))throw new Rh("v3 api not supported. Fall back to v2",{ok:d.ok,status:d.status,statusText:d.statusText,headers:Ua(d.headers)});if(a<Re(this,an,"f"))return await Re(this,cr,"m",e).call(this,{request:r,backoff:i,tries:a+1});throw new Rh(h,{ok:d.ok,status:d.status,statusText:d.statusText,headers:Ua(d.headers)})},bi=async function(){if(!this.rootKey)if(this.rootKey===null&&Re(this,Mo,"f"))await this.fetchRootKey();else throw new Rt(`Invalid root key detected. The root key for this agent is ${this.rootKey} and the shouldFetchRootKey value is set to ${Re(this,Mo,"f")}. The root key should only be unknown if you are in local development. Otherwise you should avoid fetching and use the default IC Root Key or the known root key of your environment.`)};var jy;(function(e){e.Error="err",e.GetPrincipal="gp",e.GetPrincipalResponse="gpr",e.Query="q",e.QueryResponse="qr",e.Call="c",e.CallResponse="cr",e.ReadState="rs",e.ReadStateResponse="rsr",e.Status="s",e.StatusResponse="sr"})(jy||(jy={}));function Ay(){const e=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.ic.agent:global.ic.agent:window.ic.agent;if(!e)throw new Error("No Agent could be found.");return e}const N6=5*60*1e3;function lv(){return j6(_6(E6(),1e3),k6(1e3,1.2),S6(N6))}function E6(){let e=!0;return async()=>e?(e=!1,!0):!1}function _6(e,t){return async(r,i,a)=>{if(await e(r,i,a))return new Promise(c=>setTimeout(c,t))}}function S6(e){const t=Date.now()+e;return async(r,i,a)=>{if(Date.now()>t)throw new Error(`Request timed out after ${e} msec:
  Request ID: ${St(i)}
  Request status: ${a}
`)}}function k6(e,t){let r=e;return()=>new Promise(i=>setTimeout(()=>{r*=t,i()},r))}function j6(...e){return async(t,r,i)=>{for(const a of e)await a(t,r,i)}}async function cv(e,t,r,i=lv(),a,c){var d;const u=[new TextEncoder().encode("request_status"),r],h=a??await((d=e.createReadStateRequest)===null||d===void 0?void 0:d.call(e,{paths:[u]})),m=await e.readState(t,{paths:[u]},void 0,h);if(e.rootKey==null)throw new Error("Agent root key not initialized before polling");const g=await ki.create({certificate:m.certificate,rootKey:e.rootKey,canisterId:t,blsVerify:c}),p=Kr(g.lookup([...u,new TextEncoder().encode("status")]));let v;switch(typeof p>"u"?v=Qn.Unknown:v=new TextDecoder().decode(p),v){case Qn.Replied:return{reply:Kr(g.lookup([...u,"reply"])),certificate:g};case Qn.Received:case Qn.Unknown:case Qn.Processing:return await i(t,r,v),cv(e,t,r,i,h,c);case Qn.Rejected:{const E=new Uint8Array(Kr(g.lookup([...u,"reject_code"])))[0],w=new TextDecoder().decode(Kr(g.lookup([...u,"reject_message"])));throw new Error(`Call was rejected:
  Request ID: ${St(r)}
  Reject code: ${E}
  Reject text: ${w}
`)}case Qn.Done:throw new Error(`Call was marked as done but we never saw the reply:
  Request ID: ${St(r)}
`)}throw new Error("unreachable")}const A6=({IDL:e})=>{const t=e.Variant({mainnet:e.Null,testnet:e.Null}),r=e.Text,i=e.Record({network:t,address:r,min_confirmations:e.Opt(e.Nat32)}),a=e.Nat64,c=a,d=e.Nat32,u=e.Record({start_height:d,end_height:e.Opt(d),network:t}),h=e.Vec(e.Nat8),m=e.Record({tip_height:d,block_headers:e.Vec(h)}),g=e.Record({network:t}),p=e.Nat64,v=e.Vec(p),E=e.Record({network:t,filter:e.Opt(e.Variant({page:e.Vec(e.Nat8),min_confirmations:e.Nat32})),address:r}),w=e.Vec(e.Nat8),k=e.Record({txid:e.Vec(e.Nat8),vout:e.Nat32}),j=e.Record({height:e.Nat32,value:a,outpoint:k}),R=e.Record({next_page:e.Opt(e.Vec(e.Nat8)),tip_height:d,tip_block_hash:w,utxos:e.Vec(j)}),M=e.Record({transaction:e.Vec(e.Nat8),network:t}),U=e.Principal,G=e.Record({canister_id:U,num_requested_changes:e.Opt(e.Nat64)}),O=e.Variant({from_user:e.Record({user_id:e.Principal}),from_canister:e.Record({canister_version:e.Opt(e.Nat64),canister_id:e.Principal})}),Q=e.Vec(e.Nat8),X=e.Variant({creation:e.Record({controllers:e.Vec(e.Principal)}),code_deployment:e.Record({mode:e.Variant({reinstall:e.Null,upgrade:e.Null,install:e.Null}),module_hash:e.Vec(e.Nat8)}),load_snapshot:e.Record({canister_version:e.Nat64,taken_at_timestamp:e.Nat64,snapshot_id:Q}),controllers_change:e.Record({controllers:e.Vec(e.Principal)}),code_uninstall:e.Null}),$=e.Record({timestamp_nanos:e.Nat64,canister_version:e.Nat64,origin:O,details:X}),q=e.Record({controllers:e.Vec(e.Principal),module_hash:e.Opt(e.Vec(e.Nat8)),recent_changes:e.Vec($),total_num_changes:e.Nat64}),W=e.Record({canister_id:U}),ie=e.Variant({controllers:e.Null,public:e.Null,allowed_viewers:e.Vec(e.Principal)}),fe=e.Record({freezing_threshold:e.Nat,controllers:e.Vec(e.Principal),reserved_cycles_limit:e.Nat,log_visibility:ie,wasm_memory_limit:e.Nat,memory_allocation:e.Nat,compute_allocation:e.Nat}),A=e.Record({status:e.Variant({stopped:e.Null,stopping:e.Null,running:e.Null}),memory_size:e.Nat,cycles:e.Nat,settings:fe,query_stats:e.Record({response_payload_bytes_total:e.Nat,num_instructions_total:e.Nat,num_calls_total:e.Nat,request_payload_bytes_total:e.Nat}),idle_cycles_burned_per_day:e.Nat,module_hash:e.Opt(e.Vec(e.Nat8)),reserved_cycles:e.Nat}),V=e.Record({canister_id:U}),Z=e.Record({freezing_threshold:e.Opt(e.Nat),controllers:e.Opt(e.Vec(e.Principal)),reserved_cycles_limit:e.Opt(e.Nat),log_visibility:e.Opt(ie),wasm_memory_limit:e.Opt(e.Nat),memory_allocation:e.Opt(e.Nat),compute_allocation:e.Opt(e.Nat)}),J=e.Record({settings:e.Opt(Z),sender_canister_version:e.Opt(e.Nat64)}),ce=e.Record({canister_id:U}),te=e.Record({canister_id:U}),ye=e.Record({canister_id:U,snapshot_id:Q}),_e=e.Record({canister_id:U}),D=e.Variant({secp256k1:e.Null}),me=e.Record({key_id:e.Record({name:e.Text,curve:D}),canister_id:e.Opt(U),derivation_path:e.Vec(e.Vec(e.Nat8))}),Be=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),H=e.Record({canister_id:U}),Pe=e.Record({idx:e.Nat64,timestamp_nanos:e.Nat64,content:e.Vec(e.Nat8)}),je=e.Record({canister_log_records:e.Vec(Pe)}),pe=e.Record({value:e.Text,name:e.Text}),he=e.Record({status:e.Nat,body:e.Vec(e.Nat8),headers:e.Vec(pe)}),Ee=e.Record({url:e.Text,method:e.Variant({get:e.Null,head:e.Null,post:e.Null}),max_response_bytes:e.Opt(e.Nat64),body:e.Opt(e.Vec(e.Nat8)),transform:e.Opt(e.Record({function:e.Func([e.Record({context:e.Vec(e.Nat8),response:he})],[he],["query"]),context:e.Vec(e.Nat8)})),headers:e.Vec(pe)}),F=e.Variant({reinstall:e.Null,upgrade:e.Opt(e.Record({wasm_memory_persistence:e.Opt(e.Variant({keep:e.Null,replace:e.Null})),skip_pre_upgrade:e.Opt(e.Bool)})),install:e.Null}),z=e.Record({hash:e.Vec(e.Nat8)}),Y=e.Record({arg:e.Vec(e.Nat8),wasm_module_hash:e.Vec(e.Nat8),mode:F,chunk_hashes_list:e.Vec(z),target_canister:U,store_canister:e.Opt(U),sender_canister_version:e.Opt(e.Nat64)}),ne=e.Vec(e.Nat8),se=e.Record({arg:e.Vec(e.Nat8),wasm_module:ne,mode:F,canister_id:U,sender_canister_version:e.Opt(e.Nat64)}),ae=e.Record({canister_id:U}),T=e.Record({id:Q,total_size:e.Nat64,taken_at_timestamp:e.Nat64}),y=e.Vec(T),b=e.Record({canister_id:U,sender_canister_version:e.Opt(e.Nat64),snapshot_id:Q}),P=e.Record({start_at_timestamp_nanos:e.Nat64,subnet_id:e.Principal}),L=e.Record({num_block_failures_total:e.Nat64,node_id:e.Principal,num_blocks_proposed_total:e.Nat64}),re=e.Vec(e.Record({timestamp_nanos:e.Nat64,node_metrics:e.Vec(L)})),ge=e.Record({settings:e.Opt(Z),specified_id:e.Opt(U),amount:e.Opt(e.Nat),sender_canister_version:e.Opt(e.Nat64)}),Ae=e.Record({canister_id:U}),Oe=e.Record({canister_id:U,amount:e.Nat}),Ue=e.Vec(e.Nat8),Ze=e.Variant({ed25519:e.Null,bip340secp256k1:e.Null}),B=e.Record({key_id:e.Record({algorithm:Ze,name:e.Text}),canister_id:e.Opt(U),derivation_path:e.Vec(e.Vec(e.Nat8))}),N=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),S=e.Record({key_id:e.Record({name:e.Text,curve:D}),derivation_path:e.Vec(e.Vec(e.Nat8)),message_hash:e.Vec(e.Nat8)}),K=e.Record({signature:e.Vec(e.Nat8)}),ue=e.Variant({bip341:e.Record({merkle_root_hash:e.Vec(e.Nat8)})}),be=e.Record({aux:e.Opt(ue),key_id:e.Record({algorithm:Ze,name:e.Text}),derivation_path:e.Vec(e.Vec(e.Nat8)),message:e.Vec(e.Nat8)}),ve=e.Record({signature:e.Vec(e.Nat8)}),Ke=e.Record({canister_id:U}),Qe=e.Record({canister_id:U}),De=e.Record({canister_id:U}),We=e.Vec(z),ct=e.Record({subnet_id:e.Principal}),ft=e.Record({replica_version:e.Text}),ri=e.Record({replace_snapshot:e.Opt(Q),canister_id:U}),fn=T,hn=e.Record({canister_id:U,sender_canister_version:e.Opt(e.Nat64)}),Ui=e.Record({canister_id:e.Principal,settings:Z,sender_canister_version:e.Opt(e.Nat64)}),$i=e.Record({chunk:e.Vec(e.Nat8),canister_id:e.Principal}),Yr=z;return e.Service({bitcoin_get_balance:e.Func([i],[c],[]),bitcoin_get_block_headers:e.Func([u],[m],[]),bitcoin_get_current_fee_percentiles:e.Func([g],[v],[]),bitcoin_get_utxos:e.Func([E],[R],[]),bitcoin_send_transaction:e.Func([M],[],[]),canister_info:e.Func([G],[q],[]),canister_status:e.Func([W],[A],[]),clear_chunk_store:e.Func([V],[],[]),create_canister:e.Func([J],[ce],[]),delete_canister:e.Func([te],[],[]),delete_canister_snapshot:e.Func([ye],[],[]),deposit_cycles:e.Func([_e],[],[]),ecdsa_public_key:e.Func([me],[Be],[]),fetch_canister_logs:e.Func([H],[je],["query"]),http_request:e.Func([Ee],[he],[]),install_chunked_code:e.Func([Y],[],[]),install_code:e.Func([se],[],[]),list_canister_snapshots:e.Func([ae],[y],[]),load_canister_snapshot:e.Func([b],[],[]),node_metrics_history:e.Func([P],[re],[]),provisional_create_canister_with_cycles:e.Func([ge],[Ae],[]),provisional_top_up_canister:e.Func([Oe],[],[]),raw_rand:e.Func([],[Ue],[]),schnorr_public_key:e.Func([B],[N],[]),sign_with_ecdsa:e.Func([S],[K],[]),sign_with_schnorr:e.Func([be],[ve],[]),start_canister:e.Func([Ke],[],[]),stop_canister:e.Func([Qe],[],[]),stored_chunks:e.Func([De],[We],[]),subnet_info:e.Func([ct],[ft],[]),take_canister_snapshot:e.Func([ri],[fn],[]),uninstall_code:e.Func([hn],[],[]),update_settings:e.Func([Ui],[],[]),upload_chunk:e.Func([$i],[Yr],[])})};class uv extends Rt{constructor(t,r,i,a){super(["Call failed:",`  Canister: ${t.toText()}`,`  Method: ${r} (${i})`,...Object.getOwnPropertyNames(a).map(c=>`  "${c}": ${JSON.stringify(a[c])}`)].join(`
`)),this.canisterId=t,this.methodName=r,this.type=i,this.props=a}}class C6 extends uv{constructor(t,r,i){var a;super(t,r,"query",{Status:i.status,Code:(a=m0[i.reject_code])!==null&&a!==void 0?a:`Unknown Code "${i.reject_code}"`,Message:i.reject_message}),this.result=i}}class Cy extends uv{constructor(t,r,i,a,c,d,u){super(t,r,"update",Object.assign({"Request ID":St(i)},a.body?Object.assign(Object.assign({},u?{"Error code":u}:{}),{"Reject code":String(c),"Reject message":d}):{"HTTP status code":a.status.toString(),"HTTP status text":a.statusText})),this.requestId=i,this.response=a,this.reject_code=c,this.reject_message=d,this.error_code=u}}const qr=Symbol.for("ic-agent-metadata");class gr{constructor(t){this[qr]=Object.freeze(t)}static agentOf(t){return t[qr].config.agent}static interfaceOf(t){return t[qr].service}static canisterIdOf(t){return rt.from(t[qr].config.canisterId)}static async install(t,r){const i=t.mode===void 0?{install:null}:t.mode,a=t.arg?[...new Uint8Array(t.arg)]:[],c=[...new Uint8Array(t.module)],d=typeof r.canisterId=="string"?rt.fromText(r.canisterId):r.canisterId;await Ty(r).install_code({mode:i,arg:a,wasm_module:c,canister_id:d,sender_canister_version:[]})}static async createCanister(t,r){function i(c){return[{controllers:c.controllers?[c.controllers]:[],compute_allocation:c.compute_allocation?[c.compute_allocation]:[],freezing_threshold:c.freezing_threshold?[c.freezing_threshold]:[],memory_allocation:c.memory_allocation?[c.memory_allocation]:[],reserved_cycles_limit:[],log_visibility:[],wasm_memory_limit:[]}]}const{canister_id:a}=await Ty(t||{}).provisional_create_canister_with_cycles({amount:[],settings:i(r||{}),specified_id:[],sender_canister_version:[]});return a}static async createAndInstallCanister(t,r,i){const a=await this.createCanister(i);return await this.install(Object.assign({},r),Object.assign(Object.assign({},i),{canisterId:a})),this.createActor(t,Object.assign(Object.assign({},i),{canisterId:a}))}static createActorClass(t,r){const i=t({IDL:T_});class a extends gr{constructor(d){if(!d.canisterId)throw new Rt(`Canister ID is required, but received ${typeof d.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);const u=typeof d.canisterId=="string"?rt.fromText(d.canisterId):d.canisterId;super({config:Object.assign(Object.assign(Object.assign({},dv),d),{canisterId:u}),service:i});for(const[h,m]of i._fields)r!=null&&r.httpDetails&&m.annotations.push(j0),r!=null&&r.certificate&&m.annotations.push(fv),this[h]=T6(this,h,m,d.blsVerify)}}return a}static createActor(t,r){if(!r.canisterId)throw new Rt(`Canister ID is required, but received ${typeof r.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);return new(this.createActorClass(t))(r)}static createActorWithHttpDetails(t,r){return new(this.createActorClass(t,{httpDetails:!0}))(r)}static createActorWithExtendedDetails(t,r,i={httpDetails:!0,certificate:!0}){return new(this.createActorClass(t,i))(r)}}function mo(e,t){const r=Gw(e,zE.Buffer.from(t));switch(r.length){case 0:return;case 1:return r[0];default:return r}}const dv={pollingStrategyFactory:lv},j0="http-details",fv="certificate";function T6(e,t,r,i){let a;r.annotations.includes("query")||r.annotations.includes("composite_query")?a=async(d,...u)=>{var h,m;d=Object.assign(Object.assign({},d),(m=(h=e[qr].config).queryTransform)===null||m===void 0?void 0:m.call(h,t,u,Object.assign(Object.assign({},e[qr].config),d)));const g=d.agent||e[qr].config.agent||Ay(),p=rt.from(d.canisterId||e[qr].config.canisterId),v=x0(r.argTypes,u),E=await g.query(p,{methodName:t,arg:v,effectiveCanisterId:d.effectiveCanisterId}),w=Object.assign(Object.assign({},E.httpDetails),{requestDetails:E.requestDetails});switch(E.status){case"rejected":throw new C6(p,t,E);case"replied":return r.annotations.includes(j0)?{httpDetails:w,result:mo(r.retTypes,E.reply.arg)}:mo(r.retTypes,E.reply.arg)}}:a=async(d,...u)=>{var h,m;d=Object.assign(Object.assign({},d),(m=(h=e[qr].config).callTransform)===null||m===void 0?void 0:m.call(h,t,u,Object.assign(Object.assign({},e[qr].config),d)));const g=d.agent||e[qr].config.agent||Ay(),{canisterId:p,effectiveCanisterId:v,pollingStrategyFactory:E}=Object.assign(Object.assign(Object.assign({},dv),e[qr].config),d),w=rt.from(p),k=v!==void 0?rt.from(v):w,j=x0(r.argTypes,u),{requestId:R,response:M,requestDetails:U}=await g.call(w,{methodName:t,arg:j,effectiveCanisterId:k});let G,O;if(M.body&&M.body.certificate){if(g.rootKey==null)throw new Error("Agent is missing root key");const q=M.body.certificate;O=await ki.create({certificate:ji(q),rootKey:g.rootKey,canisterId:rt.from(p),blsVerify:i});const W=[new TextEncoder().encode("request_status"),R];switch(new TextDecoder().decode(Kr(O.lookup([...W,"status"])))){case"replied":G=Kr(O.lookup([...W,"reply"]));break;case"rejected":{const fe=new Uint8Array(Kr(O.lookup([...W,"reject_code"])))[0],A=new TextDecoder().decode(Kr(O.lookup([...W,"reject_message"]))),V=Kr(O.lookup([...W,"error_code"])),Z=V?new TextDecoder().decode(V):void 0;throw new Cy(w,t,R,M,fe,A,Z)}}}else if(M.body&&"reject_message"in M.body){const{reject_code:q,reject_message:W,error_code:ie}=M.body;throw new Cy(w,t,R,M,q,W,ie)}if(M.status===202){const q=E(),W=await cv(g,k,R,q,i);O=W.certificate,G=W.reply}const Q=r.annotations.includes(j0),X=r.annotations.includes(fv),$=Object.assign(Object.assign({},M),{requestDetails:U});if(G!==void 0)return Q&&X?{httpDetails:$,certificate:O,result:mo(r.retTypes,G)}:X?{certificate:O,result:mo(r.retTypes,G)}:Q?{httpDetails:$,result:mo(r.retTypes,G)}:mo(r.retTypes,G);if(r.retTypes.length===0)return Q?{httpDetails:M,result:void 0}:void 0;throw new Error(`Call was returned undefined, but type [${r.retTypes.join(",")}].`)};const c=(...d)=>a({},...d);return c.withOptions=d=>(...u)=>a(d,...u),c}function Ty(e){function t(r,i){if(e.effectiveCanisterId)return{effectiveCanisterId:rt.from(e.effectiveCanisterId)};const a=i[0];let c=rt.fromHex("");return a&&typeof a=="object"&&a.target_canister&&r==="install_chunked_code"&&(c=rt.from(a.target_canister)),a&&typeof a=="object"&&a.canister_id&&(c=rt.from(a.canister_id)),{effectiveCanisterId:c}}return gr.createActor(A6,Object.assign(Object.assign(Object.assign({},e),{canisterId:rt.fromHex("")}),{callTransform:t,queryTransform:t}))}var Pu=function(e,t,r,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},Hs=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},hu,pu,So,ko;function Ry(e){return e!==null&&typeof e=="object"}class ss{constructor(t){if(hu.set(this,void 0),pu.set(this,void 0),t.byteLength!==ss.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");Pu(this,hu,ts(t),"f"),Pu(this,pu,ss.derEncode(t),"f")}static from(t){if(typeof t=="string"){const r=as(t);return this.fromRaw(r)}else if(Ry(t)){const r=t;if(Ry(r)&&Object.hasOwnProperty.call(r,"__derEncodedPublicKey__"))return this.fromDer(r);if(ArrayBuffer.isView(r)){const i=r;return this.fromRaw(ts(i.buffer))}else{if(r instanceof ArrayBuffer)return this.fromRaw(r);if("rawKey"in r)return this.fromRaw(r.rawKey);if("derKey"in r)return this.fromDer(r.derKey);if("toDer"in r)return this.fromDer(r.toDer())}}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(t){return new ss(t)}static fromDer(t){return new ss(this.derDecode(t))}static derEncode(t){const r=Q1(t,Bu).buffer;return r.__derEncodedPublicKey__=void 0,r}static derDecode(t){const r=J1(t,Bu);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return ts(r)}get rawKey(){return Hs(this,hu,"f")}get derKey(){return Hs(this,pu,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}hu=new WeakMap,pu=new WeakMap;ss.RAW_KEY_LENGTH=32;class Gs extends lp{constructor(t,r){super(),So.set(this,void 0),ko.set(this,void 0),Pu(this,So,ss.from(t),"f"),Pu(this,ko,new Uint8Array(r),"f")}static generate(t){if(t&&t.length!==32)throw new Error("Ed25519 Seed needs to be 32 bytes long.");t||(t=vo.utils.randomPrivateKey()),cl(t,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");const r=new Uint8Array(32);for(let a=0;a<32;a++)r[a]=new Uint8Array(t)[a];const i=vo.getPublicKey(r);return Gs.fromKeyPair(i,r)}static fromParsedJson(t){const[r,i]=t;return new Gs(ss.fromDer(as(r)),as(i))}static fromJSON(t){const r=JSON.parse(t);if(Array.isArray(r)){if(typeof r[0]=="string"&&typeof r[1]=="string")return this.fromParsedJson([r[0],r[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(t)}`)}static fromKeyPair(t,r){return new Gs(ss.fromRaw(t),r)}static fromSecretKey(t){const r=vo.getPublicKey(new Uint8Array(t));return Gs.fromKeyPair(r,t)}toJSON(){return[St(Hs(this,So,"f").toDer()),St(Hs(this,ko,"f"))]}getKeyPair(){return{secretKey:Hs(this,ko,"f"),publicKey:Hs(this,So,"f")}}getPublicKey(){return Hs(this,So,"f")}async sign(t){const r=new Uint8Array(t),i=Ga(vo.sign(r,Hs(this,ko,"f").slice(0,32)));return Object.defineProperty(i,"__signature__",{enumerable:!1,value:void 0}),i}static verify(t,r,i){const[a,c,d]=[t,r,i].map(u=>(typeof u=="string"&&(u=as(u)),u instanceof Uint8Array&&(u=ts(u.buffer)),new Uint8Array(u)));return vo.verify(a,c,d)}}So=new WeakMap,ko=new WeakMap;class fp extends Error{constructor(t){super(t),this.message=t,Object.setPrototypeOf(this,fp.prototype)}}function By(e){if(typeof global<"u"&&global.crypto&&global.crypto.subtle)return global.crypto.subtle;if(e)return e;if(typeof crypto<"u"&&crypto.subtle)return crypto.subtle;throw new fp("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class Mu extends lp{constructor(t,r,i){super(),this._keyPair=t,this._derKey=r,this._subtleCrypto=i}static async generate(t){const{extractable:r=!1,keyUsages:i=["sign","verify"],subtleCrypto:a}=t??{},c=By(a),d=await c.generateKey({name:"ECDSA",namedCurve:"P-256"},r,i),u=await c.exportKey("spki",d.publicKey);return new this(d,u,c)}static async fromKeyPair(t,r){const i=By(r),a=await i.exportKey("spki",t.publicKey);return new Mu(t,a,i)}getKeyPair(){return this._keyPair}getPublicKey(){const t=this._derKey,r=Object.create(this._keyPair.publicKey);return r.toDer=function(){return t},r}async sign(t){const r={name:"ECDSA",hash:{name:"SHA-256"}};return await this._subtleCrypto.sign(r,this._keyPair.privateKey,t)}}var R6=function(e,t,r,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},go=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},Yn;class B6{constructor(t){Yn.set(this,void 0),R6(this,Yn,t,"f")}get rawKey(){return go(this,Yn,"f").rawKey}get derKey(){return go(this,Yn,"f").derKey}toDer(){return go(this,Yn,"f").toDer()}getPublicKey(){return go(this,Yn,"f")}getPrincipal(){if(!go(this,Yn,"f").rawKey)throw new Error("Cannot get principal from a public key without a raw key.");return rt.fromUint8Array(new Uint8Array(go(this,Yn,"f").rawKey))}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}}Yn=new WeakMap;var P6=function(e,t,r,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},M6=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},O6=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(r[i[a]]=e[i[a]]);return r},mu;const I6=new TextEncoder().encode("ic-request-auth-delegation"),F6=new TextEncoder().encode(`
ic-request`);function Lh(e){if(typeof e!="string"||e.length<64)throw new Error("Invalid public key.");return as(e)}class hp{constructor(t,r,i){this.pubkey=t,this.expiration=r,this.targets=i}toCBOR(){return Pr.value.map(Object.assign({pubkey:Pr.value.bytes(this.pubkey),expiration:Pr.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:Pr.value.array(this.targets.map(t=>Pr.value.bytes(ji(t.toUint8Array()))))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:St(this.pubkey)},this.targets&&{targets:this.targets.map(t=>t.toHex())})}}async function U6(e,t,r,i){const a=new hp(t.toDer(),BigInt(+r)*BigInt(1e6),i),c=new Uint8Array([...I6,...new Uint8Array(Xa(Object.assign({},a)))]),d=await e.sign(ji(c));return{delegation:a,signature:d}}class Ou{constructor(t,r){this.delegations=t,this.publicKey=r}static async create(t,r,i=new Date(Date.now()+15*60*1e3),a={}){var c,d;const u=await U6(t,r,i,a.targets);return new Ou([...((c=a.previous)===null||c===void 0?void 0:c.delegations)||[],u],((d=a.previous)===null||d===void 0?void 0:d.publicKey)||t.getPublicKey().toDer())}static fromJSON(t){const{publicKey:r,delegations:i}=typeof t=="string"?JSON.parse(t):t;if(!Array.isArray(i))throw new Error("Invalid delegations.");const a=i.map(c=>{const{delegation:d,signature:u}=c,{pubkey:h,expiration:m,targets:g}=d;if(g!==void 0&&!Array.isArray(g))throw new Error("Invalid targets.");return{delegation:new hp(Lh(h),BigInt("0x"+m),g&&g.map(p=>{if(typeof p!="string")throw new Error("Invalid target.");return rt.fromHex(p)})),signature:Lh(u)}});return new this(a,Lh(r))}static fromDelegations(t,r){return new this(t,r)}toJSON(){return{delegations:this.delegations.map(t=>{const{delegation:r,signature:i}=t,{targets:a}=r;return{delegation:Object.assign({expiration:r.expiration.toString(16),pubkey:St(r.pubkey)},a&&{targets:a.map(c=>c.toHex())}),signature:St(i)}}),publicKey:St(this.publicKey)}}}class Py extends lp{constructor(t,r){super(),this._inner=t,this._delegation=r}static fromDelegation(t,r){return new this(t,r)}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(t){return this._inner.sign(t)}async transformRequest(t){const{body:r}=t,i=O6(t,["body"]),a=await Xa(r);return Object.assign(Object.assign({},i),{body:{content:r,sender_sig:await this.sign(ji(new Uint8Array([...F6,...new Uint8Array(a)]))),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}}class Iu extends B6{constructor(t,r){super(t),mu.set(this,void 0),P6(this,mu,r,"f")}get delegation(){return M6(this,mu,"f")}static fromDelegation(t,r){return new Iu(t,r)}}mu=new WeakMap;function $6(e,t){for(const{delegation:i}of e.delegations)if(+new Date(Number(i.expiration/BigInt(1e6)))<=+Date.now())return!1;const r=[];for(const i of r){const a=i.toText();for(const{delegation:c}of e.delegations){if(c.targets===void 0)continue;let d=!0;for(const u of c.targets)if(u.toText()===a){d=!1;break}if(d)return!1}}return!0}var My;(function(e){e[e.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256"})(My||(My={}));const Oy=["mousedown","mousemove","keydown","touchstart","wheel"];class Iy{constructor(t={}){var r;this.callbacks=[],this.idleTimeout=10*60*1e3,this.timeoutID=void 0;const{onIdle:i,idleTimeout:a=10*60*1e3}=t||{};this.callbacks=i?[i]:[],this.idleTimeout=a;const c=this._resetTimer.bind(this);window.addEventListener("load",c,!0),Oy.forEach(function(u){document.addEventListener(u,c,!0)});const d=(u,h)=>{let m;return(...g)=>{const p=this,v=function(){m=void 0,u.apply(p,g)};clearTimeout(m),m=window.setTimeout(v,h)}};if(t!=null&&t.captureScroll){const u=d(c,(r=t==null?void 0:t.scrollDebounce)!==null&&r!==void 0?r:100);window.addEventListener("scroll",u,!0)}c()}static create(t={}){return new this(t)}registerCallback(t){this.callbacks.push(t)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);const t=this._resetTimer.bind(this);Oy.forEach(function(r){document.removeEventListener(r,t,!0)}),this.callbacks.forEach(r=>r())}_resetTimer(){const t=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(t,this.idleTimeout)}}const z6=(e,t)=>t.some(r=>e instanceof r);let Fy,Uy;function V6(){return Fy||(Fy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H6(){return Uy||(Uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hv=new WeakMap,A0=new WeakMap,pv=new WeakMap,Wh=new WeakMap,pp=new WeakMap;function L6(e){const t=new Promise((r,i)=>{const a=()=>{e.removeEventListener("success",c),e.removeEventListener("error",d)},c=()=>{r(Ds(e.result)),a()},d=()=>{i(e.error),a()};e.addEventListener("success",c),e.addEventListener("error",d)});return t.then(r=>{r instanceof IDBCursor&&hv.set(r,e)}).catch(()=>{}),pp.set(t,e),t}function W6(e){if(A0.has(e))return;const t=new Promise((r,i)=>{const a=()=>{e.removeEventListener("complete",c),e.removeEventListener("error",d),e.removeEventListener("abort",d)},c=()=>{r(),a()},d=()=>{i(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",c),e.addEventListener("error",d),e.addEventListener("abort",d)});A0.set(e,t)}let C0={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return A0.get(e);if(t==="objectStoreNames")return e.objectStoreNames||pv.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ds(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function q6(e){C0=e(C0)}function G6(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const i=e.call(qh(this),t,...r);return pv.set(i,t.sort?t.sort():[t]),Ds(i)}:H6().includes(e)?function(...t){return e.apply(qh(this),t),Ds(hv.get(this))}:function(...t){return Ds(e.apply(qh(this),t))}}function K6(e){return typeof e=="function"?G6(e):(e instanceof IDBTransaction&&W6(e),z6(e,V6())?new Proxy(e,C0):e)}function Ds(e){if(e instanceof IDBRequest)return L6(e);if(Wh.has(e))return Wh.get(e);const t=K6(e);return t!==e&&(Wh.set(e,t),pp.set(t,e)),t}const qh=e=>pp.get(e);function D6(e,t,{blocked:r,upgrade:i,blocking:a,terminated:c}={}){const d=indexedDB.open(e,t),u=Ds(d);return i&&d.addEventListener("upgradeneeded",h=>{i(Ds(d.result),h.oldVersion,h.newVersion,Ds(d.transaction),h)}),r&&d.addEventListener("blocked",h=>r(h.oldVersion,h.newVersion,h)),u.then(h=>{c&&h.addEventListener("close",()=>c()),a&&h.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const Y6=["get","getKey","getAll","getAllKeys","count"],Z6=["put","add","delete","clear"],Gh=new Map;function $y(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Gh.get(t))return Gh.get(t);const r=t.replace(/FromIndex$/,""),i=t!==r,a=Z6.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!(a||Y6.includes(r)))return;const c=async function(d,...u){const h=this.transaction(d,a?"readwrite":"readonly");let m=h.store;return i&&(m=m.index(u.shift())),(await Promise.all([m[r](...u),a&&h.done]))[0]};return Gh.set(t,c),c}q6(e=>({...e,get:(t,r,i)=>$y(t,r)||e.get(t,r,i),has:(t,r)=>!!$y(t,r)||e.has(t,r)}));const mv="auth-client-db",gv="ic-keyval",X6=async(e=mv,t=gv,r)=>(xv&&(localStorage!=null&&localStorage.getItem(Ws))&&(localStorage.removeItem(Ws),localStorage.removeItem(Ls)),await D6(e,r,{upgrade:i=>{i.objectStoreNames.contains(t)&&i.clear(t),i.createObjectStore(t)}}));async function Q6(e,t,r){return await e.get(t,r)}async function J6(e,t,r,i){return await e.put(t,i,r)}async function e4(e,t,r){return await e.delete(t,r)}class mp{constructor(t,r){this._db=t,this._storeName=r}static async create(t){const{dbName:r=mv,storeName:i=gv,version:a=s4}=t??{},c=await X6(r,i,a);return new mp(c,i)}async set(t,r){return await J6(this._db,this._storeName,t,r)}async get(t){var r;return(r=await Q6(this._db,this._storeName,t))!==null&&r!==void 0?r:null}async remove(t){return await e4(this._db,this._storeName,t)}}var t4=function(e,t,r,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r},r4=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},gu;const Ls="identity",Ws="delegation",n4="iv",s4=1,xv=typeof window<"u";class i4{constructor(t="ic-",r){this.prefix=t,this._localStorage=r}get(t){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+t))}set(t,r){return this._getLocalStorage().setItem(this.prefix+t,r),Promise.resolve()}remove(t){return this._getLocalStorage().removeItem(this.prefix+t),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;const t=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.localStorage:global.localStorage:window.localStorage;if(!t)throw new Error("Could not find local storage.");return t}}class o4{constructor(t){gu.set(this,void 0),t4(this,gu,t??{},"f")}get _db(){return new Promise(t=>{if(this.initializedDb){t(this.initializedDb);return}mp.create(r4(this,gu,"f")).then(r=>{this.initializedDb=r,t(r)})})}async get(t){return await(await this._db).get(t)}async set(t,r){await(await this._db).set(t,r)}async remove(t){await(await this._db).remove(t)}}gu=new WeakMap;const a4="https://identity.internetcomputer.org",l4="#authorize",Kh="ECDSA",Dh="Ed25519",c4=500,u4="UserInterrupt";class d4{constructor(t,r,i,a,c,d,u,h){this._identity=t,this._key=r,this._chain=i,this._storage=a,this.idleManager=c,this._createOptions=d,this._idpWindow=u,this._eventHandler=h,this._registerDefaultIdleCallback()}static async create(t={}){var r,i,a;const c=(r=t.storage)!==null&&r!==void 0?r:new o4,d=(i=t.keyType)!==null&&i!==void 0?i:Kh;let u=null;if(t.identity)u=t.identity;else{let p=await c.get(Ls);if(!p&&xv)try{const v=new i4,E=await v.get(Ws),w=await v.get(Ls);E&&w&&d===Kh&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await c.set(Ws,E),await c.set(Ls,w),p=E,await v.remove(Ws),await v.remove(Ls))}catch(v){console.error("error while attempting to recover localstorage: "+v)}if(p)try{typeof p=="object"?d===Dh&&typeof p=="string"?u=await Gs.fromJSON(p):u=await Mu.fromKeyPair(p):typeof p=="string"&&(u=Gs.fromJSON(p))}catch{}}let h=new Qa,m=null;if(u)try{const p=await c.get(Ws);if(typeof p=="object"&&p!==null)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");t.identity?h=t.identity:p&&(m=Ou.fromJSON(p),$6(m)?"toDer"in u?h=Iu.fromDelegation(u,m):h=Py.fromDelegation(u,m):(await Yh(c),u=null))}catch(p){console.error(p),await Yh(c),u=null}let g;return!((a=t.idleOptions)===null||a===void 0)&&a.disableIdle?g=void 0:(m||t.identity)&&(g=Iy.create(t.idleOptions)),u||(d===Dh?(u=await Gs.generate(),await c.set(Ls,JSON.stringify(u.toJSON()))):(t.storage&&d===Kh&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${Dh}' as the key type, as it can serialize to a string`),u=await Mu.generate(),await c.set(Ls,u.getKeyPair()))),new this(h,u,m,c,g,t)}_registerDefaultIdleCallback(){var t,r;const i=(t=this._createOptions)===null||t===void 0?void 0:t.idleOptions;!(i!=null&&i.onIdle)&&!(i!=null&&i.disableDefaultIdleCallback)&&((r=this.idleManager)===null||r===void 0||r.registerCallback(()=>{this.logout(),location.reload()}))}async _handleSuccess(t,r){var i,a;const c=t.delegations.map(m=>({delegation:new hp(m.delegation.pubkey,m.delegation.expiration,m.delegation.targets),signature:m.signature.buffer})),d=Ou.fromDelegations(c,t.userPublicKey.buffer),u=this._key;if(!u)return;this._chain=d,"toDer"in u?this._identity=Iu.fromDelegation(u,this._chain):this._identity=Py.fromDelegation(u,this._chain),(i=this._idpWindow)===null||i===void 0||i.close();const h=(a=this._createOptions)===null||a===void 0?void 0:a.idleOptions;!this.idleManager&&!(h!=null&&h.disableIdle)&&(this.idleManager=Iy.create(h),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(Ws,JSON.stringify(this._chain.toJSON())),r==null||r(t)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&this._chain!==null}async login(t){var r,i,a,c;const d=BigInt(8)*BigInt(36e11),u=new URL(((r=t==null?void 0:t.identityProvider)===null||r===void 0?void 0:r.toString())||a4);u.hash=l4,(i=this._idpWindow)===null||i===void 0||i.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(u,Object.assign({maxTimeToLive:(a=t==null?void 0:t.maxTimeToLive)!==null&&a!==void 0?a:d},t)),window.addEventListener("message",this._eventHandler),this._idpWindow=(c=window.open(u.toString(),"idpWindow",t==null?void 0:t.windowOpenerFeatures))!==null&&c!==void 0?c:void 0;const h=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure(u4,t==null?void 0:t.onError):setTimeout(h,c4))};h()}_getEventHandler(t,r){return async i=>{var a,c,d;if(i.origin!==t.origin)return;const u=i.data;switch(u.kind){case"authorize-ready":{const h=Object.assign({kind:"authorize-client",sessionPublicKey:new Uint8Array((a=this._key)===null||a===void 0?void 0:a.getPublicKey().toDer()),maxTimeToLive:r==null?void 0:r.maxTimeToLive,allowPinAuthentication:r==null?void 0:r.allowPinAuthentication,derivationOrigin:(c=r==null?void 0:r.derivationOrigin)===null||c===void 0?void 0:c.toString()},r==null?void 0:r.customValues);(d=this._idpWindow)===null||d===void 0||d.postMessage(h,t.origin);break}case"authorize-client-success":try{await this._handleSuccess(u,r==null?void 0:r.onSuccess)}catch(h){this._handleFailure(h.message,r==null?void 0:r.onError)}break;case"authorize-client-failure":this._handleFailure(u.text,r==null?void 0:r.onError);break}}}_handleFailure(t,r){var i;(i=this._idpWindow)===null||i===void 0||i.close(),r==null||r(t),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(t={}){if(await Yh(this._storage),this._identity=new Qa,this._chain=null,t.returnTo)try{window.history.pushState({},"",t.returnTo)}catch{window.location.href=t.returnTo}}}async function Yh(e){await e.remove(Ls),await e.remove(Ws),await e.remove(n4)}function f4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}const h4=C.forwardRef(f4);function p4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const m4=C.forwardRef(p4);function g4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const x4=C.forwardRef(g4);function y4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const Zh=C.forwardRef(y4);function w4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const T0=C.forwardRef(w4);function v4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const zy=C.forwardRef(v4);function b4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const R0=C.forwardRef(b4);function N4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const E4=C.forwardRef(N4);function _4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const S4=C.forwardRef(_4);function k4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"}))}const j4=C.forwardRef(k4);function A4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const C4=C.forwardRef(A4);function T4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const R4=C.forwardRef(T4);function B4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const Fu=C.forwardRef(B4);function P4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const M4=C.forwardRef(P4);function O4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const I4=C.forwardRef(O4);function F4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const U4=C.forwardRef(F4);function $4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Oo=C.forwardRef($4);function z4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Uu=C.forwardRef(z4);function V4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const yv=C.forwardRef(V4);function H4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const L4=C.forwardRef(H4);function W4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const q4=C.forwardRef(W4);function G4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const K4=C.forwardRef(G4);function D4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))}const Y4=C.forwardRef(D4);function Z4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const X4=C.forwardRef(Z4);function Q4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const B0=C.forwardRef(Q4);function J4({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const wv=C.forwardRef(J4);function eS({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const Vy=C.forwardRef(eS);function tS({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const vv=C.forwardRef(tS);function rS({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Hy=C.forwardRef(rS);function nS({title:e,titleId:t,...r},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const bv=C.forwardRef(nS);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nv=(...e)=>e.filter((t,r,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:a="",children:c,iconNode:d,...u},h)=>C.createElement("svg",{ref:h,...iS,width:t,height:t,stroke:e,strokeWidth:i?Number(r)*24/Number(t):r,className:Nv("lucide",a),...u},[...d.map(([m,g])=>C.createElement(m,g)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=(e,t)=>{const r=C.forwardRef(({className:i,...a},c)=>C.createElement(oS,{ref:c,iconNode:t,className:Nv(`lucide-${sS(e)}`,i),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=at("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=at("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=at("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=at("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=at("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=at("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=at("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=at("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=at("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=at("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=at("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=at("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=at("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=at("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=at("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=at("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=at("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=at("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=at("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=at("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=at("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=at("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=at("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=at("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=at("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=at("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=at("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=at("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=at("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=at("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=at("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=at("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=at("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=at("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=at("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=at("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function Wy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Tv(...e){return t=>{let r=!1;const i=e.map(a=>{const c=Wy(a,t);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let a=0;a<i.length;a++){const c=i[a];typeof c=="function"?c():Wy(e[a],null)}}}}function xt(...e){return C.useCallback(Tv(...e),e)}function il(e){const t=AS(e),r=C.forwardRef((i,a)=>{const{children:c,...d}=i,u=C.Children.toArray(c),h=u.find(TS);if(h){const m=h.props.children,g=u.map(p=>p===h?C.Children.count(m)>1?C.Children.only(null):C.isValidElement(m)?m.props.children:null:p);return o.jsx(t,{...d,ref:a,children:C.isValidElement(m)?C.cloneElement(m,void 0,g):null})}return o.jsx(t,{...d,ref:a,children:c})});return r.displayName=`${e}.Slot`,r}var jS=il("Slot");function AS(e){const t=C.forwardRef((r,i)=>{const{children:a,...c}=r;if(C.isValidElement(a)){const d=BS(a),u=RS(c,a.props);return a.type!==C.Fragment&&(u.ref=i?Tv(i,d):d),C.cloneElement(a,u)}return C.Children.count(a)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var CS=Symbol("radix.slottable");function TS(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===CS}function RS(e,t){const r={...t};for(const i in t){const a=e[i],c=t[i];/^on[A-Z]/.test(i)?a&&c?r[i]=(...u)=>{const h=c(...u);return a(...u),h}:a&&(r[i]=a):i==="style"?r[i]={...a,...c}:i==="className"&&(r[i]=[a,c].filter(Boolean).join(" "))}return{...e,...r}}function BS(e){var i,a;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Rv(e){var t,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Rv(e[t]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function Bv(){for(var e,t,r=0,i="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Rv(e))&&(i&&(i+=" "),i+=t);return i}const qy=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Gy=Bv,wp=(e,t)=>r=>{var i;if((t==null?void 0:t.variants)==null)return Gy(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:c}=t,d=Object.keys(a).map(m=>{const g=r==null?void 0:r[m],p=c==null?void 0:c[m];if(g===null)return null;const v=qy(g)||qy(p);return a[m][v]}),u=r&&Object.entries(r).reduce((m,g)=>{let[p,v]=g;return v===void 0||(m[p]=v),m},{}),h=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((m,g)=>{let{class:p,className:v,...E}=g;return Object.entries(E).every(w=>{let[k,j]=w;return Array.isArray(j)?j.includes({...c,...u}[k]):{...c,...u}[k]===j})?[...m,p,v]:m},[]);return Gy(e,d,h,r==null?void 0:r.class,r==null?void 0:r.className)},vp="-",PS=e=>{const t=OS(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:d=>{const u=d.split(vp);return u[0]===""&&u.length!==1&&u.shift(),Pv(u,t)||MS(d)},getConflictingClassGroupIds:(d,u)=>{const h=r[d]||[];return u&&i[d]?[...h,...i[d]]:h}}},Pv=(e,t)=>{var d;if(e.length===0)return t.classGroupId;const r=e[0],i=t.nextPart.get(r),a=i?Pv(e.slice(1),i):void 0;if(a)return a;if(t.validators.length===0)return;const c=e.join(vp);return(d=t.validators.find(({validator:u})=>u(c)))==null?void 0:d.classGroupId},Ky=/^\[(.+)\]$/,MS=e=>{if(Ky.test(e)){const t=Ky.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},OS=e=>{const{theme:t,prefix:r}=e,i={nextPart:new Map,validators:[]};return FS(Object.entries(e.classGroups),r).forEach(([c,d])=>{O0(d,i,c,t)}),i},O0=(e,t,r,i)=>{e.forEach(a=>{if(typeof a=="string"){const c=a===""?t:Dy(t,a);c.classGroupId=r;return}if(typeof a=="function"){if(IS(a)){O0(a(i),t,r,i);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([c,d])=>{O0(d,Dy(t,c),r,i)})})},Dy=(e,t)=>{let r=e;return t.split(vp).forEach(i=>{r.nextPart.has(i)||r.nextPart.set(i,{nextPart:new Map,validators:[]}),r=r.nextPart.get(i)}),r},IS=e=>e.isThemeGetter,FS=(e,t)=>t?e.map(([r,i])=>{const a=i.map(c=>typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([d,u])=>[t+d,u])):c);return[r,a]}):e,US=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,i=new Map;const a=(c,d)=>{r.set(c,d),t++,t>e&&(t=0,i=r,r=new Map)};return{get(c){let d=r.get(c);if(d!==void 0)return d;if((d=i.get(c))!==void 0)return a(c,d),d},set(c,d){r.has(c)?r.set(c,d):a(c,d)}}},Mv="!",$S=e=>{const{separator:t,experimentalParseClassName:r}=e,i=t.length===1,a=t[0],c=t.length,d=u=>{const h=[];let m=0,g=0,p;for(let j=0;j<u.length;j++){let R=u[j];if(m===0){if(R===a&&(i||u.slice(j,j+c)===t)){h.push(u.slice(g,j)),g=j+c;continue}if(R==="/"){p=j;continue}}R==="["?m++:R==="]"&&m--}const v=h.length===0?u:u.substring(g),E=v.startsWith(Mv),w=E?v.substring(1):v,k=p&&p>g?p-g:void 0;return{modifiers:h,hasImportantModifier:E,baseClassName:w,maybePostfixModifierPosition:k}};return r?u=>r({className:u,parseClassName:d}):d},zS=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(i=>{i[0]==="["?(t.push(...r.sort(),i),r=[]):r.push(i)}),t.push(...r.sort()),t},VS=e=>({cache:US(e.cacheSize),parseClassName:$S(e),...PS(e)}),HS=/\s+/,LS=(e,t)=>{const{parseClassName:r,getClassGroupId:i,getConflictingClassGroupIds:a}=t,c=[],d=e.trim().split(HS);let u="";for(let h=d.length-1;h>=0;h-=1){const m=d[h],{modifiers:g,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:E}=r(m);let w=!!E,k=i(w?v.substring(0,E):v);if(!k){if(!w){u=m+(u.length>0?" "+u:u);continue}if(k=i(v),!k){u=m+(u.length>0?" "+u:u);continue}w=!1}const j=zS(g).join(":"),R=p?j+Mv:j,M=R+k;if(c.includes(M))continue;c.push(M);const U=a(k,w);for(let G=0;G<U.length;++G){const O=U[G];c.push(R+O)}u=m+(u.length>0?" "+u:u)}return u};function WS(){let e=0,t,r,i="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Ov(t))&&(i&&(i+=" "),i+=r);return i}const Ov=e=>{if(typeof e=="string")return e;let t,r="";for(let i=0;i<e.length;i++)e[i]&&(t=Ov(e[i]))&&(r&&(r+=" "),r+=t);return r};function qS(e,...t){let r,i,a,c=d;function d(h){const m=t.reduce((g,p)=>p(g),e());return r=VS(m),i=r.cache.get,a=r.cache.set,c=u,u(h)}function u(h){const m=i(h);if(m)return m;const g=LS(h,r);return a(h,g),g}return function(){return c(WS.apply(null,arguments))}}const bt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Iv=/^\[(?:([a-z-]+):)?(.+)\]$/i,GS=/^\d+\/\d+$/,KS=new Set(["px","full","screen"]),DS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,YS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,XS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,QS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dn=e=>Io(e)||KS.has(e)||GS.test(e),Is=e=>Ko(e,"length",ok),Io=e=>!!e&&!Number.isNaN(Number(e)),Xh=e=>Ko(e,"number",Io),Ia=e=>!!e&&Number.isInteger(Number(e)),JS=e=>e.endsWith("%")&&Io(e.slice(0,-1)),Je=e=>Iv.test(e),Fs=e=>DS.test(e),ek=new Set(["length","size","percentage"]),tk=e=>Ko(e,ek,Fv),rk=e=>Ko(e,"position",Fv),nk=new Set(["image","url"]),sk=e=>Ko(e,nk,lk),ik=e=>Ko(e,"",ak),Fa=()=>!0,Ko=(e,t,r)=>{const i=Iv.exec(e);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):r(i[2]):!1},ok=e=>YS.test(e)&&!ZS.test(e),Fv=()=>!1,ak=e=>XS.test(e),lk=e=>QS.test(e),ck=()=>{const e=bt("colors"),t=bt("spacing"),r=bt("blur"),i=bt("brightness"),a=bt("borderColor"),c=bt("borderRadius"),d=bt("borderSpacing"),u=bt("borderWidth"),h=bt("contrast"),m=bt("grayscale"),g=bt("hueRotate"),p=bt("invert"),v=bt("gap"),E=bt("gradientColorStops"),w=bt("gradientColorStopPositions"),k=bt("inset"),j=bt("margin"),R=bt("opacity"),M=bt("padding"),U=bt("saturate"),G=bt("scale"),O=bt("sepia"),Q=bt("skew"),X=bt("space"),$=bt("translate"),q=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],ie=()=>["auto",Je,t],fe=()=>[Je,t],A=()=>["",Dn,Is],V=()=>["auto",Io,Je],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>["start","end","center","between","around","evenly","stretch"],ye=()=>["","0",Je],_e=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[Io,Je];return{cacheSize:500,separator:":",theme:{colors:[Fa],spacing:[Dn,Is],blur:["none","",Fs,Je],brightness:D(),borderColor:[e],borderRadius:["none","","full",Fs,Je],borderSpacing:fe(),borderWidth:A(),contrast:D(),grayscale:ye(),hueRotate:D(),invert:ye(),gap:fe(),gradientColorStops:[e],gradientColorStopPositions:[JS,Is],inset:ie(),margin:ie(),opacity:D(),padding:fe(),saturate:D(),scale:D(),sepia:ye(),skew:D(),space:fe(),translate:fe()},classGroups:{aspect:[{aspect:["auto","square","video",Je]}],container:["container"],columns:[{columns:[Fs]}],"break-after":[{"break-after":_e()}],"break-before":[{"break-before":_e()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),Je]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[k]}],"inset-x":[{"inset-x":[k]}],"inset-y":[{"inset-y":[k]}],start:[{start:[k]}],end:[{end:[k]}],top:[{top:[k]}],right:[{right:[k]}],bottom:[{bottom:[k]}],left:[{left:[k]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ia,Je]}],basis:[{basis:ie()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Je]}],grow:[{grow:ye()}],shrink:[{shrink:ye()}],order:[{order:["first","last","none",Ia,Je]}],"grid-cols":[{"grid-cols":[Fa]}],"col-start-end":[{col:["auto",{span:["full",Ia,Je]},Je]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Fa]}],"row-start-end":[{row:["auto",{span:[Ia,Je]},Je]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Je]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[M]}],px:[{px:[M]}],py:[{py:[M]}],ps:[{ps:[M]}],pe:[{pe:[M]}],pt:[{pt:[M]}],pr:[{pr:[M]}],pb:[{pb:[M]}],pl:[{pl:[M]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[X]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[X]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Je,t]}],"min-w":[{"min-w":[Je,t,"min","max","fit"]}],"max-w":[{"max-w":[Je,t,"none","full","min","max","fit","prose",{screen:[Fs]},Fs]}],h:[{h:[Je,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Je,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Je,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Je,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Fs,Is]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xh]}],"font-family":[{font:[Fa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Je]}],"line-clamp":[{"line-clamp":["none",Io,Xh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Dn,Je]}],"list-image":[{"list-image":["none",Je]}],"list-style-type":[{list:["none","disc","decimal",Je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Dn,Is]}],"underline-offset":[{"underline-offset":["auto",Dn,Je]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:fe()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),rk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",tk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sk]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[E]}],"gradient-via":[{via:[E]}],"gradient-to":[{to:[E]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:J()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[Dn,Je]}],"outline-w":[{outline:[Dn,Is]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[Dn,Is]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Fs,ik]}],"shadow-color":[{shadow:[Fa]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...ce(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ce()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[i]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Fs,Je]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[p]}],saturate:[{saturate:[U]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[U]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Je]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",Je]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",Je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[G]}],"scale-x":[{"scale-x":[G]}],"scale-y":[{"scale-y":[G]}],rotate:[{rotate:[Ia,Je]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[Q]}],"skew-y":[{"skew-y":[Q]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Je]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":fe()}],"scroll-mx":[{"scroll-mx":fe()}],"scroll-my":[{"scroll-my":fe()}],"scroll-ms":[{"scroll-ms":fe()}],"scroll-me":[{"scroll-me":fe()}],"scroll-mt":[{"scroll-mt":fe()}],"scroll-mr":[{"scroll-mr":fe()}],"scroll-mb":[{"scroll-mb":fe()}],"scroll-ml":[{"scroll-ml":fe()}],"scroll-p":[{"scroll-p":fe()}],"scroll-px":[{"scroll-px":fe()}],"scroll-py":[{"scroll-py":fe()}],"scroll-ps":[{"scroll-ps":fe()}],"scroll-pe":[{"scroll-pe":fe()}],"scroll-pt":[{"scroll-pt":fe()}],"scroll-pr":[{"scroll-pr":fe()}],"scroll-pb":[{"scroll-pb":fe()}],"scroll-pl":[{"scroll-pl":fe()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Dn,Is,Xh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},uk=qS(ck);function Nt(...e){return uk(Bv(e))}const dk=wp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ut=C.forwardRef(({className:e,variant:t,size:r,asChild:i=!1,...a},c)=>{const d=i?jS:"button";return o.jsx(d,{className:Nt(dk({variant:t,size:r,className:e})),ref:c,...a})});Ut.displayName="Button";const Or=C.forwardRef(({className:e,type:t,...r},i)=>o.jsx("input",{type:t,className:Nt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...r}));Or.displayName="Input";const Uv=C.createContext(void 0);function fk({children:e,defaultTheme:t="system",storageKey:r="neochat-theme"}){const[i,a]=C.useState(()=>localStorage.getItem(r)||t);C.useEffect(()=>{const d=window.document.documentElement;if(d.classList.remove("light","dark"),i==="system"){const u=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";d.classList.add(u);return}d.classList.add(i)},[i]);const c={theme:i,setTheme:d=>{localStorage.setItem(r,d),a(d)}};return o.jsx(Uv.Provider,{value:c,children:e})}const hk=()=>{const e=C.useContext(Uv);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},I0=()=>{const{theme:e,setTheme:t}=hk();return o.jsxs(Ut,{variant:"ghost",size:"icon",onClick:()=>t(e==="light"?"dark":"light"),className:"relative overflow-hidden backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10 hover:bg-white/30 dark:hover:bg-white/10 transition-all duration-300",children:[o.jsx(_S,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),o.jsx(wS,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),o.jsx("span",{className:"sr-only",children:"Toggle theme"})]})},Qh=({identity:e,sessionToken:t,onLogout:r,searchQuery:i="",onSearchChange:a,notifications:c=0})=>{var g;const d=(g=e==null?void 0:e.getPrincipal())==null?void 0:g.toText(),u=d?d.length>12?`${d.slice(0,6)}...${d.slice(-3)}`:d:"Anonymous",h=p=>{a&&a(p.target.value)},m=()=>{r&&r()};return o.jsx("header",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border-b border-white/20 dark:border-gray-700/50 px-8 py-4 shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center space-x-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(NS,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx(Or,{placeholder:"Search agents, chats, analytics...",value:i,onChange:h,className:"pl-12 w-96 bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30 focus:border-blue-500/50 dark:focus:border-blue-400/50 focus:ring-blue-500/20 dark:focus:ring-blue-400/20 rounded-xl"})]})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(I0,{}),o.jsxs("div",{className:"flex items-center space-x-3 pl-4 border-l border-white/30 dark:border-gray-600/30",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:o.jsx(jv,{className:"w-5 h-5 text-white"})}),o.jsx("div",{className:"hidden md:block",children:o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:u})}),o.jsxs(Ut,{variant:"outline",size:"sm",onClick:m,className:"bg-white/50 dark:bg-gray-700/50 hover:bg-white/80 dark:hover:bg-gray-700/80 border-white/30 dark:border-gray-600/30 rounded-xl flex items-center space-x-2",children:[o.jsx(gS,{className:"w-4 h-4"}),o.jsx("span",{children:"Logout"})]})]})]})]})})},Jh=({onNavigate:e,activeView:t="dashboard",selectedAgent:r})=>{const i=[{id:"dashboard",icon:P0,label:"Dashboard",path:"/dashboard",disabled:!1},{id:"agents",icon:yp,label:"My Agents",path:"/my-agents",disabled:!1},{id:"create",icon:sl,label:"Create Agent",path:"/create-agent",disabled:!1},{id:"chat",icon:dd,label:"Chat",path:"/chat",disabled:!r},{id:"analytics",icon:P0,label:"Analytics",path:"/analytics",disabled:!1},{id:"billing",icon:cS,label:"Billing & Payments",path:"/billing",disabled:!1},{id:"embed",icon:_v,label:"Embed Widget",path:"/embed",disabled:!r},{id:"profile",icon:jv,label:"Profile",path:"/profile",disabled:!1}];return o.jsx("aside",{className:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 h-screen fixed left-0 top-0 z-40",children:o.jsxs("div",{className:"p-6 h-full overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-8",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:o.jsx(hl,{className:"w-5 h-5 text-white"})}),o.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"NeoChat"})]}),o.jsx("nav",{className:"space-y-2",children:i.map(a=>{const c=t===a.id;return o.jsxs(Ut,{variant:c?"default":"ghost",disabled:a.disabled,className:`w-full justify-start transition-all duration-200 ${c?"bg-blue-600 text-white hover:bg-blue-700":a.disabled?"text-gray-400 cursor-not-allowed opacity-50":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-blue-50 dark:hover:bg-gray-700"}`,onClick:()=>{a.disabled||e(a.id)},children:[o.jsx(a.icon,{className:`w-4 h-4 mr-3 ${c?"text-white":a.disabled?"text-gray-400":"text-gray-500 group-hover:text-blue-600"}`}),a.label,a.disabled&&a.id==="chat"&&o.jsx("span",{className:"ml-auto text-xs text-gray-400",children:"Select Agent"}),a.disabled&&a.id==="embed"&&o.jsx("span",{className:"ml-auto text-xs text-gray-400",children:"Select Agent"})]},a.id)})}),r&&o.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[o.jsx("div",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Active Agent"}),o.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300 truncate",children:r.name}),o.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:r.status==="Active"?"🟢 Active":"🔴 Inactive"})]})]})})},Ht=C.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Nt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ht.displayName="Card";const Ir=C.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Nt("flex flex-col space-y-1.5 p-6",e),...t}));Ir.displayName="CardHeader";const Fr=C.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:Nt("text-2xl font-semibold leading-none tracking-tight",e),...t}));Fr.displayName="CardTitle";const pk=C.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:Nt("text-sm text-muted-foreground",e),...t}));pk.displayName="CardDescription";const Lt=C.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Nt("p-6 pt-0",e),...t}));Lt.displayName="CardContent";const mk=C.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Nt("flex items-center p-6 pt-0",e),...t}));mk.displayName="CardFooter";const gk=({metrics:e,systemStatus:t})=>{const r=a=>a>=1e3?(a/1e3).toFixed(1)+"K":a.toString(),i=[{title:"Total Agents",value:e.totalAgents.toString(),change:e.monthlyGrowth.agents>0?`+${e.monthlyGrowth.agents}`:"0",icon:yp,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-gradient-to-br from-blue-50 to-blue-100/50 dark:from-blue-900/20 dark:to-blue-800/10",borderColor:"border-blue-200/50 dark:border-blue-800/30"},{title:"Active Agents",value:e.activeAgents.toString(),change:`${Math.round(e.activeAgents/Math.max(e.totalAgents,1)*100)}%`,icon:aS,color:"text-emerald-600 dark:text-emerald-400",bgColor:"bg-gradient-to-br from-emerald-50 to-emerald-100/50 dark:from-emerald-900/20 dark:to-emerald-800/10",borderColor:"border-emerald-200/50 dark:border-emerald-800/30"},{title:"Conversations",value:r(e.totalConversations),change:e.monthlyGrowth.conversations>0?`+${e.monthlyGrowth.conversations}`:"0",icon:dd,color:"text-purple-600 dark:text-purple-400",bgColor:"bg-gradient-to-br from-purple-50 to-purple-100/50 dark:from-purple-900/20 dark:to-purple-800/10",borderColor:"border-purple-200/50 dark:border-purple-800/30"},{title:"Total Messages",value:r(e.totalMessages),change:e.monthlyGrowth.messages>0?`+${e.monthlyGrowth.messages}`:"0",icon:fS,color:"text-orange-600 dark:text-orange-400",bgColor:"bg-gradient-to-br from-orange-50 to-orange-100/50 dark:from-orange-900/20 dark:to-orange-800/10",borderColor:"border-orange-200/50 dark:border-orange-800/30"}];return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:i.map((a,c)=>o.jsx(Ht,{className:`${a.bgColor} ${a.borderColor} border backdrop-blur-sm hover:shadow-lg transition-all duration-300 hover:scale-105`,children:o.jsxs(Lt,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:`p-3 rounded-xl ${a.bgColor} ${a.borderColor} border`,children:o.jsx(a.icon,{className:`w-6 h-6 ${a.color}`})}),o.jsxs("div",{className:"flex items-center space-x-1 text-emerald-600 dark:text-emerald-400",children:[o.jsx(kv,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:a.change})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:a.title}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.value})]})]})},c))}),o.jsx(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:o.jsxs(Lt,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"System Status"}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`h-2 w-2 rounded-full animate-pulse mr-3 ${t.agentManager==="Operational"?"bg-green-500":"bg-red-500"}`}),o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Agent Manager: ",t.agentManager]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`h-2 w-2 rounded-full animate-pulse mr-3 ${t.llmProcessor==="Operational"?"bg-green-500":"bg-red-500"}`}),o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["LLM Processor: ",t.llmProcessor]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`h-2 w-2 rounded-full animate-pulse mr-3 ${t.contextManager==="Operational"?"bg-green-500":"bg-red-500"}`}),o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Context Manager: ",t.contextManager]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`h-2 w-2 rounded-full animate-pulse mr-3 ${t.productionAPIs==="Ready"?"bg-green-500":"bg-yellow-500"}`}),o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Production APIs: ",t.productionAPIs]})]})]})]})})]})},xk=({onNavigate:e,selectedAgent:t})=>{const r=[{title:"Create New Agent",description:"Build a custom AI agent with personality and knowledge",icon:sl,color:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",iconBg:"bg-blue-100 dark:bg-blue-900/30",iconColor:"text-blue-600 dark:text-blue-400",onClick:()=>e("create"),disabled:!1},{title:"Start Conversation",description:"Chat with your existing agents instantly",icon:dd,color:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700",iconBg:"bg-emerald-100 dark:bg-emerald-900/30",iconColor:"text-emerald-600 dark:text-emerald-400",onClick:()=>e("chat"),disabled:!t},{title:"View Analytics",description:"Analyze performance and usage metrics",icon:P0,color:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700",iconBg:"bg-purple-100 dark:bg-purple-900/30",iconColor:"text-purple-600 dark:text-purple-400",onClick:()=>e("analytics"),disabled:!1},{title:"Manage Agents",description:"Configure and organize your AI agents",icon:Sv,color:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700",iconBg:"bg-orange-100 dark:bg-orange-900/30",iconColor:"text-orange-600 dark:text-orange-400",onClick:()=>e("agents"),disabled:!1}];return o.jsxs(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:[o.jsx(Ir,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg",children:o.jsx(M0,{className:"w-5 h-5 text-white"})}),o.jsx(Fr,{className:"text-xl text-gray-900 dark:text-white",children:"Quick Actions"})]}),o.jsx(Cv,{className:"w-5 h-5 text-yellow-500"})]})}),o.jsx(Lt,{children:o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:r.map((i,a)=>o.jsx("div",{className:`group p-5 bg-gradient-to-br from-white/80 to-white/40 dark:from-gray-800/80 dark:to-gray-800/40 backdrop-blur-sm border border-white/30 dark:border-gray-600/30 rounded-xl hover:shadow-lg transition-all duration-300 cursor-pointer hover:scale-105 ${i.disabled?"opacity-50 cursor-not-allowed":""}`,onClick:i.disabled?void 0:i.onClick,children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:`p-3 rounded-lg ${i.iconBg} group-hover:scale-110 transition-transform duration-300`,children:o.jsx(i.icon,{className:`w-6 h-6 ${i.iconColor}`})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:i.title}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 leading-relaxed",children:i.description}),o.jsx(Ut,{size:"sm",className:`${i.color} text-white shadow-md hover:shadow-lg transition-all duration-300`,disabled:i.disabled,onClick:c=>{c.stopPropagation(),i.disabled||i.onClick()},children:"Get Started"})]})]})},a))})})]})},yk=({agents:e,onSelectAgent:t,onNavigate:r})=>{const i=a=>{var c;return{...a,status:"Active"in a.status?"Active":"Inactive"in a.status?"Inactive":"Draft",created:a.created.toString(),lastUpdated:a.updated.toString(),config:{...a.config,personality:{...a.config.personality,responseStyle:a.config.personality.style},knowledgeBase:{documents:[],sources:[],context:""},behavior:{...a.config.behavior,maxResponseLength:Number(a.config.behavior.maxTokens),conversationMemory:a.config.contextSettings.enableMemory,escalationRules:[]},appearance:{...a.config.appearance,avatar:((c=a.config.appearance.avatar)==null?void 0:c[0])||"",theme:"Light"in a.config.appearance.theme?"Light":"Dark",welcomeMessage:"Hello! How can I help you today?"}}}};return o.jsxs(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl h-fit",children:[o.jsx(Ir,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-600 rounded-lg",children:o.jsx(yp,{className:"w-5 h-5 text-white"})}),o.jsx(Fr,{className:"text-xl text-gray-900 dark:text-white",children:"Recent Agents"})]}),o.jsxs(Ut,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-900/20",onClick:()=>r("agents"),children:["View all",o.jsx(gp,{className:"w-4 h-4 ml-1"})]})]})}),o.jsx(Lt,{children:e.length>0?o.jsx("div",{className:"space-y-3",children:e.map(a=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-white/80 to-white/40 dark:from-gray-800/80 dark:to-gray-800/40 backdrop-blur-sm border border-white/30 dark:border-gray-600/30 rounded-lg cursor-pointer hover:shadow-md transition-all duration-300 hover:scale-105",onClick:()=>{const c=i(a);t(c),r("chat")},children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 rounded-lg flex items-center justify-center border border-blue-200/50 dark:border-blue-800/30",children:o.jsx(dd,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.name}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[a.description.slice(0,50),"..."]})]})]}),o.jsx("div",{className:"flex items-center",children:o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${"Active"in a.status?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-800/30 dark:text-gray-400"}`,children:"Active"in a.status?"Active":"Inactive"in a.status?"Inactive":"Suspended"in a.status?"Suspended":"Archived"in a.status?"Archived":"Unknown"})})]},a.id))}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[o.jsxs("div",{className:"relative mb-6",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 rounded-full flex items-center justify-center border-2 border-blue-200/50 dark:border-blue-800/30",children:o.jsx(hl,{className:"w-10 h-10 text-blue-600 dark:text-blue-400"})}),o.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:o.jsx(sl,{className:"w-3 h-3 text-white"})})]}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Ready to get started?"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-sm leading-relaxed",children:"Create your first AI agent and start building intelligent conversations that engage your users."}),o.jsxs(Ut,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",onClick:()=>r("create"),children:[o.jsx(sl,{className:"w-4 h-4 mr-2"}),"Create Your First Agent"]})]})})]})},xu=({IDL:e})=>{const t=e.Text,r=e.Variant({NotFound:e.Null,ValidationError:e.Text,Unauthorized:e.Null,RateLimitExceeded:e.Null,ConfigurationError:e.Text,InternalError:e.Text,QuotaExceeded:e.Null}),i=e.Variant({ok:e.Null,err:r}),a=e.Text,c=e.Record({traits:e.Vec(e.Text),tone:e.Text,style:e.Text,communicationStyle:e.Variant({Creative:e.Null,Technical:e.Null,Conversational:e.Null,Educational:e.Null,Professional:e.Null}),responsePattern:e.Variant({Structured:e.Null,Detailed:e.Null,Narrative:e.Null,Concise:e.Null})}),d=e.Record({responseLength:e.Variant({Short:e.Null,Long:e.Null,Medium:e.Null,Variable:e.Null}),temperature:e.Float64,topP:e.Float64,contextWindow:e.Nat,frequencyPenalty:e.Float64,presencePenalty:e.Float64,systemPromptTemplate:e.Text,maxTokens:e.Nat,creativity:e.Float64}),u=e.Record({borderRadius:e.Text,theme:e.Variant({Light:e.Null,Auto:e.Null,Dark:e.Null}),primaryColor:e.Text,accentColor:e.Text,fontFamily:e.Text,secondaryColor:e.Text,fontSize:e.Text,customCSS:e.Opt(e.Text),avatar:e.Opt(e.Text)}),h=e.Nat,m=e.Int,g=e.Record({id:e.Text,content:e.Text,metadata:e.Vec(e.Tuple(e.Text,e.Text)),lastUpdated:m,isActive:e.Bool,sourceType:e.Variant({API:e.Null,URL:e.Null,Database:e.Null,Document:e.Null,Manual:e.Null}),version:h,priority:e.Nat}),p=e.Record({personality:c,integrationSettings:e.Record({webhooks:e.Vec(e.Record({url:e.Text,enabled:e.Bool,events:e.Vec(e.Text)})),rateLimiting:e.Record({maxTokensPerHour:e.Nat,enabled:e.Bool,maxRequestsPerHour:e.Nat}),allowedOrigins:e.Vec(e.Text)}),behavior:d,appearance:u,version:h,contextSettings:e.Record({enableLearning:e.Bool,memoryDuration:e.Nat,maxContextMessages:e.Nat,enableMemory:e.Bool}),knowledgeBase:e.Vec(g)}),v=e.Record({name:e.Text,tags:e.Vec(e.Text),description:e.Text,category:e.Text,isPublic:e.Bool,config:p}),E=e.Variant({ok:a,err:r}),w=e.Variant({ok:e.Text,err:e.Text}),k=e.Variant({ok:t,err:r}),j=e.Variant({Inactive:e.Null,Active:e.Null,Suspended:e.Null,Archived:e.Null}),R=e.Principal,M=e.Record({id:a,status:j,permissions:e.Record({accessLevel:e.Variant({Viewer:e.Null,Editor:e.Null,Owner:e.Null}),allowedUsers:e.Vec(R),isPublic:e.Bool}),created:m,configHistory:e.Vec(p),ownerId:R,name:e.Text,tags:e.Vec(e.Text),description:e.Text,analytics:e.Record({totalTokensUsed:e.Nat,totalMessages:e.Nat,averageRating:e.Opt(e.Float64),totalConversations:e.Nat}),updated:m,category:e.Text,config:p,lastUsed:e.Opt(m)}),U=e.Variant({ok:M,err:r}),G=e.Variant({ok:e.Record({totalTokensUsed:e.Nat,totalMessages:e.Nat,averageRating:e.Opt(e.Float64),totalConversations:e.Nat}),err:r}),O=e.Variant({ok:M,err:e.Text}),Q=e.Variant({ok:e.Vec(p),err:r}),X=e.Record({content:e.Text,metadata:e.Vec(e.Tuple(e.Text,e.Text)),role:e.Variant({System:e.Null,User:e.Null,Assistant:e.Null}),timestamp:m,tokenCount:e.Opt(e.Nat)}),$=e.Record({created:m,contextId:t,lastAccessed:m,messages:e.Vec(X),metadata:e.Vec(e.Tuple(e.Text,e.Text)),userId:R,agentId:a,compressionEnabled:e.Bool,maxSize:e.Nat}),q=e.Variant({ok:e.Vec($),err:r}),W=e.Variant({ok:$,err:r}),ie=e.Variant({ok:e.Vec(M),err:e.Text}),fe=e.Variant({ok:e.Record({contextId:t,tokensUsed:e.Nat,processingTime:e.Nat,response:e.Text,confidence:e.Float64}),err:r}),A=e.Variant({ok:h,err:r}),V=e.Record({errors:e.Vec(e.Text),score:e.Float64,warnings:e.Vec(e.Text),isValid:e.Bool});return e.Service({addContextMessage:e.Func([t,e.Variant({System:e.Null,User:e.Null,Assistant:e.Null}),e.Text],[i],[]),clearAgentContext:e.Func([a,t],[i],[]),createAgent:e.Func([v],[E],[]),createAgentAdvanced:e.Func([v],[E],[]),createAgentIntegrated:e.Func([e.Text,v],[w],[]),createAgentWithContextSettings:e.Func([v,e.Record({enableLearning:e.Bool,memoryDuration:e.Nat,maxContextMessages:e.Nat,enableMemory:e.Bool})],[E],[]),createConversationContext:e.Func([a],[k],[]),deleteAgent:e.Func([a],[i],[]),getAgent:e.Func([a],[U],["query"]),getAgentAnalytics:e.Func([a],[G],["query"]),getAgentAuthorized:e.Func([e.Text,e.Text],[O],[]),getAgentConfigHistory:e.Func([a],[Q],["query"]),getAgentContexts:e.Func([a],[q],[]),getConversationContext:e.Func([t],[W],["query"]),getUserAgents:e.Func([R],[e.Vec(M)],["query"]),getUserAgentsAuthorized:e.Func([e.Text],[ie],[]),healthCheck:e.Func([],[e.Record({status:e.Text,services:e.Vec(e.Text)})],[]),processAgentChat:e.Func([e.Text,e.Text,e.Text],[w],[]),processAgentChatAdvanced:e.Func([a,e.Text,e.Opt(t),e.Opt(e.Bool),e.Opt(e.Float64)],[fe],[]),revertAgentConfig:e.Func([a,h],[i],[]),test:e.Func([],[e.Text],[]),updateAgent:e.Func([a,p],[i],[]),updateAgentAdvanced:e.Func([a,p,e.Opt(e.Text)],[A],[]),updateAgentAnalytics:e.Func([a,e.Nat,e.Nat,e.Nat],[i],[]),updateAgentStatus:e.Func([a,j],[i],[]),validateAgentConfiguration:e.Func([p],[V],[])})},wk="bkyz2-fmaaa-aaaaa-qaaaq-cai",vk=(e,t={})=>{const r=t.agent||new ns({...t.agentOptions});return t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),r.fetchRootKey().catch(i=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(i)}),gr.createActor(xu,{agent:r,canisterId:e,...t.actorOptions})};vk(wk);const yu=({IDL:e})=>{const t=e.Principal,r=e.Variant({InvalidUsage:e.Null,InsufficientBalance:e.Null,InternalError:e.Text,UserNotFound:e.Null}),i=e.Variant({ok:e.Null,err:r}),a=e.Text,c=e.Text,d=e.Variant({AdvancedPrompts:e.Null,ChainFusion:e.Null,BasicChat:e.Null,DocumentIntegration:e.Null}),u=e.Variant({AgentCreation:e.Null,CustomPromptTraining:e.Null,DocumentUpload:e.Null,MessageProcessing:d}),h=e.Int,m=e.Record({id:a,cost:e.Float64,userId:t,agentId:c,tokens:e.Nat,operation:u,timestamp:h}),g=e.Variant({Enterprise:e.Null,Base:e.Null,Professional:e.Null,Standard:e.Null}),p=e.Record({balance:e.Float64,userId:t,lastUpdated:h,monthlyUsage:e.Nat,currentTier:g}),v=e.Variant({ok:p,err:r}),E=e.Variant({ok:a,err:r});return e.Service({addBalance:e.Func([t,e.Float64],[i],[]),getUsageHistory:e.Func([t,e.Opt(e.Nat)],[e.Vec(m)],["query"]),getUserBalance:e.Func([t],[v],["query"]),healthCheck:e.Func([],[e.Record({status:e.Text,totalUsers:e.Nat,totalTransactions:e.Nat})],[]),recordUsage:e.Func([t,c,e.Nat,u],[E],[]),test:e.Func([],[e.Text],[])})},bk="b77ix-eeaaa-aaaaa-qaada-cai",Nk=(e,t={})=>{const r=t.agent||new ns({...t.agentOptions});return t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),r.fetchRootKey().catch(i=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(i)}),gr.createActor(yu,{agent:r,canisterId:e,...t.actorOptions})};Nk(bk);const wu=({IDL:e})=>{const t=e.Text,r=e.Int,i=e.Record({id:t,content:e.Text,metadata:e.Vec(e.Tuple(e.Text,e.Text)),role:e.Variant({System:e.Null,User:e.Null,Agent:e.Null}),tokens:e.Nat,timestamp:r}),a=e.Text,c=e.Text,d=e.Record({context:e.Opt(e.Vec(i)),temperature:e.Opt(e.Float64),userMessage:e.Text,agentId:a,conversationId:c,systemPrompt:e.Opt(e.Text),enableStreaming:e.Opt(e.Bool),maxTokens:e.Opt(e.Nat),agentPersonality:e.Opt(e.Text),routingStrategy:e.Opt(e.Text)}),u=e.Record({messageId:t,metadata:e.Vec(e.Tuple(e.Text,e.Text)),agentResponse:e.Text,processingTime:e.Nat,tokens:e.Nat,modelUsed:e.Text,cached:e.Bool,confidence:e.Float64,providerId:e.Text}),h=e.Variant({InvalidInput:e.Text,ProcessingError:e.Text,ServiceUnavailable:e.Null,RateLimited:e.Null}),m=e.Variant({ok:u,err:h}),g=e.Variant({ok:e.Text,err:h});return e.Service({getProcessorStatus:e.Func([],[e.Record({provider:e.Text,healthy:e.Bool,version:e.Text})],["query"]),healthCheck:e.Func([],[e.Record({status:e.Text,providers:e.Nat,activeProviders:e.Nat})],[]),processMessage:e.Func([d],[m],[]),processPrompt:e.Func([e.Text],[g],[]),processWithLLM:e.Func([e.Text],[g],[]),test:e.Func([],[e.Text],[])})},Ek="bw4dl-smaaa-aaaaa-qaacq-cai",_k=(e,t={})=>{const r=t.agent||new ns({...t.agentOptions});return t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),r.fetchRootKey().catch(i=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(i)}),gr.createActor(wu,{agent:r,canisterId:e,...t.actorOptions})};_k(Ek);const $c="bkyz2-fmaaa-aaaaa-qaaaq-cai",zc="b77ix-eeaaa-aaaaa-qaada-cai",Vc="bw4dl-smaaa-aaaaa-qaacq-cai",e0="local";class Sk{constructor(){nn(this,"agent",null);nn(this,"agentManagerActor",null);nn(this,"metricsCollectorActor",null);nn(this,"llmProcessorActor",null);nn(this,"identity",null);nn(this,"isInitialized",!1);nn(this,"healthCheckCache",new Map);nn(this,"CACHE_DURATION",3e4);nn(this,"HEALTH_CHECK_TIMEOUT",8e3);nn(this,"pendingHealthChecks",new Map);this.initializeAgent()}async initializeAgent(){try{if(console.log("Initializing canister service..."),console.log("Agent Manager Canister ID:",$c),console.log("Metrics Collector Canister ID:",zc),console.log("LLM Processor Canister ID:",Vc),console.log("DFX Network:",e0),this.agent=new ns({host:e0==="local"?"http://localhost:4943":"https://ic0.app"}),e0==="local"){console.log("Fetching root key for local development...");try{await this.agent.fetchRootKey(),console.log("Root key fetched successfully")}catch(t){throw console.error("Failed to fetch root key:",t),new Error("Failed to initialize local development environment")}}this.agentManagerActor=gr.createActor(xu,{agent:this.agent,canisterId:$c}),this.metricsCollectorActor=gr.createActor(yu,{agent:this.agent,canisterId:zc}),this.llmProcessorActor=gr.createActor(wu,{agent:this.agent,canisterId:Vc}),this.isInitialized=!0,console.log("Canister service initialized successfully")}catch(t){console.error("Failed to initialize canister service:",t),this.isInitialized=!1}}async setIdentity(t){console.log("Setting identity for canister service...",t?"with identity":"clearing identity"),this.identity=t,this.agent&&(t?(this.agent.replaceIdentity(t),this.agentManagerActor=gr.createActor(xu,{agent:this.agent,canisterId:$c}),this.metricsCollectorActor=gr.createActor(yu,{agent:this.agent,canisterId:zc}),this.llmProcessorActor=gr.createActor(wu,{agent:this.agent,canisterId:Vc}),console.log("Identity set successfully")):(this.agent.replaceIdentity(new Qa),this.agentManagerActor=gr.createActor(xu,{agent:this.agent,canisterId:$c}),this.metricsCollectorActor=gr.createActor(yu,{agent:this.agent,canisterId:zc}),this.llmProcessorActor=gr.createActor(wu,{agent:this.agent,canisterId:Vc}),console.log("Identity cleared successfully")))}isAuthenticated(){if(!this.isInitialized||!this.identity)return!1;const r=this.identity.getPrincipal().toText(),i=r==="2vxsx-fae";return console.log("CanisterService.isAuthenticated() - Principal:",r,"Is anonymous:",i),!i}isReady(){return this.isInitialized&&this.agentManagerActor!==null}async createAgent(t){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for agent creation");try{console.log("Creating agent with data:",t);const r=await this.agentManagerActor.createAgent(t);if("ok"in r)return r.ok;throw new Error(`Agent creation failed: ${JSON.stringify(r.err)}`)}catch(r){throw console.error("Error creating agent:",r),r}}async getUserAgents(){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.isAuthenticated())return console.log("Not authenticated, returning empty agent list"),[];try{const t=this.identity.getPrincipal();console.log("Fetching agents for principal:",t.toString());const r=await this.agentManagerActor.getUserAgents(t);return console.log("Raw agents from canister:",r),r.map(i=>({id:i.id,name:i.name,description:i.description,status:i.status,created:i.created,updated:i.updated,ownerId:i.ownerId.toString(),config:i.config,analytics:i.analytics?{averageRating:i.analytics.averageRating?Number(i.analytics.averageRating):void 0,totalConversations:Number(i.analytics.totalConversations),totalMessages:Number(i.analytics.totalMessages),totalTokensUsed:Number(i.analytics.totalTokensUsed)}:void 0}))}catch(t){if(console.error("Error fetching user agents:",t),t instanceof Error&&t.message&&t.message.includes("IDL error"))return console.warn("IDL type mismatch during getUserAgents, returning empty list"),[];throw t}}async getAgent(t){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for getAgent");try{const r=await this.agentManagerActor.getAgent(t);if("ok"in r)return{...r.ok,ownerId:r.ok.ownerId.toString(),analytics:r.ok.analytics?{averageRating:r.ok.analytics.averageRating.length>0?r.ok.analytics.averageRating[0]:void 0,totalConversations:Number(r.ok.analytics.totalConversations),totalMessages:Number(r.ok.analytics.totalMessages),totalTokensUsed:Number(r.ok.analytics.totalTokensUsed)}:void 0};throw new Error(`Failed to get agent: ${JSON.stringify(r.err)}`)}catch(r){throw console.error("Error fetching agent:",r),r}}async getAgentPublic(t){if(!this.agentManagerActor)throw new Error("Canister service not initialized");try{const r=await this.agentManagerActor.getAgent(t);if("ok"in r)return{...r.ok,ownerId:r.ok.ownerId.toString(),analytics:r.ok.analytics?{averageRating:r.ok.analytics.averageRating.length>0?r.ok.analytics.averageRating[0]:void 0,totalConversations:Number(r.ok.analytics.totalConversations),totalMessages:Number(r.ok.analytics.totalMessages),totalTokensUsed:Number(r.ok.analytics.totalTokensUsed)}:void 0};throw new Error(`Failed to get agent: ${JSON.stringify(r.err)}`)}catch(r){throw console.error("Error fetching agent:",r),r}}async getAgentAnalytics(t){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for getAgentAnalytics");try{const r=await this.agentManagerActor.getAgentAnalytics(t);if("ok"in r)return{totalConversations:Number(r.ok.totalConversations),totalMessages:Number(r.ok.totalMessages),totalTokensUsed:Number(r.ok.totalTokensUsed),averageRating:r.ok.averageRating.length>0?r.ok.averageRating[0]:void 0};throw new Error(`Failed to get agent analytics: ${JSON.stringify(r.err)}`)}catch(r){return console.error("Error fetching agent analytics:",r),null}}async getUserBalance(){if(!this.metricsCollectorActor)throw new Error("Canister service not initialized");if(!this.identity)return console.log("No identity available, returning null balance"),null;try{const t=this.identity.getPrincipal();console.log("Fetching balance for principal:",t.toString());const r=await this.metricsCollectorActor.getUserBalance(t);if("ok"in r)return{balance:Number(r.ok.balance),currentTier:"Base"in r.ok.currentTier?"Base":"Standard"in r.ok.currentTier?"Standard":"Professional"in r.ok.currentTier?"Professional":"Enterprise",lastUpdated:Number(r.ok.lastUpdated),monthlyUsage:Number(r.ok.monthlyUsage),userId:r.ok.userId.toString()};if("UserNotFound"in r.err){console.log("User not found in metrics collector, creating default balance");try{await this.metricsCollectorActor.addBalance(t,0);const i=await this.metricsCollectorActor.getUserBalance(t);if("ok"in i)return{balance:Number(i.ok.balance),currentTier:"Base"in i.ok.currentTier?"Base":"Standard"in i.ok.currentTier?"Standard":"Professional"in i.ok.currentTier?"Professional":"Enterprise",lastUpdated:Number(i.ok.lastUpdated),monthlyUsage:Number(i.ok.monthlyUsage),userId:i.ok.userId.toString()}}catch(i){console.error("Error creating default balance:",i)}return{balance:0,currentTier:"Base",lastUpdated:Date.now(),monthlyUsage:0,userId:t.toString()}}throw new Error(`Failed to get user balance: ${JSON.stringify(r.err)}`)}catch(t){return console.error("Error fetching user balance:",t),this.identity?{balance:0,currentTier:"Base",lastUpdated:Date.now(),monthlyUsage:0,userId:this.identity.getPrincipal().toString()}:null}}async getUsageHistory(t){if(!this.metricsCollectorActor)throw new Error("Canister service not initialized");if(!this.identity)return console.log("No identity available, returning empty usage history"),[];try{const r=this.identity.getPrincipal();return console.log("Fetching usage history for principal:",r.toString()),(await this.metricsCollectorActor.getUsageHistory(r,t?[BigInt(t)]:[])).map(a=>({id:a.id,userId:a.userId.toString(),agentId:a.agentId,operation:a.operation,tokens:Number(a.tokens),cost:Number(a.cost),timestamp:Number(a.timestamp)}))}catch(r){return console.error("Error fetching usage history:",r),[]}}async processChat(t,r,i){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for processChat");try{const a=await this.agentManagerActor.processAgentChatAdvanced(t,r,[],[],[]);if("ok"in a)return a.ok.response;{let c;throw typeof a.err=="object"&&a.err!==null?"NotFound"in a.err?c="Agent not found. Please select a valid agent to chat with.":"Unauthorized"in a.err?c="You are not authorized to chat with this agent.":"ConfigurationError"in a.err?c=`Agent configuration error: ${a.err.ConfigurationError}`:"ValidationError"in a.err?c=`Validation error: ${a.err.ValidationError}`:"InternalError"in a.err?c=`Internal error: ${a.err.InternalError}`:"RateLimitExceeded"in a.err?c="Rate limit exceeded. Please try again later.":"QuotaExceeded"in a.err?c="Quota exceeded. Please upgrade your plan or try again later.":c=JSON.stringify(a.err):c=String(a.err),new Error(`Chat processing failed: ${c}`)}}catch(a){throw console.error("Error processing chat:",a),a}}async withTimeout(t,r=5e3){return Promise.race([t,new Promise((i,a)=>setTimeout(()=>a(new Error("Operation timed out")),r))])}getCachedResult(t){const r=this.healthCheckCache.get(t);return r&&Date.now()-r.timestamp<this.CACHE_DURATION?(console.log(`Using cached result for ${t}:`,r.result),r.result):null}setCachedResult(t,r,i=!0){this.healthCheckCache.set(t,{result:r,timestamp:Date.now(),isHealthy:i})}async executeWithDebounce(t,r){if(this.pendingHealthChecks.has(t))return console.log(`Debouncing health check for ${t}, using pending operation`),this.pendingHealthChecks.get(t);const i=this.getCachedResult(t);if(i)return i;const a=r();this.pendingHealthChecks.set(t,a);try{const c=await a;return this.setCachedResult(t,c,!0),c}catch(c){const d=this.getErrorFallback(t);throw this.setCachedResult(t,d,!1),c}finally{this.pendingHealthChecks.delete(t)}}getErrorFallback(t){switch(t){case"agentManager":return{status:"Error",services:["AgentManager: Error"]};case"llmProcessor":return{status:"Error",providers:0,activeProviders:0};case"contextManager":return{status:"Error",totalContexts:0,activeContexts:0,totalMessages:0};default:return{status:"Error"}}}async healthCheck(){return this.executeWithDebounce("agentManager",async()=>{try{if(!this.agentManagerActor)return{status:"Not initialized",services:["AgentManager: Not Available"]};const t=await this.withTimeout(this.agentManagerActor.healthCheck(),this.HEALTH_CHECK_TIMEOUT);return console.log("Agent Manager health check result:",t),t}catch(t){return console.error("Error checking health:",t),{status:"Error",services:["AgentManager: Error"]}}})}async getLLMProcessorHealth(){return this.executeWithDebounce("llmProcessor",async()=>{try{if(!this.llmProcessorActor)return console.warn("LLM Processor actor not initialized, returning fallback status"),{status:"Not Available",providers:0,activeProviders:0};const t=await this.withTimeout(this.llmProcessorActor.healthCheck(),this.HEALTH_CHECK_TIMEOUT);return console.log("LLM Processor health check result:",t),{status:(()=>{const i=t.status;return i.includes("Operational")?"Operational":i.includes("Degraded")?"Degraded":i.includes("Timeout")?"Timeout":"Error"})(),providers:Number(t.providers),activeProviders:Number(t.activeProviders)}}catch(t){return console.error("Error checking LLM processor health:",t),{status:(t instanceof Error?t.message:"Unknown error").includes("timed out")?"Timeout":"Error",providers:0,activeProviders:0}}})}async getContextManagerHealth(){return this.executeWithDebounce("contextManager",async()=>{try{return{status:"Operational",totalContexts:0,activeContexts:0,totalMessages:0}}catch(t){return console.error("Error checking context manager health:",t),{status:"Error",totalContexts:0,activeContexts:0,totalMessages:0}}})}async getSystemStatus(){try{console.log("Getting system status...");const t=await Promise.allSettled([this.healthCheck(),this.getLLMProcessorHealth(),this.getContextManagerHealth()]),[r,i,a]=t;console.log("Health check results:",{agentHealth:r.status==="fulfilled"?r.value:r.reason,llmHealth:i.status==="fulfilled"?i.value:i.reason,contextHealth:a.status==="fulfilled"?a.value:a.reason});const c=r.status==="fulfilled"?(()=>{const g=r.value.services.find(p=>p.includes("AgentManager"));return g&&g.includes("OK")?"Operational":g&&g.includes("DEGRADED")?"Degraded":"Error"})():"Error",d=i.status==="fulfilled"?i.value.status:"Error",u=r.status==="fulfilled"?(()=>{const g=r.value.services.find(p=>p.includes("ContextManager"));return g&&g.includes("OK")?"Operational":g&&g.includes("DEGRADED")?"Degraded":"Error"})():"Error",m={agentManager:c,llmProcessor:d,contextManager:u,productionAPIs:c==="Operational"?"Ready":"Error"};return console.log("Final system status:",m),m}catch(t){return console.error("Error getting system status:",t),{agentManager:"Error",llmProcessor:"Error",contextManager:"Error",productionAPIs:"Error"}}}async getAnalyticsData(){try{const t=await this.getUserAgents();let r=0;for(const i of t)i.analytics&&(r+=i.analytics.totalMessages);return{totalAgents:t.length,totalMessages:r,activeUsers:1,systemUptime:"99.9%"}}catch(t){return console.error("Error getting analytics data:",t),{totalAgents:0,totalMessages:0,activeUsers:0,systemUptime:"0%"}}}async getComprehensiveAnalytics(){try{const t=await this.getUserAgents(),[r,i]=await Promise.allSettled([this.getUsageHistory(50),this.getUserBalance()]);let a=0,c=0,d=0,u=0,h=0;const m=t.map(p=>{const v=p.analytics||{totalMessages:0,totalConversations:0,totalTokensUsed:0,averageRating:void 0};return a+=v.totalMessages,c+=v.totalConversations,d+=v.totalTokensUsed,v.averageRating!==void 0&&(u+=v.averageRating,h++),{agentId:p.id,agentName:p.name,messages:v.totalMessages,conversations:v.totalConversations,avgResponseTime:1.2,satisfaction:v.averageRating||4.5,tokensUsed:v.totalTokensUsed,status:"Active"in p.status?"Active":"Inactive"in p.status?"Inactive":"Suspended"in p.status?"Suspended":"Archived"in p.status?"Archived":"Unknown"}});return{overview:{totalMessages:a,totalConversations:c,averageResponseTime:1.2,successRate:a>0?98.5:100,totalTokensUsed:d},agentPerformance:m,usageHistory:r.status==="fulfilled"?r.value:[],userBalance:i.status==="fulfilled"?i.value:null}}catch(t){return console.error("Error getting comprehensive analytics:",t),{overview:{totalMessages:0,totalConversations:0,averageResponseTime:0,successRate:0,totalTokensUsed:0},agentPerformance:[],usageHistory:[],userBalance:null}}}async addBalance(t){if(!this.metricsCollectorActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for addBalance");try{const r=this.identity.getPrincipal();console.log(`Adding balance: ${t} for principal:`,r.toString());const i=await this.metricsCollectorActor.addBalance(r,t);if("err"in i)throw new Error(`Failed to add balance: ${JSON.stringify(i.err)}`);console.log("Balance added successfully")}catch(r){throw console.error("Error adding balance:",r),r}}async getMetricsCollectorHealth(){if(!this.metricsCollectorActor)throw new Error("Canister service not initialized");try{const t=await this.metricsCollectorActor.healthCheck();return{status:t.status,totalUsers:Number(t.totalUsers),totalTransactions:Number(t.totalTransactions)}}catch(t){throw console.error("Error getting metrics collector health:",t),t}}async testCanisterAccess(){if(!this.isAuthenticated())return console.log("Not authenticated, canister access test will fail"),{agentManager:!1,metricsCollector:!1};const t={agentManager:!1,metricsCollector:!1};return this.agentManagerActor&&(t.agentManager=!0),this.metricsCollectorActor&&(t.metricsCollector=!0),t}async updateAgent(t,r){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for updateAgent");try{const i=await this.agentManagerActor.updateAgent(t,r);if("err"in i)throw new Error(`Agent update failed: ${JSON.stringify(i.err)}`)}catch(i){throw console.error("Error updating agent:",i),i}}async updateAgentStatus(t,r){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for updateAgentStatus");try{const i=r==="Active"?{Active:null}:r==="Inactive"?{Inactive:null}:r==="Suspended"?{Suspended:null}:{Archived:null},a=await this.agentManagerActor.updateAgentStatus(t,i);if("err"in a)throw new Error(`Agent status update failed: ${JSON.stringify(a.err)}`)}catch(i){throw console.error("Error updating agent status:",i),i}}async deleteAgent(t){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for deleteAgent");try{const r=await this.agentManagerActor.deleteAgent(t);if("err"in r)throw new Error(`Agent deletion failed: ${JSON.stringify(r.err)}`)}catch(r){throw console.error("Error deleting agent:",r),r}}async waitForReady(t=1e4){const r=Date.now();for(;!this.isReady()&&Date.now()-r<t;)await new Promise(i=>setTimeout(i,100));if(!this.isReady())throw new Error("Canister service failed to initialize within timeout")}clearHealthCheckCache(){console.log("Clearing health check cache..."),this.healthCheckCache.clear(),this.pendingHealthChecks.clear()}}const At=new Sk,kk=({agent:e,onClose:t,onEdit:r,onUpdate:i})=>{const[a,c]=C.useState(!1),[d,u]=C.useState(null);if(!e)return null;const h=()=>{u({...e}),c(!0)},m=async()=>{d&&(await i(e.id,d),c(!1),u(null))},g=()=>{c(!1),u(null)},p=(j,R)=>{d&&u({...d,[j]:R})},v=(j,R,M)=>{d&&u({...d,config:{...d.config,[j]:{...d.config[j],[R]:M}}})},E=j=>{if(d&&j.trim()){const R=d.config.personality.traits;R.includes(j.trim())||v("personality","traits",[...R,j.trim()])}},w=j=>{if(d){const R=d.config.personality.traits;v("personality","traits",R.filter((M,U)=>U!==j))}},k=a?d:e;return k?o.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:o.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-11/12 max-w-6xl shadow-lg rounded-md bg-white max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a?"Edit Agent":"Agent Details"}),o.jsxs("div",{className:"flex space-x-2",children:[a?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:m,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[o.jsx(E4,{className:"h-4 w-4 mr-1"}),"Save"]}),o.jsx("button",{onClick:g,className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"})]}):o.jsxs("button",{onClick:h,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(X4,{className:"h-4 w-4 mr-1"}),"Edit"]}),o.jsx("button",{onClick:t,className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:o.jsx(bv,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a?o.jsx("input",{type:"text",value:k.name,onChange:j=>p("name",j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):o.jsx("p",{className:"text-lg font-medium text-gray-900",children:k.name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a?o.jsx("textarea",{value:k.description,onChange:j=>p("description",j.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):o.jsx("p",{className:"text-gray-600",children:k.description})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k.status==="Active"?"bg-green-100 text-green-800":k.status==="Inactive"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:k.status})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created"}),o.jsxs("p",{className:"text-gray-600",children:[new Date(k.created).toLocaleDateString()," at"," ",new Date(k.created).toLocaleTimeString()]})]})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Personality"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Personality Traits"}),a?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",placeholder:"Add a trait...",onKeyPress:j=>{j.key==="Enter"&&(E(j.target.value),j.target.value="")},className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("button",{onClick:()=>{const j=document.querySelector('input[placeholder="Add a trait..."]');j&&(E(j.value),j.value="")},className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:o.jsx(wv,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"flex flex-wrap gap-1",children:k.config.personality.traits.map((j,R)=>o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[j,o.jsx("button",{onClick:()=>w(R),className:"ml-1 text-blue-600 hover:text-blue-800",children:o.jsx(vv,{className:"h-3 w-3"})})]},R))})]}):o.jsx("div",{className:"flex flex-wrap gap-1",children:k.config.personality.traits.map((j,R)=>o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:j},R))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tone"}),a?o.jsx("input",{type:"text",value:k.config.personality.tone,onChange:j=>v("personality","tone",j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):o.jsx("p",{className:"text-gray-600",children:k.config.personality.tone})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Response Style"}),a?o.jsx("input",{type:"text",value:k.config.personality.responseStyle,onChange:j=>v("personality","responseStyle",j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):o.jsx("p",{className:"text-gray-600",children:k.config.personality.responseStyle})]})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Appearance"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Theme Color"}),a?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"color",value:k.config.appearance.theme,onChange:j=>v("appearance","theme",j.target.value),className:"w-12 h-8 border border-gray-300 rounded"}),o.jsx("input",{type:"text",value:k.config.appearance.theme,onChange:j=>v("appearance","theme",j.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:k.config.appearance.theme}}),o.jsx("span",{className:"text-sm text-gray-600",children:k.config.appearance.theme})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Avatar"}),a?o.jsx("input",{type:"text",value:k.config.appearance.avatar,onChange:j=>v("appearance","avatar",j.target.value),placeholder:"Enter avatar URL or identifier",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):o.jsx("p",{className:"text-sm text-gray-600",children:k.config.appearance.avatar})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Welcome Message"}),a?o.jsx("textarea",{value:k.config.appearance.welcomeMessage,onChange:j=>v("appearance","welcomeMessage",j.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):o.jsx("p",{className:"text-sm text-gray-600",children:k.config.appearance.welcomeMessage})]})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Behavior"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Response Length"}),a?o.jsx("input",{type:"number",value:k.config.behavior.maxResponseLength,onChange:j=>v("behavior","maxResponseLength",parseInt(j.target.value)),min:"100",max:"2000",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):o.jsxs("p",{className:"text-gray-600",children:[k.config.behavior.maxResponseLength," characters"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conversation Memory"}),a?o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:k.config.behavior.conversationMemory,onChange:j=>v("behavior","conversationMemory",j.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Enable conversation memory"})]}):o.jsx("p",{className:"text-gray-600",children:k.config.behavior.conversationMemory?"Enabled":"Disabled"})]})]})]})]})]}),k.config.knowledgeBase.sources&&k.config.knowledgeBase.sources.length>0&&o.jsx("div",{className:"mt-8",children:o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Knowledge Sources"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:k.config.knowledgeBase.sources.map((j,R)=>{var M;return o.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-white",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:j.type}),o.jsx("span",{className:"text-xs text-gray-500",children:(M=j.metadata)!=null&&M.fileSize?`${j.metadata.fileSize} bytes`:"N/A"})]}),o.jsx("p",{className:"text-sm text-gray-600 truncate",children:j.content}),j.metadata&&Object.keys(j.metadata).length>0&&o.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:Object.entries(j.metadata).map(([U,G],O)=>o.jsxs("span",{className:"text-xs text-gray-500",children:[U,": ",G]},O))})]},R)})})]})}),o.jsx("div",{className:"mt-8",children:o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Knowledge Base Context"}),a?o.jsx("textarea",{value:k.config.knowledgeBase.context,onChange:j=>v("knowledgeBase","context",j.target.value),rows:4,placeholder:"Enter additional context or instructions for the agent...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):o.jsx("p",{className:"text-gray-600 text-sm",children:k.config.knowledgeBase.context||"No knowledge base context configured"})]})})]})}):null},jk=({sessionToken:e,onSelectAgent:t,selectedAgent:r})=>{const[i,a]=C.useState([]),[c,d]=C.useState(!0),[u,h]=C.useState(null),[m,g]=C.useState(null);C.useEffect(()=>{(async()=>{if(e)try{d(!0),h(null);const U=(await At.getUserAgents()).map(G=>({id:G.id,name:G.name,description:G.description,status:"Active"in G.status?"Active":"Inactive"in G.status?"Inactive":"Draft",created:new Date(Number(G.created)/1e6).toISOString(),config:{personality:{traits:G.config.personality.traits,tone:G.config.personality.tone,responseStyle:G.config.personality.style},knowledgeBase:{documents:[],sources:G.config.knowledgeBase.map(O=>({type:"Manual"in O.sourceType?"Manual":"URL"in O.sourceType?"URL":"Document"in O.sourceType?"Document":"API"in O.sourceType?"API":"Database",content:O.content,metadata:O.metadata.reduce((Q,[X,$])=>(Q[X]=$,Q),{})})),context:G.config.knowledgeBase.map(O=>O.content).join(" ")},behavior:{maxResponseLength:500,conversationMemory:!0,escalationRules:[]},appearance:{avatar:Array.isArray(G.config.appearance.avatar)&&G.config.appearance.avatar.length>0?G.config.appearance.avatar[0]:"default",theme:G.config.appearance.primaryColor,welcomeMessage:"Hello! How can I help you today?"}},avatar:Array.isArray(G.config.appearance.avatar)&&G.config.appearance.avatar.length>0?G.config.appearance.avatar[0]:"",lastUpdated:new Date().toISOString()}));a(U)}catch(M){console.error("Error loading agents:",M),h("Failed to load agents. Please try again."),a([])}finally{d(!1)}})()},[e]);const p=R=>{t(R)},v=R=>{g(R)},E=()=>{g(null)},w=async(R,M)=>{try{const U=i.find(Q=>Q.id===R);if(!U)return;const G={...U,...M},O={personality:{traits:G.config.personality.traits,tone:G.config.personality.tone,style:G.config.personality.responseStyle,communicationStyle:{Conversational:null},responsePattern:{Detailed:null}},behavior:{responseLength:{Medium:null},temperature:.7,creativity:.5,topP:.9,contextWindow:BigInt(4e3),maxTokens:BigInt(1e3),frequencyPenalty:0,presencePenalty:0,systemPromptTemplate:"You are a helpful AI assistant."},appearance:{primaryColor:G.config.appearance.theme,secondaryColor:"#ffffff",accentColor:"#3b82f6",borderRadius:"8px",avatar:G.config.appearance.avatar?[G.config.appearance.avatar]:[],customCSS:[],fontFamily:"Inter",fontSize:"14px",theme:{Auto:null}},contextSettings:{enableLearning:!0,enableMemory:!0,maxContextMessages:BigInt(10),memoryDuration:BigInt(3600)},integrationSettings:{allowedOrigins:[],rateLimiting:{enabled:!1,maxRequestsPerHour:BigInt(100),maxTokensPerHour:BigInt(1e4)},webhooks:[]},knowledgeBase:G.config.knowledgeBase.sources.map(Q=>({id:Math.random().toString(36).substr(2,9),content:Q.content,sourceType:Q.type==="Manual"?{Manual:null}:Q.type==="URL"?{URL:null}:Q.type==="Document"?{Document:null}:Q.type==="API"?{API:null}:{Database:null},metadata:Q.metadata?Object.entries(Q.metadata).filter(([X,$])=>X&&$!==void 0).map(([X,$])=>[X,String($)]):[],isActive:!0,lastUpdated:BigInt(Date.now()),priority:BigInt(1),version:BigInt(1)})),version:BigInt(1)};await At.updateAgent(R,O),a(Q=>Q.map(X=>X.id===R?G:X)),(m==null?void 0:m.id)===R&&g(G),(r==null?void 0:r.id)===R&&t(G)}catch(U){console.error("Error updating agent:",U),h("Failed to update agent")}},k=async(R,M)=>{try{const U=M==="Active"?"Inactive":"Active";console.log(`Toggling status for agent ${R} from ${M} to ${U}`),await At.updateAgentStatus(R,U);const O=(await At.getUserAgents()).map(Q=>({id:Q.id,name:Q.name,description:Q.description,status:"Active"in Q.status?"Active":"Inactive"in Q.status?"Inactive":"Draft",created:new Date(Number(Q.created)/1e6).toISOString(),config:{personality:{traits:Q.config.personality.traits,tone:Q.config.personality.tone,responseStyle:Q.config.personality.style},knowledgeBase:{documents:[],sources:Q.config.knowledgeBase.map(X=>({type:"Manual"in X.sourceType?"Manual":"URL"in X.sourceType?"URL":"Document"in X.sourceType?"Document":"API"in X.sourceType?"API":"Database",content:X.content,metadata:X.metadata.reduce(($,[q,W])=>($[q]=W,$),{})})),context:Q.config.knowledgeBase.map(X=>X.content).join(" ")},behavior:{maxResponseLength:500,conversationMemory:!0,escalationRules:[]},appearance:{avatar:Q.config.appearance.avatar.length>0?Q.config.appearance.avatar[0]:"",theme:Q.config.appearance.primaryColor,welcomeMessage:"Hello! How can I help you today?"}},avatar:Q.config.appearance.avatar.length>0?Q.config.appearance.avatar[0]:"",lastUpdated:new Date(Number(Q.updated)/1e6).toISOString()}));a(O)}catch(U){console.error("Error toggling agent status:",U),h("Failed to update agent status")}},j=async R=>{try{await At.deleteAgent(R),console.log(`Agent ${R} deleted successfully`),a(M=>M.filter(U=>U.id!==R)),(r==null?void 0:r.id)===R&&t(null)}catch(M){console.error("Error deleting agent:",M),h("Failed to delete agent")}};return c?o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-8 bg-gray-200 rounded-md w-1/4 mb-6"}),o.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((R,M)=>o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),o.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-4"}),o.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"})]},M))})]})}):u?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-red-600 mb-4",children:u}),o.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Retry"})]}):i.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-500 mb-4",children:"No agents found"}),o.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Create your first AI agent to get started"}),o.jsx("button",{onClick:()=>window.location.href="/create",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Create Agent"})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"My Agents"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage and configure your AI agents."})]}),o.jsx("div",{className:"mt-4 flex md:ml-4 md:mt-0",children:o.jsx("button",{onClick:()=>window.location.href="/create",className:"inline-flex items-center gap-x-2 rounded-md bg-blue-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600",children:"Create New Agent"})})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:i.map(R=>o.jsxs("div",{className:`bg-white rounded-lg shadow border border-gray-200 p-6 cursor-pointer transition-all duration-200 hover:shadow-md ${(r==null?void 0:r.id)===R.id?"ring-2 ring-blue-500":""}`,onClick:()=>p(R),children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:R.name}),o.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:R.description})]}),o.jsx("span",{className:`ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${R.status==="Active"?"bg-green-100 text-green-800":R.status==="Inactive"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:R.status})]}),o.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:o.jsxs("span",{children:["Created: ",new Date(R.created).toLocaleDateString()]})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:M=>{M.stopPropagation(),v(R)},className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(yv,{className:"h-3 w-3 mr-1"}),"View"]}),o.jsx("button",{onClick:M=>{M.stopPropagation(),k(R.id,R.status)},className:`inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded focus:outline-none focus:ring-2 focus:ring-offset-2 ${R.status==="Active"?"text-orange-700 bg-orange-100 hover:bg-orange-200 focus:ring-orange-500":"text-green-700 bg-green-100 hover:bg-green-200 focus:ring-green-500"}`,children:R.status==="Active"?o.jsxs(o.Fragment,{children:[o.jsx(Y4,{className:"h-3 w-3 mr-1"}),"Pause"]}):o.jsxs(o.Fragment,{children:[o.jsx(B0,{className:"h-3 w-3 mr-1"}),"Activate"]})})]}),o.jsxs("button",{onClick:M=>{M.stopPropagation(),j(R.id)},className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[o.jsx(vv,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]},R.id))}),i.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-500 mb-4",children:"No agents found"}),o.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Create your first AI agent to get started"}),o.jsx("button",{onClick:()=>window.location.href="/create",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Create Agent"})]}),m&&o.jsx(kk,{agent:m,onClose:E,onEdit:R=>g(R),onUpdate:w})]})},$v=({sessionToken:e,agent:t})=>{const[r,i]=C.useState([]),[a,c]=C.useState(""),[d,u]=C.useState(!1),h=C.useRef(null);C.useEffect(()=>{i([{id:"welcome",content:t.config.appearance.welcomeMessage,sender:"agent",timestamp:new Date,agentName:t.name}])},[t]),C.useEffect(()=>{var v;(v=h.current)==null||v.scrollIntoView({behavior:"smooth"})},[r]);const m=async v=>{if(v.preventDefault(),!a.trim()||d)return;const E={id:Date.now().toString(),content:a,sender:"user",timestamp:new Date};i(w=>[...w,E]),c(""),u(!0);try{let w;if(t.name.includes("Demo Agent")||t.id==="demo"||t.id.startsWith("agent_")){const R=[`Thanks for your message: "${a}". This is a demo response from ${t.name}.`,`I understand you're asking about "${a}". In demo mode, I can show you how the chat interface works!`,`Hello! You said: "${a}". This embed widget is working correctly in demo mode.`,`Great question about "${a}"! This demonstrates the chat functionality of the embed widget.`,`I received your message: "${a}". The embed widget is functioning properly with customizable themes and responses.`];await new Promise(M=>setTimeout(M,1e3+Math.random()*1e3)),w=R[Math.floor(Math.random()*R.length)]}else w=await At.processChat(t.id,a,e||"");const j={id:(Date.now()+1).toString(),content:w,sender:"agent",timestamp:new Date,agentName:t.name};i(R=>[...R,j])}catch(w){console.error("Failed to get response:",w);const k={id:(Date.now()+1).toString(),content:`I'm currently in demo mode. Your message "${a}" was received, but I can't connect to the full AI service right now. This shows how error handling works in the embed widget!`,sender:"agent",timestamp:new Date,agentName:t.name,isError:!1};i(j=>[...j,k])}finally{u(!1)}},g=v=>v.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),p=v=>{const E={blue:"bg-blue-500",green:"bg-green-500",purple:"bg-purple-500",orange:"bg-orange-500"};return E[v]||E.blue};return o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 h-[600px] flex flex-col",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`w-10 h-10 ${p(t.config.appearance.theme)} rounded-full flex items-center justify-center`,children:o.jsx("span",{className:"text-white font-medium text-sm",children:t.name.charAt(0).toUpperCase()})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t.name}),o.jsx("p",{className:"text-sm text-gray-500",children:t.description})]})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[r.map(v=>o.jsx("div",{className:`flex ${v.sender==="user"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${v.sender==="user"?"bg-primary-600 text-white":v.isError?"bg-red-100 text-red-800":"bg-gray-100 text-gray-900"}`,children:[o.jsx("p",{className:"text-sm",children:v.content}),o.jsxs("div",{className:`flex items-center justify-between mt-2 text-xs ${v.sender==="user"?"text-primary-100":v.isError?"text-red-600":"text-gray-500"}`,children:[v.sender==="agent"&&v.agentName&&o.jsx("span",{className:"mr-2",children:v.agentName}),g(v.timestamp)]})]})},v.id)),d&&o.jsx("div",{className:"flex justify-start",children:o.jsx("div",{className:"bg-gray-100 text-gray-900 px-4 py-2 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"animate-bounce space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),o.jsx("span",{className:"text-sm",children:"Agent is typing..."})]})})}),o.jsx("div",{ref:h})]}),o.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:o.jsxs("form",{onSubmit:m,className:"flex space-x-3",children:[o.jsx("input",{type:"text",value:a,onChange:v=>c(v.target.value),placeholder:"Type your message...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:d}),o.jsx("button",{type:"submit",disabled:!a.trim()||d,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o.jsx(K4,{className:"h-5 w-5"})})]})})]})})},Ak=({sessionToken:e,identity:t})=>{const[r,i]=C.useState(null),[a,c]=C.useState(null),[d,u]=C.useState(!0),[h,m]=C.useState(null),[g,p]=C.useState(!1),[v,E]=C.useState(""),[w,k]=C.useState(!1),[j,R]=C.useState(!1),[M,U]=C.useState(null);C.useEffect(()=>{G(),O()},[t]);const G=async()=>{try{u(!0),m(null);const[W,ie,fe]=await Promise.allSettled([At.getUserBalance(),At.getUsageHistory(50),At.getUserAgents()]),A=W.status==="fulfilled"?W.value:null,V=ie.status==="fulfilled"?ie.value:[],Z=fe.status==="fulfilled"?fe.value:[],J=new Date,ce=new Date;ce.setMonth(ce.getMonth()-1);const te=V.filter(je=>{const pe=new Date(je.timestamp);return pe.getMonth()===J.getMonth()&&pe.getFullYear()===J.getFullYear()}),ye=V.filter(je=>{const pe=new Date(je.timestamp);return pe.getMonth()===ce.getMonth()&&pe.getFullYear()===ce.getFullYear()}),_e=te.reduce((je,pe)=>je+pe.tokens,0),D=ye.reduce((je,pe)=>je+pe.tokens,0),me=te.reduce((je,pe)=>je+pe.cost,0),Be=ye.reduce((je,pe)=>je+pe.cost,0),H={userId:t!=null&&t.getPrincipal()&&typeof t.getPrincipal().toString=="function"?t.getPrincipal().toString():"unknown",tier:(A==null?void 0:A.currentTier)||"Base",balance:(A==null?void 0:A.balance)||0,currency:"USD",joinDate:new Date().toISOString(),totalAgents:Z.length,totalConversations:Z.reduce((je,pe)=>{var he;return je+(((he=pe.analytics)==null?void 0:he.totalConversations)||0)},0),totalMessages:Z.reduce((je,pe)=>{var he;return je+(((he=pe.analytics)==null?void 0:he.totalMessages)||0)},0)},Pe={currentMonth:{messages:te.length,tokensUsed:_e,cost:me},lastMonth:{messages:ye.length,tokensUsed:D,cost:Be},billing:V.slice(0,10).map(je=>({date:new Date(je.timestamp).toISOString().split("T")[0],amount:je.cost,description:`${je.operation} - ${je.agentId}`}))};i(H),c(Pe)}catch(W){console.error("Failed to load profile:",W),m("Failed to load profile data. Please try again.");const ie={userId:t!=null&&t.getPrincipal()&&typeof t.getPrincipal().toString=="function"?t.getPrincipal().toString():"unknown",tier:"Base",balance:0,currency:"USD",joinDate:new Date().toISOString(),totalAgents:0,totalConversations:0,totalMessages:0};i(ie),c({currentMonth:{messages:0,tokensUsed:0,cost:0},lastMonth:{messages:0,tokensUsed:0,cost:0},billing:[]})}finally{u(!1)}},O=async()=>{try{const W=await At.getMetricsCollectorHealth();U(W)}catch(W){console.error("Failed to load system health:",W)}},Q=async()=>{if(!v||isNaN(Number(v))){m("Please enter a valid amount");return}const W=Number(v);if(W<=0){m("Amount must be greater than 0");return}try{k(!0),m(null),await At.addBalance(W),R(!0),E(""),await G(),setTimeout(()=>{R(!1),p(!1)},3e3)}catch(ie){console.error("Failed to add balance:",ie),m(ie instanceof Error?ie.message:"Failed to add balance")}finally{k(!1)}},X=W=>!W||typeof W!="string"?"Unknown":W.length>20?W.slice(0,10)+"..."+W.slice(-10):W,$=W=>{const ie={Base:"bg-gray-100 text-gray-800",Standard:"bg-blue-100 text-blue-800",Professional:"bg-purple-100 text-purple-800",Enterprise:"bg-green-100 text-green-800"};return ie[W]||ie.Base},q=W=>{const ie={Base:["Basic chat functionality","Up to 1,000 messages/month","Standard support"],Standard:["Advanced chat features","Up to 10,000 messages/month","Priority support","Custom agents"],Professional:["All Standard features","Up to 100,000 messages/month","API access","Advanced analytics"],Enterprise:["All Professional features","Unlimited messages","Dedicated support","Custom integrations"]};return ie[W]||ie.Base};return d?o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-8 bg-gray-200 rounded-md w-1/4 mb-6"}),o.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((W,ie)=>o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),o.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"})]},ie))})]})}):r?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"User Profile"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your account, balance, and view detailed usage statistics."})]}),o.jsx("div",{className:"mt-4 flex space-x-3 md:ml-4 md:mt-0",children:o.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(wv,{className:"h-4 w-4 mr-2"}),"Add Balance"]})})]}),h&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx(Uu,{className:"h-5 w-5 text-red-400"}),o.jsx("div",{className:"ml-3",children:o.jsx("p",{className:"text-sm text-red-800",children:h})})]})}),j&&o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx(R0,{className:"h-5 w-5 text-green-400"}),o.jsx("div",{className:"ml-3",children:o.jsx("p",{className:"text-sm text-green-800",children:"Balance added successfully!"})})]})}),o.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Account Information"}),o.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"User ID"}),o.jsx("p",{className:"mt-1 text-sm text-gray-900 font-mono break-all",children:X(r.userId)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Account Tier"}),o.jsx("div",{className:"mt-1",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${$(r.tier)}`,children:r.tier})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Balance"}),o.jsxs("p",{className:"mt-1 text-lg font-semibold text-green-600",children:["$",r.balance.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Member Since"}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(r.joinDate).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Agents"}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.totalAgents})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Messages"}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.totalMessages.toLocaleString()})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[o.jsx("div",{className:"bg-white px-4 py-6 shadow rounded-lg border border-gray-200",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 bg-blue-50 p-3 rounded-lg",children:o.jsx(Hy,{className:"h-6 w-6 text-blue-600"})}),o.jsx("div",{className:"ml-5 w-0 flex-1",children:o.jsxs("dl",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Agents"}),o.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:r.totalAgents})]})})]})}),o.jsx("div",{className:"bg-white px-4 py-6 shadow rounded-lg border border-gray-200",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 bg-green-50 p-3 rounded-lg",children:o.jsx(T0,{className:"h-6 w-6 text-green-600"})}),o.jsx("div",{className:"ml-5 w-0 flex-1",children:o.jsxs("dl",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Conversations"}),o.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:r.totalConversations.toLocaleString()})]})})]})}),o.jsx("div",{className:"bg-white px-4 py-6 shadow rounded-lg border border-gray-200",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 bg-purple-50 p-3 rounded-lg",children:o.jsx(Oo,{className:"h-6 w-6 text-purple-600"})}),o.jsx("div",{className:"ml-5 w-0 flex-1",children:o.jsxs("dl",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Messages"}),o.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:r.totalMessages.toLocaleString()})]})})]})}),o.jsx("div",{className:"bg-white px-4 py-6 shadow rounded-lg border border-gray-200",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 bg-green-50 p-3 rounded-lg",children:o.jsx(Zh,{className:"h-6 w-6 text-green-600"})}),o.jsx("div",{className:"ml-5 w-0 flex-1",children:o.jsxs("dl",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Balance"}),o.jsxs("dd",{className:"text-2xl font-semibold text-gray-900",children:["$",r.balance.toFixed(2)]})]})})]})})]}),o.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:[r.tier," Tier Benefits"]}),o.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:q(r.tier).map((W,ie)=>o.jsxs("div",{className:"flex items-start",children:[o.jsx(R0,{className:"h-5 w-5 text-green-500 mt-0.5 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-sm text-gray-700",children:W})]},ie))})]})}),a&&o.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[o.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Current Month Usage"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Oo,{className:"h-5 w-5 text-gray-400 mr-2"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Messages"})]}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:a.currentMonth.messages.toLocaleString()})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Fu,{className:"h-5 w-5 text-gray-400 mr-2"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Tokens Used"})]}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:a.currentMonth.tokensUsed.toLocaleString()})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Zh,{className:"h-5 w-5 text-gray-400 mr-2"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Cost"})]}),o.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",a.currentMonth.cost.toFixed(4)]})]})]})]})}),o.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Last Month Usage"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Oo,{className:"h-5 w-5 text-gray-400 mr-2"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Messages"})]}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:a.lastMonth.messages.toLocaleString()})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Fu,{className:"h-5 w-5 text-gray-400 mr-2"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Tokens Used"})]}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:a.lastMonth.tokensUsed.toLocaleString()})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Zh,{className:"h-5 w-5 text-gray-400 mr-2"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Cost"})]}),o.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",a.lastMonth.cost.toFixed(4)]})]})]})]})})]}),M&&o.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Status"}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-gray-700",children:"System Status"}),o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M.status==="healthy"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:M.status})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-gray-700",children:"Total Users"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:M.totalUsers.toLocaleString()})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-gray-700",children:"Total Transactions"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:M.totalTransactions.toLocaleString()})]})]})]})}),a&&a.billing.length>0&&o.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Transactions"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.billing.map((W,ie)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(W.date).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:W.description}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",W.amount.toFixed(4)]})]},ie))})]})})]})}),g&&o.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:o.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:o.jsxs("div",{className:"mt-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add Balance"}),o.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(bv,{className:"h-6 w-6"})})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (USD)"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:v,onChange:W=>E(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter amount"})]}),o.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[o.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),o.jsx("button",{onClick:Q,disabled:w,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Adding...":"Add Balance"})]})]})})})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Hy,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Profile not available"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Unable to load user profile data."})]})},Ck=({agent:e,canisterId:t})=>{const[r,i]=C.useState(""),[a,c]=C.useState("generator"),[d,u]=C.useState(null),[h,m]=C.useState("preview"),[g,p]=C.useState({width:"400px",height:"600px",theme:"light",position:"bottom-right",primaryColor:"#4F46E5",borderRadius:"12px",showHeader:!0,showPoweredBy:!0,minimizable:!0,autoOpen:!1,welcomeMessage:"",placeholder:"Type your message..."});C.useEffect(()=>{e&&v()},[e,g]);const v=()=>{if(!e)return;const R=`
<!-- CanistChat Embed Widget -->
<div id="canistchat-widget-${e.id}"></div>
<script>
(function() {
  // CanistChat Widget Configuration
  const config = {
    agentId: '${e.id}',
    canisterId: '${t}',
    theme: '${g.theme}',
    width: '${g.width}',
    height: '${g.height}',
    position: '${g.position}',
    primaryColor: '${g.primaryColor}',
    borderRadius: '${g.borderRadius}',
    showHeader: ${g.showHeader},
    showPoweredBy: ${g.showPoweredBy},
    minimizable: ${g.minimizable},
    autoOpen: ${g.autoOpen},
    title: '${e.name}',
    subtitle: 'AI Assistant',
    welcomeMessage: '${g.welcomeMessage||`Hello! I'm ${e.name}. How can I help you today?`}',
    placeholder: '${g.placeholder}'
  };

  // Create widget container
  const container = document.getElementById('canistchat-widget-' + config.agentId);
  if (!container) {
    console.error('CanistChat: Widget container not found');
    return;
  }

  // Create main widget wrapper
  const widgetWrapper = document.createElement('div');
  widgetWrapper.style.position = config.position === 'inline' ? 'relative' : 'fixed';
  widgetWrapper.style.zIndex = '9999';
  widgetWrapper.style.fontFamily = '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif';

  // Position widget if floating
  if (config.position !== 'inline') {
    switch(config.position) {
      case 'bottom-right':
        widgetWrapper.style.bottom = '20px';
        widgetWrapper.style.right = '20px';
        break;
      case 'bottom-left':
        widgetWrapper.style.bottom = '20px';
        widgetWrapper.style.left = '20px';
        break;
      case 'top-right':
        widgetWrapper.style.top = '20px';
        widgetWrapper.style.right = '20px';
        break;
      case 'top-left':
        widgetWrapper.style.top = '20px';
        widgetWrapper.style.left = '20px';
        break;
    }
  }

  // Create iframe for secure embedding
  const iframe = document.createElement('iframe');
  const embedUrl = new URL('https://${t}.ic0.app/embed');
  embedUrl.searchParams.set('agent', config.agentId);
  embedUrl.searchParams.set('theme', config.theme);
  embedUrl.searchParams.set('color', encodeURIComponent(config.primaryColor));
  embedUrl.searchParams.set('welcome', encodeURIComponent(config.welcomeMessage));
  embedUrl.searchParams.set('placeholder', encodeURIComponent(config.placeholder));
  
  iframe.src = embedUrl.toString();
  iframe.style.width = config.width;
  iframe.style.height = config.height;
  iframe.style.border = 'none';
  iframe.style.borderRadius = config.borderRadius;
  iframe.style.boxShadow = '0 4px 20px rgba(0,0,0,0.15)';
  iframe.style.transition = 'all 0.3s ease';
  iframe.allow = 'encrypted-media';
  iframe.title = config.title + ' - AI Assistant';
  iframe.loading = 'lazy';

  // Add minimize/maximize functionality
  let isMinimized = !config.autoOpen;
  if (config.minimizable && config.position !== 'inline') {
    const toggleBtn = document.createElement('button');
    toggleBtn.innerHTML = isMinimized ? '💬' : '−';
    toggleBtn.style.position = 'absolute';
    toggleBtn.style.top = '10px';
    toggleBtn.style.right = '10px';
    toggleBtn.style.background = config.primaryColor;
    toggleBtn.style.color = 'white';
    toggleBtn.style.border = 'none';
    toggleBtn.style.borderRadius = '50%';
    toggleBtn.style.width = '40px';
    toggleBtn.style.height = '40px';
    toggleBtn.style.cursor = 'pointer';
    toggleBtn.style.fontSize = '16px';
    toggleBtn.style.zIndex = '10000';
    toggleBtn.style.boxShadow = '0 2px 10px rgba(0,0,0,0.2)';
    toggleBtn.style.transition = 'all 0.3s ease';
    
    toggleBtn.onmouseover = function() {
      toggleBtn.style.transform = 'scale(1.1)';
    };
    toggleBtn.onmouseout = function() {
      toggleBtn.style.transform = 'scale(1)';
    };
    
    toggleBtn.onclick = function() {
      if (isMinimized) {
        iframe.style.height = config.height;
        iframe.style.opacity = '1';
        iframe.style.transform = 'scale(1)';
        toggleBtn.innerHTML = '−';
        widgetWrapper.appendChild(iframe);
      } else {
        iframe.style.height = '0px';
        iframe.style.opacity = '0';
        iframe.style.transform = 'scale(0.8)';
        toggleBtn.innerHTML = '💬';
        if (iframe.parentNode) {
          iframe.parentNode.removeChild(iframe);
        }
      }
      isMinimized = !isMinimized;
    };
    
    widgetWrapper.appendChild(toggleBtn);
    
    // Start minimized if autoOpen is false
    if (!config.autoOpen) {
      iframe.style.height = '0px';
      iframe.style.opacity = '0';
      iframe.style.transform = 'scale(0.8)';
    } else {
      widgetWrapper.appendChild(iframe);
    }
  } else {
    widgetWrapper.appendChild(iframe);
  }

  container.appendChild(widgetWrapper);

  // Add responsive behavior
  const handleResize = () => {
    if (window.innerWidth < 768 && config.position !== 'inline') {
      iframe.style.width = 'calc(100vw - 40px)';
      iframe.style.height = 'calc(100vh - 100px)';
      widgetWrapper.style.bottom = '10px';
      widgetWrapper.style.right = '10px';
      widgetWrapper.style.left = '10px';
    } else {
      iframe.style.width = config.width;
      iframe.style.height = config.height;
    }
  };
  
  window.addEventListener('resize', handleResize);
  handleResize();

  console.log('CanistChat widget loaded successfully');
})();
<\/script>`.trim();i(R)},E=async(R,M)=>{try{await navigator.clipboard.writeText(R),u(M),setTimeout(()=>u(null),2e3)}catch(U){console.error("Failed to copy to clipboard:",U);const G=document.createElement("textarea");G.value=R,document.body.appendChild(G),G.select(),document.execCommand("copy"),document.body.removeChild(G),u(M),setTimeout(()=>u(null),2e3)}},w=()=>e?`import React from 'react';

const CanistChatWidget = () => {
  return (
    <iframe
      src="https://${t}.ic0.app/embed?agent=${encodeURIComponent(e.id)}&theme=${g.theme}&color=${encodeURIComponent(g.primaryColor)}"
      width="${g.width}"
      height="${g.height}"
      style={{
        border: 'none',
        borderRadius: '${g.borderRadius}',
        boxShadow: '0 4px 20px rgba(0,0,0,0.15)'
      }}
      allow="encrypted-media"
      title="${e.name} - AI Assistant"
    />
  );
};

export default CanistChatWidget;`:"",k=()=>e?`<!-- Add this shortcode to any page or post -->
[canistchat agent="${e.id}" theme="${g.theme}" color="${g.primaryColor}" width="${g.width}" height="${g.height}"]

<!-- Or add this to your theme's functions.php file -->
function canistchat_shortcode($atts) {
    $atts = shortcode_atts(array(
        'agent' => '${e.id}',
        'theme' => '${g.theme}',
        'color' => '${g.primaryColor}',
        'width' => '${g.width}',
        'height' => '${g.height}'
    ), $atts);
    
    return '<iframe src="https://${t}.ic0.app/embed?agent=' . esc_attr($atts['agent']) . '&theme=' . esc_attr($atts['theme']) . '&color=' . urlencode($atts['color']) . '" width="' . esc_attr($atts['width']) . '" height="' . esc_attr($atts['height']) . '" style="border: none; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.15);" allow="encrypted-media" title="AI Assistant"></iframe>';
    }
add_shortcode('canistchat', 'canistchat_shortcode');`:"",j=()=>{if(!e)return;const R=`https://${t}.ic0.app/embed?agent=${encodeURIComponent(e.id)}&theme=${g.theme}&color=${encodeURIComponent(g.primaryColor)}`;window.open(R,"_blank","width=500,height=700,scrollbars=yes,resizable=yes")};return e?o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[o.jsxs("div",{className:"p-6 border-b border-gray-200",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Embed Widget Generator"}),o.jsxs("p",{className:"text-gray-600",children:["Generate embed code and integration instructions for ",o.jsx("strong",{children:e.name})]})]}),o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("nav",{className:"-mb-px flex",children:[o.jsxs("button",{onClick:()=>c("generator"),className:`px-6 py-3 text-sm font-medium border-b-2 ${a==="generator"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[o.jsx(C4,{className:"w-4 h-4 inline mr-2"}),"Generator"]}),o.jsxs("button",{onClick:()=>c("instructions"),className:`px-6 py-3 text-sm font-medium border-b-2 ${a==="instructions"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[o.jsx(q4,{className:"w-4 h-4 inline mr-2"}),"Instructions"]}),o.jsxs("button",{onClick:()=>c("testing"),className:`px-6 py-3 text-sm font-medium border-b-2 ${a==="testing"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[o.jsx(B0,{className:"w-4 h-4 inline mr-2"}),"Testing"]})]})}),o.jsxs("div",{className:"p-6",children:[a==="generator"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Customization Options"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Width"}),o.jsx("input",{type:"text",value:g.width,onChange:R=>p({...g,width:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"400px"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Height"}),o.jsx("input",{type:"text",value:g.height,onChange:R=>p({...g,height:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"600px"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),o.jsxs("select",{value:g.theme,onChange:R=>p({...g,theme:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"light",children:"Light"}),o.jsx("option",{value:"dark",children:"Dark"}),o.jsx("option",{value:"auto",children:"Auto"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position"}),o.jsxs("select",{value:g.position,onChange:R=>p({...g,position:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"inline",children:"Inline"}),o.jsx("option",{value:"bottom-right",children:"Bottom Right"}),o.jsx("option",{value:"bottom-left",children:"Bottom Left"}),o.jsx("option",{value:"top-right",children:"Top Right"}),o.jsx("option",{value:"top-left",children:"Top Left"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color"}),o.jsx("input",{type:"color",value:g.primaryColor,onChange:R=>p({...g,primaryColor:R.target.value}),className:"w-full h-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Border Radius"}),o.jsx("input",{type:"text",value:g.borderRadius,onChange:R=>p({...g,borderRadius:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"12px"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Welcome Message"}),o.jsx("input",{type:"text",value:g.welcomeMessage,onChange:R=>p({...g,welcomeMessage:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Hello! I'm ${e.name}. How can I help you today?`})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Placeholder"}),o.jsx("input",{type:"text",value:g.placeholder,onChange:R=>p({...g,placeholder:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Type your message..."})]})]}),o.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:g.showHeader,onChange:R=>p({...g,showHeader:R.target.checked}),className:"mr-2"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Show Header"})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:g.showPoweredBy,onChange:R=>p({...g,showPoweredBy:R.target.checked}),className:"mr-2"}),o.jsx("span",{className:"text-sm text-gray-700",children:'Show "Powered by"'})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:g.minimizable,onChange:R=>p({...g,minimizable:R.target.checked}),className:"mr-2"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Minimizable"})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:g.autoOpen,onChange:R=>p({...g,autoOpen:R.target.checked}),className:"mr-2"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Auto Open"})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Preview"}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-6 border-2 border-dashed border-gray-300",children:o.jsx("div",{className:"flex items-center justify-center",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg border overflow-hidden",style:{width:g.width,height:"300px",borderRadius:g.borderRadius,maxWidth:"100%"},children:[g.showHeader&&o.jsx("div",{className:"p-4 text-white",style:{backgroundColor:g.primaryColor},children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-sm",children:"🤖"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:e.name}),o.jsx("p",{className:"text-sm opacity-90",children:"AI Assistant"})]})]})}),o.jsxs("div",{className:`p-4 flex-1 ${g.theme==="dark"?"bg-gray-800 text-white":"bg-white"}`,children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"bg-gray-100 rounded-lg p-3 max-w-xs",children:o.jsx("p",{className:"text-sm",children:g.welcomeMessage||`Hello! I'm ${e.name}. How can I help you today?`})}),o.jsx("div",{className:"flex justify-end",children:o.jsx("div",{className:"bg-blue-500 text-white rounded-lg p-3 max-w-xs",children:o.jsx("p",{className:"text-sm",children:"Hello! Can you help me?"})})})]}),o.jsx("div",{className:"mt-4 pt-4 border-t",children:o.jsx("input",{type:"text",placeholder:g.placeholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",disabled:!0})})]})]})})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Generated Embed Code"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:()=>E(r,"html"),className:"inline-flex items-center px-3 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx(U4,{className:"w-4 h-4 mr-2"}),d==="html"?"Copied!":"Copy HTML"]}),o.jsxs("button",{onClick:j,className:"inline-flex items-center px-3 py-2 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:[o.jsx(yv,{className:"w-4 h-4 mr-2"}),"Test Widget"]})]})]}),o.jsx("textarea",{value:r,readOnly:!0,className:"w-full h-40 px-3 py-2 border border-gray-300 rounded-md bg-gray-50 font-mono text-sm focus:outline-none",placeholder:"Embed code will appear here..."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h5",{className:"font-medium text-gray-900",children:"React Component"}),o.jsx("button",{onClick:()=>E(w(),"react"),className:"text-sm text-blue-600 hover:text-blue-700",children:d==="react"?"Copied!":"Copy"})]}),o.jsx("textarea",{value:w(),readOnly:!0,className:"w-full h-32 px-3 py-2 border border-gray-300 rounded-md bg-gray-50 font-mono text-xs"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h5",{className:"font-medium text-gray-900",children:"WordPress Shortcode"}),o.jsx("button",{onClick:()=>E(k(),"wordpress"),className:"text-sm text-blue-600 hover:text-blue-700",children:d==="wordpress"?"Copied!":"Copy"})]}),o.jsx("textarea",{value:k(),readOnly:!0,className:"w-full h-32 px-3 py-2 border border-gray-300 rounded-md bg-gray-50 font-mono text-xs"})]})]})]}),a==="instructions"&&o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[o.jsx(R0,{className:"w-5 h-5 text-green-500 mr-2"}),"Quick Start Guide"]}),o.jsx("div",{className:"bg-green-50 rounded-lg p-6",children:o.jsxs("ol",{className:"space-y-3 text-sm",children:[o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-green-600 text-white rounded-full flex items-center justify-center text-xs mr-3 mt-0.5",children:"1"}),o.jsxs("div",{children:[o.jsx("strong",{children:"Copy the embed code"})," from the Generator tab above"]})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-green-600 text-white rounded-full flex items-center justify-center text-xs mr-3 mt-0.5",children:"2"}),o.jsxs("div",{children:[o.jsx("strong",{children:"Paste it into your website's HTML"})," where you want the chat widget to appear"]})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-green-600 text-white rounded-full flex items-center justify-center text-xs mr-3 mt-0.5",children:"3"}),o.jsxs("div",{children:[o.jsx("strong",{children:"Save and publish"})," your page - the widget will automatically load and connect to your agent"]})]})]})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Platform-Specific Instructions"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsx(L4,{className:"w-6 h-6 text-blue-600 mr-2"}),o.jsx("h5",{className:"font-medium",children:"WordPress"})]}),o.jsxs("ol",{className:"text-sm space-y-2 text-gray-600",children:[o.jsx("li",{children:"1. Go to your WordPress admin panel"}),o.jsx("li",{children:"2. Edit the page/post where you want the widget"}),o.jsx("li",{children:'3. Switch to "Text" or "HTML" mode'}),o.jsx("li",{children:"4. Paste the embed code"}),o.jsx("li",{children:"5. Update/publish the page"})]})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsx(R4,{className:"w-6 h-6 text-green-600 mr-2"}),o.jsx("h5",{className:"font-medium",children:"Shopify"})]}),o.jsxs("ol",{className:"text-sm space-y-2 text-gray-600",children:[o.jsx("li",{children:"1. Go to Online Store → Themes"}),o.jsx("li",{children:'2. Click "Actions" → "Edit code"'}),o.jsx("li",{children:"3. Find your theme.liquid file"}),o.jsx("li",{children:"4. Paste the code before </body>"}),o.jsx("li",{children:"5. Save the file"})]})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsx(I4,{className:"w-6 h-6 text-purple-600 mr-2"}),o.jsx("h5",{className:"font-medium",children:"Squarespace"})]}),o.jsxs("ol",{className:"text-sm space-y-2 text-gray-600",children:[o.jsx("li",{children:"1. Go to Settings → Advanced → Code Injection"}),o.jsx("li",{children:'2. Paste the code in "Footer"'}),o.jsx("li",{children:"3. Or use a Code Block on specific pages"}),o.jsx("li",{children:"4. Save and publish"})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Advanced Configuration"}),o.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[o.jsx("h5",{className:"font-medium text-blue-900 mb-3",children:"Customization Options"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("h6",{className:"font-medium text-blue-800 mb-2",children:"Position Options"}),o.jsxs("ul",{className:"space-y-1 text-blue-700",children:[o.jsxs("li",{children:["• ",o.jsx("code",{children:"inline"})," - Embedded in page content"]}),o.jsxs("li",{children:["• ",o.jsx("code",{children:"bottom-right"})," - Floating bottom right"]}),o.jsxs("li",{children:["• ",o.jsx("code",{children:"bottom-left"})," - Floating bottom left"]}),o.jsxs("li",{children:["• ",o.jsx("code",{children:"top-right"})," - Floating top right"]}),o.jsxs("li",{children:["• ",o.jsx("code",{children:"top-left"})," - Floating top left"]})]})]}),o.jsxs("div",{children:[o.jsx("h6",{className:"font-medium text-blue-800 mb-2",children:"Theme Options"}),o.jsxs("ul",{className:"space-y-1 text-blue-700",children:[o.jsxs("li",{children:["• ",o.jsx("code",{children:"light"})," - Light theme"]}),o.jsxs("li",{children:["• ",o.jsx("code",{children:"dark"})," - Dark theme"]}),o.jsxs("li",{children:["• ",o.jsx("code",{children:"auto"})," - Matches system preference"]})]})]})]})]})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[o.jsx(Uu,{className:"w-5 h-5 text-yellow-500 mr-2"}),"Troubleshooting"]}),o.jsx("div",{className:"bg-yellow-50 rounded-lg p-6",children:o.jsxs("div",{className:"space-y-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("h6",{className:"font-medium text-yellow-800 mb-1",children:"Widget not appearing?"}),o.jsx("p",{className:"text-yellow-700",children:"Check that the container div ID matches the agent ID in the script."})]}),o.jsxs("div",{children:[o.jsx("h6",{className:"font-medium text-yellow-800 mb-1",children:"Widget not loading?"}),o.jsx("p",{className:"text-yellow-700",children:"Ensure your website allows iframe content and check browser console for errors."})]}),o.jsxs("div",{children:[o.jsx("h6",{className:"font-medium text-yellow-800 mb-1",children:"Styling issues?"}),o.jsx("p",{className:"text-yellow-700",children:"The widget uses iframe isolation, so your site's CSS won't affect it. Customize using the options above."})]})]})})]})]}),a==="testing"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Test Your Widget"}),o.jsxs("div",{className:"flex space-x-4 mb-6",children:[o.jsx("button",{onClick:()=>m("preview"),className:`px-4 py-2 rounded-md text-sm font-medium ${h==="preview"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Preview Mode"}),o.jsx("button",{onClick:()=>m("live"),className:`px-4 py-2 rounded-md text-sm font-medium ${h==="live"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Live Test"})]})]}),h==="preview"&&o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Widget Preview"}),o.jsx("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:o.jsx("div",{className:"mx-auto",style:{width:g.width,maxWidth:"100%"},children:o.jsx("iframe",{src:`/embed?agent=${encodeURIComponent(e.id)}&theme=${g.theme}&color=${encodeURIComponent(g.primaryColor)}`,width:"100%",height:g.height,style:{border:"none",borderRadius:g.borderRadius,boxShadow:"0 4px 20px rgba(0,0,0,0.15)"},title:`${e.name} - AI Assistant Preview`})})})]}),h==="live"&&o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Live Testing"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("button",{onClick:j,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:[o.jsx(B0,{className:"w-4 h-4 mr-2"}),"Open Widget in New Window"]}),o.jsx("p",{className:"text-sm text-gray-600",children:"This will open your widget in a new window so you can test the full functionality, including chat interactions and responsiveness."})]})]}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Testing Checklist"}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-start",children:[o.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),o.jsx("span",{className:"text-sm",children:"Widget loads correctly"})]}),o.jsxs("label",{className:"flex items-start",children:[o.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),o.jsx("span",{className:"text-sm",children:"Chat interface is responsive"})]}),o.jsxs("label",{className:"flex items-start",children:[o.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),o.jsx("span",{className:"text-sm",children:"Messages send and receive properly"})]}),o.jsxs("label",{className:"flex items-start",children:[o.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),o.jsx("span",{className:"text-sm",children:"Styling matches your preferences"})]}),o.jsxs("label",{className:"flex items-start",children:[o.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),o.jsx("span",{className:"text-sm",children:"Widget works on mobile devices"})]}),o.jsxs("label",{className:"flex items-start",children:[o.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),o.jsx("span",{className:"text-sm",children:"Minimize/maximize functionality works (if enabled)"})]})]})})]})]})]})]}):o.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[o.jsx(j4,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Embed Widget Generator"}),o.jsx("p",{className:"text-gray-500",children:"Select an agent to generate embed code and integration instructions"})]})},Tk=({sessionToken:e,selectedAgent:t})=>{const[r,i]=C.useState({overview:{totalMessages:0,totalConversations:0,averageResponseTime:0,successRate:0,totalTokensUsed:0},agentPerformance:[],usageHistory:[],userBalance:null}),[a,c]=C.useState(!0),[d,u]=C.useState("7d"),[h,m]=C.useState("messages"),[g,p]=C.useState(null);C.useEffect(()=>{(async()=>{var k,j,R;if(e)try{c(!0),p(null);const M=await At.getComprehensiveAnalytics();console.log("Analytics data loaded:",M),console.log("Data structure check:",{hasOverview:!!M.overview,overviewKeys:M.overview?Object.keys(M.overview):[],totalMessages:(k=M.overview)==null?void 0:k.totalMessages,totalConversations:(j=M.overview)==null?void 0:j.totalConversations,averageResponseTime:(R=M.overview)==null?void 0:R.averageResponseTime}),i(M)}catch(M){console.error("Error loading analytics data:",M),p("Failed to load analytics data. Please try again."),i({overview:{totalMessages:0,totalConversations:0,averageResponseTime:0,successRate:0,totalTokensUsed:0},agentPerformance:[],usageHistory:[],userBalance:null})}finally{c(!1)}})()},[e]);const v=[{name:"Total Messages",value:r.overview.totalMessages.toLocaleString(),change:r.overview.totalMessages>0?"+12.5%":"0%",changeType:r.overview.totalMessages>0?"increase":"neutral",icon:Oo,color:"text-blue-600",bgColor:"bg-blue-50"},{name:"Total Conversations",value:r.overview.totalConversations.toLocaleString(),change:r.overview.totalConversations>0?"+8.3%":"0%",changeType:r.overview.totalConversations>0?"increase":"neutral",icon:zy,color:"text-green-600",bgColor:"bg-green-50"},{name:"Avg Response Time",value:`${r.overview.averageResponseTime.toFixed(1)}s`,change:r.overview.averageResponseTime>0?"-15.2%":"0%",changeType:r.overview.averageResponseTime>0?"decrease":"neutral",icon:S4,color:"text-purple-600",bgColor:"bg-purple-50"},{name:"Success Rate",value:`${r.overview.successRate.toFixed(1)}%`,change:r.overview.successRate>95?"+2.1%":"0%",changeType:r.overview.successRate>95?"increase":"neutral",icon:T0,color:"text-orange-600",bgColor:"bg-orange-50"}],E=[{value:"7d",label:"7 Days"},{value:"30d",label:"30 Days"},{value:"90d",label:"90 Days"},{value:"1y",label:"1 Year"}];return a?o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-8 bg-gray-200 rounded-md w-1/4 mb-6"}),o.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((w,k)=>o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),o.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"})]},k))})]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Analytics"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comprehensive insights into your AI agent performance and usage patterns."})]}),o.jsx("div",{className:"mt-4 flex space-x-3 md:ml-4 md:mt-0",children:o.jsx("select",{value:d,onChange:w=>u(w.target.value),className:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:E.map(w=>o.jsx("option",{value:w.value,children:w.label},w.value))})})]}),g&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx(Uu,{className:"h-5 w-5 text-red-400"}),o.jsx("div",{className:"ml-3",children:o.jsx("p",{className:"text-sm text-red-800",children:g})})]})}),o.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:v.map(w=>o.jsx("div",{className:"bg-white px-4 py-6 shadow rounded-lg border border-gray-200",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`flex-shrink-0 ${w.bgColor} p-3 rounded-lg`,children:o.jsx(w.icon,{className:`h-6 w-6 ${w.color}`})}),o.jsx("div",{className:"ml-5 w-0 flex-1",children:o.jsxs("dl",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:w.name}),o.jsxs("dd",{className:"flex items-baseline",children:[o.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:w.value}),w.changeType!=="neutral"&&o.jsxs("div",{className:`ml-2 flex items-baseline text-sm font-semibold ${w.changeType==="increase"?"text-green-600":"text-red-600"}`,children:[w.changeType==="increase"?o.jsx(x4,{className:"h-4 w-4 flex-shrink-0"}):o.jsx(h4,{className:"h-4 w-4 flex-shrink-0"}),o.jsxs("span",{className:"sr-only",children:[w.changeType==="increase"?"Increased":"Decreased"," by"]}),w.change]})]})]})})]})},w.name))}),r.userBalance&&o.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Account Balance"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 bg-green-50 p-3 rounded-lg",children:o.jsx(M4,{className:"h-6 w-6 text-green-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Current Balance"}),o.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",r.userBalance.balance.toFixed(2)]})]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 bg-blue-50 p-3 rounded-lg",children:o.jsx(Fu,{className:"h-6 w-6 text-blue-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Current Tier"}),o.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.userBalance.currentTier})]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 bg-purple-50 p-3 rounded-lg",children:o.jsx(Oo,{className:"h-6 w-6 text-purple-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Monthly Usage"}),o.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.userBalance.monthlyUsage.toLocaleString()})]})]})]})]})}),o.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Agent Performance"}),r.agentPerformance.length>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Messages"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Conversations"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tokens Used"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Response Time"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Satisfaction"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.agentPerformance.map(w=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.agentName}),o.jsx("div",{className:"text-sm text-gray-500",children:w.agentId})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${w.status==="Active"?"bg-green-100 text-green-800":w.status==="Inactive"?"bg-gray-100 text-gray-800":w.status==="Suspended"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:w.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:w.messages.toLocaleString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:w.conversations.toLocaleString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:w.tokensUsed.toLocaleString()}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[w.avgResponseTime.toFixed(1),"s"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Vy,{className:"h-4 w-4 text-yellow-400 mr-1"}),o.jsx("span",{className:"text-sm text-gray-900",children:w.satisfaction.toFixed(1)})]})})]},w.agentId))})]})}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(T0,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No performance data available"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start using your agents to see performance metrics."})]})]})}),o.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Usage History"}),r.usageHistory.length>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Operation"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tokens"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.usageHistory.slice(0,10).map(w=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(w.timestamp).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:w.agentId}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:w.operation}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:w.tokens.toLocaleString()}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",w.cost.toFixed(4)]})]},w.id))})]})}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Oo,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No usage history available"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Usage data will appear here as you interact with your agents."})]})]})}),o.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Key Insights"}),r.overview.totalMessages>0||r.agentPerformance.length>0?o.jsxs("div",{className:"space-y-4",children:[r.overview.totalMessages>0&&o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(m4,{className:"h-5 w-5 text-green-500"})}),o.jsx("div",{className:"ml-3",children:o.jsxs("p",{className:"text-sm text-gray-900",children:[o.jsxs("strong",{children:["Total of ",r.overview.totalMessages.toLocaleString()," messages processed"]})," across all your agents. Your AI assistants are actively helping users with their queries."]})})]}),r.overview.totalConversations>0&&o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(zy,{className:"h-5 w-5 text-blue-500"})}),o.jsx("div",{className:"ml-3",children:o.jsxs("p",{className:"text-sm text-gray-900",children:[o.jsxs("strong",{children:[r.overview.totalConversations.toLocaleString()," conversations initiated"]})," with your agents. Users are engaging meaningfully with your AI assistants."]})})]}),r.overview.totalTokensUsed>0&&o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Fu,{className:"h-5 w-5 text-purple-500"})}),o.jsx("div",{className:"ml-3",children:o.jsxs("p",{className:"text-sm text-gray-900",children:[o.jsxs("strong",{children:[r.overview.totalTokensUsed.toLocaleString()," tokens consumed"]})," for AI processing. This represents the computational resources used by your agents."]})})]}),r.agentPerformance.length>0&&o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Vy,{className:"h-5 w-5 text-yellow-500"})}),o.jsx("div",{className:"ml-3",children:o.jsxs("p",{className:"text-sm text-gray-900",children:[o.jsxs("strong",{children:[r.agentPerformance.length," active agents"]})," in your system. Consider optimizing high-performing agents and improving underperforming ones."]})})]})]}):o.jsxs("div",{className:"text-center py-6",children:[o.jsx(Uu,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No data available"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start using your agents to generate analytics insights."})]})]})})]})};function st(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Fi(e,t=[]){let r=[];function i(c,d){const u=C.createContext(d),h=r.length;r=[...r,d];const m=p=>{var R;const{scope:v,children:E,...w}=p,k=((R=v==null?void 0:v[e])==null?void 0:R[h])||u,j=C.useMemo(()=>w,Object.values(w));return o.jsx(k.Provider,{value:j,children:E})};m.displayName=c+"Provider";function g(p,v){var k;const E=((k=v==null?void 0:v[e])==null?void 0:k[h])||u,w=C.useContext(E);if(w)return w;if(d!==void 0)return d;throw new Error(`\`${p}\` must be used within \`${c}\``)}return[m,g]}const a=()=>{const c=r.map(d=>C.createContext(d));return function(u){const h=(u==null?void 0:u[e])||c;return C.useMemo(()=>({[`__scope${e}`]:{...u,[e]:h}}),[u,h])}};return a.scopeName=e,[i,Rk(a,...t)]}function Rk(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const i=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const d=i.reduce((u,{useScope:h,scopeName:m})=>{const p=h(c)[`__scope${m}`];return{...u,...p}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return r.scopeName=t.scopeName,r}function bp(e){const t=e+"CollectionProvider",[r,i]=Fi(t),[a,c]=r(t,{collectionRef:{current:null},itemMap:new Map}),d=k=>{const{scope:j,children:R}=k,M=Zn.useRef(null),U=Zn.useRef(new Map).current;return o.jsx(a,{scope:j,itemMap:U,collectionRef:M,children:R})};d.displayName=t;const u=e+"CollectionSlot",h=il(u),m=Zn.forwardRef((k,j)=>{const{scope:R,children:M}=k,U=c(u,R),G=xt(j,U.collectionRef);return o.jsx(h,{ref:G,children:M})});m.displayName=u;const g=e+"CollectionItemSlot",p="data-radix-collection-item",v=il(g),E=Zn.forwardRef((k,j)=>{const{scope:R,children:M,...U}=k,G=Zn.useRef(null),O=xt(j,G),Q=c(g,R);return Zn.useEffect(()=>(Q.itemMap.set(G,{ref:G,...U}),()=>void Q.itemMap.delete(G))),o.jsx(v,{[p]:"",ref:O,children:M})});E.displayName=g;function w(k){const j=c(e+"CollectionConsumer",k);return Zn.useCallback(()=>{const M=j.collectionRef.current;if(!M)return[];const U=Array.from(M.querySelectorAll(`[${p}]`));return Array.from(j.itemMap.values()).sort((Q,X)=>U.indexOf(Q.ref.current)-U.indexOf(X.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:d,Slot:m,ItemSlot:E},w,i]}var dr=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},Bk=Q0[" useId ".trim().toString()]||(()=>{}),Pk=0;function pl(e){const[t,r]=C.useState(Bk());return dr(()=>{r(i=>i??String(Pk++))},[e]),t?`radix-${t}`:""}var Mk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lt=Mk.reduce((e,t)=>{const r=il(`Primitive.${t}`),i=C.forwardRef((a,c)=>{const{asChild:d,...u}=a,h=d?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(h,{...u,ref:c})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function Ok(e,t){e&&ll.flushSync(()=>e.dispatchEvent(t))}function Zs(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...r)=>{var i;return(i=t.current)==null?void 0:i.call(t,...r)},[])}var Ik=Q0[" useInsertionEffect ".trim().toString()]||dr;function Wo({prop:e,defaultProp:t,onChange:r=()=>{},caller:i}){const[a,c,d]=Fk({defaultProp:t,onChange:r}),u=e!==void 0,h=u?e:a;{const g=C.useRef(e!==void 0);C.useEffect(()=>{const p=g.current;p!==u&&console.warn(`${i} is changing from ${p?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,i])}const m=C.useCallback(g=>{var p;if(u){const v=Uk(g)?g(e):g;v!==e&&((p=d.current)==null||p.call(d,v))}else c(g)},[u,e,c,d]);return[h,m]}function Fk({defaultProp:e,onChange:t}){const[r,i]=C.useState(e),a=C.useRef(r),c=C.useRef(t);return Ik(()=>{c.current=t},[t]),C.useEffect(()=>{var d;a.current!==r&&((d=c.current)==null||d.call(c,r),a.current=r)},[r,a]),[r,i,c]}function Uk(e){return typeof e=="function"}var $k=C.createContext(void 0);function fd(e){const t=C.useContext($k);return e||t||"ltr"}var t0="rovingFocusGroup.onEntryFocus",zk={bubbles:!1,cancelable:!0},ml="RovingFocusGroup",[F0,zv,Vk]=bp(ml),[Hk,Vv]=Fi(ml,[Vk]),[Lk,Wk]=Hk(ml),Hv=C.forwardRef((e,t)=>o.jsx(F0.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(F0.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(qk,{...e,ref:t})})}));Hv.displayName=ml;var qk=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:i,loop:a=!1,dir:c,currentTabStopId:d,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...p}=e,v=C.useRef(null),E=xt(t,v),w=fd(c),[k,j]=Wo({prop:d,defaultProp:u??null,onChange:h,caller:ml}),[R,M]=C.useState(!1),U=Zs(m),G=zv(r),O=C.useRef(!1),[Q,X]=C.useState(0);return C.useEffect(()=>{const $=v.current;if($)return $.addEventListener(t0,U),()=>$.removeEventListener(t0,U)},[U]),o.jsx(Lk,{scope:r,orientation:i,dir:w,loop:a,currentTabStopId:k,onItemFocus:C.useCallback($=>j($),[j]),onItemShiftTab:C.useCallback(()=>M(!0),[]),onFocusableItemAdd:C.useCallback(()=>X($=>$+1),[]),onFocusableItemRemove:C.useCallback(()=>X($=>$-1),[]),children:o.jsx(lt.div,{tabIndex:R||Q===0?-1:0,"data-orientation":i,...p,ref:E,style:{outline:"none",...e.style},onMouseDown:st(e.onMouseDown,()=>{O.current=!0}),onFocus:st(e.onFocus,$=>{const q=!O.current;if($.target===$.currentTarget&&q&&!R){const W=new CustomEvent(t0,zk);if($.currentTarget.dispatchEvent(W),!W.defaultPrevented){const ie=G().filter(J=>J.focusable),fe=ie.find(J=>J.active),A=ie.find(J=>J.id===k),Z=[fe,A,...ie].filter(Boolean).map(J=>J.ref.current);qv(Z,g)}}O.current=!1}),onBlur:st(e.onBlur,()=>M(!1))})})}),Lv="RovingFocusGroupItem",Wv=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:i=!0,active:a=!1,tabStopId:c,children:d,...u}=e,h=pl(),m=c||h,g=Wk(Lv,r),p=g.currentTabStopId===m,v=zv(r),{onFocusableItemAdd:E,onFocusableItemRemove:w,currentTabStopId:k}=g;return C.useEffect(()=>{if(i)return E(),()=>w()},[i,E,w]),o.jsx(F0.ItemSlot,{scope:r,id:m,focusable:i,active:a,children:o.jsx(lt.span,{tabIndex:p?0:-1,"data-orientation":g.orientation,...u,ref:t,onMouseDown:st(e.onMouseDown,j=>{i?g.onItemFocus(m):j.preventDefault()}),onFocus:st(e.onFocus,()=>g.onItemFocus(m)),onKeyDown:st(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){g.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const R=Dk(j,g.orientation,g.dir);if(R!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let U=v().filter(G=>G.focusable).map(G=>G.ref.current);if(R==="last")U.reverse();else if(R==="prev"||R==="next"){R==="prev"&&U.reverse();const G=U.indexOf(j.currentTarget);U=g.loop?Yk(U,G+1):U.slice(G+1)}setTimeout(()=>qv(U))}}),children:typeof d=="function"?d({isCurrentTabStop:p,hasTabStop:k!=null}):d})})});Wv.displayName=Lv;var Gk={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Kk(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Dk(e,t,r){const i=Kk(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return Gk[i]}function qv(e,t=!1){const r=document.activeElement;for(const i of e)if(i===r||(i.focus({preventScroll:t}),document.activeElement!==r))return}function Yk(e,t){return e.map((r,i)=>e[(t+i)%e.length])}var Zk=Hv,Xk=Wv;function Qk(e,t){return C.useReducer((r,i)=>t[r][i]??r,e)}var Np=e=>{const{present:t,children:r}=e,i=Jk(t),a=typeof r=="function"?r({present:i.isPresent}):C.Children.only(r),c=xt(i.ref,e8(a));return typeof r=="function"||i.isPresent?C.cloneElement(a,{ref:c}):null};Np.displayName="Presence";function Jk(e){const[t,r]=C.useState(),i=C.useRef(null),a=C.useRef(e),c=C.useRef("none"),d=e?"mounted":"unmounted",[u,h]=Qk(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const m=Hc(i.current);c.current=u==="mounted"?m:"none"},[u]),dr(()=>{const m=i.current,g=a.current;if(g!==e){const v=c.current,E=Hc(m);e?h("MOUNT"):E==="none"||(m==null?void 0:m.display)==="none"?h("UNMOUNT"):h(g&&v!==E?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,h]),dr(()=>{if(t){let m;const g=t.ownerDocument.defaultView??window,p=E=>{const k=Hc(i.current).includes(E.animationName);if(E.target===t&&k&&(h("ANIMATION_END"),!a.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",m=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},v=E=>{E.target===t&&(c.current=Hc(i.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{g.clearTimeout(m),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:C.useCallback(m=>{i.current=m?getComputedStyle(m):null,r(m)},[])}}function Hc(e){return(e==null?void 0:e.animationName)||"none"}function e8(e){var i,a;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var hd="Tabs",[t8,qC]=Fi(hd,[Vv]),Gv=Vv(),[r8,Ep]=t8(hd),Kv=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:i,onValueChange:a,defaultValue:c,orientation:d="horizontal",dir:u,activationMode:h="automatic",...m}=e,g=fd(u),[p,v]=Wo({prop:i,onChange:a,defaultProp:c??"",caller:hd});return o.jsx(r8,{scope:r,baseId:pl(),value:p,onValueChange:v,orientation:d,dir:g,activationMode:h,children:o.jsx(lt.div,{dir:g,"data-orientation":d,...m,ref:t})})});Kv.displayName=hd;var Dv="TabsList",Yv=C.forwardRef((e,t)=>{const{__scopeTabs:r,loop:i=!0,...a}=e,c=Ep(Dv,r),d=Gv(r);return o.jsx(Zk,{asChild:!0,...d,orientation:c.orientation,dir:c.dir,loop:i,children:o.jsx(lt.div,{role:"tablist","aria-orientation":c.orientation,...a,ref:t})})});Yv.displayName=Dv;var Zv="TabsTrigger",Xv=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:i,disabled:a=!1,...c}=e,d=Ep(Zv,r),u=Gv(r),h=eb(d.baseId,i),m=tb(d.baseId,i),g=i===d.value;return o.jsx(Xk,{asChild:!0,...u,focusable:!a,active:g,children:o.jsx(lt.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":m,"data-state":g?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:h,...c,ref:t,onMouseDown:st(e.onMouseDown,p=>{!a&&p.button===0&&p.ctrlKey===!1?d.onValueChange(i):p.preventDefault()}),onKeyDown:st(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&d.onValueChange(i)}),onFocus:st(e.onFocus,()=>{const p=d.activationMode!=="manual";!g&&!a&&p&&d.onValueChange(i)})})})});Xv.displayName=Zv;var Qv="TabsContent",Jv=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:i,forceMount:a,children:c,...d}=e,u=Ep(Qv,r),h=eb(u.baseId,i),m=tb(u.baseId,i),g=i===u.value,p=C.useRef(g);return C.useEffect(()=>{const v=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(v)},[]),o.jsx(Np,{present:a||g,children:({present:v})=>o.jsx(lt.div,{"data-state":g?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!v,id:m,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:v&&c})})});Jv.displayName=Qv;function eb(e,t){return`${e}-trigger-${t}`}function tb(e,t){return`${e}-content-${t}`}var n8=Kv,rb=Yv,nb=Xv,sb=Jv;const s8=n8,i8=C.forwardRef(({className:e,...t},r)=>o.jsx(rb,{ref:r,className:Nt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));i8.displayName=rb.displayName;const o8=C.forwardRef(({className:e,...t},r)=>o.jsx(nb,{ref:r,className:Nt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));o8.displayName=nb.displayName;const ib=C.forwardRef(({className:e,...t},r)=>o.jsx(sb,{ref:r,className:Nt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ib.displayName=sb.displayName;const Gr=C.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:Nt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Gr.displayName="Textarea";var a8="Label",ob=C.forwardRef((e,t)=>o.jsx(lt.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ob.displayName=a8;var ab=ob;const l8=wp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Xe=C.forwardRef(({className:e,...t},r)=>o.jsx(ab,{ref:r,className:Nt(l8(),e),...t}));Xe.displayName=ab.displayName;function $u(e,[t,r]){return Math.min(r,Math.max(t,e))}function c8(e,t=globalThis==null?void 0:globalThis.document){const r=Zs(e);C.useEffect(()=>{const i=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[r,t])}var u8="DismissableLayer",U0="dismissableLayer.update",d8="dismissableLayer.pointerDownOutside",f8="dismissableLayer.focusOutside",Yy,lb=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cb=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:d,onDismiss:u,...h}=e,m=C.useContext(lb),[g,p]=C.useState(null),v=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=C.useState({}),w=xt(t,X=>p(X)),k=Array.from(m.layers),[j]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),R=k.indexOf(j),M=g?k.indexOf(g):-1,U=m.layersWithOutsidePointerEventsDisabled.size>0,G=M>=R,O=m8(X=>{const $=X.target,q=[...m.branches].some(W=>W.contains($));!G||q||(a==null||a(X),d==null||d(X),X.defaultPrevented||u==null||u())},v),Q=g8(X=>{const $=X.target;[...m.branches].some(W=>W.contains($))||(c==null||c(X),d==null||d(X),X.defaultPrevented||u==null||u())},v);return c8(X=>{M===m.layers.size-1&&(i==null||i(X),!X.defaultPrevented&&u&&(X.preventDefault(),u()))},v),C.useEffect(()=>{if(g)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Yy=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),Zy(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Yy)}},[g,v,r,m]),C.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),Zy())},[g,m]),C.useEffect(()=>{const X=()=>E({});return document.addEventListener(U0,X),()=>document.removeEventListener(U0,X)},[]),o.jsx(lt.div,{...h,ref:w,style:{pointerEvents:U?G?"auto":"none":void 0,...e.style},onFocusCapture:st(e.onFocusCapture,Q.onFocusCapture),onBlurCapture:st(e.onBlurCapture,Q.onBlurCapture),onPointerDownCapture:st(e.onPointerDownCapture,O.onPointerDownCapture)})});cb.displayName=u8;var h8="DismissableLayerBranch",p8=C.forwardRef((e,t)=>{const r=C.useContext(lb),i=C.useRef(null),a=xt(t,i);return C.useEffect(()=>{const c=i.current;if(c)return r.branches.add(c),()=>{r.branches.delete(c)}},[r.branches]),o.jsx(lt.div,{...e,ref:a})});p8.displayName=h8;function m8(e,t=globalThis==null?void 0:globalThis.document){const r=Zs(e),i=C.useRef(!1),a=C.useRef(()=>{});return C.useEffect(()=>{const c=u=>{if(u.target&&!i.current){let h=function(){ub(d8,r,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=h,t.addEventListener("click",a.current,{once:!0})):h()}else t.removeEventListener("click",a.current);i.current=!1},d=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),t.removeEventListener("pointerdown",c),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>i.current=!0}}function g8(e,t=globalThis==null?void 0:globalThis.document){const r=Zs(e),i=C.useRef(!1);return C.useEffect(()=>{const a=c=>{c.target&&!i.current&&ub(f8,r,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Zy(){const e=new CustomEvent(U0);document.dispatchEvent(e)}function ub(e,t,r,{discrete:i}){const a=r.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),i?Ok(a,c):a.dispatchEvent(c)}var r0=0;function x8(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Xy()),document.body.insertAdjacentElement("beforeend",e[1]??Xy()),r0++,()=>{r0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),r0--}},[])}function Xy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var n0="focusScope.autoFocusOnMount",s0="focusScope.autoFocusOnUnmount",Qy={bubbles:!1,cancelable:!0},y8="FocusScope",db=C.forwardRef((e,t)=>{const{loop:r=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:c,...d}=e,[u,h]=C.useState(null),m=Zs(a),g=Zs(c),p=C.useRef(null),v=xt(t,k=>h(k)),E=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(i){let k=function(U){if(E.paused||!u)return;const G=U.target;u.contains(G)?p.current=G:$s(p.current,{select:!0})},j=function(U){if(E.paused||!u)return;const G=U.relatedTarget;G!==null&&(u.contains(G)||$s(p.current,{select:!0}))},R=function(U){if(document.activeElement===document.body)for(const O of U)O.removedNodes.length>0&&$s(u)};document.addEventListener("focusin",k),document.addEventListener("focusout",j);const M=new MutationObserver(R);return u&&M.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",j),M.disconnect()}}},[i,u,E.paused]),C.useEffect(()=>{if(u){ew.add(E);const k=document.activeElement;if(!u.contains(k)){const R=new CustomEvent(n0,Qy);u.addEventListener(n0,m),u.dispatchEvent(R),R.defaultPrevented||(w8(_8(fb(u)),{select:!0}),document.activeElement===k&&$s(u))}return()=>{u.removeEventListener(n0,m),setTimeout(()=>{const R=new CustomEvent(s0,Qy);u.addEventListener(s0,g),u.dispatchEvent(R),R.defaultPrevented||$s(k??document.body,{select:!0}),u.removeEventListener(s0,g),ew.remove(E)},0)}}},[u,m,g,E]);const w=C.useCallback(k=>{if(!r&&!i||E.paused)return;const j=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,R=document.activeElement;if(j&&R){const M=k.currentTarget,[U,G]=v8(M);U&&G?!k.shiftKey&&R===G?(k.preventDefault(),r&&$s(U,{select:!0})):k.shiftKey&&R===U&&(k.preventDefault(),r&&$s(G,{select:!0})):R===M&&k.preventDefault()}},[r,i,E.paused]);return o.jsx(lt.div,{tabIndex:-1,...d,ref:v,onKeyDown:w})});db.displayName=y8;function w8(e,{select:t=!1}={}){const r=document.activeElement;for(const i of e)if($s(i,{select:t}),document.activeElement!==r)return}function v8(e){const t=fb(e),r=Jy(t,e),i=Jy(t.reverse(),e);return[r,i]}function fb(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Jy(e,t){for(const r of e)if(!b8(r,{upTo:t}))return r}function b8(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function N8(e){return e instanceof HTMLInputElement&&"select"in e}function $s(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&N8(e)&&t&&e.select()}}var ew=E8();function E8(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=tw(e,t),e.unshift(t)},remove(t){var r;e=tw(e,t),(r=e[0])==null||r.resume()}}}function tw(e,t){const r=[...e],i=r.indexOf(t);return i!==-1&&r.splice(i,1),r}function _8(e){return e.filter(t=>t.tagName!=="A")}const S8=["top","right","bottom","left"],Xs=Math.min,Br=Math.max,zu=Math.round,Lc=Math.floor,Pn=e=>({x:e,y:e}),k8={left:"right",right:"left",bottom:"top",top:"bottom"},j8={start:"end",end:"start"};function $0(e,t,r){return Br(e,Xs(t,r))}function ls(e,t){return typeof e=="function"?e(t):e}function cs(e){return e.split("-")[0]}function Do(e){return e.split("-")[1]}function _p(e){return e==="x"?"y":"x"}function Sp(e){return e==="y"?"height":"width"}function Cn(e){return["top","bottom"].includes(cs(e))?"y":"x"}function kp(e){return _p(Cn(e))}function A8(e,t,r){r===void 0&&(r=!1);const i=Do(e),a=kp(e),c=Sp(a);let d=a==="x"?i===(r?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(d=Vu(d)),[d,Vu(d)]}function C8(e){const t=Vu(e);return[z0(e),t,z0(t)]}function z0(e){return e.replace(/start|end/g,t=>j8[t])}function T8(e,t,r){const i=["left","right"],a=["right","left"],c=["top","bottom"],d=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:i:t?i:a;case"left":case"right":return t?c:d;default:return[]}}function R8(e,t,r,i){const a=Do(e);let c=T8(cs(e),r==="start",i);return a&&(c=c.map(d=>d+"-"+a),t&&(c=c.concat(c.map(z0)))),c}function Vu(e){return e.replace(/left|right|bottom|top/g,t=>k8[t])}function B8(e){return{top:0,right:0,bottom:0,left:0,...e}}function hb(e){return typeof e!="number"?B8(e):{top:e,right:e,bottom:e,left:e}}function Hu(e){const{x:t,y:r,width:i,height:a}=e;return{width:i,height:a,top:r,left:t,right:t+i,bottom:r+a,x:t,y:r}}function rw(e,t,r){let{reference:i,floating:a}=e;const c=Cn(t),d=kp(t),u=Sp(d),h=cs(t),m=c==="y",g=i.x+i.width/2-a.width/2,p=i.y+i.height/2-a.height/2,v=i[u]/2-a[u]/2;let E;switch(h){case"top":E={x:g,y:i.y-a.height};break;case"bottom":E={x:g,y:i.y+i.height};break;case"right":E={x:i.x+i.width,y:p};break;case"left":E={x:i.x-a.width,y:p};break;default:E={x:i.x,y:i.y}}switch(Do(t)){case"start":E[d]-=v*(r&&m?-1:1);break;case"end":E[d]+=v*(r&&m?-1:1);break}return E}const P8=async(e,t,r)=>{const{placement:i="bottom",strategy:a="absolute",middleware:c=[],platform:d}=r,u=c.filter(Boolean),h=await(d.isRTL==null?void 0:d.isRTL(t));let m=await d.getElementRects({reference:e,floating:t,strategy:a}),{x:g,y:p}=rw(m,i,h),v=i,E={},w=0;for(let k=0;k<u.length;k++){const{name:j,fn:R}=u[k],{x:M,y:U,data:G,reset:O}=await R({x:g,y:p,initialPlacement:i,placement:v,strategy:a,middlewareData:E,rects:m,platform:d,elements:{reference:e,floating:t}});g=M??g,p=U??p,E={...E,[j]:{...E[j],...G}},O&&w<=50&&(w++,typeof O=="object"&&(O.placement&&(v=O.placement),O.rects&&(m=O.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:a}):O.rects),{x:g,y:p}=rw(m,v,h)),k=-1)}return{x:g,y:p,placement:v,strategy:a,middlewareData:E}};async function ol(e,t){var r;t===void 0&&(t={});const{x:i,y:a,platform:c,rects:d,elements:u,strategy:h}=e,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:p="floating",altBoundary:v=!1,padding:E=0}=ls(t,e),w=hb(E),j=u[v?p==="floating"?"reference":"floating":p],R=Hu(await c.getClippingRect({element:(r=await(c.isElement==null?void 0:c.isElement(j)))==null||r?j:j.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(u.floating)),boundary:m,rootBoundary:g,strategy:h})),M=p==="floating"?{x:i,y:a,width:d.floating.width,height:d.floating.height}:d.reference,U=await(c.getOffsetParent==null?void 0:c.getOffsetParent(u.floating)),G=await(c.isElement==null?void 0:c.isElement(U))?await(c.getScale==null?void 0:c.getScale(U))||{x:1,y:1}:{x:1,y:1},O=Hu(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:M,offsetParent:U,strategy:h}):M);return{top:(R.top-O.top+w.top)/G.y,bottom:(O.bottom-R.bottom+w.bottom)/G.y,left:(R.left-O.left+w.left)/G.x,right:(O.right-R.right+w.right)/G.x}}const M8=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:i,placement:a,rects:c,platform:d,elements:u,middlewareData:h}=t,{element:m,padding:g=0}=ls(e,t)||{};if(m==null)return{};const p=hb(g),v={x:r,y:i},E=kp(a),w=Sp(E),k=await d.getDimensions(m),j=E==="y",R=j?"top":"left",M=j?"bottom":"right",U=j?"clientHeight":"clientWidth",G=c.reference[w]+c.reference[E]-v[E]-c.floating[w],O=v[E]-c.reference[E],Q=await(d.getOffsetParent==null?void 0:d.getOffsetParent(m));let X=Q?Q[U]:0;(!X||!await(d.isElement==null?void 0:d.isElement(Q)))&&(X=u.floating[U]||c.floating[w]);const $=G/2-O/2,q=X/2-k[w]/2-1,W=Xs(p[R],q),ie=Xs(p[M],q),fe=W,A=X-k[w]-ie,V=X/2-k[w]/2+$,Z=$0(fe,V,A),J=!h.arrow&&Do(a)!=null&&V!==Z&&c.reference[w]/2-(V<fe?W:ie)-k[w]/2<0,ce=J?V<fe?V-fe:V-A:0;return{[E]:v[E]+ce,data:{[E]:Z,centerOffset:V-Z-ce,...J&&{alignmentOffset:ce}},reset:J}}}),O8=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,i;const{placement:a,middlewareData:c,rects:d,initialPlacement:u,platform:h,elements:m}=t,{mainAxis:g=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:k=!0,...j}=ls(e,t);if((r=c.arrow)!=null&&r.alignmentOffset)return{};const R=cs(a),M=Cn(u),U=cs(u)===u,G=await(h.isRTL==null?void 0:h.isRTL(m.floating)),O=v||(U||!k?[Vu(u)]:C8(u)),Q=w!=="none";!v&&Q&&O.push(...R8(u,k,w,G));const X=[u,...O],$=await ol(t,j),q=[];let W=((i=c.flip)==null?void 0:i.overflows)||[];if(g&&q.push($[R]),p){const V=A8(a,d,G);q.push($[V[0]],$[V[1]])}if(W=[...W,{placement:a,overflows:q}],!q.every(V=>V<=0)){var ie,fe;const V=(((ie=c.flip)==null?void 0:ie.index)||0)+1,Z=X[V];if(Z&&(!(p==="alignment"?M!==Cn(Z):!1)||W.every(te=>te.overflows[0]>0&&Cn(te.placement)===M)))return{data:{index:V,overflows:W},reset:{placement:Z}};let J=(fe=W.filter(ce=>ce.overflows[0]<=0).sort((ce,te)=>ce.overflows[1]-te.overflows[1])[0])==null?void 0:fe.placement;if(!J)switch(E){case"bestFit":{var A;const ce=(A=W.filter(te=>{if(Q){const ye=Cn(te.placement);return ye===M||ye==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(ye=>ye>0).reduce((ye,_e)=>ye+_e,0)]).sort((te,ye)=>te[1]-ye[1])[0])==null?void 0:A[0];ce&&(J=ce);break}case"initialPlacement":J=u;break}if(a!==J)return{reset:{placement:J}}}return{}}}};function nw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function sw(e){return S8.some(t=>e[t]>=0)}const I8=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:i="referenceHidden",...a}=ls(e,t);switch(i){case"referenceHidden":{const c=await ol(t,{...a,elementContext:"reference"}),d=nw(c,r.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:sw(d)}}}case"escaped":{const c=await ol(t,{...a,altBoundary:!0}),d=nw(c,r.floating);return{data:{escapedOffsets:d,escaped:sw(d)}}}default:return{}}}}};async function F8(e,t){const{placement:r,platform:i,elements:a}=e,c=await(i.isRTL==null?void 0:i.isRTL(a.floating)),d=cs(r),u=Do(r),h=Cn(r)==="y",m=["left","top"].includes(d)?-1:1,g=c&&h?-1:1,p=ls(t,e);let{mainAxis:v,crossAxis:E,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof w=="number"&&(E=u==="end"?w*-1:w),h?{x:E*g,y:v*m}:{x:v*m,y:E*g}}const U8=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,i;const{x:a,y:c,placement:d,middlewareData:u}=t,h=await F8(t,e);return d===((r=u.offset)==null?void 0:r.placement)&&(i=u.arrow)!=null&&i.alignmentOffset?{}:{x:a+h.x,y:c+h.y,data:{...h,placement:d}}}}},$8=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:i,placement:a}=t,{mainAxis:c=!0,crossAxis:d=!1,limiter:u={fn:j=>{let{x:R,y:M}=j;return{x:R,y:M}}},...h}=ls(e,t),m={x:r,y:i},g=await ol(t,h),p=Cn(cs(a)),v=_p(p);let E=m[v],w=m[p];if(c){const j=v==="y"?"top":"left",R=v==="y"?"bottom":"right",M=E+g[j],U=E-g[R];E=$0(M,E,U)}if(d){const j=p==="y"?"top":"left",R=p==="y"?"bottom":"right",M=w+g[j],U=w-g[R];w=$0(M,w,U)}const k=u.fn({...t,[v]:E,[p]:w});return{...k,data:{x:k.x-r,y:k.y-i,enabled:{[v]:c,[p]:d}}}}}},z8=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:i,placement:a,rects:c,middlewareData:d}=t,{offset:u=0,mainAxis:h=!0,crossAxis:m=!0}=ls(e,t),g={x:r,y:i},p=Cn(a),v=_p(p);let E=g[v],w=g[p];const k=ls(u,t),j=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(h){const U=v==="y"?"height":"width",G=c.reference[v]-c.floating[U]+j.mainAxis,O=c.reference[v]+c.reference[U]-j.mainAxis;E<G?E=G:E>O&&(E=O)}if(m){var R,M;const U=v==="y"?"width":"height",G=["top","left"].includes(cs(a)),O=c.reference[p]-c.floating[U]+(G&&((R=d.offset)==null?void 0:R[p])||0)+(G?0:j.crossAxis),Q=c.reference[p]+c.reference[U]+(G?0:((M=d.offset)==null?void 0:M[p])||0)-(G?j.crossAxis:0);w<O?w=O:w>Q&&(w=Q)}return{[v]:E,[p]:w}}}},V8=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,i;const{placement:a,rects:c,platform:d,elements:u}=t,{apply:h=()=>{},...m}=ls(e,t),g=await ol(t,m),p=cs(a),v=Do(a),E=Cn(a)==="y",{width:w,height:k}=c.floating;let j,R;p==="top"||p==="bottom"?(j=p,R=v===(await(d.isRTL==null?void 0:d.isRTL(u.floating))?"start":"end")?"left":"right"):(R=p,j=v==="end"?"top":"bottom");const M=k-g.top-g.bottom,U=w-g.left-g.right,G=Xs(k-g[j],M),O=Xs(w-g[R],U),Q=!t.middlewareData.shift;let X=G,$=O;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&($=U),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(X=M),Q&&!v){const W=Br(g.left,0),ie=Br(g.right,0),fe=Br(g.top,0),A=Br(g.bottom,0);E?$=w-2*(W!==0||ie!==0?W+ie:Br(g.left,g.right)):X=k-2*(fe!==0||A!==0?fe+A:Br(g.top,g.bottom))}await h({...t,availableWidth:$,availableHeight:X});const q=await d.getDimensions(u.floating);return w!==q.width||k!==q.height?{reset:{rects:!0}}:{}}}};function pd(){return typeof window<"u"}function Yo(e){return pb(e)?(e.nodeName||"").toLowerCase():"#document"}function Ur(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function On(e){var t;return(t=(pb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function pb(e){return pd()?e instanceof Node||e instanceof Ur(e).Node:!1}function un(e){return pd()?e instanceof Element||e instanceof Ur(e).Element:!1}function Mn(e){return pd()?e instanceof HTMLElement||e instanceof Ur(e).HTMLElement:!1}function iw(e){return!pd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ur(e).ShadowRoot}function gl(e){const{overflow:t,overflowX:r,overflowY:i,display:a}=dn(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+r)&&!["inline","contents"].includes(a)}function H8(e){return["table","td","th"].includes(Yo(e))}function md(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function jp(e){const t=Ap(),r=un(e)?dn(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>r[i]?r[i]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(r.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(r.contain||"").includes(i))}function L8(e){let t=Qs(e);for(;Mn(t)&&!qo(t);){if(jp(t))return t;if(md(t))return null;t=Qs(t)}return null}function Ap(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qo(e){return["html","body","#document"].includes(Yo(e))}function dn(e){return Ur(e).getComputedStyle(e)}function gd(e){return un(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Qs(e){if(Yo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||iw(e)&&e.host||On(e);return iw(t)?t.host:t}function mb(e){const t=Qs(e);return qo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Mn(t)&&gl(t)?t:mb(t)}function al(e,t,r){var i;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=mb(e),c=a===((i=e.ownerDocument)==null?void 0:i.body),d=Ur(a);if(c){const u=V0(d);return t.concat(d,d.visualViewport||[],gl(a)?a:[],u&&r?al(u):[])}return t.concat(a,al(a,[],r))}function V0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function gb(e){const t=dn(e);let r=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const a=Mn(e),c=a?e.offsetWidth:r,d=a?e.offsetHeight:i,u=zu(r)!==c||zu(i)!==d;return u&&(r=c,i=d),{width:r,height:i,$:u}}function Cp(e){return un(e)?e:e.contextElement}function Fo(e){const t=Cp(e);if(!Mn(t))return Pn(1);const r=t.getBoundingClientRect(),{width:i,height:a,$:c}=gb(t);let d=(c?zu(r.width):r.width)/i,u=(c?zu(r.height):r.height)/a;return(!d||!Number.isFinite(d))&&(d=1),(!u||!Number.isFinite(u))&&(u=1),{x:d,y:u}}const W8=Pn(0);function xb(e){const t=Ur(e);return!Ap()||!t.visualViewport?W8:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function q8(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ur(e)?!1:t}function Pi(e,t,r,i){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),c=Cp(e);let d=Pn(1);t&&(i?un(i)&&(d=Fo(i)):d=Fo(e));const u=q8(c,r,i)?xb(c):Pn(0);let h=(a.left+u.x)/d.x,m=(a.top+u.y)/d.y,g=a.width/d.x,p=a.height/d.y;if(c){const v=Ur(c),E=i&&un(i)?Ur(i):i;let w=v,k=V0(w);for(;k&&i&&E!==w;){const j=Fo(k),R=k.getBoundingClientRect(),M=dn(k),U=R.left+(k.clientLeft+parseFloat(M.paddingLeft))*j.x,G=R.top+(k.clientTop+parseFloat(M.paddingTop))*j.y;h*=j.x,m*=j.y,g*=j.x,p*=j.y,h+=U,m+=G,w=Ur(k),k=V0(w)}}return Hu({width:g,height:p,x:h,y:m})}function Tp(e,t){const r=gd(e).scrollLeft;return t?t.left+r:Pi(On(e)).left+r}function yb(e,t,r){r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=i.left+t.scrollLeft-(r?0:Tp(e,i)),c=i.top+t.scrollTop;return{x:a,y:c}}function G8(e){let{elements:t,rect:r,offsetParent:i,strategy:a}=e;const c=a==="fixed",d=On(i),u=t?md(t.floating):!1;if(i===d||u&&c)return r;let h={scrollLeft:0,scrollTop:0},m=Pn(1);const g=Pn(0),p=Mn(i);if((p||!p&&!c)&&((Yo(i)!=="body"||gl(d))&&(h=gd(i)),Mn(i))){const E=Pi(i);m=Fo(i),g.x=E.x+i.clientLeft,g.y=E.y+i.clientTop}const v=d&&!p&&!c?yb(d,h,!0):Pn(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-h.scrollLeft*m.x+g.x+v.x,y:r.y*m.y-h.scrollTop*m.y+g.y+v.y}}function K8(e){return Array.from(e.getClientRects())}function D8(e){const t=On(e),r=gd(e),i=e.ownerDocument.body,a=Br(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),c=Br(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let d=-r.scrollLeft+Tp(e);const u=-r.scrollTop;return dn(i).direction==="rtl"&&(d+=Br(t.clientWidth,i.clientWidth)-a),{width:a,height:c,x:d,y:u}}function Y8(e,t){const r=Ur(e),i=On(e),a=r.visualViewport;let c=i.clientWidth,d=i.clientHeight,u=0,h=0;if(a){c=a.width,d=a.height;const m=Ap();(!m||m&&t==="fixed")&&(u=a.offsetLeft,h=a.offsetTop)}return{width:c,height:d,x:u,y:h}}function Z8(e,t){const r=Pi(e,!0,t==="fixed"),i=r.top+e.clientTop,a=r.left+e.clientLeft,c=Mn(e)?Fo(e):Pn(1),d=e.clientWidth*c.x,u=e.clientHeight*c.y,h=a*c.x,m=i*c.y;return{width:d,height:u,x:h,y:m}}function ow(e,t,r){let i;if(t==="viewport")i=Y8(e,r);else if(t==="document")i=D8(On(e));else if(un(t))i=Z8(t,r);else{const a=xb(e);i={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Hu(i)}function wb(e,t){const r=Qs(e);return r===t||!un(r)||qo(r)?!1:dn(r).position==="fixed"||wb(r,t)}function X8(e,t){const r=t.get(e);if(r)return r;let i=al(e,[],!1).filter(u=>un(u)&&Yo(u)!=="body"),a=null;const c=dn(e).position==="fixed";let d=c?Qs(e):e;for(;un(d)&&!qo(d);){const u=dn(d),h=jp(d);!h&&u.position==="fixed"&&(a=null),(c?!h&&!a:!h&&u.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||gl(d)&&!h&&wb(e,d))?i=i.filter(g=>g!==d):a=u,d=Qs(d)}return t.set(e,i),i}function Q8(e){let{element:t,boundary:r,rootBoundary:i,strategy:a}=e;const d=[...r==="clippingAncestors"?md(t)?[]:X8(t,this._c):[].concat(r),i],u=d[0],h=d.reduce((m,g)=>{const p=ow(t,g,a);return m.top=Br(p.top,m.top),m.right=Xs(p.right,m.right),m.bottom=Xs(p.bottom,m.bottom),m.left=Br(p.left,m.left),m},ow(t,u,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function J8(e){const{width:t,height:r}=gb(e);return{width:t,height:r}}function ej(e,t,r){const i=Mn(t),a=On(t),c=r==="fixed",d=Pi(e,!0,c,t);let u={scrollLeft:0,scrollTop:0};const h=Pn(0);function m(){h.x=Tp(a)}if(i||!i&&!c)if((Yo(t)!=="body"||gl(a))&&(u=gd(t)),i){const E=Pi(t,!0,c,t);h.x=E.x+t.clientLeft,h.y=E.y+t.clientTop}else a&&m();c&&!i&&a&&m();const g=a&&!i&&!c?yb(a,u):Pn(0),p=d.left+u.scrollLeft-h.x-g.x,v=d.top+u.scrollTop-h.y-g.y;return{x:p,y:v,width:d.width,height:d.height}}function i0(e){return dn(e).position==="static"}function aw(e,t){if(!Mn(e)||dn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return On(e)===r&&(r=r.ownerDocument.body),r}function vb(e,t){const r=Ur(e);if(md(e))return r;if(!Mn(e)){let a=Qs(e);for(;a&&!qo(a);){if(un(a)&&!i0(a))return a;a=Qs(a)}return r}let i=aw(e,t);for(;i&&H8(i)&&i0(i);)i=aw(i,t);return i&&qo(i)&&i0(i)&&!jp(i)?r:i||L8(e)||r}const tj=async function(e){const t=this.getOffsetParent||vb,r=this.getDimensions,i=await r(e.floating);return{reference:ej(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function rj(e){return dn(e).direction==="rtl"}const nj={convertOffsetParentRelativeRectToViewportRelativeRect:G8,getDocumentElement:On,getClippingRect:Q8,getOffsetParent:vb,getElementRects:tj,getClientRects:K8,getDimensions:J8,getScale:Fo,isElement:un,isRTL:rj};function bb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function sj(e,t){let r=null,i;const a=On(e);function c(){var u;clearTimeout(i),(u=r)==null||u.disconnect(),r=null}function d(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),c();const m=e.getBoundingClientRect(),{left:g,top:p,width:v,height:E}=m;if(u||t(),!v||!E)return;const w=Lc(p),k=Lc(a.clientWidth-(g+v)),j=Lc(a.clientHeight-(p+E)),R=Lc(g),U={rootMargin:-w+"px "+-k+"px "+-j+"px "+-R+"px",threshold:Br(0,Xs(1,h))||1};let G=!0;function O(Q){const X=Q[0].intersectionRatio;if(X!==h){if(!G)return d();X?d(!1,X):i=setTimeout(()=>{d(!1,1e-7)},1e3)}X===1&&!bb(m,e.getBoundingClientRect())&&d(),G=!1}try{r=new IntersectionObserver(O,{...U,root:a.ownerDocument})}catch{r=new IntersectionObserver(O,U)}r.observe(e)}return d(!0),c}function ij(e,t,r,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,m=Cp(e),g=a||c?[...m?al(m):[],...al(t)]:[];g.forEach(R=>{a&&R.addEventListener("scroll",r,{passive:!0}),c&&R.addEventListener("resize",r)});const p=m&&u?sj(m,r):null;let v=-1,E=null;d&&(E=new ResizeObserver(R=>{let[M]=R;M&&M.target===m&&E&&(E.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var U;(U=E)==null||U.observe(t)})),r()}),m&&!h&&E.observe(m),E.observe(t));let w,k=h?Pi(e):null;h&&j();function j(){const R=Pi(e);k&&!bb(k,R)&&r(),k=R,w=requestAnimationFrame(j)}return r(),()=>{var R;g.forEach(M=>{a&&M.removeEventListener("scroll",r),c&&M.removeEventListener("resize",r)}),p==null||p(),(R=E)==null||R.disconnect(),E=null,h&&cancelAnimationFrame(w)}}const oj=U8,aj=$8,lj=O8,cj=V8,uj=I8,lw=M8,dj=z8,fj=(e,t,r)=>{const i=new Map,a={platform:nj,...r},c={...a.platform,_c:i};return P8(e,t,{...a,platform:c})};var hj=typeof document<"u",pj=function(){},vu=hj?C.useLayoutEffect:pj;function Lu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,i,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(i=r;i--!==0;)if(!Lu(e[i],t[i]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!{}.hasOwnProperty.call(t,a[i]))return!1;for(i=r;i--!==0;){const c=a[i];if(!(c==="_owner"&&e.$$typeof)&&!Lu(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function Nb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function cw(e,t){const r=Nb(e);return Math.round(t*r)/r}function o0(e){const t=C.useRef(e);return vu(()=>{t.current=e}),t}function mj(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:i=[],platform:a,elements:{reference:c,floating:d}={},transform:u=!0,whileElementsMounted:h,open:m}=e,[g,p]=C.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,E]=C.useState(i);Lu(v,i)||E(i);const[w,k]=C.useState(null),[j,R]=C.useState(null),M=C.useCallback(te=>{te!==Q.current&&(Q.current=te,k(te))},[]),U=C.useCallback(te=>{te!==X.current&&(X.current=te,R(te))},[]),G=c||w,O=d||j,Q=C.useRef(null),X=C.useRef(null),$=C.useRef(g),q=h!=null,W=o0(h),ie=o0(a),fe=o0(m),A=C.useCallback(()=>{if(!Q.current||!X.current)return;const te={placement:t,strategy:r,middleware:v};ie.current&&(te.platform=ie.current),fj(Q.current,X.current,te).then(ye=>{const _e={...ye,isPositioned:fe.current!==!1};V.current&&!Lu($.current,_e)&&($.current=_e,ll.flushSync(()=>{p(_e)}))})},[v,t,r,ie,fe]);vu(()=>{m===!1&&$.current.isPositioned&&($.current.isPositioned=!1,p(te=>({...te,isPositioned:!1})))},[m]);const V=C.useRef(!1);vu(()=>(V.current=!0,()=>{V.current=!1}),[]),vu(()=>{if(G&&(Q.current=G),O&&(X.current=O),G&&O){if(W.current)return W.current(G,O,A);A()}},[G,O,A,W,q]);const Z=C.useMemo(()=>({reference:Q,floating:X,setReference:M,setFloating:U}),[M,U]),J=C.useMemo(()=>({reference:G,floating:O}),[G,O]),ce=C.useMemo(()=>{const te={position:r,left:0,top:0};if(!J.floating)return te;const ye=cw(J.floating,g.x),_e=cw(J.floating,g.y);return u?{...te,transform:"translate("+ye+"px, "+_e+"px)",...Nb(J.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ye,top:_e}},[r,u,J.floating,g.x,g.y]);return C.useMemo(()=>({...g,update:A,refs:Z,elements:J,floatingStyles:ce}),[g,A,Z,J,ce])}const gj=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:i,padding:a}=typeof e=="function"?e(r):e;return i&&t(i)?i.current!=null?lw({element:i.current,padding:a}).fn(r):{}:i?lw({element:i,padding:a}).fn(r):{}}}},xj=(e,t)=>({...oj(e),options:[e,t]}),yj=(e,t)=>({...aj(e),options:[e,t]}),wj=(e,t)=>({...dj(e),options:[e,t]}),vj=(e,t)=>({...lj(e),options:[e,t]}),bj=(e,t)=>({...cj(e),options:[e,t]}),Nj=(e,t)=>({...uj(e),options:[e,t]}),Ej=(e,t)=>({...gj(e),options:[e,t]});var _j="Arrow",Eb=C.forwardRef((e,t)=>{const{children:r,width:i=10,height:a=5,...c}=e;return o.jsx(lt.svg,{...c,ref:t,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Eb.displayName=_j;var Sj=Eb;function Rp(e){const[t,r]=C.useState(void 0);return dr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const c=a[0];let d,u;if("borderBoxSize"in c){const h=c.borderBoxSize,m=Array.isArray(h)?h[0]:h;d=m.inlineSize,u=m.blockSize}else d=e.offsetWidth,u=e.offsetHeight;r({width:d,height:u})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else r(void 0)},[e]),t}var Bp="Popper",[_b,Sb]=Fi(Bp),[kj,kb]=_b(Bp),jb=e=>{const{__scopePopper:t,children:r}=e,[i,a]=C.useState(null);return o.jsx(kj,{scope:t,anchor:i,onAnchorChange:a,children:r})};jb.displayName=Bp;var Ab="PopperAnchor",Cb=C.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:i,...a}=e,c=kb(Ab,r),d=C.useRef(null),u=xt(t,d);return C.useEffect(()=>{c.onAnchorChange((i==null?void 0:i.current)||d.current)}),i?null:o.jsx(lt.div,{...a,ref:u})});Cb.displayName=Ab;var Pp="PopperContent",[jj,Aj]=_b(Pp),Tb=C.forwardRef((e,t)=>{var pe,he,Ee,F,z,Y;const{__scopePopper:r,side:i="bottom",sideOffset:a=0,align:c="center",alignOffset:d=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:p="partial",hideWhenDetached:v=!1,updatePositionStrategy:E="optimized",onPlaced:w,...k}=e,j=kb(Pp,r),[R,M]=C.useState(null),U=xt(t,ne=>M(ne)),[G,O]=C.useState(null),Q=Rp(G),X=(Q==null?void 0:Q.width)??0,$=(Q==null?void 0:Q.height)??0,q=i+(c!=="center"?"-"+c:""),W=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},ie=Array.isArray(m)?m:[m],fe=ie.length>0,A={padding:W,boundary:ie.filter(Tj),altBoundary:fe},{refs:V,floatingStyles:Z,placement:J,isPositioned:ce,middlewareData:te}=mj({strategy:"fixed",placement:q,whileElementsMounted:(...ne)=>ij(...ne,{animationFrame:E==="always"}),elements:{reference:j.anchor},middleware:[xj({mainAxis:a+$,alignmentAxis:d}),h&&yj({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?wj():void 0,...A}),h&&vj({...A}),bj({...A,apply:({elements:ne,rects:se,availableWidth:ae,availableHeight:T})=>{const{width:y,height:b}=se.reference,P=ne.floating.style;P.setProperty("--radix-popper-available-width",`${ae}px`),P.setProperty("--radix-popper-available-height",`${T}px`),P.setProperty("--radix-popper-anchor-width",`${y}px`),P.setProperty("--radix-popper-anchor-height",`${b}px`)}}),G&&Ej({element:G,padding:u}),Rj({arrowWidth:X,arrowHeight:$}),v&&Nj({strategy:"referenceHidden",...A})]}),[ye,_e]=Pb(J),D=Zs(w);dr(()=>{ce&&(D==null||D())},[ce,D]);const me=(pe=te.arrow)==null?void 0:pe.x,Be=(he=te.arrow)==null?void 0:he.y,H=((Ee=te.arrow)==null?void 0:Ee.centerOffset)!==0,[Pe,je]=C.useState();return dr(()=>{R&&je(window.getComputedStyle(R).zIndex)},[R]),o.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:ce?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(F=te.transformOrigin)==null?void 0:F.x,(z=te.transformOrigin)==null?void 0:z.y].join(" "),...((Y=te.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(jj,{scope:r,placedSide:ye,onArrowChange:O,arrowX:me,arrowY:Be,shouldHideArrow:H,children:o.jsx(lt.div,{"data-side":ye,"data-align":_e,...k,ref:U,style:{...k.style,animation:ce?void 0:"none"}})})})});Tb.displayName=Pp;var Rb="PopperArrow",Cj={top:"bottom",right:"left",bottom:"top",left:"right"},Bb=C.forwardRef(function(t,r){const{__scopePopper:i,...a}=t,c=Aj(Rb,i),d=Cj[c.placedSide];return o.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:o.jsx(Sj,{...a,ref:r,style:{...a.style,display:"block"}})})});Bb.displayName=Rb;function Tj(e){return e!==null}var Rj=e=>({name:"transformOrigin",options:e,fn(t){var j,R,M;const{placement:r,rects:i,middlewareData:a}=t,d=((j=a.arrow)==null?void 0:j.centerOffset)!==0,u=d?0:e.arrowWidth,h=d?0:e.arrowHeight,[m,g]=Pb(r),p={start:"0%",center:"50%",end:"100%"}[g],v=(((R=a.arrow)==null?void 0:R.x)??0)+u/2,E=(((M=a.arrow)==null?void 0:M.y)??0)+h/2;let w="",k="";return m==="bottom"?(w=d?p:`${v}px`,k=`${-h}px`):m==="top"?(w=d?p:`${v}px`,k=`${i.floating.height+h}px`):m==="right"?(w=`${-h}px`,k=d?p:`${E}px`):m==="left"&&(w=`${i.floating.width+h}px`,k=d?p:`${E}px`),{data:{x:w,y:k}}}});function Pb(e){const[t,r="center"]=e.split("-");return[t,r]}var Bj=jb,Pj=Cb,Mj=Tb,Oj=Bb,Ij="Portal",Mb=C.forwardRef((e,t)=>{var u;const{container:r,...i}=e,[a,c]=C.useState(!1);dr(()=>c(!0),[]);const d=r||a&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return d?Z3.createPortal(o.jsx(lt.div,{...i,ref:t}),d):null});Mb.displayName=Ij;function Mp(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ob=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Fj="VisuallyHidden",Uj=C.forwardRef((e,t)=>o.jsx(lt.span,{...e,ref:t,style:{...Ob,...e.style}}));Uj.displayName=Fj;var $j=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},xo=new WeakMap,Wc=new WeakMap,qc={},a0=0,Ib=function(e){return e&&(e.host||Ib(e.parentNode))},zj=function(e,t){return t.map(function(r){if(e.contains(r))return r;var i=Ib(r);return i&&e.contains(i)?i:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Vj=function(e,t,r,i){var a=zj(t,Array.isArray(e)?e:[e]);qc[r]||(qc[r]=new WeakMap);var c=qc[r],d=[],u=new Set,h=new Set(a),m=function(p){!p||u.has(p)||(u.add(p),m(p.parentNode))};a.forEach(m);var g=function(p){!p||h.has(p)||Array.prototype.forEach.call(p.children,function(v){if(u.has(v))g(v);else try{var E=v.getAttribute(i),w=E!==null&&E!=="false",k=(xo.get(v)||0)+1,j=(c.get(v)||0)+1;xo.set(v,k),c.set(v,j),d.push(v),k===1&&w&&Wc.set(v,!0),j===1&&v.setAttribute(r,"true"),w||v.setAttribute(i,"true")}catch(R){console.error("aria-hidden: cannot operate on ",v,R)}})};return g(t),u.clear(),a0++,function(){d.forEach(function(p){var v=xo.get(p)-1,E=c.get(p)-1;xo.set(p,v),c.set(p,E),v||(Wc.has(p)||p.removeAttribute(i),Wc.delete(p)),E||p.removeAttribute(r)}),a0--,a0||(xo=new WeakMap,xo=new WeakMap,Wc=new WeakMap,qc={})}},Hj=function(e,t,r){r===void 0&&(r="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),a=$j(e);return a?(i.push.apply(i,Array.from(a.querySelectorAll("[aria-live], script"))),Vj(i,a,r,"aria-hidden")):function(){return null}},An=function(){return An=Object.assign||function(t){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(t[c]=r[c])}return t},An.apply(this,arguments)};function Fb(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(r[i[a]]=e[i[a]]);return r}function Lj(e,t,r){if(r||arguments.length===2)for(var i=0,a=t.length,c;i<a;i++)(c||!(i in t))&&(c||(c=Array.prototype.slice.call(t,0,i)),c[i]=t[i]);return e.concat(c||Array.prototype.slice.call(t))}var bu="right-scroll-bar-position",Nu="width-before-scroll-bar",Wj="with-scroll-bars-hidden",qj="--removed-body-scroll-bar-size";function l0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Gj(e,t){var r=C.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(i){var a=r.value;a!==i&&(r.value=i,r.callback(i,a))}}}})[0];return r.callback=t,r.facade}var Kj=typeof window<"u"?C.useLayoutEffect:C.useEffect,uw=new WeakMap;function Dj(e,t){var r=Gj(null,function(i){return e.forEach(function(a){return l0(a,i)})});return Kj(function(){var i=uw.get(r);if(i){var a=new Set(i),c=new Set(e),d=r.current;a.forEach(function(u){c.has(u)||l0(u,null)}),c.forEach(function(u){a.has(u)||l0(u,d)})}uw.set(r,e)},[e]),r}function Yj(e){return e}function Zj(e,t){t===void 0&&(t=Yj);var r=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(c){var d=t(c,i);return r.push(d),function(){r=r.filter(function(u){return u!==d})}},assignSyncMedium:function(c){for(i=!0;r.length;){var d=r;r=[],d.forEach(c)}r={push:function(u){return c(u)},filter:function(){return r}}},assignMedium:function(c){i=!0;var d=[];if(r.length){var u=r;r=[],u.forEach(c),d=r}var h=function(){var g=d;d=[],g.forEach(c)},m=function(){return Promise.resolve().then(h)};m(),r={push:function(g){d.push(g),m()},filter:function(g){return d=d.filter(g),r}}}};return a}function Xj(e){e===void 0&&(e={});var t=Zj(null);return t.options=An({async:!0,ssr:!1},e),t}var Ub=function(e){var t=e.sideCar,r=Fb(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return C.createElement(i,An({},r))};Ub.isSideCarExport=!0;function Qj(e,t){return e.useMedium(t),Ub}var $b=Xj(),c0=function(){},xd=C.forwardRef(function(e,t){var r=C.useRef(null),i=C.useState({onScrollCapture:c0,onWheelCapture:c0,onTouchMoveCapture:c0}),a=i[0],c=i[1],d=e.forwardProps,u=e.children,h=e.className,m=e.removeScrollBar,g=e.enabled,p=e.shards,v=e.sideCar,E=e.noRelative,w=e.noIsolation,k=e.inert,j=e.allowPinchZoom,R=e.as,M=R===void 0?"div":R,U=e.gapMode,G=Fb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=v,Q=Dj([r,t]),X=An(An({},G),a);return C.createElement(C.Fragment,null,g&&C.createElement(O,{sideCar:$b,removeScrollBar:m,shards:p,noRelative:E,noIsolation:w,inert:k,setCallbacks:c,allowPinchZoom:!!j,lockRef:r,gapMode:U}),d?C.cloneElement(C.Children.only(u),An(An({},X),{ref:Q})):C.createElement(M,An({},X,{className:h,ref:Q}),u))});xd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xd.classNames={fullWidth:Nu,zeroRight:bu};var Jj=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function eA(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Jj();return t&&e.setAttribute("nonce",t),e}function tA(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function rA(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var nA=function(){var e=0,t=null;return{add:function(r){e==0&&(t=eA())&&(tA(t,r),rA(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},sA=function(){var e=nA();return function(t,r){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},zb=function(){var e=sA(),t=function(r){var i=r.styles,a=r.dynamic;return e(i,a),null};return t},iA={left:0,top:0,right:0,gap:0},u0=function(e){return parseInt(e||"",10)||0},oA=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[u0(r),u0(i),u0(a)]},aA=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return iA;var t=oA(e),r=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-r+t[2]-t[0])}},lA=zb(),Uo="data-scroll-locked",cA=function(e,t,r,i){var a=e.left,c=e.top,d=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Wj,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(u,"px ").concat(i,`;
  }
  body[`).concat(Uo,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(i,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bu,` {
    right: `).concat(u,"px ").concat(i,`;
  }
  
  .`).concat(Nu,` {
    margin-right: `).concat(u,"px ").concat(i,`;
  }
  
  .`).concat(bu," .").concat(bu,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Nu," .").concat(Nu,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Uo,`] {
    `).concat(qj,": ").concat(u,`px;
  }
`)},dw=function(){var e=parseInt(document.body.getAttribute(Uo)||"0",10);return isFinite(e)?e:0},uA=function(){C.useEffect(function(){return document.body.setAttribute(Uo,(dw()+1).toString()),function(){var e=dw()-1;e<=0?document.body.removeAttribute(Uo):document.body.setAttribute(Uo,e.toString())}},[])},dA=function(e){var t=e.noRelative,r=e.noImportant,i=e.gapMode,a=i===void 0?"margin":i;uA();var c=C.useMemo(function(){return aA(a)},[a]);return C.createElement(lA,{styles:cA(c,!t,a,r?"":"!important")})},H0=!1;if(typeof window<"u")try{var Gc=Object.defineProperty({},"passive",{get:function(){return H0=!0,!0}});window.addEventListener("test",Gc,Gc),window.removeEventListener("test",Gc,Gc)}catch{H0=!1}var yo=H0?{passive:!1}:!1,fA=function(e){return e.tagName==="TEXTAREA"},Vb=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!fA(e)&&r[t]==="visible")},hA=function(e){return Vb(e,"overflowY")},pA=function(e){return Vb(e,"overflowX")},fw=function(e,t){var r=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var a=Hb(e,i);if(a){var c=Lb(e,i),d=c[1],u=c[2];if(d>u)return!0}i=i.parentNode}while(i&&i!==r.body);return!1},mA=function(e){var t=e.scrollTop,r=e.scrollHeight,i=e.clientHeight;return[t,r,i]},gA=function(e){var t=e.scrollLeft,r=e.scrollWidth,i=e.clientWidth;return[t,r,i]},Hb=function(e,t){return e==="v"?hA(t):pA(t)},Lb=function(e,t){return e==="v"?mA(t):gA(t)},xA=function(e,t){return e==="h"&&t==="rtl"?-1:1},yA=function(e,t,r,i,a){var c=xA(e,window.getComputedStyle(t).direction),d=c*i,u=r.target,h=t.contains(u),m=!1,g=d>0,p=0,v=0;do{if(!u)break;var E=Lb(e,u),w=E[0],k=E[1],j=E[2],R=k-j-c*w;(w||R)&&Hb(e,u)&&(p+=R,v+=w);var M=u.parentNode;u=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!h&&u!==document.body||h&&(t.contains(u)||t===u));return(g&&Math.abs(p)<1||!g&&Math.abs(v)<1)&&(m=!0),m},Kc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},hw=function(e){return[e.deltaX,e.deltaY]},pw=function(e){return e&&"current"in e?e.current:e},wA=function(e,t){return e[0]===t[0]&&e[1]===t[1]},vA=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},bA=0,wo=[];function NA(e){var t=C.useRef([]),r=C.useRef([0,0]),i=C.useRef(),a=C.useState(bA++)[0],c=C.useState(zb)[0],d=C.useRef(e);C.useEffect(function(){d.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var k=Lj([e.lockRef.current],(e.shards||[]).map(pw),!0).filter(Boolean);return k.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),k.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var u=C.useCallback(function(k,j){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!d.current.allowPinchZoom;var R=Kc(k),M=r.current,U="deltaX"in k?k.deltaX:M[0]-R[0],G="deltaY"in k?k.deltaY:M[1]-R[1],O,Q=k.target,X=Math.abs(U)>Math.abs(G)?"h":"v";if("touches"in k&&X==="h"&&Q.type==="range")return!1;var $=fw(X,Q);if(!$)return!0;if($?O=X:(O=X==="v"?"h":"v",$=fw(X,Q)),!$)return!1;if(!i.current&&"changedTouches"in k&&(U||G)&&(i.current=O),!O)return!0;var q=i.current||O;return yA(q,j,k,q==="h"?U:G)},[]),h=C.useCallback(function(k){var j=k;if(!(!wo.length||wo[wo.length-1]!==c)){var R="deltaY"in j?hw(j):Kc(j),M=t.current.filter(function(O){return O.name===j.type&&(O.target===j.target||j.target===O.shadowParent)&&wA(O.delta,R)})[0];if(M&&M.should){j.cancelable&&j.preventDefault();return}if(!M){var U=(d.current.shards||[]).map(pw).filter(Boolean).filter(function(O){return O.contains(j.target)}),G=U.length>0?u(j,U[0]):!d.current.noIsolation;G&&j.cancelable&&j.preventDefault()}}},[]),m=C.useCallback(function(k,j,R,M){var U={name:k,delta:j,target:R,should:M,shadowParent:EA(R)};t.current.push(U),setTimeout(function(){t.current=t.current.filter(function(G){return G!==U})},1)},[]),g=C.useCallback(function(k){r.current=Kc(k),i.current=void 0},[]),p=C.useCallback(function(k){m(k.type,hw(k),k.target,u(k,e.lockRef.current))},[]),v=C.useCallback(function(k){m(k.type,Kc(k),k.target,u(k,e.lockRef.current))},[]);C.useEffect(function(){return wo.push(c),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:v}),document.addEventListener("wheel",h,yo),document.addEventListener("touchmove",h,yo),document.addEventListener("touchstart",g,yo),function(){wo=wo.filter(function(k){return k!==c}),document.removeEventListener("wheel",h,yo),document.removeEventListener("touchmove",h,yo),document.removeEventListener("touchstart",g,yo)}},[]);var E=e.removeScrollBar,w=e.inert;return C.createElement(C.Fragment,null,w?C.createElement(c,{styles:vA(a)}):null,E?C.createElement(dA,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function EA(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const _A=Qj($b,NA);var Wb=C.forwardRef(function(e,t){return C.createElement(xd,An({},e,{ref:t,sideCar:_A}))});Wb.classNames=xd.classNames;var SA=[" ","Enter","ArrowUp","ArrowDown"],kA=[" ","Enter"],Mi="Select",[yd,wd,jA]=bp(Mi),[Zo,GC]=Fi(Mi,[jA,Sb]),vd=Sb(),[AA,ei]=Zo(Mi),[CA,TA]=Zo(Mi),qb=e=>{const{__scopeSelect:t,children:r,open:i,defaultOpen:a,onOpenChange:c,value:d,defaultValue:u,onValueChange:h,dir:m,name:g,autoComplete:p,disabled:v,required:E,form:w}=e,k=vd(t),[j,R]=C.useState(null),[M,U]=C.useState(null),[G,O]=C.useState(!1),Q=fd(m),[X,$]=Wo({prop:i,defaultProp:a??!1,onChange:c,caller:Mi}),[q,W]=Wo({prop:d,defaultProp:u,onChange:h,caller:Mi}),ie=C.useRef(null),fe=j?w||!!j.closest("form"):!0,[A,V]=C.useState(new Set),Z=Array.from(A).map(J=>J.props.value).join(";");return o.jsx(Bj,{...k,children:o.jsxs(AA,{required:E,scope:t,trigger:j,onTriggerChange:R,valueNode:M,onValueNodeChange:U,valueNodeHasChildren:G,onValueNodeHasChildrenChange:O,contentId:pl(),value:q,onValueChange:W,open:X,onOpenChange:$,dir:Q,triggerPointerDownPosRef:ie,disabled:v,children:[o.jsx(yd.Provider,{scope:t,children:o.jsx(CA,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(J=>{V(ce=>new Set(ce).add(J))},[]),onNativeOptionRemove:C.useCallback(J=>{V(ce=>{const te=new Set(ce);return te.delete(J),te})},[]),children:r})}),fe?o.jsxs(m2,{"aria-hidden":!0,required:E,tabIndex:-1,name:g,autoComplete:p,value:q,onChange:J=>W(J.target.value),disabled:v,form:w,children:[q===void 0?o.jsx("option",{value:""}):null,Array.from(A)]},Z):null]})})};qb.displayName=Mi;var Gb="SelectTrigger",Kb=C.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:i=!1,...a}=e,c=vd(r),d=ei(Gb,r),u=d.disabled||i,h=xt(t,d.onTriggerChange),m=wd(r),g=C.useRef("touch"),[p,v,E]=x2(k=>{const j=m().filter(U=>!U.disabled),R=j.find(U=>U.value===d.value),M=y2(j,k,R);M!==void 0&&d.onValueChange(M.value)}),w=k=>{u||(d.onOpenChange(!0),E()),k&&(d.triggerPointerDownPosRef.current={x:Math.round(k.pageX),y:Math.round(k.pageY)})};return o.jsx(Pj,{asChild:!0,...c,children:o.jsx(lt.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":g2(d.value)?"":void 0,...a,ref:h,onClick:st(a.onClick,k=>{k.currentTarget.focus(),g.current!=="mouse"&&w(k)}),onPointerDown:st(a.onPointerDown,k=>{g.current=k.pointerType;const j=k.target;j.hasPointerCapture(k.pointerId)&&j.releasePointerCapture(k.pointerId),k.button===0&&k.ctrlKey===!1&&k.pointerType==="mouse"&&(w(k),k.preventDefault())}),onKeyDown:st(a.onKeyDown,k=>{const j=p.current!=="";!(k.ctrlKey||k.altKey||k.metaKey)&&k.key.length===1&&v(k.key),!(j&&k.key===" ")&&SA.includes(k.key)&&(w(),k.preventDefault())})})})});Kb.displayName=Gb;var Db="SelectValue",Yb=C.forwardRef((e,t)=>{const{__scopeSelect:r,className:i,style:a,children:c,placeholder:d="",...u}=e,h=ei(Db,r),{onValueNodeHasChildrenChange:m}=h,g=c!==void 0,p=xt(t,h.onValueNodeChange);return dr(()=>{m(g)},[m,g]),o.jsx(lt.span,{...u,ref:p,style:{pointerEvents:"none"},children:g2(h.value)?o.jsx(o.Fragment,{children:d}):c})});Yb.displayName=Db;var RA="SelectIcon",Zb=C.forwardRef((e,t)=>{const{__scopeSelect:r,children:i,...a}=e;return o.jsx(lt.span,{"aria-hidden":!0,...a,ref:t,children:i||"▼"})});Zb.displayName=RA;var BA="SelectPortal",Xb=e=>o.jsx(Mb,{asChild:!0,...e});Xb.displayName=BA;var Oi="SelectContent",Qb=C.forwardRef((e,t)=>{const r=ei(Oi,e.__scopeSelect),[i,a]=C.useState();if(dr(()=>{a(new DocumentFragment)},[]),!r.open){const c=i;return c?ll.createPortal(o.jsx(Jb,{scope:e.__scopeSelect,children:o.jsx(yd.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),c):null}return o.jsx(e2,{...e,ref:t})});Qb.displayName=Oi;var on=10,[Jb,ti]=Zo(Oi),PA="SelectContentImpl",MA=il("SelectContent.RemoveScroll"),e2=C.forwardRef((e,t)=>{const{__scopeSelect:r,position:i="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:c,onPointerDownOutside:d,side:u,sideOffset:h,align:m,alignOffset:g,arrowPadding:p,collisionBoundary:v,collisionPadding:E,sticky:w,hideWhenDetached:k,avoidCollisions:j,...R}=e,M=ei(Oi,r),[U,G]=C.useState(null),[O,Q]=C.useState(null),X=xt(t,pe=>G(pe)),[$,q]=C.useState(null),[W,ie]=C.useState(null),fe=wd(r),[A,V]=C.useState(!1),Z=C.useRef(!1);C.useEffect(()=>{if(U)return Hj(U)},[U]),x8();const J=C.useCallback(pe=>{const[he,...Ee]=fe().map(Y=>Y.ref.current),[F]=Ee.slice(-1),z=document.activeElement;for(const Y of pe)if(Y===z||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===he&&O&&(O.scrollTop=0),Y===F&&O&&(O.scrollTop=O.scrollHeight),Y==null||Y.focus(),document.activeElement!==z))return},[fe,O]),ce=C.useCallback(()=>J([$,U]),[J,$,U]);C.useEffect(()=>{A&&ce()},[A,ce]);const{onOpenChange:te,triggerPointerDownPosRef:ye}=M;C.useEffect(()=>{if(U){let pe={x:0,y:0};const he=F=>{var z,Y;pe={x:Math.abs(Math.round(F.pageX)-(((z=ye.current)==null?void 0:z.x)??0)),y:Math.abs(Math.round(F.pageY)-(((Y=ye.current)==null?void 0:Y.y)??0))}},Ee=F=>{pe.x<=10&&pe.y<=10?F.preventDefault():U.contains(F.target)||te(!1),document.removeEventListener("pointermove",he),ye.current=null};return ye.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",Ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",Ee,{capture:!0})}}},[U,te,ye]),C.useEffect(()=>{const pe=()=>te(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[te]);const[_e,D]=x2(pe=>{const he=fe().filter(z=>!z.disabled),Ee=he.find(z=>z.ref.current===document.activeElement),F=y2(he,pe,Ee);F&&setTimeout(()=>F.ref.current.focus())}),me=C.useCallback((pe,he,Ee)=>{const F=!Z.current&&!Ee;(M.value!==void 0&&M.value===he||F)&&(q(pe),F&&(Z.current=!0))},[M.value]),Be=C.useCallback(()=>U==null?void 0:U.focus(),[U]),H=C.useCallback((pe,he,Ee)=>{const F=!Z.current&&!Ee;(M.value!==void 0&&M.value===he||F)&&ie(pe)},[M.value]),Pe=i==="popper"?L0:t2,je=Pe===L0?{side:u,sideOffset:h,align:m,alignOffset:g,arrowPadding:p,collisionBoundary:v,collisionPadding:E,sticky:w,hideWhenDetached:k,avoidCollisions:j}:{};return o.jsx(Jb,{scope:r,content:U,viewport:O,onViewportChange:Q,itemRefCallback:me,selectedItem:$,onItemLeave:Be,itemTextRefCallback:H,focusSelectedItem:ce,selectedItemText:W,position:i,isPositioned:A,searchRef:_e,children:o.jsx(Wb,{as:MA,allowPinchZoom:!0,children:o.jsx(db,{asChild:!0,trapped:M.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:st(a,pe=>{var he;(he=M.trigger)==null||he.focus({preventScroll:!0}),pe.preventDefault()}),children:o.jsx(cb,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>M.onOpenChange(!1),children:o.jsx(Pe,{role:"listbox",id:M.contentId,"data-state":M.open?"open":"closed",dir:M.dir,onContextMenu:pe=>pe.preventDefault(),...R,...je,onPlaced:()=>V(!0),ref:X,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:st(R.onKeyDown,pe=>{const he=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!he&&pe.key.length===1&&D(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let F=fe().filter(z=>!z.disabled).map(z=>z.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(F=F.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const z=pe.target,Y=F.indexOf(z);F=F.slice(Y+1)}setTimeout(()=>J(F)),pe.preventDefault()}})})})})})})});e2.displayName=PA;var OA="SelectItemAlignedPosition",t2=C.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:i,...a}=e,c=ei(Oi,r),d=ti(Oi,r),[u,h]=C.useState(null),[m,g]=C.useState(null),p=xt(t,X=>g(X)),v=wd(r),E=C.useRef(!1),w=C.useRef(!0),{viewport:k,selectedItem:j,selectedItemText:R,focusSelectedItem:M}=d,U=C.useCallback(()=>{if(c.trigger&&c.valueNode&&u&&m&&k&&j&&R){const X=c.trigger.getBoundingClientRect(),$=m.getBoundingClientRect(),q=c.valueNode.getBoundingClientRect(),W=R.getBoundingClientRect();if(c.dir!=="rtl"){const z=W.left-$.left,Y=q.left-z,ne=X.left-Y,se=X.width+ne,ae=Math.max(se,$.width),T=window.innerWidth-on,y=$u(Y,[on,Math.max(on,T-ae)]);u.style.minWidth=se+"px",u.style.left=y+"px"}else{const z=$.right-W.right,Y=window.innerWidth-q.right-z,ne=window.innerWidth-X.right-Y,se=X.width+ne,ae=Math.max(se,$.width),T=window.innerWidth-on,y=$u(Y,[on,Math.max(on,T-ae)]);u.style.minWidth=se+"px",u.style.right=y+"px"}const ie=v(),fe=window.innerHeight-on*2,A=k.scrollHeight,V=window.getComputedStyle(m),Z=parseInt(V.borderTopWidth,10),J=parseInt(V.paddingTop,10),ce=parseInt(V.borderBottomWidth,10),te=parseInt(V.paddingBottom,10),ye=Z+J+A+te+ce,_e=Math.min(j.offsetHeight*5,ye),D=window.getComputedStyle(k),me=parseInt(D.paddingTop,10),Be=parseInt(D.paddingBottom,10),H=X.top+X.height/2-on,Pe=fe-H,je=j.offsetHeight/2,pe=j.offsetTop+je,he=Z+J+pe,Ee=ye-he;if(he<=H){const z=ie.length>0&&j===ie[ie.length-1].ref.current;u.style.bottom="0px";const Y=m.clientHeight-k.offsetTop-k.offsetHeight,ne=Math.max(Pe,je+(z?Be:0)+Y+ce),se=he+ne;u.style.height=se+"px"}else{const z=ie.length>0&&j===ie[0].ref.current;u.style.top="0px";const ne=Math.max(H,Z+k.offsetTop+(z?me:0)+je)+Ee;u.style.height=ne+"px",k.scrollTop=he-H+k.offsetTop}u.style.margin=`${on}px 0`,u.style.minHeight=_e+"px",u.style.maxHeight=fe+"px",i==null||i(),requestAnimationFrame(()=>E.current=!0)}},[v,c.trigger,c.valueNode,u,m,k,j,R,c.dir,i]);dr(()=>U(),[U]);const[G,O]=C.useState();dr(()=>{m&&O(window.getComputedStyle(m).zIndex)},[m]);const Q=C.useCallback(X=>{X&&w.current===!0&&(U(),M==null||M(),w.current=!1)},[U,M]);return o.jsx(FA,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:E,onScrollButtonChange:Q,children:o.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:G},children:o.jsx(lt.div,{...a,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});t2.displayName=OA;var IA="SelectPopperPosition",L0=C.forwardRef((e,t)=>{const{__scopeSelect:r,align:i="start",collisionPadding:a=on,...c}=e,d=vd(r);return o.jsx(Mj,{...d,...c,ref:t,align:i,collisionPadding:a,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});L0.displayName=IA;var[FA,Op]=Zo(Oi,{}),W0="SelectViewport",r2=C.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:i,...a}=e,c=ti(W0,r),d=Op(W0,r),u=xt(t,c.onViewportChange),h=C.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),o.jsx(yd.Slot,{scope:r,children:o.jsx(lt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:st(a.onScroll,m=>{const g=m.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:v}=d;if(v!=null&&v.current&&p){const E=Math.abs(h.current-g.scrollTop);if(E>0){const w=window.innerHeight-on*2,k=parseFloat(p.style.minHeight),j=parseFloat(p.style.height),R=Math.max(k,j);if(R<w){const M=R+E,U=Math.min(w,M),G=M-U;p.style.height=U+"px",p.style.bottom==="0px"&&(g.scrollTop=G>0?G:0,p.style.justifyContent="flex-end")}}}h.current=g.scrollTop})})})]})});r2.displayName=W0;var n2="SelectGroup",[UA,$A]=Zo(n2),zA=C.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e,a=pl();return o.jsx(UA,{scope:r,id:a,children:o.jsx(lt.div,{role:"group","aria-labelledby":a,...i,ref:t})})});zA.displayName=n2;var s2="SelectLabel",i2=C.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e,a=$A(s2,r);return o.jsx(lt.div,{id:a.id,...i,ref:t})});i2.displayName=s2;var Wu="SelectItem",[VA,o2]=Zo(Wu),a2=C.forwardRef((e,t)=>{const{__scopeSelect:r,value:i,disabled:a=!1,textValue:c,...d}=e,u=ei(Wu,r),h=ti(Wu,r),m=u.value===i,[g,p]=C.useState(c??""),[v,E]=C.useState(!1),w=xt(t,M=>{var U;return(U=h.itemRefCallback)==null?void 0:U.call(h,M,i,a)}),k=pl(),j=C.useRef("touch"),R=()=>{a||(u.onValueChange(i),u.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(VA,{scope:r,value:i,disabled:a,textId:k,isSelected:m,onItemTextChange:C.useCallback(M=>{p(U=>U||((M==null?void 0:M.textContent)??"").trim())},[]),children:o.jsx(yd.ItemSlot,{scope:r,value:i,disabled:a,textValue:g,children:o.jsx(lt.div,{role:"option","aria-labelledby":k,"data-highlighted":v?"":void 0,"aria-selected":m&&v,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...d,ref:w,onFocus:st(d.onFocus,()=>E(!0)),onBlur:st(d.onBlur,()=>E(!1)),onClick:st(d.onClick,()=>{j.current!=="mouse"&&R()}),onPointerUp:st(d.onPointerUp,()=>{j.current==="mouse"&&R()}),onPointerDown:st(d.onPointerDown,M=>{j.current=M.pointerType}),onPointerMove:st(d.onPointerMove,M=>{var U;j.current=M.pointerType,a?(U=h.onItemLeave)==null||U.call(h):j.current==="mouse"&&M.currentTarget.focus({preventScroll:!0})}),onPointerLeave:st(d.onPointerLeave,M=>{var U;M.currentTarget===document.activeElement&&((U=h.onItemLeave)==null||U.call(h))}),onKeyDown:st(d.onKeyDown,M=>{var G;((G=h.searchRef)==null?void 0:G.current)!==""&&M.key===" "||(kA.includes(M.key)&&R(),M.key===" "&&M.preventDefault())})})})})});a2.displayName=Wu;var qa="SelectItemText",l2=C.forwardRef((e,t)=>{const{__scopeSelect:r,className:i,style:a,...c}=e,d=ei(qa,r),u=ti(qa,r),h=o2(qa,r),m=TA(qa,r),[g,p]=C.useState(null),v=xt(t,R=>p(R),h.onItemTextChange,R=>{var M;return(M=u.itemTextRefCallback)==null?void 0:M.call(u,R,h.value,h.disabled)}),E=g==null?void 0:g.textContent,w=C.useMemo(()=>o.jsx("option",{value:h.value,disabled:h.disabled,children:E},h.value),[h.disabled,h.value,E]),{onNativeOptionAdd:k,onNativeOptionRemove:j}=m;return dr(()=>(k(w),()=>j(w)),[k,j,w]),o.jsxs(o.Fragment,{children:[o.jsx(lt.span,{id:h.textId,...c,ref:v}),h.isSelected&&d.valueNode&&!d.valueNodeHasChildren?ll.createPortal(c.children,d.valueNode):null]})});l2.displayName=qa;var c2="SelectItemIndicator",u2=C.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e;return o2(c2,r).isSelected?o.jsx(lt.span,{"aria-hidden":!0,...i,ref:t}):null});u2.displayName=c2;var q0="SelectScrollUpButton",d2=C.forwardRef((e,t)=>{const r=ti(q0,e.__scopeSelect),i=Op(q0,e.__scopeSelect),[a,c]=C.useState(!1),d=xt(t,i.onScrollButtonChange);return dr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const m=h.scrollTop>0;c(m)};const h=r.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),a?o.jsx(h2,{...e,ref:d,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=r;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});d2.displayName=q0;var G0="SelectScrollDownButton",f2=C.forwardRef((e,t)=>{const r=ti(G0,e.__scopeSelect),i=Op(G0,e.__scopeSelect),[a,c]=C.useState(!1),d=xt(t,i.onScrollButtonChange);return dr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const m=h.scrollHeight-h.clientHeight,g=Math.ceil(h.scrollTop)<m;c(g)};const h=r.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),a?o.jsx(h2,{...e,ref:d,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=r;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});f2.displayName=G0;var h2=C.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:i,...a}=e,c=ti("SelectScrollButton",r),d=C.useRef(null),u=wd(r),h=C.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return C.useEffect(()=>()=>h(),[h]),dr(()=>{var g;const m=u().find(p=>p.ref.current===document.activeElement);(g=m==null?void 0:m.ref.current)==null||g.scrollIntoView({block:"nearest"})},[u]),o.jsx(lt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:st(a.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(i,50))}),onPointerMove:st(a.onPointerMove,()=>{var m;(m=c.onItemLeave)==null||m.call(c),d.current===null&&(d.current=window.setInterval(i,50))}),onPointerLeave:st(a.onPointerLeave,()=>{h()})})}),HA="SelectSeparator",p2=C.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e;return o.jsx(lt.div,{"aria-hidden":!0,...i,ref:t})});p2.displayName=HA;var K0="SelectArrow",LA=C.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e,a=vd(r),c=ei(K0,r),d=ti(K0,r);return c.open&&d.position==="popper"?o.jsx(Oj,{...a,...i,ref:t}):null});LA.displayName=K0;var WA="SelectBubbleInput",m2=C.forwardRef(({__scopeSelect:e,value:t,...r},i)=>{const a=C.useRef(null),c=xt(i,a),d=Mp(t);return C.useEffect(()=>{const u=a.current;if(!u)return;const h=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(d!==t&&g){const p=new Event("change",{bubbles:!0});g.call(u,t),u.dispatchEvent(p)}},[d,t]),o.jsx(lt.select,{...r,style:{...Ob,...r.style},ref:c,defaultValue:t})});m2.displayName=WA;function g2(e){return e===""||e===void 0}function x2(e){const t=Zs(e),r=C.useRef(""),i=C.useRef(0),a=C.useCallback(d=>{const u=r.current+d;t(u),function h(m){r.current=m,window.clearTimeout(i.current),m!==""&&(i.current=window.setTimeout(()=>h(""),1e3))}(u)},[t]),c=C.useCallback(()=>{r.current="",window.clearTimeout(i.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(i.current),[]),[r,a,c]}function y2(e,t,r){const a=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,c=r?e.indexOf(r):-1;let d=qA(e,Math.max(c,0));a.length===1&&(d=d.filter(m=>m!==r));const h=d.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return h!==r?h:void 0}function qA(e,t){return e.map((r,i)=>e[(t+i)%e.length])}var GA=qb,w2=Kb,KA=Yb,DA=Zb,YA=Xb,v2=Qb,ZA=r2,b2=i2,N2=a2,XA=l2,QA=u2,E2=d2,_2=f2,S2=p2;const is=GA,os=KA,Tn=C.forwardRef(({className:e,children:t,...r},i)=>o.jsxs(w2,{ref:i,className:Nt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(DA,{asChild:!0,children:o.jsx(Ev,{className:"h-4 w-4 opacity-50"})})]}));Tn.displayName=w2.displayName;const k2=C.forwardRef(({className:e,...t},r)=>o.jsx(E2,{ref:r,className:Nt("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(lS,{className:"h-4 w-4"})}));k2.displayName=E2.displayName;const j2=C.forwardRef(({className:e,...t},r)=>o.jsx(_2,{ref:r,className:Nt("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Ev,{className:"h-4 w-4"})}));j2.displayName=_2.displayName;const Rn=C.forwardRef(({className:e,children:t,position:r="popper",...i},a)=>o.jsx(YA,{children:o.jsxs(v2,{ref:a,className:Nt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...i,children:[o.jsx(k2,{}),o.jsx(ZA,{className:Nt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(j2,{})]})}));Rn.displayName=v2.displayName;const JA=C.forwardRef(({className:e,...t},r)=>o.jsx(b2,{ref:r,className:Nt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));JA.displayName=b2.displayName;const tt=C.forwardRef(({className:e,children:t,...r},i)=>o.jsxs(N2,{ref:i,className:Nt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(QA,{children:o.jsx(xp,{className:"h-4 w-4"})})}),o.jsx(XA,{children:t})]}));tt.displayName=N2.displayName;const eC=C.forwardRef(({className:e,...t},r)=>o.jsx(S2,{ref:r,className:Nt("-mx-1 my-1 h-px bg-muted",e),...t}));eC.displayName=S2.displayName;const tC=({formData:e,setFormData:t})=>{const r=(i,a)=>{t({...e,[i]:a})};return o.jsxs(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:[o.jsx(Ir,{children:o.jsx(Fr,{className:"text-xl text-gray-900 dark:text-white",children:"Basic Information"})}),o.jsxs(Lt,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Xe,{htmlFor:"agent-name",className:"text-gray-700 dark:text-gray-300",children:["Agent Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Or,{id:"agent-name",placeholder:"e.g. Customer Support Assistant",value:e.name,onChange:i=>r("name",i.target.value),className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Xe,{htmlFor:"description",className:"text-gray-700 dark:text-gray-300",children:["Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Gr,{id:"description",placeholder:"Describe what your agent does and how it helps users...",value:e.description,onChange:i=>r("description",i.target.value),className:"min-h-[120px] bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Xe,{htmlFor:"category",className:"text-gray-700 dark:text-gray-300",children:"Category"}),o.jsxs(is,{value:e.category,onValueChange:i=>r("category",i),children:[o.jsx(Tn,{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30",children:o.jsx(os,{placeholder:"Select a category"})}),o.jsxs(Rn,{children:[o.jsx(tt,{value:"general",children:"General"}),o.jsx(tt,{value:"customer-support",children:"Customer Support"}),o.jsx(tt,{value:"sales",children:"Sales"}),o.jsx(tt,{value:"education",children:"Education"}),o.jsx(tt,{value:"healthcare",children:"Healthcare"}),o.jsx(tt,{value:"finance",children:"Finance"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Xe,{className:"text-gray-700 dark:text-gray-300",children:"Visibility"}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"visibility",value:"private",checked:e.visibility==="private",onChange:i=>r("visibility",i.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Private (Only you can access)"})]}),o.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"visibility",value:"public",checked:e.visibility==="public",onChange:i=>r("visibility",i.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Public (Anyone can access)"})]})]})]})]})]})},rC=({formData:e,setFormData:t})=>{const r=["helpful","professional","friendly","enthusiastic","patient","knowledgeable","empathetic","concise"],i=c=>{const d=e.personalityTraits.includes(c)?e.personalityTraits.filter(u=>u!==c):[...e.personalityTraits,c];t({...e,personalityTraits:d})},a=(c,d)=>{t({...e,[c]:d})};return o.jsxs(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:[o.jsx(Ir,{children:o.jsx(Fr,{className:"text-xl text-gray-900 dark:text-white",children:"Personality"})}),o.jsx(Lt,{className:"space-y-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs(Xe,{className:"text-gray-700 dark:text-gray-300",children:["Personality Traits ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-3",children:r.map(c=>o.jsx(Ut,{variant:e.personalityTraits.includes(c)?"default":"outline",size:"sm",onClick:()=>i(c),className:`${e.personalityTraits.includes(c)?"bg-gradient-to-r from-blue-500 to-purple-600 text-white":"bg-white/50 dark:bg-gray-700/50 border-white/30 dark:border-gray-600/30"}`,children:c},c))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Xe,{className:"text-gray-700 dark:text-gray-300",children:"Tone"}),o.jsxs(is,{value:e.tone,onValueChange:c=>a("tone",c),children:[o.jsx(Tn,{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30",children:o.jsx(os,{})}),o.jsxs(Rn,{children:[o.jsx(tt,{value:"professional",children:"Professional"}),o.jsx(tt,{value:"casual",children:"Casual"}),o.jsx(tt,{value:"formal",children:"Formal"}),o.jsx(tt,{value:"friendly",children:"Friendly"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Xe,{className:"text-gray-700 dark:text-gray-300",children:"Response Style"}),o.jsxs(is,{value:e.style,onValueChange:c=>a("style",c),children:[o.jsx(Tn,{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30",children:o.jsx(os,{})}),o.jsxs(Rn,{children:[o.jsx(tt,{value:"helpful",children:"Helpful"}),o.jsx(tt,{value:"detailed",children:"Detailed"}),o.jsx(tt,{value:"concise",children:"Concise"}),o.jsx(tt,{value:"conversational",children:"Conversational"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Xe,{className:"text-gray-700 dark:text-gray-300",children:"Communication Style"}),o.jsxs(is,{value:e.communicationStyle,onValueChange:c=>a("communicationStyle",c),children:[o.jsx(Tn,{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30",children:o.jsx(os,{})}),o.jsxs(Rn,{children:[o.jsx(tt,{value:"professional",children:"Professional"}),o.jsx(tt,{value:"casual",children:"Casual"}),o.jsx(tt,{value:"technical",children:"Technical"}),o.jsx(tt,{value:"simplified",children:"Simplified"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Xe,{className:"text-gray-700 dark:text-gray-300",children:"Response Pattern"}),o.jsxs(is,{value:e.responsePattern,onValueChange:c=>a("responsePattern",c),children:[o.jsx(Tn,{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30",children:o.jsx(os,{})}),o.jsxs(Rn,{children:[o.jsx(tt,{value:"detailed",children:"Detailed"}),o.jsx(tt,{value:"concise",children:"Concise"}),o.jsx(tt,{value:"structured",children:"Structured"}),o.jsx(tt,{value:"conversational",children:"Conversational"})]})]})]})]})]})})]})},nC=({formData:e,setFormData:t})=>{const r=()=>{t({...e,knowledgeSources:[...e.knowledgeSources,{type:"Manual Text",content:"",metadata:{}}]})},i=h=>{t({...e,knowledgeSources:e.knowledgeSources.filter((m,g)=>g!==h)})},a=(h,m,g)=>{const p=[...e.knowledgeSources];p[h]={...p[h],[m]:g},m==="type"&&(p[h].metadata={}),t({...e,knowledgeSources:p})},c=(h,m,g)=>{const p=[...e.knowledgeSources];p[h]={...p[h],metadata:{...p[h].metadata,[m]:g}},t({...e,knowledgeSources:p})},d=h=>{t({...e,context:h})},u=(h,m)=>{var g,p,v,E,w,k,j,R,M;switch(h.type){case"Database Query":return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"Database Connection"}),o.jsx(Or,{placeholder:"Database name or connection string",value:((g=h.metadata)==null?void 0:g.connectionString)||"",onChange:U=>c(m,"connectionString",U.target.value),className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),o.jsxs("div",{children:[o.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"Query or Table"}),o.jsx(Gr,{placeholder:"SQL query or table name",value:((p=h.metadata)==null?void 0:p.queryOrTable)||"",onChange:U=>c(m,"queryOrTable",U.target.value),className:"min-h-[80px] bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),o.jsxs("div",{children:[o.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"Description"}),o.jsx(Gr,{placeholder:"Describe the data structure and content...",value:((v=h.metadata)==null?void 0:v.description)||"",onChange:U=>c(m,"description",U.target.value),className:"min-h-[80px] bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]})]});case"API Integration":return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"API Endpoint"}),o.jsx(Or,{placeholder:"https://api.example.com/data",value:((E=h.metadata)==null?void 0:E.endpoint)||"",onChange:U=>c(m,"endpoint",U.target.value),className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),o.jsxs("div",{children:[o.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"API Key (Optional)"}),o.jsx(Or,{placeholder:"Enter API key if required",value:((w=h.metadata)==null?void 0:w.apiKey)||"",onChange:U=>c(m,"apiKey",U.target.value),className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),o.jsxs("div",{children:[o.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"API Description"}),o.jsx(Gr,{placeholder:"Describe what data this API provides...",value:((k=h.metadata)==null?void 0:k.apiDescription)||"",onChange:U=>c(m,"apiDescription",U.target.value),className:"min-h-[80px] bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]})]});case"Document Upload":return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"Upload Document"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center bg-white/50 dark:bg-gray-800/50",children:[o.jsx(kS,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Click to upload or drag and drop"}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"PDF, TXT, DOC, DOCX, MD up to 10MB"})]})]}),o.jsxs("div",{children:[o.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"Document Description (Optional)"}),o.jsx(Gr,{placeholder:"Brief description of the document content...",value:((j=h.metadata)==null?void 0:j.documentDescription)||"",onChange:U=>c(m,"documentDescription",U.target.value),className:"min-h-[80px] bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]})]});case"Web URL":return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"Website URL"}),o.jsx(Or,{placeholder:"https://example.com/article",value:((R=h.metadata)==null?void 0:R.url)||"",onChange:U=>c(m,"url",U.target.value),className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),o.jsxs("div",{children:[o.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"Content Summary"}),o.jsx(Gr,{placeholder:"Summarize the key information from this URL...",value:((M=h.metadata)==null?void 0:M.contentSummary)||"",onChange:U=>c(m,"contentSummary",U.target.value),className:"min-h-[80px] bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]})]});case"Manual Text":default:return o.jsxs("div",{className:"space-y-2",children:[o.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"Knowledge Content"}),o.jsx(Gr,{placeholder:"Enter your knowledge content here...",value:h.content,onChange:U=>a(m,"content",U.target.value),className:"min-h-[100px] bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]})}};return o.jsxs(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:[o.jsx(Ir,{children:o.jsx(Fr,{className:"text-xl text-gray-900 dark:text-white",children:"Knowledge"})}),o.jsxs(Lt,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Xe,{htmlFor:"context",className:"text-gray-700 dark:text-gray-300",children:"Context"}),o.jsx(Gr,{id:"context",placeholder:"Provide background context for your agent...",value:e.context,onChange:h=>d(h.target.value),className:"min-h-[120px] bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Xe,{className:"text-gray-700 dark:text-gray-300",children:"Knowledge Sources"}),e.knowledgeSources.map((h,m)=>o.jsxs("div",{className:"space-y-3 p-4 border border-white/30 dark:border-gray-600/30 rounded-lg bg-white/20 dark:bg-gray-800/20",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"Source Type"}),e.knowledgeSources.length>1&&o.jsx(Ut,{variant:"outline",size:"sm",onClick:()=>i(m),className:"bg-red-50 hover:bg-red-100 border-red-200 text-red-600",children:o.jsx(Av,{className:"w-4 h-4"})})]}),o.jsxs(is,{value:h.type,onValueChange:g=>a(m,"type",g),children:[o.jsx(Tn,{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30",children:o.jsx(os,{})}),o.jsxs(Rn,{children:[o.jsx(tt,{value:"Manual Text",children:"Manual Text"}),o.jsx(tt,{value:"Web URL",children:"Web URL"}),o.jsx(tt,{value:"Document Upload",children:"Document Upload"}),o.jsx(tt,{value:"API Integration",children:"API Integration"}),o.jsx(tt,{value:"Database Query",children:"Database Query"})]})]}),u(h,m)]},m)),o.jsxs(Ut,{variant:"outline",onClick:r,className:"w-full bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30",children:[o.jsx(sl,{className:"w-4 h-4 mr-2"}),"Add Knowledge Source"]})]})]})]})};var bd="Checkbox",[sC,KC]=Fi(bd),[iC,Ip]=sC(bd);function oC(e){const{__scopeCheckbox:t,checked:r,children:i,defaultChecked:a,disabled:c,form:d,name:u,onCheckedChange:h,required:m,value:g="on",internal_do_not_use_render:p}=e,[v,E]=Wo({prop:r,defaultProp:a??!1,onChange:h,caller:bd}),[w,k]=C.useState(null),[j,R]=C.useState(null),M=C.useRef(!1),U=w?!!d||!!w.closest("form"):!0,G={checked:v,disabled:c,setChecked:E,control:w,setControl:k,name:u,form:d,value:g,hasConsumerStoppedPropagationRef:M,required:m,defaultChecked:Ys(a)?!1:a,isFormControl:U,bubbleInput:j,setBubbleInput:R};return o.jsx(iC,{scope:t,...G,children:aC(p)?p(G):i})}var A2="CheckboxTrigger",C2=C.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...i},a)=>{const{control:c,value:d,disabled:u,checked:h,required:m,setControl:g,setChecked:p,hasConsumerStoppedPropagationRef:v,isFormControl:E,bubbleInput:w}=Ip(A2,e),k=xt(a,g),j=C.useRef(h);return C.useEffect(()=>{const R=c==null?void 0:c.form;if(R){const M=()=>p(j.current);return R.addEventListener("reset",M),()=>R.removeEventListener("reset",M)}},[c,p]),o.jsx(lt.button,{type:"button",role:"checkbox","aria-checked":Ys(h)?"mixed":h,"aria-required":m,"data-state":M2(h),"data-disabled":u?"":void 0,disabled:u,value:d,...i,ref:k,onKeyDown:st(t,R=>{R.key==="Enter"&&R.preventDefault()}),onClick:st(r,R=>{p(M=>Ys(M)?!0:!M),w&&E&&(v.current=R.isPropagationStopped(),v.current||R.stopPropagation())})})});C2.displayName=A2;var Fp=C.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:i,checked:a,defaultChecked:c,required:d,disabled:u,value:h,onCheckedChange:m,form:g,...p}=e;return o.jsx(oC,{__scopeCheckbox:r,checked:a,defaultChecked:c,disabled:u,required:d,onCheckedChange:m,name:i,form:g,value:h,internal_do_not_use_render:({isFormControl:v})=>o.jsxs(o.Fragment,{children:[o.jsx(C2,{...p,ref:t,__scopeCheckbox:r}),v&&o.jsx(P2,{__scopeCheckbox:r})]})})});Fp.displayName=bd;var T2="CheckboxIndicator",R2=C.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:i,...a}=e,c=Ip(T2,r);return o.jsx(Np,{present:i||Ys(c.checked)||c.checked===!0,children:o.jsx(lt.span,{"data-state":M2(c.checked),"data-disabled":c.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});R2.displayName=T2;var B2="CheckboxBubbleInput",P2=C.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:i,hasConsumerStoppedPropagationRef:a,checked:c,defaultChecked:d,required:u,disabled:h,name:m,value:g,form:p,bubbleInput:v,setBubbleInput:E}=Ip(B2,e),w=xt(r,E),k=Mp(c),j=Rp(i);C.useEffect(()=>{const M=v;if(!M)return;const U=window.HTMLInputElement.prototype,O=Object.getOwnPropertyDescriptor(U,"checked").set,Q=!a.current;if(k!==c&&O){const X=new Event("click",{bubbles:Q});M.indeterminate=Ys(c),O.call(M,Ys(c)?!1:c),M.dispatchEvent(X)}},[v,k,c,a]);const R=C.useRef(Ys(c)?!1:c);return o.jsx(lt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??R.current,required:u,disabled:h,name:m,value:g,form:p,...t,tabIndex:-1,ref:w,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});P2.displayName=B2;function aC(e){return typeof e=="function"}function Ys(e){return e==="indeterminate"}function M2(e){return Ys(e)?"indeterminate":e?"checked":"unchecked"}const O2=C.forwardRef(({className:e,...t},r)=>o.jsx(Fp,{ref:r,className:Nt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(R2,{className:Nt("flex items-center justify-center text-current"),children:o.jsx(xp,{className:"h-4 w-4"})})}));O2.displayName=Fp.displayName;var I2=["PageUp","PageDown"],F2=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],U2={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Xo="Slider",[D0,lC,cC]=bp(Xo),[$2,DC]=Fi(Xo,[cC]),[uC,Nd]=$2(Xo),z2=C.forwardRef((e,t)=>{const{name:r,min:i=0,max:a=100,step:c=1,orientation:d="horizontal",disabled:u=!1,minStepsBetweenThumbs:h=0,defaultValue:m=[i],value:g,onValueChange:p=()=>{},onValueCommit:v=()=>{},inverted:E=!1,form:w,...k}=e,j=C.useRef(new Set),R=C.useRef(0),U=d==="horizontal"?dC:fC,[G=[],O]=Wo({prop:g,defaultProp:m,onChange:ie=>{var A;(A=[...j.current][R.current])==null||A.focus(),p(ie)}}),Q=C.useRef(G);function X(ie){const fe=xC(G,ie);W(ie,fe)}function $(ie){W(ie,R.current)}function q(){const ie=Q.current[R.current];G[R.current]!==ie&&v(G)}function W(ie,fe,{commit:A}={commit:!1}){const V=bC(c),Z=NC(Math.round((ie-i)/c)*c+i,V),J=$u(Z,[i,a]);O((ce=[])=>{const te=mC(ce,J,fe);if(vC(te,h*c)){R.current=te.indexOf(J);const ye=String(te)!==String(ce);return ye&&A&&v(te),ye?te:ce}else return ce})}return o.jsx(uC,{scope:e.__scopeSlider,name:r,disabled:u,min:i,max:a,valueIndexToChangeRef:R,thumbs:j.current,values:G,orientation:d,form:w,children:o.jsx(D0.Provider,{scope:e.__scopeSlider,children:o.jsx(D0.Slot,{scope:e.__scopeSlider,children:o.jsx(U,{"aria-disabled":u,"data-disabled":u?"":void 0,...k,ref:t,onPointerDown:st(k.onPointerDown,()=>{u||(Q.current=G)}),min:i,max:a,inverted:E,onSlideStart:u?void 0:X,onSlideMove:u?void 0:$,onSlideEnd:u?void 0:q,onHomeKeyDown:()=>!u&&W(i,0,{commit:!0}),onEndKeyDown:()=>!u&&W(a,G.length-1,{commit:!0}),onStepKeyDown:({event:ie,direction:fe})=>{if(!u){const Z=I2.includes(ie.key)||ie.shiftKey&&F2.includes(ie.key)?10:1,J=R.current,ce=G[J],te=c*Z*fe;W(ce+te,J,{commit:!0})}}})})})})});z2.displayName=Xo;var[V2,H2]=$2(Xo,{startEdge:"left",endEdge:"right",size:"width",direction:1}),dC=C.forwardRef((e,t)=>{const{min:r,max:i,dir:a,inverted:c,onSlideStart:d,onSlideMove:u,onSlideEnd:h,onStepKeyDown:m,...g}=e,[p,v]=C.useState(null),E=xt(t,U=>v(U)),w=C.useRef(void 0),k=fd(a),j=k==="ltr",R=j&&!c||!j&&c;function M(U){const G=w.current||p.getBoundingClientRect(),O=[0,G.width],X=Up(O,R?[r,i]:[i,r]);return w.current=G,X(U-G.left)}return o.jsx(V2,{scope:e.__scopeSlider,startEdge:R?"left":"right",endEdge:R?"right":"left",direction:R?1:-1,size:"width",children:o.jsx(L2,{dir:k,"data-orientation":"horizontal",...g,ref:E,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:U=>{const G=M(U.clientX);d==null||d(G)},onSlideMove:U=>{const G=M(U.clientX);u==null||u(G)},onSlideEnd:()=>{w.current=void 0,h==null||h()},onStepKeyDown:U=>{const O=U2[R?"from-left":"from-right"].includes(U.key);m==null||m({event:U,direction:O?-1:1})}})})}),fC=C.forwardRef((e,t)=>{const{min:r,max:i,inverted:a,onSlideStart:c,onSlideMove:d,onSlideEnd:u,onStepKeyDown:h,...m}=e,g=C.useRef(null),p=xt(t,g),v=C.useRef(void 0),E=!a;function w(k){const j=v.current||g.current.getBoundingClientRect(),R=[0,j.height],U=Up(R,E?[i,r]:[r,i]);return v.current=j,U(k-j.top)}return o.jsx(V2,{scope:e.__scopeSlider,startEdge:E?"bottom":"top",endEdge:E?"top":"bottom",size:"height",direction:E?1:-1,children:o.jsx(L2,{"data-orientation":"vertical",...m,ref:p,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:k=>{const j=w(k.clientY);c==null||c(j)},onSlideMove:k=>{const j=w(k.clientY);d==null||d(j)},onSlideEnd:()=>{v.current=void 0,u==null||u()},onStepKeyDown:k=>{const R=U2[E?"from-bottom":"from-top"].includes(k.key);h==null||h({event:k,direction:R?-1:1})}})})}),L2=C.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:i,onSlideMove:a,onSlideEnd:c,onHomeKeyDown:d,onEndKeyDown:u,onStepKeyDown:h,...m}=e,g=Nd(Xo,r);return o.jsx(lt.span,{...m,ref:t,onKeyDown:st(e.onKeyDown,p=>{p.key==="Home"?(d(p),p.preventDefault()):p.key==="End"?(u(p),p.preventDefault()):I2.concat(F2).includes(p.key)&&(h(p),p.preventDefault())}),onPointerDown:st(e.onPointerDown,p=>{const v=p.target;v.setPointerCapture(p.pointerId),p.preventDefault(),g.thumbs.has(v)?v.focus():i(p)}),onPointerMove:st(e.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&a(p)}),onPointerUp:st(e.onPointerUp,p=>{const v=p.target;v.hasPointerCapture(p.pointerId)&&(v.releasePointerCapture(p.pointerId),c(p))})})}),W2="SliderTrack",q2=C.forwardRef((e,t)=>{const{__scopeSlider:r,...i}=e,a=Nd(W2,r);return o.jsx(lt.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...i,ref:t})});q2.displayName=W2;var Y0="SliderRange",G2=C.forwardRef((e,t)=>{const{__scopeSlider:r,...i}=e,a=Nd(Y0,r),c=H2(Y0,r),d=C.useRef(null),u=xt(t,d),h=a.values.length,m=a.values.map(v=>Y2(v,a.min,a.max)),g=h>1?Math.min(...m):0,p=100-Math.max(...m);return o.jsx(lt.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...i,ref:u,style:{...e.style,[c.startEdge]:g+"%",[c.endEdge]:p+"%"}})});G2.displayName=Y0;var Z0="SliderThumb",K2=C.forwardRef((e,t)=>{const r=lC(e.__scopeSlider),[i,a]=C.useState(null),c=xt(t,u=>a(u)),d=C.useMemo(()=>i?r().findIndex(u=>u.ref.current===i):-1,[r,i]);return o.jsx(hC,{...e,ref:c,index:d})}),hC=C.forwardRef((e,t)=>{const{__scopeSlider:r,index:i,name:a,...c}=e,d=Nd(Z0,r),u=H2(Z0,r),[h,m]=C.useState(null),g=xt(t,M=>m(M)),p=h?d.form||!!h.closest("form"):!0,v=Rp(h),E=d.values[i],w=E===void 0?0:Y2(E,d.min,d.max),k=gC(i,d.values.length),j=v==null?void 0:v[u.size],R=j?yC(j,w,u.direction):0;return C.useEffect(()=>{if(h)return d.thumbs.add(h),()=>{d.thumbs.delete(h)}},[h,d.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${w}% + ${R}px)`},children:[o.jsx(D0.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(lt.span,{role:"slider","aria-label":e["aria-label"]||k,"aria-valuemin":d.min,"aria-valuenow":E,"aria-valuemax":d.max,"aria-orientation":d.orientation,"data-orientation":d.orientation,"data-disabled":d.disabled?"":void 0,tabIndex:d.disabled?void 0:0,...c,ref:g,style:E===void 0?{display:"none"}:e.style,onFocus:st(e.onFocus,()=>{d.valueIndexToChangeRef.current=i})})}),p&&o.jsx(D2,{name:a??(d.name?d.name+(d.values.length>1?"[]":""):void 0),form:d.form,value:E},i)]})});K2.displayName=Z0;var pC="RadioBubbleInput",D2=C.forwardRef(({__scopeSlider:e,value:t,...r},i)=>{const a=C.useRef(null),c=xt(a,i),d=Mp(t);return C.useEffect(()=>{const u=a.current;if(!u)return;const h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(d!==t&&g){const p=new Event("input",{bubbles:!0});g.call(u,t),u.dispatchEvent(p)}},[d,t]),o.jsx(lt.input,{style:{display:"none"},...r,ref:c,defaultValue:t})});D2.displayName=pC;function mC(e=[],t,r){const i=[...e];return i[r]=t,i.sort((a,c)=>a-c)}function Y2(e,t,r){const c=100/(r-t)*(e-t);return $u(c,[0,100])}function gC(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function xC(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),i=Math.min(...r);return r.indexOf(i)}function yC(e,t,r){const i=e/2,c=Up([0,50],[0,i]);return(i-c(t)*r)*r}function wC(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function vC(e,t){if(t>0){const r=wC(e);return Math.min(...r)>=t}return!0}function Up(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(r-e[0])}}function bC(e){return(String(e).split(".")[1]||"").length}function NC(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Z2=z2,EC=q2,_C=G2,SC=K2;const jo=C.forwardRef(({className:e,...t},r)=>o.jsxs(Z2,{ref:r,className:Nt("relative flex w-full touch-none select-none items-center",e),...t,children:[o.jsx(EC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:o.jsx(_C,{className:"absolute h-full bg-primary"})}),o.jsx(SC,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));jo.displayName=Z2.displayName;const kC=({formData:e,setFormData:t})=>{const r=d=>{t({...e,maxResponseLength:parseInt(d)||500})},i=d=>{t({...e,rememberConversation:d})},a=(d,u)=>{t({...e,[d]:u[0]})},c=(d,u)=>{t({...e,[d]:u})};return o.jsxs(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:[o.jsx(Ir,{children:o.jsx(Fr,{className:"text-xl text-gray-900 dark:text-white",children:"Behavior"})}),o.jsxs(Lt,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Xe,{htmlFor:"max-response",className:"text-gray-700 dark:text-gray-300",children:"Max Response Length"}),o.jsx(Or,{id:"max-response",type:"number",value:e.maxResponseLength,onChange:d=>r(d.target.value),placeholder:"500",className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(O2,{id:"remember-conversation",checked:e.rememberConversation,onCheckedChange:i,className:"border-white/30 dark:border-gray-600/30"}),o.jsx(Xe,{htmlFor:"remember-conversation",className:"text-gray-700 dark:text-gray-300 cursor-pointer",children:"Remember conversation history"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Advanced Settings"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs(Xe,{className:"text-gray-700 dark:text-gray-300",children:["Temperature",o.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",e.temperature.toFixed(1),")"]})]}),o.jsx(jo,{value:[e.temperature],onValueChange:d=>a("temperature",d),max:1,min:0,step:.1,className:"w-full"}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[o.jsx("span",{children:"Focused (0.0)"}),o.jsx("span",{children:"Creative (1.0)"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(Xe,{className:"text-gray-700 dark:text-gray-300",children:["Creativity",o.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",e.creativity.toFixed(1),")"]})]}),o.jsx(jo,{value:[e.creativity],onValueChange:d=>a("creativity",d),max:1,min:0,step:.1,className:"w-full"}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[o.jsx("span",{children:"Conservative (0.0)"}),o.jsx("span",{children:"Creative (1.0)"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(Xe,{className:"text-gray-700 dark:text-gray-300",children:["Top P",o.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",e.topP.toFixed(1),")"]})]}),o.jsx(jo,{value:[e.topP],onValueChange:d=>a("topP",d),max:1,min:0,step:.1,className:"w-full"}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[o.jsx("span",{children:"0.0"}),o.jsx("span",{children:"1.0"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Xe,{htmlFor:"context-window",className:"text-gray-700 dark:text-gray-300",children:"Context Window"}),o.jsx(Or,{id:"context-window",type:"number",value:e.contextWindow,onChange:d=>c("contextWindow",parseInt(d.target.value)||4096),className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Xe,{htmlFor:"max-tokens",className:"text-gray-700 dark:text-gray-300",children:"Max Tokens"}),o.jsx(Or,{id:"max-tokens",type:"number",value:e.maxTokens,onChange:d=>c("maxTokens",parseInt(d.target.value)||1e3),className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(Xe,{className:"text-gray-700 dark:text-gray-300",children:["Frequency Penalty",o.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",e.frequencyPenalty.toFixed(1),")"]})]}),o.jsx(jo,{value:[e.frequencyPenalty],onValueChange:d=>a("frequencyPenalty",d),max:2,min:-2,step:.1,className:"w-full"}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[o.jsx("span",{children:"-2.0"}),o.jsx("span",{children:"2.0"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(Xe,{className:"text-gray-700 dark:text-gray-300",children:["Presence Penalty",o.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",e.presencePenalty.toFixed(1),")"]})]}),o.jsx(jo,{value:[e.presencePenalty],onValueChange:d=>a("presencePenalty",d),max:2,min:-2,step:.1,className:"w-full"}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[o.jsx("span",{children:"-2.0"}),o.jsx("span",{children:"2.0"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Xe,{htmlFor:"system-prompt",className:"text-gray-700 dark:text-gray-300",children:"System Prompt Template"}),o.jsx(Gr,{id:"system-prompt",placeholder:"You are a helpful AI assistant.",value:e.systemPromptTemplate,onChange:d=>c("systemPromptTemplate",d.target.value),className:"min-h-[100px] bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]})]})]})]})},jC=({formData:e,setFormData:t})=>{var c;const r=[{id:"professional-blue",name:"Professional Blue",color:"bg-blue-500",description:"Clean and professional appearance"},{id:"success-green",name:"Success Green",color:"bg-green-500",description:"Friendly and approachable design"},{id:"creative-purple",name:"Creative Purple",color:"bg-purple-500",description:"Modern and creative styling"},{id:"energetic-orange",name:"Energetic Orange",color:"bg-orange-500",description:"Vibrant and energetic feel"}],i=d=>{t({...e,theme:d})},a=(d,u)=>{t({...e,[d]:u})};return o.jsxs(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:[o.jsx(Ir,{children:o.jsx(Fr,{className:"text-xl text-gray-900 dark:text-white",children:"Appearance"})}),o.jsxs(Lt,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(Xe,{className:"text-gray-700 dark:text-gray-300",children:"Theme"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:r.map(d=>o.jsxs("button",{onClick:()=>i(d.id),className:`p-4 rounded-lg border transition-all ${e.theme===d.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-white/30 dark:border-gray-600/30 bg-white/50 dark:bg-gray-700/50"}`,children:[o.jsx("div",{className:`w-8 h-8 ${d.color} rounded-full mx-auto mb-2`}),o.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:d.name}),o.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:d.description})]},d.id))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Xe,{htmlFor:"primary-color",className:"text-gray-700 dark:text-gray-300",children:"Primary Color"}),o.jsx(Or,{id:"primary-color",type:"text",placeholder:"#3B82F6",value:e.primaryColor,onChange:d=>a("primaryColor",d.target.value),className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Xe,{htmlFor:"secondary-color",className:"text-gray-700 dark:text-gray-300",children:"Secondary Color"}),o.jsx(Or,{id:"secondary-color",type:"text",placeholder:"#EFF6FF",value:e.secondaryColor,onChange:d=>a("secondaryColor",d.target.value),className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Xe,{htmlFor:"accent-color",className:"text-gray-700 dark:text-gray-300",children:"Accent Color"}),o.jsx(Or,{id:"accent-color",type:"text",placeholder:"#3B82F6",value:e.accentColor,onChange:d=>a("accentColor",d.target.value),className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Xe,{className:"text-gray-700 dark:text-gray-300",children:"Border Radius"}),o.jsxs(is,{value:e.borderRadius,onValueChange:d=>a("borderRadius",d),children:[o.jsx(Tn,{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30",children:o.jsx(os,{})}),o.jsxs(Rn,{children:[o.jsx(tt,{value:"rounded (4px)",children:"Rounded (4px)"}),o.jsx(tt,{value:"rounded (8px)",children:"Rounded (8px)"}),o.jsx(tt,{value:"rounded (12px)",children:"Rounded (12px)"}),o.jsx(tt,{value:"rounded (16px)",children:"Rounded (16px)"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Xe,{className:"text-gray-700 dark:text-gray-300",children:"Font Family"}),o.jsxs(is,{value:e.fontFamily,onValueChange:d=>a("fontFamily",d),children:[o.jsx(Tn,{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30",children:o.jsx(os,{})}),o.jsxs(Rn,{children:[o.jsx(tt,{value:"Inter (Modern)",children:"Inter (Modern)"}),o.jsx(tt,{value:"Roboto",children:"Roboto"}),o.jsx(tt,{value:"Open Sans",children:"Open Sans"}),o.jsx(tt,{value:"Lato",children:"Lato"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Xe,{className:"text-gray-700 dark:text-gray-300",children:"Font Size"}),o.jsxs(is,{value:e.fontSize,onValueChange:d=>a("fontSize",d),children:[o.jsx(Tn,{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30",children:o.jsx(os,{})}),o.jsxs(Rn,{children:[o.jsx(tt,{value:"Small (12px)",children:"Small (12px)"}),o.jsx(tt,{value:"Medium (14px)",children:"Medium (14px)"}),o.jsx(tt,{value:"Large (16px)",children:"Large (16px)"}),o.jsx(tt,{value:"Extra Large (18px)",children:"Extra Large (18px)"})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Xe,{htmlFor:"welcome-message",className:"text-gray-700 dark:text-gray-300",children:"Welcome Message"}),o.jsx(Gr,{id:"welcome-message",placeholder:"Hello! How can I help you today?",value:e.welcomeMessage,onChange:d=>a("welcomeMessage",d.target.value),className:"min-h-[100px] bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Xe,{htmlFor:"custom-css",className:"text-gray-700 dark:text-gray-300",children:"Custom CSS"}),o.jsx(Gr,{id:"custom-css",placeholder:"Add custom CSS styles for your agent interface...",value:e.customCSS,onChange:d=>a("customCSS",d.target.value),className:"min-h-[120px] bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30 font-mono text-sm"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Optional: Add custom CSS to further customize the appearance"})]}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 p-6 rounded-lg border border-white/30 dark:border-gray-600/30",children:[o.jsx(Xe,{className:"text-gray-700 dark:text-gray-300 mb-3 block",children:"Preview"}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:`w-8 h-8 ${((c=r.find(d=>d.id===e.theme))==null?void 0:c.color)||"bg-blue-500"} rounded-full flex items-center justify-center`,children:o.jsx("span",{className:"text-white text-sm font-medium",children:e.name?e.name.charAt(0).toUpperCase():"A"})}),o.jsx("div",{className:"flex-1",children:o.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-3",children:o.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:e.welcomeMessage||"Hello! How can I help you today?"})})})]})})]})]})]})},AC=({formData:e,setFormData:t,lastActiveStep:r,setLastActiveStep:i})=>{const[a,c]=C.useState(r);C.useEffect(()=>{c(r)},[r]);const d=h=>{c(h),i(h)},u=[{id:"basic-info",label:"Basic Info",component:tC},{id:"personality",label:"Personality",component:rC},{id:"knowledge",label:"Knowledge",component:nC},{id:"behavior",label:"Behavior",component:kC},{id:"appearance",label:"Appearance",component:jC}];return o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsx(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl sticky top-8",children:o.jsx(Lt,{className:"p-6",children:o.jsx("nav",{className:"space-y-2",children:u.map(h=>o.jsx("button",{onClick:()=>d(h.id),className:`w-full text-left px-4 py-3 rounded-lg transition-all duration-200 ${a===h.id?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:bg-white/50 dark:hover:bg-gray-700/50"}`,children:h.label},h.id))})})})}),o.jsx("div",{className:"lg:col-span-3",children:o.jsx(s8,{value:a,onValueChange:d,children:u.map(h=>o.jsx(ib,{value:h.id,children:o.jsx(h.component,{formData:e,setFormData:t})},h.id))})})]})},CC=({formData:e})=>{const t=()=>{switch(e.theme){case"success-green":return"from-green-500 to-green-600";case"creative-purple":return"from-purple-500 to-purple-600";case"energetic-orange":return"from-orange-500 to-orange-600";default:return"from-blue-500 to-purple-600"}};return o.jsxs("div",{className:"space-y-6",children:[o.jsx(Ht,{className:"bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200/50 dark:border-blue-700/50",children:o.jsx(Lt,{className:"p-6",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${t()} rounded-full flex items-center justify-center flex-shrink-0`,children:o.jsx("span",{className:"text-white text-xl font-bold",children:e.name?e.name.charAt(0).toUpperCase():"A"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:e.name||"Agent Name"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-3 leading-relaxed",children:e.description||"Agent description will appear here..."}),o.jsxs("div",{className:"flex flex-wrap gap-2 text-sm mb-3",children:[o.jsxs("span",{className:"bg-white/80 dark:bg-gray-800/80 px-3 py-1 rounded-full text-gray-700 dark:text-gray-300 border border-gray-200/50 dark:border-gray-600/50",children:["Category: ",e.category]}),o.jsxs("span",{className:"bg-white/80 dark:bg-gray-800/80 px-3 py-1 rounded-full text-gray-700 dark:text-gray-300 border border-gray-200/50 dark:border-gray-600/50",children:["Visibility: ",e.visibility==="private"?"Private":"Public"]})]})]})]})})}),o.jsxs(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:[o.jsx(Ir,{children:o.jsx(Fr,{className:"text-lg text-gray-900 dark:text-white",children:"Personality"})}),o.jsxs(Lt,{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tone:"}),o.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.tone})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Style:"}),o.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.style})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Communication:"}),o.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.communicationStyle})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Pattern:"}),o.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.responsePattern})]})]}),e.personalityTraits.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:e.personalityTraits.map((r,i)=>o.jsx("span",{className:"px-2 py-1 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs rounded-md",children:r},i))})]})]}),o.jsxs(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:[o.jsx(Ir,{children:o.jsx(Fr,{className:"text-lg text-gray-900 dark:text-white",children:"Knowledge"})}),o.jsx(Lt,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Context:"}),o.jsx("p",{className:"text-gray-900 dark:text-white mt-1",children:e.context||"None"})]}),e.knowledgeSources.some(r=>r.content.trim())&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Knowledge Sources:"}),o.jsx("div",{className:"mt-2 space-y-2",children:e.knowledgeSources.filter(r=>r.content.trim()).map((r,i)=>o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[o.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium mb-1",children:r.type}),o.jsx("div",{className:"text-sm text-gray-900 dark:text-white truncate",children:r.content})]},i))})]})]})})]}),o.jsxs(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:[o.jsx(Ir,{children:o.jsx(Fr,{className:"text-lg text-gray-900 dark:text-white",children:"Behavior"})}),o.jsxs(Lt,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Max Response Length:"}),o.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.maxResponseLength})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Conversation Memory:"}),o.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.rememberConversation?"Enabled":"Disabled"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Temperature:"}),o.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.temperature.toFixed(1)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Creativity:"}),o.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.creativity.toFixed(1)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Top P:"}),o.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.topP.toFixed(1)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Context Window:"}),o.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.contextWindow})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Max Tokens:"}),o.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.maxTokens})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Frequency Penalty:"}),o.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.frequencyPenalty.toFixed(1)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Presence Penalty:"}),o.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.presencePenalty.toFixed(1)})]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"System Prompt:"}),o.jsx("p",{className:"text-gray-900 dark:text-white mt-1 text-sm bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:e.systemPromptTemplate})]})]})]}),o.jsxs(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:[o.jsx(Ir,{children:o.jsx(Fr,{className:"text-lg text-gray-900 dark:text-white",children:"Appearance"})}),o.jsxs(Lt,{children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Theme:"}),o.jsx("span",{className:"ml-2 text-gray-900 dark:text-white capitalize",children:e.theme.replace("-"," ")})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Colors:"}),o.jsxs("div",{className:"flex items-center ml-2 space-x-2",children:[o.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:e.primaryColor}}),o.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:e.secondaryColor}}),o.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:e.accentColor}})]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Border Radius:"}),o.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.borderRadius})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Font:"}),o.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.fontFamily})]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Welcome Message:"}),o.jsxs("p",{className:"text-blue-600 dark:text-blue-400 mt-1 italic",children:['"',e.welcomeMessage,'"']})]}),e.customCSS&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Custom CSS:"}),o.jsx("pre",{className:"text-xs text-gray-900 dark:text-white mt-1 bg-gray-50 dark:bg-gray-700 p-3 rounded-lg overflow-x-auto",children:e.customCSS})]})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3 block",children:"Chat Preview:"}),o.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:`w-8 h-8 bg-gradient-to-r ${t()} rounded-full flex items-center justify-center flex-shrink-0`,children:o.jsx("span",{className:"text-white text-sm font-medium",children:e.name?e.name.charAt(0).toUpperCase():"A"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-3 shadow-sm",children:o.jsx("p",{className:"text-gray-900 dark:text-white text-sm",children:e.welcomeMessage||"Hello! How can I help you today?"})}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 mt-1 block",children:"Just now"})]})]})})]})]})]})]})};var TC={};const RC=({sessionToken:e,selectedAgent:t,onSelectAgent:r,onNavigate:i,identity:a,onLogout:c,activeView:d="dashboard"})=>{const[u,h]=C.useState({totalAgents:0,activeAgents:0,totalConversations:0,totalMessages:0,monthlyGrowth:{agents:0,conversations:0,messages:0}}),[m,g]=C.useState([]),[p,v]=C.useState("basic-info"),[E,w]=C.useState(!0),[k,j]=C.useState({agentManager:"Unknown",llmProcessor:"Unknown",contextManager:"Unknown",productionAPIs:"Unknown"}),[R,M]=C.useState(null),[U,G]=C.useState(!1),[O,Q]=C.useState(""),[X]=C.useState(3),$=Z=>{Q(Z),console.log("Search query:",Z)},[q,W]=C.useState({name:"",description:"",category:"general",visibility:"private",tone:"professional",style:"helpful",communicationStyle:"professional",responsePattern:"detailed",personalityTraits:[],context:"",knowledgeSources:[{type:"Manual Text",content:""}],maxResponseLength:500,rememberConversation:!0,temperature:.7,creativity:.8,topP:.9,contextWindow:4096,maxTokens:1e3,frequencyPenalty:0,presencePenalty:0,systemPromptTemplate:"You are a helpful AI assistant.",welcomeMessage:"Hello! How can I help you today?",theme:"professional-blue",primaryColor:"#3B82F6",secondaryColor:"#EFF6FF",accentColor:"#3B82F6",borderRadius:"rounded (8px)",fontFamily:"Inter (Modern)",fontSize:"Medium (14px)",customCSS:""}),ie=()=>{G(!0)},fe=()=>{G(!1)},A=()=>{c&&c()},V=()=>{switch(d){case"dashboard":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"mb-10",children:o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent mb-3",children:"Welcome Back!"}),o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Here's what's happening with your AI agents today."})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-4",children:o.jsxs("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg rounded-2xl px-6 py-3 border border-white/20 dark:border-gray-700/50",children:[o.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Current Time"}),o.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})})]})}),R&&o.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4 mb-6",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Connection Issue"}),o.jsx("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:o.jsx("p",{children:R})})]})]})}),o.jsx(gk,{metrics:u,systemStatus:k}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-5 gap-8",children:[o.jsx("div",{className:"xl:col-span-3",children:o.jsx(xk,{onNavigate:i,selectedAgent:t})}),o.jsx("div",{className:"xl:col-span-2",children:o.jsx(yk,{agents:m,onSelectAgent:r,onNavigate:i})})]})]});case"agents":return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"My Agents"})}),o.jsx(jk,{onSelectAgent:r,selectedAgent:t,sessionToken:e})]});case"create":return o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs(Ut,{variant:"ghost",className:"mb-4 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white",children:[o.jsx(Ly,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent mb-2",children:U?"Agent Preview":"Create New Agent"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:U?"Preview your AI agent before creating":"Build an intelligent AI agent tailored to your needs"})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(Ut,{variant:"outline",className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border-white/20 dark:border-gray-700/50",onClick:U?fe:ie,children:U?o.jsxs(o.Fragment,{children:[o.jsx(Ly,{className:"w-4 h-4 mr-2"}),"Back to Form"]}):o.jsxs(o.Fragment,{children:[o.jsx(dS,{className:"w-4 h-4 mr-2"}),"Preview"]})}),!U&&o.jsx(Ut,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg",children:"Create Agent"})]})]})]}),U?o.jsx(CC,{formData:q}):o.jsx(AC,{formData:q,setFormData:W,lastActiveStep:p,setLastActiveStep:v})]});case"chat":return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Chat"})}),t?o.jsx($v,{agent:t,sessionToken:e}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-lg mb-2",children:"No Agent Selected"}),o.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Please select an agent to start chatting."})]})]});case"analytics":return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Analytics"})}),o.jsx(Tk,{sessionToken:e,selectedAgent:t})]});case"embed":return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Embed Widget"})}),t?o.jsx(Ck,{agent:t,canisterId:TC.REACT_APP_AGENT_MANAGER_CANISTER_ID||"bkyz2-fmaaa-aaaaa-qaaaq-cai"}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-lg mb-2",children:"No Agent Selected"}),o.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Please select an agent to generate embed code."})]})]});case"profile":return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Profile"})}),o.jsx(Ak,{sessionToken:e,identity:a})]});case"billing":return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Billing & Payments"})}),o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-lg mb-2",children:"Coming Soon"}),o.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Billing and payment management features will be available soon."})]})]});default:return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-lg mb-2",children:"View Not Found"}),o.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"The requested view could not be found."})]})}};return C.useEffect(()=>{(async()=>{if(!e){console.log("No session token, skipping dashboard data fetch");return}w(!0),M(null);try{const J=await At.testCanisterAccess();console.log("Canister access test:",J);const ce=await At.getUserAgents();console.log("Fetched agents:",ce);const te=ce.filter(je=>"Active"in je.status).length;let ye=0,_e=0;for(const je of ce)je.analytics&&(ye+=je.analytics.totalConversations,_e+=je.analytics.totalMessages);const D={agents:Math.max(0,Math.floor(ce.length*.1)),conversations:Math.max(0,Math.floor(ye*.15)),messages:Math.max(0,Math.floor(_e*.12))},me={totalAgents:ce.length,activeAgents:te,totalConversations:ye,totalMessages:_e,monthlyGrowth:D},Be=await At.getSystemStatus();console.log("System status data:",Be);const Pe=ce.sort((je,pe)=>Number(pe.created)-Number(je.created)).slice(0,5);h(me),g(Pe),j(Be),M(null)}catch(J){console.error("Error fetching dashboard data:",J),M("Failed to load dashboard data. Please check your connection and try again."),h({totalAgents:0,activeAgents:0,totalConversations:0,totalMessages:0,monthlyGrowth:{agents:0,conversations:0,messages:0}}),j({agentManager:"Error",llmProcessor:"Error",contextManager:"Error",productionAPIs:"Error"})}finally{w(!1)}})()},[e]),E?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-purple-900/10 flex w-full",children:[o.jsx(Jh,{onNavigate:i,activeView:d,selectedAgent:t}),o.jsxs("div",{className:"flex-1 flex flex-col ml-64",children:[o.jsx(Qh,{identity:a,sessionToken:e,onLogout:A,searchQuery:O,onSearchChange:$,notifications:X}),o.jsx("main",{className:"flex-1 p-8",children:o.jsxs("div",{className:"flex items-center justify-center h-64",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),o.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading dashboard..."})]})})]})]}):e?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-purple-900/10 flex w-full",children:[o.jsx(Jh,{onNavigate:i,activeView:d,selectedAgent:t}),o.jsxs("div",{className:"flex-1 flex flex-col ml-64",children:[o.jsx(Qh,{identity:a,sessionToken:e,onLogout:A,searchQuery:O,onSearchChange:$,notifications:X}),o.jsx("main",{className:"flex-1 p-8",children:V()})]})]}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-purple-900/10 flex w-full",children:[o.jsx(Jh,{onNavigate:i,activeView:d,selectedAgent:t}),o.jsxs("div",{className:"flex-1 flex flex-col ml-64",children:[o.jsx(Qh,{identity:a,sessionToken:e,onLogout:A,searchQuery:O,onSearchChange:$,notifications:X}),o.jsx("main",{className:"flex-1 p-8",children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-lg mb-2",children:"Authentication Required"}),o.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Please log in with Internet Identity to access the dashboard."})]})})})]})]})},BC=({isMenuOpen:e,setIsMenuOpen:t,handleLogin:r})=>o.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 backdrop-blur-md bg-white/70 dark:bg-black/70 border-b border-white/20 dark:border-white/10",children:o.jsxs("div",{className:"container mx-auto px-4 py-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:o.jsx(hl,{className:"w-5 h-5 text-white"})}),o.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"NeoChat"})]}),o.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[o.jsx("a",{href:"#features",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Features"}),o.jsx("a",{href:"#how-it-works",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"How it Works"}),o.jsx("a",{href:"#pricing",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Pricing"}),o.jsx(I0,{}),o.jsx(Ut,{onClick:r,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg backdrop-blur-sm",children:"Launch App"})]}),o.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[o.jsx(I0,{}),o.jsx(Ut,{variant:"ghost",size:"icon",className:"backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10",onClick:()=>t(!e),children:e?o.jsx(Av,{className:"w-6 h-6"}):o.jsx(xS,{className:"w-6 h-6"})})]})]}),e&&o.jsx("div",{className:"md:hidden mt-4 pb-4 border-t border-white/20 dark:border-white/10 pt-4 backdrop-blur-md bg-white/50 dark:bg-black/50 rounded-lg",children:o.jsxs("nav",{className:"flex flex-col space-y-4",children:[o.jsx("a",{href:"#features",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Features"}),o.jsx("a",{href:"#how-it-works",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"How it Works"}),o.jsx("a",{href:"#pricing",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Pricing"}),o.jsx(Ut,{onClick:r,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 w-full shadow-lg",children:"Launch App"})]})})]})}),PC=({handleLogin:e})=>o.jsxs("section",{className:"pt-32 pb-20 bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 rounded-full bg-gradient-to-br from-blue-400/30 to-purple-400/30 blur-3xl"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 rounded-full bg-gradient-to-br from-purple-400/30 to-pink-400/30 blur-3xl"})]}),o.jsx("div",{className:"container mx-auto px-4 relative z-10",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsxs("div",{className:"flex items-center space-x-2 backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10 px-4 py-2 rounded-full shadow-lg",children:[o.jsx(M0,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),o.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:"Powered by Internet Computer Protocol"})]})}),o.jsxs("h1",{className:"text-5xl md:text-6xl font-bold mb-6 leading-tight text-gray-900 dark:text-white",children:["Deploy"," ",o.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"AI Agents"}),o.jsx("br",{}),"On-Chain"]}),o.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-8 max-w-2xl mx-auto",children:"Create, customize, and deploy intelligent AI support agents directly on the blockchain. No servers, no middlemen, just pure decentralized AI power."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[o.jsxs(Ut,{onClick:e,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-lg px-8 py-6 shadow-xl backdrop-blur-sm",children:["Create Your Agent",o.jsx(gp,{className:"w-5 h-5 ml-2"})]}),o.jsx(Ut,{variant:"outline",className:"text-lg px-8 py-6 backdrop-blur-md bg-white/10 dark:bg-black/10 border-white/30 dark:border-white/20 hover:bg-white/20 dark:hover:bg-white/10 shadow-lg",children:"Watch Demo"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-16",children:[o.jsxs("div",{className:"flex flex-col items-center text-center p-6 rounded-xl backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center mb-4 shadow-lg",children:o.jsx(ES,{className:"w-6 h-6 text-white"})}),o.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:"Fully Decentralized"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"No centralized servers or APIs. Your AI agents run entirely on-chain."})]}),o.jsxs("div",{className:"flex flex-col items-center text-center p-6 rounded-xl backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center mb-4 shadow-lg",children:o.jsx(Cv,{className:"w-6 h-6 text-white"})}),o.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:"Lightning Fast"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Powered by ICP's high-performance canisters for instant responses."})]}),o.jsxs("div",{className:"flex flex-col items-center text-center p-6 rounded-xl backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center mb-4 shadow-lg",children:o.jsx(M0,{className:"w-6 h-6 text-white"})}),o.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:"Easy Integration"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Embed anywhere with our simple SDK and customizable widgets."})]})]})]})})]}),MC=()=>{const e=[{icon:hl,title:"AI Agent Builder",description:"Create custom AI agents with unique personalities, knowledge bases, and conversation styles using our intuitive wizard.",gradient:"from-blue-500 to-blue-600"},{icon:uS,title:"On-Chain Storage",description:"All agent configurations and conversation logs stored securely on ICP canisters with full encryption.",gradient:"from-purple-500 to-purple-600"},{icon:_v,title:"Easy Embedding",description:"Deploy your AI agents anywhere with our JavaScript SDK and customizable web components.",gradient:"from-green-500 to-green-600"},{icon:mS,title:"Internet Identity",description:"Secure authentication and agent ownership through ICP's decentralized identity system.",gradient:"from-red-500 to-red-600"},{icon:pS,title:"Chain Fusion",description:"Connect to external data sources and other blockchains using HTTPS outcalls and EVM RPC integration.",gradient:"from-yellow-500 to-yellow-600"},{icon:kv,title:"Usage Analytics",description:"Track performance metrics, usage patterns, and optimize your AI agents with detailed analytics.",gradient:"from-indigo-500 to-indigo-600"}];return o.jsxs("section",{id:"features",className:"py-20 bg-white dark:bg-gray-900 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[o.jsx("div",{className:"absolute top-20 right-20 w-64 h-64 rounded-full bg-gradient-to-br from-blue-400/20 to-purple-400/20 blur-3xl"}),o.jsx("div",{className:"absolute bottom-20 left-20 w-64 h-64 rounded-full bg-gradient-to-br from-purple-400/20 to-pink-400/20 blur-3xl"})]}),o.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsxs("h2",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-white",children:["Powerful Features for"," ",o.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Decentralized AI"})]}),o.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Everything you need to create, deploy, and manage intelligent AI agents on the blockchain."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((t,r)=>o.jsx(Ht,{className:"backdrop-blur-md bg-white/50 dark:bg-black/30 border border-white/30 dark:border-white/10 hover:bg-white/60 dark:hover:bg-black/40 hover:shadow-xl transition-all duration-300 group",children:o.jsxs(Lt,{className:"p-6",children:[o.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${t.gradient} rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg`,children:o.jsx(t.icon,{className:"w-6 h-6 text-white"})}),o.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-900 dark:text-white",children:t.title}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:t.description})]})},r))})]})]})},OC=()=>{const e=[{icon:vS,title:"Design Your Agent",description:"Use our intuitive wizard to define your AI agent's personality, knowledge base, and conversation style.",color:"blue"},{icon:Sv,title:"Configure & Train",description:"Fine-tune your agent's responses, upload training data, and connect to external knowledge sources.",color:"purple"},{icon:bS,title:"Deploy On-Chain",description:"Launch your AI agent on ICP canisters and embed it anywhere with our simple integration code.",color:"green"}];return o.jsxs("section",{id:"how-it-works",className:"py-20 bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-800 dark:to-blue-900 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[o.jsx("div",{className:"absolute top-32 left-32 w-48 h-48 rounded-full bg-gradient-to-br from-blue-400/30 to-purple-400/30 blur-3xl"}),o.jsx("div",{className:"absolute bottom-32 right-32 w-48 h-48 rounded-full bg-gradient-to-br from-purple-400/30 to-pink-400/30 blur-3xl"})]}),o.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-white",children:"How It Works"}),o.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Create and deploy your AI agent in three simple steps"})]}),o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 relative",children:e.map((t,r)=>o.jsxs("div",{className:"relative",children:[o.jsx(Ht,{className:"backdrop-blur-md bg-white/60 dark:bg-black/40 border border-white/30 dark:border-white/10 hover:shadow-xl transition-all duration-300 hover:bg-white/70 dark:hover:bg-black/50",children:o.jsxs(Lt,{className:"p-8 text-center",children:[o.jsx("div",{className:`w-16 h-16 mx-auto mb-6 rounded-full flex items-center justify-center shadow-lg
                      ${t.color==="blue"?"bg-gradient-to-br from-blue-500 to-blue-600":""}
                      ${t.color==="purple"?"bg-gradient-to-br from-purple-500 to-purple-600":""}
                      ${t.color==="green"?"bg-gradient-to-br from-green-500 to-green-600":""}
                    `,children:o.jsx(t.icon,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{className:"text-lg font-bold mb-2 text-gray-800 dark:text-gray-200",children:["Step ",r+1]}),o.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:t.title}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:t.description})]})}),r<e.length-1&&o.jsx("div",{className:"hidden md:block absolute top-1/2 right-0 transform translate-x-1/2 -translate-y-1/2 z-10",children:o.jsx("div",{className:"w-8 h-8 rounded-full backdrop-blur-md bg-white/50 dark:bg-black/50 border border-white/30 dark:border-white/10 flex items-center justify-center shadow-lg",children:o.jsx(gp,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})})})]},r))})})]})]})},IC=wp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function mw({className:e,variant:t,...r}){return o.jsx("div",{className:Nt(IC({variant:t}),e),...r})}const FC=()=>{const e=[{name:"Community",price:"Free",period:"",description:"Perfect for trying out NeoChat and small personal projects.",features:["100 messages per month","Basic AI models","Community support","Public agent gallery","Basic customization"],limits:{messages:"100",agents:"3",storage:"100MB",support:"Community"},popular:!1,buttonText:"Get Started",buttonVariant:"outline"},{name:"Base",price:"$9.99",period:"/month",description:"Great for individuals and small teams getting started with AI chat.",features:["1,000 messages per month","Standard AI models","Email support","Private agents","Advanced customization"],limits:{messages:"1,000",agents:"10",storage:"1GB",support:"Email"},popular:!1,buttonText:"Upgrade to Base",buttonVariant:"default"},{name:"Pro",price:"$29.99",period:"/month",description:"Perfect for growing businesses and teams that need advanced features.",features:["5,000 messages per month","Premium AI models","Priority support","API access","Advanced analytics"],limits:{messages:"5,000",agents:"50",storage:"10GB",support:"Priority"},popular:!0,buttonText:"Upgrade to Pro",buttonVariant:"default"},{name:"Enterprise",price:"Custom",period:"",description:"Tailored solutions for large organizations with specific requirements.",features:["Unlimited messages","All AI models","Dedicated support","Custom features","SLA guarantees"],limits:{messages:"Unlimited",agents:"Unlimited",storage:"Unlimited",support:"Dedicated"},popular:!1,buttonText:"Contact Sales",buttonVariant:"outline"}];return o.jsx("section",{id:"pricing",className:"py-24 px-4 bg-white dark:bg-gray-900",children:o.jsxs("div",{className:"container mx-auto max-w-7xl",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-6",children:"Choose Your Plan"}),o.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:"Select the perfect plan for your needs. Upgrade or downgrade anytime."}),o.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-8",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Monthly"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ut,{variant:"outline",size:"sm",className:"text-sm",children:"Yearly"}),o.jsx(mw,{className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300",children:"Save 20%"})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((t,r)=>o.jsxs(Ht,{className:`relative bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-lg hover:shadow-xl transition-all duration-300 ${t.popular?"border-2 border-purple-500 dark:border-purple-400 scale-105":""}`,children:[t.popular&&o.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:o.jsx(mw,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-3 py-1",children:"Most Popular"})}),o.jsxs(Ir,{className:"text-center pb-6",children:[o.jsx(Fr,{className:"text-xl font-bold text-gray-900 dark:text-white",children:t.name}),o.jsxs("div",{className:"mt-4",children:[o.jsx("span",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:t.price}),o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:t.period})]}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:t.description})]}),o.jsxs(Lt,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Features"}),o.jsx("div",{className:"space-y-3",children:t.features.map((i,a)=>o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(xp,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),o.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:i})]},a))})]}),o.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[o.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Plan Limits"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Messages:"}),o.jsx("br",{}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.limits.messages})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Agents:"}),o.jsx("br",{}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.limits.agents})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Storage:"}),o.jsx("br",{}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.limits.storage})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Support:"}),o.jsx("br",{}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.limits.support})]})]})]}),o.jsx(Ut,{variant:t.buttonVariant,className:`w-full mt-6 ${t.popular?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white":t.buttonVariant==="default"?"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white":""}`,children:t.buttonText})]})]},t.name))}),o.jsxs("div",{className:"mt-16 text-center",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-8",children:"Frequently Asked Questions"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[o.jsxs("div",{className:"text-left",children:[o.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Can I change my plan anytime?"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Yes, you can upgrade or downgrade your plan at any time. Changes will be prorated."})]}),o.jsxs("div",{className:"text-left",children:[o.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"What happens if I exceed my message limit?"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"You'll be charged $0.02 per additional message. We'll notify you when approaching your limit."})]})]})]})]})})},UC=()=>o.jsxs("footer",{className:"bg-gray-900 dark:bg-black text-white py-16 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[o.jsx("div",{className:"absolute top-10 right-10 w-32 h-32 rounded-full bg-gradient-to-br from-blue-400/20 to-purple-400/20 blur-2xl"}),o.jsx("div",{className:"absolute bottom-10 left-10 w-32 h-32 rounded-full bg-gradient-to-br from-purple-400/20 to-pink-400/20 blur-2xl"})]}),o.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"md:col-span-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:o.jsx(hl,{className:"w-5 h-5 text-white"})}),o.jsx("span",{className:"text-xl font-bold",children:"NeoChat"})]}),o.jsx("p",{className:"text-gray-400 mb-4",children:"Deploy AI agents on the Internet Computer Protocol. Decentralized, secure, and powerful."}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("div",{className:"p-2 rounded-lg backdrop-blur-md bg-white/10 border border-white/20 hover:bg-white/20 cursor-pointer transition-all duration-300",children:o.jsx(hS,{className:"w-5 h-5 text-gray-400 hover:text-white transition-colors"})}),o.jsx("div",{className:"p-2 rounded-lg backdrop-blur-md bg-white/10 border border-white/20 hover:bg-white/20 cursor-pointer transition-all duration-300",children:o.jsx(SS,{className:"w-5 h-5 text-gray-400 hover:text-white transition-colors"})}),o.jsx("div",{className:"p-2 rounded-lg backdrop-blur-md bg-white/10 border border-white/20 hover:bg-white/20 cursor-pointer transition-all duration-300",children:o.jsx(yS,{className:"w-5 h-5 text-gray-400 hover:text-white transition-colors"})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-4",children:"Product"}),o.jsxs("ul",{className:"space-y-2 text-gray-400",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Features"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Pricing"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Documentation"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"API Reference"})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-4",children:"Company"}),o.jsxs("ul",{className:"space-y-2 text-gray-400",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"About"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Blog"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Careers"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-4",children:"Resources"}),o.jsxs("ul",{className:"space-y-2 text-gray-400",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Help Center"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Community"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Status"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"})})]})]})]}),o.jsx("div",{className:"border-t border-gray-800 dark:border-gray-700 mt-12 pt-8 text-center text-gray-400",children:o.jsx("p",{children:"© 2024 NeoChat. All rights reserved. Built on Internet Computer Protocol."})})]})]}),$C=({handleLogin:e})=>{const[t,r]=C.useState(!1);return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx(BC,{isMenuOpen:t,setIsMenuOpen:r,handleLogin:e}),o.jsx(PC,{handleLogin:e}),o.jsx(MC,{}),o.jsx(OC,{}),o.jsx(FC,{}),o.jsx(UC,{})]})};var d0={};function zC(){console.log("Environment variables:",{REACT_APP_II_URL:d0.REACT_APP_II_URL,REACT_APP_AGENT_MANAGER_CANISTER_ID:d0.REACT_APP_AGENT_MANAGER_CANISTER_ID,REACT_APP_METRICS_COLLECTOR_CANISTER_ID:d0.REACT_APP_METRICS_COLLECTOR_CANISTER_ID,DFX_NETWORK:"local"});const[e,t]=C.useState("dashboard"),[r,i]=C.useState(!1),[a,c]=C.useState(null),[d,u]=C.useState(null),[h,m]=C.useState(null),[g,p]=C.useState(null),[v,E]=C.useState(!1),[w,k]=C.useState(""),[j,R]=C.useState(3);C.useEffect(()=>{(async()=>{try{console.log("Initializing authentication...");const O=await d4.create();c(O),await new Promise(X=>setTimeout(X,100));const Q=await O.isAuthenticated();if(console.log("AuthClient.isAuthenticated() returned:",Q),Q){const X=O.getIdentity(),q=X.getPrincipal().toText(),W=q==="2vxsx-fae";if(console.log("Identity principal:",q),console.log("Is anonymous:",W),W)console.log("Clearing anonymous authentication"),await O.logout(),i(!1),u(null),m(null),await At.setIdentity(null);else{console.log("Setting authenticated state with real identity"),i(!0),u(X),await At.setIdentity(X);const ie="session_"+q.replace(/[^a-zA-Z0-9]/g,"_");m(ie)}}else console.log("Not authenticated, setting unauthenticated state"),i(!1),u(null),m(null),await At.setIdentity(null)}catch(O){console.error("Error initializing auth:",O),i(!1),u(null),m(null),await At.setIdentity(null)}})()},[]);const M=async()=>{if(a)try{const G="http://rdmx6-jaaaa-aaaaa-aaadq-cai.localhost:4943";console.log("Using Internet Identity URL:",G),await a.login({identityProvider:G,onSuccess:async()=>{i(!0);const O=a.getIdentity();u(O),await At.setIdentity(O);const $="session_"+O.getPrincipal().toText().replace(/[^a-zA-Z0-9]/g,"_");m($)}})}catch(G){console.error("Login failed:",G),i(!1)}},U=async()=>{a&&(await a.logout(),i(!1),u(null),m(null),p(null),t("dashboard"),await At.setIdentity(null))};return r?o.jsx(RC,{sessionToken:h,selectedAgent:g,onSelectAgent:p,onNavigate:t,identity:d,onLogout:U,activeView:e}):o.jsx($C,{handleLogin:M})}const VC=()=>{const[e,t]=C.useState(null),[r,i]=C.useState(!0),[a,c]=C.useState(null),d=new URLSearchParams(window.location.search),u=d.get("agent"),h=d.get("theme")||"light",m=d.get("color")||"#4F46E5",g=d.get("welcome")||"";return d.get("placeholder"),C.useEffect(()=>{(async()=>{if(!u){c("No agent ID provided"),i(!1);return}try{console.log("Waiting for canister service to initialize..."),await At.waitForReady(),console.log("Canister service ready, loading agent:",u);const v=await At.getAgentPublic(u),E={id:v.id,name:v.name,description:v.description,status:"Active"in v.status?"Active":"Inactive"in v.status?"Inactive":"Draft",created:new Date(Number(v.created)/1e6).toISOString(),lastUpdated:new Date().toISOString(),avatar:Array.isArray(v.config.appearance.avatar)&&v.config.appearance.avatar.length>0?v.config.appearance.avatar[0]:"default",config:{personality:{traits:v.config.personality.traits,tone:v.config.personality.tone,responseStyle:v.config.personality.style},knowledgeBase:{documents:v.config.knowledgeBase.map(w=>w.content),sources:[],context:v.config.knowledgeBase.map(w=>w.content).join(`
`)},behavior:{maxResponseLength:"Long"in v.config.behavior.responseLength?500:200,conversationMemory:!0,escalationRules:[]},appearance:{avatar:(Array.isArray(v.config.appearance.avatar)&&v.config.appearance.avatar.length>0?v.config.appearance.avatar[0]:"default")||"default",theme:h||v.config.appearance.primaryColor||"#3b82f6",welcomeMessage:g||`Hello! I'm ${v.name}. How can I help you today?`}}};console.log("Agent loaded successfully:",E),t(E)}catch(v){console.error("Failed to load agent:",v),v instanceof Error?c(`Failed to load agent: ${v.message}`):c("Failed to load agent. Please check the agent ID and try again."),console.log("Creating demo agent for testing...");const E={id:u||"demo",name:`Demo Agent (${u||"demo"})`,description:"This is a demo agent for testing embed widgets",status:"Active",created:new Date().toISOString(),lastUpdated:new Date().toISOString(),avatar:"default",config:{personality:{traits:["helpful","friendly","knowledgeable"],tone:"professional",responseStyle:"conversational"},knowledgeBase:{documents:["Demo knowledge base for testing"],sources:[],context:"This is a demo agent created for testing embed widgets when real agents are not available."},behavior:{maxResponseLength:300,conversationMemory:!0,escalationRules:[]},appearance:{avatar:"default",theme:h,welcomeMessage:g||`Hello! I'm ${u||"Demo Agent"}. This is a demo mode for testing embed widgets.`}}};t(E),c("Demo mode: Real agent not available. Showing demo functionality.")}finally{i(!1)}})()},[u,g]),C.useEffect(()=>{const p=document.createElement("style");return p.textContent=`
      :root {
        --primary-color: ${m};
      }
      
      body {
        margin: 0;
        padding: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        overflow: hidden;
      }
      
      .embed-container {
        height: 100vh;
        display: flex;
        flex-direction: column;
        background: ${h==="dark"?"#1F2937":"#FFFFFF"};
      }
      
      .embed-header {
        background: var(--primary-color);
        color: white;
        padding: 12px 16px;
        display: flex;
        align-items: center;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        flex-shrink: 0;
      }
      
      .embed-avatar {
        width: 32px;
        height: 32px;
        background: rgba(255,255,255,0.2);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 12px;
        font-size: 14px;
      }
      
      .embed-info h3 {
        margin: 0;
        font-size: 14px;
        font-weight: 600;
      }
      
      .embed-info p {
        margin: 0;
        font-size: 12px;
        opacity: 0.9;
      }
      
      .embed-chat {
        flex: 1;
        overflow: hidden;
      }
      
      .embed-footer {
        padding: 8px 16px;
        text-align: center;
        border-top: 1px solid ${h==="dark"?"#374151":"#E5E7EB"};
        background: ${h==="dark"?"#111827":"#F9FAFB"};
        flex-shrink: 0;
      }
      
      .embed-footer p {
        margin: 0;
        font-size: 10px;
        color: ${h==="dark"?"#9CA3AF":"#6B7280"};
      }
      
      .embed-footer a {
        color: var(--primary-color);
        text-decoration: none;
        font-weight: 500;
      }
      
      .embed-footer a:hover {
        text-decoration: underline;
      }
      
      .embed-loading {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
        background: ${h==="dark"?"#1F2937":"#F9FAFB"};
        color: ${h==="dark"?"#E5E7EB":"#374151"};
      }
      
      .embed-error {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
        background: ${h==="dark"?"#1F2937":"#F9FAFB"};
        color: ${h==="dark"?"#E5E7EB":"#374151"};
        text-align: center;
        padding: 20px;
      }
      
      .spinner {
        animation: spin 1s linear infinite;
        width: 24px;
        height: 24px;
        border: 2px solid transparent;
        border-top: 2px solid var(--primary-color);
        border-radius: 50%;
        margin-right: 12px;
      }
      
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      
      .error-icon {
        width: 48px;
        height: 48px;
        margin-bottom: 16px;
        color: #EF4444;
      }
      
      @media (max-width: 768px) {
        .embed-header {
          padding: 8px 12px;
        }
        
        .embed-avatar {
          width: 28px;
          height: 28px;
          margin-right: 8px;
        }
        
        .embed-info h3 {
          font-size: 13px;
        }
        
        .embed-info p {
          font-size: 11px;
        }
        
        .embed-footer {
          padding: 6px 12px;
        }
      }
    `,document.head.appendChild(p),()=>{document.head.removeChild(p)}},[h,m]),r?o.jsxs("div",{className:"embed-loading",children:[o.jsx("div",{className:"spinner"}),o.jsx("span",{children:"Loading CanistChat..."})]}):a||!e?o.jsx("div",{className:"embed-error",children:o.jsxs("div",{children:[o.jsx("svg",{className:"error-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),o.jsx("h2",{style:{fontSize:"18px",fontWeight:"600",margin:"0 0 8px 0"},children:"Chat Unavailable"}),o.jsx("p",{style:{margin:"0",fontSize:"14px",opacity:"0.8"},children:a||"Agent not found"}),o.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"12px",opacity:"0.6"},children:"Please check the widget configuration and try again."})]})}):o.jsxs("div",{className:"embed-container",children:[r&&o.jsx("div",{className:"loading-state",children:o.jsxs("div",{className:"flex items-center justify-center h-64",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),o.jsx("span",{className:"ml-3 text-gray-600",children:"Loading agent..."})]})}),a&&!e&&o.jsx("div",{className:"error-state",children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-6xl mb-4",children:"⚠️"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Agent Not Available"}),o.jsx("p",{className:"text-gray-600 mb-4",children:a}),o.jsxs("div",{className:"text-sm text-gray-500",children:[o.jsx("p",{children:"Please check:"}),o.jsxs("ul",{className:"mt-2 text-left",children:[o.jsx("li",{children:"• Agent ID is correct"}),o.jsx("li",{children:"• Agent is active and accessible"}),o.jsx("li",{children:"• Network connection is stable"})]})]})]})})}),e&&o.jsxs("div",{className:"embed-chat h-full flex flex-col",children:[a&&a.includes("Demo mode")&&o.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3 mb-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),o.jsx("div",{className:"ml-3",children:o.jsxs("p",{className:"text-sm text-yellow-700",children:[o.jsx("strong",{children:"Demo Mode:"})," This widget is running in demonstration mode. Real agent functionality may not be available."]})})]})}),o.jsx("div",{className:"flex-1 min-h-0",children:o.jsx($v,{agent:e,sessionToken:null})})]})]})},X2=document.getElementById("root");if(!X2)throw new Error("Root element not found");const HC=Y3.createRoot(X2);HC.render(o.jsx(Zn.StrictMode,{children:o.jsx(fk,{children:o.jsx(UE,{children:o.jsxs(OE,{children:[o.jsx(h0,{path:"/embed",element:o.jsx(VC,{})}),o.jsx(h0,{path:"/*",element:o.jsx(zC,{})})]})})})}));
