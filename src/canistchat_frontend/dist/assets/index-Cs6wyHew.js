var $3=Object.defineProperty;var z3=(e,t,r)=>t in e?$3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var nn=(e,t,r)=>z3(e,typeof t!="symbol"?t+"":t,r);function V3(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const c=Object.getOwnPropertyDescriptor(i,o);c&&Object.defineProperty(e,o,c.get?c:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();var H3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dh={exports:{}},Po={},fh={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx;function L3(){if(fx)return nt;fx=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function w(Y){return Y===null||typeof Y!="object"?null:(Y=m&&Y[m]||Y["@@iterator"],typeof Y=="function"?Y:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,j={};function E(Y,me,Be){this.props=Y,this.context=me,this.refs=j,this.updater=Be||_}E.prototype.isReactComponent={},E.prototype.setState=function(Y,me){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,me,"setState")},E.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function P(){}P.prototype=E.prototype;function I(Y,me,Be){this.props=Y,this.context=me,this.refs=j,this.updater=Be||_}var U=I.prototype=new P;U.constructor=I,v(U,E.prototype),U.isPureReactComponent=!0;var q=Array.isArray,O=Object.prototype.hasOwnProperty,Q={current:null},X={key:!0,ref:!0,__self:!0,__source:!0};function z(Y,me,Be){var H,Pe={},Ae=null,pe=null;if(me!=null)for(H in me.ref!==void 0&&(pe=me.ref),me.key!==void 0&&(Ae=""+me.key),me)O.call(me,H)&&!X.hasOwnProperty(H)&&(Pe[H]=me[H]);var de=arguments.length-2;if(de===1)Pe.children=Be;else if(1<de){for(var Ne=Array(de),C=0;C<de;C++)Ne[C]=arguments[C+2];Pe.children=Ne}if(Y&&Y.defaultProps)for(H in de=Y.defaultProps,de)Pe[H]===void 0&&(Pe[H]=de[H]);return{$$typeof:e,type:Y,key:Ae,ref:pe,props:Pe,_owner:Q.current}}function K(Y,me){return{$$typeof:e,type:Y.type,key:me,ref:Y.ref,props:Y.props,_owner:Y._owner}}function W(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===e}function ie(Y){var me={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(Be){return me[Be]})}var fe=/\/+/g;function T(Y,me){return typeof Y=="object"&&Y!==null&&Y.key!=null?ie(""+Y.key):me.toString(36)}function V(Y,me,Be,H,Pe){var Ae=typeof Y;(Ae==="undefined"||Ae==="boolean")&&(Y=null);var pe=!1;if(Y===null)pe=!0;else switch(Ae){case"string":case"number":pe=!0;break;case"object":switch(Y.$$typeof){case e:case t:pe=!0}}if(pe)return pe=Y,Pe=Pe(pe),Y=H===""?"."+T(pe,0):H,q(Pe)?(Be="",Y!=null&&(Be=Y.replace(fe,"$&/")+"/"),V(Pe,me,Be,"",function(C){return C})):Pe!=null&&(W(Pe)&&(Pe=K(Pe,Be+(!Pe.key||pe&&pe.key===Pe.key?"":(""+Pe.key).replace(fe,"$&/")+"/")+Y)),me.push(Pe)),1;if(pe=0,H=H===""?".":H+":",q(Y))for(var de=0;de<Y.length;de++){Ae=Y[de];var Ne=H+T(Ae,de);pe+=V(Ae,me,Be,Ne,Pe)}else if(Ne=w(Y),typeof Ne=="function")for(Y=Ne.call(Y),de=0;!(Ae=Y.next()).done;)Ae=Ae.value,Ne=H+T(Ae,de++),pe+=V(Ae,me,Be,Ne,Pe);else if(Ae==="object")throw me=String(Y),Error("Objects are not valid as a React child (found: "+(me==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":me)+"). If you meant to render a collection of children, use an array instead.");return pe}function G(Y,me,Be){if(Y==null)return Y;var H=[],Pe=0;return V(Y,H,"","",function(Ae){return me.call(Be,Ae,Pe++)}),H}function ee(Y){if(Y._status===-1){var me=Y._result;me=me(),me.then(function(Be){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=Be)},function(Be){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=Be)}),Y._status===-1&&(Y._status=0,Y._result=me)}if(Y._status===1)return Y._result.default;throw Y._result}var le={current:null},te={transition:null},ge={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:te,ReactCurrentOwner:Q};function _e(){throw Error("act(...) is not supported in production builds of React.")}return nt.Children={map:G,forEach:function(Y,me,Be){G(Y,function(){me.apply(this,arguments)},Be)},count:function(Y){var me=0;return G(Y,function(){me++}),me},toArray:function(Y){return G(Y,function(me){return me})||[]},only:function(Y){if(!W(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},nt.Component=E,nt.Fragment=r,nt.Profiler=o,nt.PureComponent=I,nt.StrictMode=i,nt.Suspense=h,nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,nt.act=_e,nt.cloneElement=function(Y,me,Be){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var H=v({},Y.props),Pe=Y.key,Ae=Y.ref,pe=Y._owner;if(me!=null){if(me.ref!==void 0&&(Ae=me.ref,pe=Q.current),me.key!==void 0&&(Pe=""+me.key),Y.type&&Y.type.defaultProps)var de=Y.type.defaultProps;for(Ne in me)O.call(me,Ne)&&!X.hasOwnProperty(Ne)&&(H[Ne]=me[Ne]===void 0&&de!==void 0?de[Ne]:me[Ne])}var Ne=arguments.length-2;if(Ne===1)H.children=Be;else if(1<Ne){de=Array(Ne);for(var C=0;C<Ne;C++)de[C]=arguments[C+2];H.children=de}return{$$typeof:e,type:Y.type,key:Pe,ref:Ae,props:H,_owner:pe}},nt.createContext=function(Y){return Y={$$typeof:d,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:c,_context:Y},Y.Consumer=Y},nt.createElement=z,nt.createFactory=function(Y){var me=z.bind(null,Y);return me.type=Y,me},nt.createRef=function(){return{current:null}},nt.forwardRef=function(Y){return{$$typeof:u,render:Y}},nt.isValidElement=W,nt.lazy=function(Y){return{$$typeof:p,_payload:{_status:-1,_result:Y},_init:ee}},nt.memo=function(Y,me){return{$$typeof:g,type:Y,compare:me===void 0?null:me}},nt.startTransition=function(Y){var me=te.transition;te.transition={};try{Y()}finally{te.transition=me}},nt.unstable_act=_e,nt.useCallback=function(Y,me){return le.current.useCallback(Y,me)},nt.useContext=function(Y){return le.current.useContext(Y)},nt.useDebugValue=function(){},nt.useDeferredValue=function(Y){return le.current.useDeferredValue(Y)},nt.useEffect=function(Y,me){return le.current.useEffect(Y,me)},nt.useId=function(){return le.current.useId()},nt.useImperativeHandle=function(Y,me,Be){return le.current.useImperativeHandle(Y,me,Be)},nt.useInsertionEffect=function(Y,me){return le.current.useInsertionEffect(Y,me)},nt.useLayoutEffect=function(Y,me){return le.current.useLayoutEffect(Y,me)},nt.useMemo=function(Y,me){return le.current.useMemo(Y,me)},nt.useReducer=function(Y,me,Be){return le.current.useReducer(Y,me,Be)},nt.useRef=function(Y){return le.current.useRef(Y)},nt.useState=function(Y){return le.current.useState(Y)},nt.useSyncExternalStore=function(Y,me,Be){return le.current.useSyncExternalStore(Y,me,Be)},nt.useTransition=function(){return le.current.useTransition()},nt.version="18.3.1",nt}var hx;function Q0(){return hx||(hx=1,fh.exports=L3()),fh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px;function W3(){if(px)return Po;px=1;var e=Q0(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(u,h,g){var p,m={},w=null,_=null;g!==void 0&&(w=""+g),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(_=h.ref);for(p in h)i.call(h,p)&&!c.hasOwnProperty(p)&&(m[p]=h[p]);if(u&&u.defaultProps)for(p in h=u.defaultProps,h)m[p]===void 0&&(m[p]=h[p]);return{$$typeof:t,type:u,key:w,ref:_,props:m,_owner:o.current}}return Po.Fragment=r,Po.jsx=d,Po.jsxs=d,Po}var mx;function q3(){return mx||(mx=1,dh.exports=W3()),dh.exports}var a=q3(),A=Q0();const Zn=Gu(A),J0=V3({__proto__:null,default:Zn},[A]);var Ac={},hh={exports:{}},Er={},ph={exports:{}},mh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx;function G3(){return gx||(gx=1,function(e){function t(te,ge){var _e=te.length;te.push(ge);e:for(;0<_e;){var Y=_e-1>>>1,me=te[Y];if(0<o(me,ge))te[Y]=ge,te[_e]=me,_e=Y;else break e}}function r(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var ge=te[0],_e=te.pop();if(_e!==ge){te[0]=_e;e:for(var Y=0,me=te.length,Be=me>>>1;Y<Be;){var H=2*(Y+1)-1,Pe=te[H],Ae=H+1,pe=te[Ae];if(0>o(Pe,_e))Ae<me&&0>o(pe,Pe)?(te[Y]=pe,te[Ae]=_e,Y=Ae):(te[Y]=Pe,te[H]=_e,Y=H);else if(Ae<me&&0>o(pe,_e))te[Y]=pe,te[Ae]=_e,Y=Ae;else break e}}return ge}function o(te,ge){var _e=te.sortIndex-ge.sortIndex;return _e!==0?_e:te.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,u=d.now();e.unstable_now=function(){return d.now()-u}}var h=[],g=[],p=1,m=null,w=3,_=!1,v=!1,j=!1,E=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(te){for(var ge=r(g);ge!==null;){if(ge.callback===null)i(g);else if(ge.startTime<=te)i(g),ge.sortIndex=ge.expirationTime,t(h,ge);else break;ge=r(g)}}function q(te){if(j=!1,U(te),!v)if(r(h)!==null)v=!0,ee(O);else{var ge=r(g);ge!==null&&le(q,ge.startTime-te)}}function O(te,ge){v=!1,j&&(j=!1,P(z),z=-1),_=!0;var _e=w;try{for(U(ge),m=r(h);m!==null&&(!(m.expirationTime>ge)||te&&!ie());){var Y=m.callback;if(typeof Y=="function"){m.callback=null,w=m.priorityLevel;var me=Y(m.expirationTime<=ge);ge=e.unstable_now(),typeof me=="function"?m.callback=me:m===r(h)&&i(h),U(ge)}else i(h);m=r(h)}if(m!==null)var Be=!0;else{var H=r(g);H!==null&&le(q,H.startTime-ge),Be=!1}return Be}finally{m=null,w=_e,_=!1}}var Q=!1,X=null,z=-1,K=5,W=-1;function ie(){return!(e.unstable_now()-W<K)}function fe(){if(X!==null){var te=e.unstable_now();W=te;var ge=!0;try{ge=X(!0,te)}finally{ge?T():(Q=!1,X=null)}}else Q=!1}var T;if(typeof I=="function")T=function(){I(fe)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,G=V.port2;V.port1.onmessage=fe,T=function(){G.postMessage(null)}}else T=function(){E(fe,0)};function ee(te){X=te,Q||(Q=!0,T())}function le(te,ge){z=E(function(){te(e.unstable_now())},ge)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){v||_||(v=!0,ee(O))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return r(h)},e.unstable_next=function(te){switch(w){case 1:case 2:case 3:var ge=3;break;default:ge=w}var _e=w;w=ge;try{return te()}finally{w=_e}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,ge){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var _e=w;w=te;try{return ge()}finally{w=_e}},e.unstable_scheduleCallback=function(te,ge,_e){var Y=e.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Y+_e:Y):_e=Y,te){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=_e+me,te={id:p++,callback:ge,priorityLevel:te,startTime:_e,expirationTime:me,sortIndex:-1},_e>Y?(te.sortIndex=_e,t(g,te),r(h)===null&&te===r(g)&&(j?(P(z),z=-1):j=!0,le(q,_e-Y))):(te.sortIndex=me,t(h,te),v||_||(v=!0,ee(O))),te},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(te){var ge=w;return function(){var _e=w;w=ge;try{return te.apply(this,arguments)}finally{w=_e}}}}(mh)),mh}var xx;function K3(){return xx||(xx=1,ph.exports=G3()),ph.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx;function D3(){if(yx)return Er;yx=1;var e=Q0(),t=K3();function r(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function c(n,s){d(n,s),d(n+"Capture",s)}function d(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function w(n){return h.call(m,n)?!0:h.call(p,n)?!1:g.test(n)?m[n]=!0:(p[n]=!0,!1)}function _(n,s,l,f){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function v(n,s,l,f){if(s===null||typeof s>"u"||_(n,s,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function j(n,s,l,f,x,S,$){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=f,this.attributeNamespace=x,this.mustUseProperty=l,this.propertyName=n,this.type=s,this.sanitizeURL=S,this.removeEmptyString=$}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){E[n]=new j(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];E[s]=new j(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){E[n]=new j(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){E[n]=new j(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){E[n]=new j(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){E[n]=new j(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){E[n]=new j(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){E[n]=new j(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){E[n]=new j(n,5,!1,n.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function I(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(P,I);E[s]=new j(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(P,I);E[s]=new j(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(P,I);E[s]=new j(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){E[n]=new j(n,1,!1,n.toLowerCase(),null,!1,!1)}),E.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){E[n]=new j(n,1,!1,n.toLowerCase(),null,!0,!0)});function U(n,s,l,f){var x=E.hasOwnProperty(s)?E[s]:null;(x!==null?x.type!==0:f||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(v(s,l,x,f)&&(l=null),f||x===null?w(s)&&(l===null?n.removeAttribute(s):n.setAttribute(s,""+l)):x.mustUseProperty?n[x.propertyName]=l===null?x.type===3?!1:"":l:(s=x.attributeName,f=x.attributeNamespace,l===null?n.removeAttribute(s):(x=x.type,l=x===3||x===4&&l===!0?"":""+l,f?n.setAttributeNS(f,s,l):n.setAttribute(s,l))))}var q=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),Q=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),ie=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),te=Symbol.iterator;function ge(n){return n===null||typeof n!="object"?null:(n=te&&n[te]||n["@@iterator"],typeof n=="function"?n:null)}var _e=Object.assign,Y;function me(n){if(Y===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Y=s&&s[1]||""}return`
`+Y+n}var Be=!1;function H(n,s){if(!n||Be)return"";Be=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Ee){var f=Ee}Reflect.construct(n,[],s)}else{try{s.call()}catch(Ee){f=Ee}n.call(s.prototype)}else{try{throw Error()}catch(Ee){f=Ee}n()}}catch(Ee){if(Ee&&f&&typeof Ee.stack=="string"){for(var x=Ee.stack.split(`
`),S=f.stack.split(`
`),$=x.length-1,re=S.length-1;1<=$&&0<=re&&x[$]!==S[re];)re--;for(;1<=$&&0<=re;$--,re--)if(x[$]!==S[re]){if($!==1||re!==1)do if($--,re--,0>re||x[$]!==S[re]){var ce=`
`+x[$].replace(" at new "," at ");return n.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",n.displayName)),ce}while(1<=$&&0<=re);break}}}finally{Be=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?me(n):""}function Pe(n){switch(n.tag){case 5:return me(n.type);case 16:return me("Lazy");case 13:return me("Suspense");case 19:return me("SuspenseList");case 0:case 2:case 15:return n=H(n.type,!1),n;case 11:return n=H(n.type.render,!1),n;case 1:return n=H(n.type,!0),n;default:return""}}function Ae(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case X:return"Fragment";case Q:return"Portal";case K:return"Profiler";case z:return"StrictMode";case T:return"Suspense";case V:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ie:return(n.displayName||"Context")+".Consumer";case W:return(n._context.displayName||"Context")+".Provider";case fe:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case G:return s=n.displayName||null,s!==null?s:Ae(n.type)||"Memo";case ee:s=n._payload,n=n._init;try{return Ae(n(s))}catch{}}return null}function pe(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(s);case 8:return s===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function de(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ne(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function C(n){var s=Ne(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),f=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var x=l.get,S=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return x.call(this)},set:function($){f=""+$,S.call(this,$)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function($){f=""+$},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function F(n){n._valueTracker||(n._valueTracker=C(n))}function D(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return n&&(f=Ne(n)?n.checked?"true":"false":n.value),n=f,n!==l?(s.setValue(n),!0):!1}function J(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ne(n,s){var l=s.checked;return _e({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function ae(n,s){var l=s.defaultValue==null?"":s.defaultValue,f=s.checked!=null?s.checked:s.defaultChecked;l=de(s.value!=null?s.value:l),n._wrapperState={initialChecked:f,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function R(n,s){s=s.checked,s!=null&&U(n,"checked",s,!1)}function y(n,s){R(n,s);var l=de(s.value),f=s.type;if(l!=null)f==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(f==="submit"||f==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?M(n,s.type,l):s.hasOwnProperty("defaultValue")&&M(n,s.type,de(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function b(n,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var f=s.type;if(!(f!=="submit"&&f!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,l||s===n.value||(n.value=s),n.defaultValue=s}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function M(n,s,l){(s!=="number"||J(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var L=Array.isArray;function se(n,s,l,f){if(n=n.options,s){s={};for(var x=0;x<l.length;x++)s["$"+l[x]]=!0;for(l=0;l<n.length;l++)x=s.hasOwnProperty("$"+n[l].value),n[l].selected!==x&&(n[l].selected=x),x&&f&&(n[l].defaultSelected=!0)}else{for(l=""+de(l),s=null,x=0;x<n.length;x++){if(n[x].value===l){n[x].selected=!0,f&&(n[x].defaultSelected=!0);return}s!==null||n[x].disabled||(s=n[x])}s!==null&&(s.selected=!0)}}function xe(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return _e({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ke(n,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(r(92));if(L(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),l=s}n._wrapperState={initialValue:de(l)}}function Ie(n,s){var l=de(s.value),f=de(s.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),s.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),f!=null&&(n.defaultValue=""+f)}function Ue(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Ze(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function B(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Ze(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var N,k=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,f,x){MSApp.execUnsafeLocalFunction(function(){return n(s,l,f,x)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(N=N||document.createElement("div"),N.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=N.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Z(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var ue={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];Object.keys(ue).forEach(function(n){be.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),ue[s]=ue[n]})});function ve(n,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||ue.hasOwnProperty(n)&&ue[n]?(""+s).trim():s+"px"}function Ke(n,s){n=n.style;for(var l in s)if(s.hasOwnProperty(l)){var f=l.indexOf("--")===0,x=ve(l,s[l],f);l==="float"&&(l="cssFloat"),f?n.setProperty(l,x):n[l]=x}}var Qe=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function De(n,s){if(s){if(Qe[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function We(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ct=null;function ft(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ri=null,fn=null,hn=null;function Ui(n){if(n=xo(n)){if(typeof ri!="function")throw Error(r(280));var s=n.stateNode;s&&(s=Wl(s),ri(n.stateNode,n.type,s))}}function $i(n){fn?hn?hn.push(n):hn=[n]:fn=n}function Yr(){if(fn){var n=fn,s=hn;if(hn=fn=null,Ui(n),s)for(n=0;n<s.length;n++)Ui(s[n])}}function _d(n,s){return n(s)}function Sd(){}var yl=!1;function jd(n,s,l){if(yl)return n(s,l);yl=!0;try{return _d(n,s,l)}finally{yl=!1,(fn!==null||hn!==null)&&(Sd(),Yr())}}function _t(n,s){var l=n.stateNode;if(l===null)return null;var f=Wl(l);if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var wl=!1;if(u)try{var zi={};Object.defineProperty(zi,"passive",{get:function(){wl=!0}}),window.addEventListener("test",zi,zi),window.removeEventListener("test",zi,zi)}catch{wl=!1}function zp(n,s,l,f,x,S,$,re,ce){var Ee=Array.prototype.slice.call(arguments,3);try{s.apply(l,Ee)}catch(je){this.onError(je)}}var ni=!1,Vi=null,Hi=!1,Xa=null,At={onError:function(n){ni=!0,Vi=n}};function kd(n,s,l,f,x,S,$,re,ce){ni=!1,Vi=null,zp.apply(At,arguments)}function Cd(n,s,l,f,x,S,$,re,ce){if(kd.apply(this,arguments),ni){if(ni){var Ee=Vi;ni=!1,Vi=null}else throw Error(r(198));Hi||(Hi=!0,Xa=Ee)}}function On(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function vl(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function bl(n){if(On(n)!==n)throw Error(r(188))}function Ad(n){var s=n.alternate;if(!s){if(s=On(n),s===null)throw Error(r(188));return s!==n?null:n}for(var l=n,f=s;;){var x=l.return;if(x===null)break;var S=x.alternate;if(S===null){if(f=x.return,f!==null){l=f;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===l)return bl(x),n;if(S===f)return bl(x),s;S=S.sibling}throw Error(r(188))}if(l.return!==f.return)l=x,f=S;else{for(var $=!1,re=x.child;re;){if(re===l){$=!0,l=x,f=S;break}if(re===f){$=!0,f=x,l=S;break}re=re.sibling}if(!$){for(re=S.child;re;){if(re===l){$=!0,l=S,f=x;break}if(re===f){$=!0,f=S,l=x;break}re=re.sibling}if(!$)throw Error(r(189))}}if(l.alternate!==f)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:s}function Nl(n){return n=Ad(n),n!==null?El(n):null}function El(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=El(n);if(s!==null)return s;n=n.sibling}return null}var ht=t.unstable_scheduleCallback,_l=t.unstable_cancelCallback,Td=t.unstable_shouldYield,oe=t.unstable_requestPaint,He=t.unstable_now,it=t.unstable_getCurrentPriorityLevel,et=t.unstable_ImmediatePriority,si=t.unstable_UserBlockingPriority,pn=t.unstable_NormalPriority,Vp=t.unstable_LowPriority,Hp=t.unstable_IdlePriority,Sl=null,mn=null;function eN(n){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Sl,n,void 0,(n.current.flags&128)===128)}catch{}}var Zr=Math.clz32?Math.clz32:nN,tN=Math.log,rN=Math.LN2;function nN(n){return n>>>=0,n===0?32:31-(tN(n)/rN|0)|0}var jl=64,kl=4194304;function Qa(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Cl(n,s){var l=n.pendingLanes;if(l===0)return 0;var f=0,x=n.suspendedLanes,S=n.pingedLanes,$=l&268435455;if($!==0){var re=$&~x;re!==0?f=Qa(re):(S&=$,S!==0&&(f=Qa(S)))}else $=l&~x,$!==0?f=Qa($):S!==0&&(f=Qa(S));if(f===0)return 0;if(s!==0&&s!==f&&(s&x)===0&&(x=f&-f,S=s&-s,x>=S||x===16&&(S&4194240)!==0))return s;if((f&4)!==0&&(f|=l&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=f;0<s;)l=31-Zr(s),x=1<<l,f|=n[l],s&=~x;return f}function sN(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iN(n,s){for(var l=n.suspendedLanes,f=n.pingedLanes,x=n.expirationTimes,S=n.pendingLanes;0<S;){var $=31-Zr(S),re=1<<$,ce=x[$];ce===-1?((re&l)===0||(re&f)!==0)&&(x[$]=sN(re,s)):ce<=s&&(n.expiredLanes|=re),S&=~re}}function Rd(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Lp(){var n=jl;return jl<<=1,(jl&4194240)===0&&(jl=64),n}function Pd(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function Ja(n,s,l){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-Zr(s),n[s]=l}function aN(n,s){var l=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var f=n.eventTimes;for(n=n.expirationTimes;0<l;){var x=31-Zr(l),S=1<<x;s[x]=0,f[x]=-1,n[x]=-1,l&=~S}}function Bd(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var f=31-Zr(l),x=1<<f;x&s|n[f]&s&&(n[f]|=s),l&=~x}}var pt=0;function Wp(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var qp,Md,Gp,Kp,Dp,Id=!1,Al=[],ds=null,fs=null,hs=null,eo=new Map,to=new Map,ps=[],oN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yp(n,s){switch(n){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":eo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(s.pointerId)}}function ro(n,s,l,f,x,S){return n===null||n.nativeEvent!==S?(n={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:S,targetContainers:[x]},s!==null&&(s=xo(s),s!==null&&Md(s)),n):(n.eventSystemFlags|=f,s=n.targetContainers,x!==null&&s.indexOf(x)===-1&&s.push(x),n)}function lN(n,s,l,f,x){switch(s){case"focusin":return ds=ro(ds,n,s,l,f,x),!0;case"dragenter":return fs=ro(fs,n,s,l,f,x),!0;case"mouseover":return hs=ro(hs,n,s,l,f,x),!0;case"pointerover":var S=x.pointerId;return eo.set(S,ro(eo.get(S)||null,n,s,l,f,x)),!0;case"gotpointercapture":return S=x.pointerId,to.set(S,ro(to.get(S)||null,n,s,l,f,x)),!0}return!1}function Zp(n){var s=ii(n.target);if(s!==null){var l=On(s);if(l!==null){if(s=l.tag,s===13){if(s=vl(l),s!==null){n.blockedOn=s,Dp(n.priority,function(){Gp(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Tl(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=Fd(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var f=new l.constructor(l.type,l);ct=f,l.target.dispatchEvent(f),ct=null}else return s=xo(l),s!==null&&Md(s),n.blockedOn=l,!1;s.shift()}return!0}function Xp(n,s,l){Tl(n)&&l.delete(s)}function cN(){Id=!1,ds!==null&&Tl(ds)&&(ds=null),fs!==null&&Tl(fs)&&(fs=null),hs!==null&&Tl(hs)&&(hs=null),eo.forEach(Xp),to.forEach(Xp)}function no(n,s){n.blockedOn===s&&(n.blockedOn=null,Id||(Id=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,cN)))}function so(n){function s(x){return no(x,n)}if(0<Al.length){no(Al[0],n);for(var l=1;l<Al.length;l++){var f=Al[l];f.blockedOn===n&&(f.blockedOn=null)}}for(ds!==null&&no(ds,n),fs!==null&&no(fs,n),hs!==null&&no(hs,n),eo.forEach(s),to.forEach(s),l=0;l<ps.length;l++)f=ps[l],f.blockedOn===n&&(f.blockedOn=null);for(;0<ps.length&&(l=ps[0],l.blockedOn===null);)Zp(l),l.blockedOn===null&&ps.shift()}var Li=q.ReactCurrentBatchConfig,Rl=!0;function uN(n,s,l,f){var x=pt,S=Li.transition;Li.transition=null;try{pt=1,Od(n,s,l,f)}finally{pt=x,Li.transition=S}}function dN(n,s,l,f){var x=pt,S=Li.transition;Li.transition=null;try{pt=4,Od(n,s,l,f)}finally{pt=x,Li.transition=S}}function Od(n,s,l,f){if(Rl){var x=Fd(n,s,l,f);if(x===null)ef(n,s,f,Pl,l),Yp(n,f);else if(lN(x,n,s,l,f))f.stopPropagation();else if(Yp(n,f),s&4&&-1<oN.indexOf(n)){for(;x!==null;){var S=xo(x);if(S!==null&&qp(S),S=Fd(n,s,l,f),S===null&&ef(n,s,f,Pl,l),S===x)break;x=S}x!==null&&f.stopPropagation()}else ef(n,s,f,null,l)}}var Pl=null;function Fd(n,s,l,f){if(Pl=null,n=ft(f),n=ii(n),n!==null)if(s=On(n),s===null)n=null;else if(l=s.tag,l===13){if(n=vl(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Pl=n,null}function Qp(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(it()){case et:return 1;case si:return 4;case pn:case Vp:return 16;case Hp:return 536870912;default:return 16}default:return 16}}var ms=null,Ud=null,Bl=null;function Jp(){if(Bl)return Bl;var n,s=Ud,l=s.length,f,x="value"in ms?ms.value:ms.textContent,S=x.length;for(n=0;n<l&&s[n]===x[n];n++);var $=l-n;for(f=1;f<=$&&s[l-f]===x[S-f];f++);return Bl=x.slice(n,1<f?1-f:void 0)}function Ml(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Il(){return!0}function em(){return!1}function Cr(n){function s(l,f,x,S,$){this._reactName=l,this._targetInst=x,this.type=f,this.nativeEvent=S,this.target=$,this.currentTarget=null;for(var re in n)n.hasOwnProperty(re)&&(l=n[re],this[re]=l?l(S):S[re]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Il:em,this.isPropagationStopped=em,this}return _e(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Il)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Il)},persist:function(){},isPersistent:Il}),s}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$d=Cr(Wi),io=_e({},Wi,{view:0,detail:0}),fN=Cr(io),zd,Vd,ao,Ol=_e({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ld,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ao&&(ao&&n.type==="mousemove"?(zd=n.screenX-ao.screenX,Vd=n.screenY-ao.screenY):Vd=zd=0,ao=n),zd)},movementY:function(n){return"movementY"in n?n.movementY:Vd}}),tm=Cr(Ol),hN=_e({},Ol,{dataTransfer:0}),pN=Cr(hN),mN=_e({},io,{relatedTarget:0}),Hd=Cr(mN),gN=_e({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),xN=Cr(gN),yN=_e({},Wi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),wN=Cr(yN),vN=_e({},Wi,{data:0}),rm=Cr(vN),bN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _N(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=EN[n])?!!s[n]:!1}function Ld(){return _N}var SN=_e({},io,{key:function(n){if(n.key){var s=bN[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ml(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?NN[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ld,charCode:function(n){return n.type==="keypress"?Ml(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ml(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),jN=Cr(SN),kN=_e({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nm=Cr(kN),CN=_e({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ld}),AN=Cr(CN),TN=_e({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),RN=Cr(TN),PN=_e({},Ol,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),BN=Cr(PN),MN=[9,13,27,32],Wd=u&&"CompositionEvent"in window,oo=null;u&&"documentMode"in document&&(oo=document.documentMode);var IN=u&&"TextEvent"in window&&!oo,sm=u&&(!Wd||oo&&8<oo&&11>=oo),im=" ",am=!1;function om(n,s){switch(n){case"keyup":return MN.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lm(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var qi=!1;function ON(n,s){switch(n){case"compositionend":return lm(s);case"keypress":return s.which!==32?null:(am=!0,im);case"textInput":return n=s.data,n===im&&am?null:n;default:return null}}function FN(n,s){if(qi)return n==="compositionend"||!Wd&&om(n,s)?(n=Jp(),Bl=Ud=ms=null,qi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return sm&&s.locale!=="ko"?null:s.data;default:return null}}var UN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cm(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!UN[n.type]:s==="textarea"}function um(n,s,l,f){$i(f),s=Vl(s,"onChange"),0<s.length&&(l=new $d("onChange","change",null,l,f),n.push({event:l,listeners:s}))}var lo=null,co=null;function $N(n){Cm(n,0)}function Fl(n){var s=Zi(n);if(D(s))return n}function zN(n,s){if(n==="change")return s}var dm=!1;if(u){var qd;if(u){var Gd="oninput"in document;if(!Gd){var fm=document.createElement("div");fm.setAttribute("oninput","return;"),Gd=typeof fm.oninput=="function"}qd=Gd}else qd=!1;dm=qd&&(!document.documentMode||9<document.documentMode)}function hm(){lo&&(lo.detachEvent("onpropertychange",pm),co=lo=null)}function pm(n){if(n.propertyName==="value"&&Fl(co)){var s=[];um(s,co,n,ft(n)),jd($N,s)}}function VN(n,s,l){n==="focusin"?(hm(),lo=s,co=l,lo.attachEvent("onpropertychange",pm)):n==="focusout"&&hm()}function HN(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Fl(co)}function LN(n,s){if(n==="click")return Fl(s)}function WN(n,s){if(n==="input"||n==="change")return Fl(s)}function qN(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Xr=typeof Object.is=="function"?Object.is:qN;function uo(n,s){if(Xr(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var x=l[f];if(!h.call(s,x)||!Xr(n[x],s[x]))return!1}return!0}function mm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function gm(n,s){var l=mm(n);n=0;for(var f;l;){if(l.nodeType===3){if(f=n+l.textContent.length,n<=s&&f>=s)return{node:l,offset:s-n};n=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=mm(l)}}function xm(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?xm(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function ym(){for(var n=window,s=J();s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=J(n.document)}return s}function Kd(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function GN(n){var s=ym(),l=n.focusedElem,f=n.selectionRange;if(s!==l&&l&&l.ownerDocument&&xm(l.ownerDocument.documentElement,l)){if(f!==null&&Kd(l)){if(s=f.start,n=f.end,n===void 0&&(n=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(n,l.value.length);else if(n=(s=l.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var x=l.textContent.length,S=Math.min(f.start,x);f=f.end===void 0?S:Math.min(f.end,x),!n.extend&&S>f&&(x=f,f=S,S=x),x=gm(l,S);var $=gm(l,f);x&&$&&(n.rangeCount!==1||n.anchorNode!==x.node||n.anchorOffset!==x.offset||n.focusNode!==$.node||n.focusOffset!==$.offset)&&(s=s.createRange(),s.setStart(x.node,x.offset),n.removeAllRanges(),S>f?(n.addRange(s),n.extend($.node,$.offset)):(s.setEnd($.node,$.offset),n.addRange(s)))}}for(s=[],n=l;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)n=s[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var KN=u&&"documentMode"in document&&11>=document.documentMode,Gi=null,Dd=null,fo=null,Yd=!1;function wm(n,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Yd||Gi==null||Gi!==J(f)||(f=Gi,"selectionStart"in f&&Kd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),fo&&uo(fo,f)||(fo=f,f=Vl(Dd,"onSelect"),0<f.length&&(s=new $d("onSelect","select",null,s,l),n.push({event:s,listeners:f}),s.target=Gi)))}function Ul(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var Ki={animationend:Ul("Animation","AnimationEnd"),animationiteration:Ul("Animation","AnimationIteration"),animationstart:Ul("Animation","AnimationStart"),transitionend:Ul("Transition","TransitionEnd")},Zd={},vm={};u&&(vm=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function $l(n){if(Zd[n])return Zd[n];if(!Ki[n])return n;var s=Ki[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in vm)return Zd[n]=s[l];return n}var bm=$l("animationend"),Nm=$l("animationiteration"),Em=$l("animationstart"),_m=$l("transitionend"),Sm=new Map,jm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gs(n,s){Sm.set(n,s),c(s,[n])}for(var Xd=0;Xd<jm.length;Xd++){var Qd=jm[Xd],DN=Qd.toLowerCase(),YN=Qd[0].toUpperCase()+Qd.slice(1);gs(DN,"on"+YN)}gs(bm,"onAnimationEnd"),gs(Nm,"onAnimationIteration"),gs(Em,"onAnimationStart"),gs("dblclick","onDoubleClick"),gs("focusin","onFocus"),gs("focusout","onBlur"),gs(_m,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZN=new Set("cancel close invalid load scroll toggle".split(" ").concat(ho));function km(n,s,l){var f=n.type||"unknown-event";n.currentTarget=l,Cd(f,s,void 0,n),n.currentTarget=null}function Cm(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var f=n[l],x=f.event;f=f.listeners;e:{var S=void 0;if(s)for(var $=f.length-1;0<=$;$--){var re=f[$],ce=re.instance,Ee=re.currentTarget;if(re=re.listener,ce!==S&&x.isPropagationStopped())break e;km(x,re,Ee),S=ce}else for($=0;$<f.length;$++){if(re=f[$],ce=re.instance,Ee=re.currentTarget,re=re.listener,ce!==S&&x.isPropagationStopped())break e;km(x,re,Ee),S=ce}}}if(Hi)throw n=Xa,Hi=!1,Xa=null,n}function wt(n,s){var l=s[of];l===void 0&&(l=s[of]=new Set);var f=n+"__bubble";l.has(f)||(Am(s,n,2,!1),l.add(f))}function Jd(n,s,l){var f=0;s&&(f|=4),Am(l,n,f,s)}var zl="_reactListening"+Math.random().toString(36).slice(2);function po(n){if(!n[zl]){n[zl]=!0,i.forEach(function(l){l!=="selectionchange"&&(ZN.has(l)||Jd(l,!1,n),Jd(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[zl]||(s[zl]=!0,Jd("selectionchange",!1,s))}}function Am(n,s,l,f){switch(Qp(s)){case 1:var x=uN;break;case 4:x=dN;break;default:x=Od}l=x.bind(null,s,l,n),x=void 0,!wl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(x=!0),f?x!==void 0?n.addEventListener(s,l,{capture:!0,passive:x}):n.addEventListener(s,l,!0):x!==void 0?n.addEventListener(s,l,{passive:x}):n.addEventListener(s,l,!1)}function ef(n,s,l,f,x){var S=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var $=f.tag;if($===3||$===4){var re=f.stateNode.containerInfo;if(re===x||re.nodeType===8&&re.parentNode===x)break;if($===4)for($=f.return;$!==null;){var ce=$.tag;if((ce===3||ce===4)&&(ce=$.stateNode.containerInfo,ce===x||ce.nodeType===8&&ce.parentNode===x))return;$=$.return}for(;re!==null;){if($=ii(re),$===null)return;if(ce=$.tag,ce===5||ce===6){f=S=$;continue e}re=re.parentNode}}f=f.return}jd(function(){var Ee=S,je=ft(l),Ce=[];e:{var Se=Sm.get(n);if(Se!==void 0){var Me=$d,Fe=n;switch(n){case"keypress":if(Ml(l)===0)break e;case"keydown":case"keyup":Me=jN;break;case"focusin":Fe="focus",Me=Hd;break;case"focusout":Fe="blur",Me=Hd;break;case"beforeblur":case"afterblur":Me=Hd;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=pN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=AN;break;case bm:case Nm:case Em:Me=xN;break;case _m:Me=RN;break;case"scroll":Me=fN;break;case"wheel":Me=BN;break;case"copy":case"cut":case"paste":Me=wN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=nm}var $e=(s&4)!==0,Bt=!$e&&n==="scroll",ye=$e?Se!==null?Se+"Capture":null:Se;$e=[];for(var he=Ee,we;he!==null;){we=he;var Te=we.stateNode;if(we.tag===5&&Te!==null&&(we=Te,ye!==null&&(Te=_t(he,ye),Te!=null&&$e.push(mo(he,Te,we)))),Bt)break;he=he.return}0<$e.length&&(Se=new Me(Se,Fe,null,l,je),Ce.push({event:Se,listeners:$e}))}}if((s&7)===0){e:{if(Se=n==="mouseover"||n==="pointerover",Me=n==="mouseout"||n==="pointerout",Se&&l!==ct&&(Fe=l.relatedTarget||l.fromElement)&&(ii(Fe)||Fe[Fn]))break e;if((Me||Se)&&(Se=je.window===je?je:(Se=je.ownerDocument)?Se.defaultView||Se.parentWindow:window,Me?(Fe=l.relatedTarget||l.toElement,Me=Ee,Fe=Fe?ii(Fe):null,Fe!==null&&(Bt=On(Fe),Fe!==Bt||Fe.tag!==5&&Fe.tag!==6)&&(Fe=null)):(Me=null,Fe=Ee),Me!==Fe)){if($e=tm,Te="onMouseLeave",ye="onMouseEnter",he="mouse",(n==="pointerout"||n==="pointerover")&&($e=nm,Te="onPointerLeave",ye="onPointerEnter",he="pointer"),Bt=Me==null?Se:Zi(Me),we=Fe==null?Se:Zi(Fe),Se=new $e(Te,he+"leave",Me,l,je),Se.target=Bt,Se.relatedTarget=we,Te=null,ii(je)===Ee&&($e=new $e(ye,he+"enter",Fe,l,je),$e.target=we,$e.relatedTarget=Bt,Te=$e),Bt=Te,Me&&Fe)t:{for($e=Me,ye=Fe,he=0,we=$e;we;we=Di(we))he++;for(we=0,Te=ye;Te;Te=Di(Te))we++;for(;0<he-we;)$e=Di($e),he--;for(;0<we-he;)ye=Di(ye),we--;for(;he--;){if($e===ye||ye!==null&&$e===ye.alternate)break t;$e=Di($e),ye=Di(ye)}$e=null}else $e=null;Me!==null&&Tm(Ce,Se,Me,$e,!1),Fe!==null&&Bt!==null&&Tm(Ce,Bt,Fe,$e,!0)}}e:{if(Se=Ee?Zi(Ee):window,Me=Se.nodeName&&Se.nodeName.toLowerCase(),Me==="select"||Me==="input"&&Se.type==="file")var ze=zN;else if(cm(Se))if(dm)ze=WN;else{ze=HN;var qe=VN}else(Me=Se.nodeName)&&Me.toLowerCase()==="input"&&(Se.type==="checkbox"||Se.type==="radio")&&(ze=LN);if(ze&&(ze=ze(n,Ee))){um(Ce,ze,l,je);break e}qe&&qe(n,Se,Ee),n==="focusout"&&(qe=Se._wrapperState)&&qe.controlled&&Se.type==="number"&&M(Se,"number",Se.value)}switch(qe=Ee?Zi(Ee):window,n){case"focusin":(cm(qe)||qe.contentEditable==="true")&&(Gi=qe,Dd=Ee,fo=null);break;case"focusout":fo=Dd=Gi=null;break;case"mousedown":Yd=!0;break;case"contextmenu":case"mouseup":case"dragend":Yd=!1,wm(Ce,l,je);break;case"selectionchange":if(KN)break;case"keydown":case"keyup":wm(Ce,l,je)}var Ge;if(Wd)e:{switch(n){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else qi?om(n,l)&&(Ye="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Ye="onCompositionStart");Ye&&(sm&&l.locale!=="ko"&&(qi||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&qi&&(Ge=Jp()):(ms=je,Ud="value"in ms?ms.value:ms.textContent,qi=!0)),qe=Vl(Ee,Ye),0<qe.length&&(Ye=new rm(Ye,n,null,l,je),Ce.push({event:Ye,listeners:qe}),Ge?Ye.data=Ge:(Ge=lm(l),Ge!==null&&(Ye.data=Ge)))),(Ge=IN?ON(n,l):FN(n,l))&&(Ee=Vl(Ee,"onBeforeInput"),0<Ee.length&&(je=new rm("onBeforeInput","beforeinput",null,l,je),Ce.push({event:je,listeners:Ee}),je.data=Ge))}Cm(Ce,s)})}function mo(n,s,l){return{instance:n,listener:s,currentTarget:l}}function Vl(n,s){for(var l=s+"Capture",f=[];n!==null;){var x=n,S=x.stateNode;x.tag===5&&S!==null&&(x=S,S=_t(n,l),S!=null&&f.unshift(mo(n,S,x)),S=_t(n,s),S!=null&&f.push(mo(n,S,x))),n=n.return}return f}function Di(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Tm(n,s,l,f,x){for(var S=s._reactName,$=[];l!==null&&l!==f;){var re=l,ce=re.alternate,Ee=re.stateNode;if(ce!==null&&ce===f)break;re.tag===5&&Ee!==null&&(re=Ee,x?(ce=_t(l,S),ce!=null&&$.unshift(mo(l,ce,re))):x||(ce=_t(l,S),ce!=null&&$.push(mo(l,ce,re)))),l=l.return}$.length!==0&&n.push({event:s,listeners:$})}var XN=/\r\n?/g,QN=/\u0000|\uFFFD/g;function Rm(n){return(typeof n=="string"?n:""+n).replace(XN,`
`).replace(QN,"")}function Hl(n,s,l){if(s=Rm(s),Rm(n)!==s&&l)throw Error(r(425))}function Ll(){}var tf=null,rf=null;function nf(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var sf=typeof setTimeout=="function"?setTimeout:void 0,JN=typeof clearTimeout=="function"?clearTimeout:void 0,Pm=typeof Promise=="function"?Promise:void 0,e3=typeof queueMicrotask=="function"?queueMicrotask:typeof Pm<"u"?function(n){return Pm.resolve(null).then(n).catch(t3)}:sf;function t3(n){setTimeout(function(){throw n})}function af(n,s){var l=s,f=0;do{var x=l.nextSibling;if(n.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(f===0){n.removeChild(x),so(s);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=x}while(l);so(s)}function xs(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Bm(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}var Yi=Math.random().toString(36).slice(2),gn="__reactFiber$"+Yi,go="__reactProps$"+Yi,Fn="__reactContainer$"+Yi,of="__reactEvents$"+Yi,r3="__reactListeners$"+Yi,n3="__reactHandles$"+Yi;function ii(n){var s=n[gn];if(s)return s;for(var l=n.parentNode;l;){if(s=l[Fn]||l[gn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=Bm(n);n!==null;){if(l=n[gn])return l;n=Bm(n)}return s}n=l,l=n.parentNode}return null}function xo(n){return n=n[gn]||n[Fn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Zi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Wl(n){return n[go]||null}var lf=[],Xi=-1;function ys(n){return{current:n}}function vt(n){0>Xi||(n.current=lf[Xi],lf[Xi]=null,Xi--)}function yt(n,s){Xi++,lf[Xi]=n.current,n.current=s}var ws={},rr=ys(ws),yr=ys(!1),ai=ws;function Qi(n,s){var l=n.type.contextTypes;if(!l)return ws;var f=n.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===s)return f.__reactInternalMemoizedMaskedChildContext;var x={},S;for(S in l)x[S]=s[S];return f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=x),x}function wr(n){return n=n.childContextTypes,n!=null}function ql(){vt(yr),vt(rr)}function Mm(n,s,l){if(rr.current!==ws)throw Error(r(168));yt(rr,s),yt(yr,l)}function Im(n,s,l){var f=n.stateNode;if(s=s.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var x in f)if(!(x in s))throw Error(r(108,pe(n)||"Unknown",x));return _e({},l,f)}function Gl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ws,ai=rr.current,yt(rr,n),yt(yr,yr.current),!0}function Om(n,s,l){var f=n.stateNode;if(!f)throw Error(r(169));l?(n=Im(n,s,ai),f.__reactInternalMemoizedMergedChildContext=n,vt(yr),vt(rr),yt(rr,n)):vt(yr),yt(yr,l)}var Un=null,Kl=!1,cf=!1;function Fm(n){Un===null?Un=[n]:Un.push(n)}function s3(n){Kl=!0,Fm(n)}function vs(){if(!cf&&Un!==null){cf=!0;var n=0,s=pt;try{var l=Un;for(pt=1;n<l.length;n++){var f=l[n];do f=f(!0);while(f!==null)}Un=null,Kl=!1}catch(x){throw Un!==null&&(Un=Un.slice(n+1)),ht(et,vs),x}finally{pt=s,cf=!1}}return null}var Ji=[],ea=0,Dl=null,Yl=0,$r=[],zr=0,oi=null,$n=1,zn="";function li(n,s){Ji[ea++]=Yl,Ji[ea++]=Dl,Dl=n,Yl=s}function Um(n,s,l){$r[zr++]=$n,$r[zr++]=zn,$r[zr++]=oi,oi=n;var f=$n;n=zn;var x=32-Zr(f)-1;f&=~(1<<x),l+=1;var S=32-Zr(s)+x;if(30<S){var $=x-x%5;S=(f&(1<<$)-1).toString(32),f>>=$,x-=$,$n=1<<32-Zr(s)+x|l<<x|f,zn=S+n}else $n=1<<S|l<<x|f,zn=n}function uf(n){n.return!==null&&(li(n,1),Um(n,1,0))}function df(n){for(;n===Dl;)Dl=Ji[--ea],Ji[ea]=null,Yl=Ji[--ea],Ji[ea]=null;for(;n===oi;)oi=$r[--zr],$r[zr]=null,zn=$r[--zr],$r[zr]=null,$n=$r[--zr],$r[zr]=null}var Ar=null,Tr=null,St=!1,Qr=null;function $m(n,s){var l=Wr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=n,s=n.deletions,s===null?(n.deletions=[l],n.flags|=16):s.push(l)}function zm(n,s){switch(n.tag){case 5:var l=n.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,Ar=n,Tr=xs(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,Ar=n,Tr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=oi!==null?{id:$n,overflow:zn}:null,n.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Wr(18,null,null,0),l.stateNode=s,l.return=n,n.child=l,Ar=n,Tr=null,!0):!1;default:return!1}}function ff(n){return(n.mode&1)!==0&&(n.flags&128)===0}function hf(n){if(St){var s=Tr;if(s){var l=s;if(!zm(n,s)){if(ff(n))throw Error(r(418));s=xs(l.nextSibling);var f=Ar;s&&zm(n,s)?$m(f,l):(n.flags=n.flags&-4097|2,St=!1,Ar=n)}}else{if(ff(n))throw Error(r(418));n.flags=n.flags&-4097|2,St=!1,Ar=n}}}function Vm(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ar=n}function Zl(n){if(n!==Ar)return!1;if(!St)return Vm(n),St=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!nf(n.type,n.memoizedProps)),s&&(s=Tr)){if(ff(n))throw Hm(),Error(r(418));for(;s;)$m(n,s),s=xs(s.nextSibling)}if(Vm(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(s===0){Tr=xs(n.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}n=n.nextSibling}Tr=null}}else Tr=Ar?xs(n.stateNode.nextSibling):null;return!0}function Hm(){for(var n=Tr;n;)n=xs(n.nextSibling)}function ta(){Tr=Ar=null,St=!1}function pf(n){Qr===null?Qr=[n]:Qr.push(n)}var i3=q.ReactCurrentBatchConfig;function yo(n,s,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var f=l.stateNode}if(!f)throw Error(r(147,n));var x=f,S=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===S?s.ref:(s=function($){var re=x.refs;$===null?delete re[S]:re[S]=$},s._stringRef=S,s)}if(typeof n!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,n))}return n}function Xl(n,s){throw n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function Lm(n){var s=n._init;return s(n._payload)}function Wm(n){function s(ye,he){if(n){var we=ye.deletions;we===null?(ye.deletions=[he],ye.flags|=16):we.push(he)}}function l(ye,he){if(!n)return null;for(;he!==null;)s(ye,he),he=he.sibling;return null}function f(ye,he){for(ye=new Map;he!==null;)he.key!==null?ye.set(he.key,he):ye.set(he.index,he),he=he.sibling;return ye}function x(ye,he){return ye=Cs(ye,he),ye.index=0,ye.sibling=null,ye}function S(ye,he,we){return ye.index=we,n?(we=ye.alternate,we!==null?(we=we.index,we<he?(ye.flags|=2,he):we):(ye.flags|=2,he)):(ye.flags|=1048576,he)}function $(ye){return n&&ye.alternate===null&&(ye.flags|=2),ye}function re(ye,he,we,Te){return he===null||he.tag!==6?(he=ih(we,ye.mode,Te),he.return=ye,he):(he=x(he,we),he.return=ye,he)}function ce(ye,he,we,Te){var ze=we.type;return ze===X?je(ye,he,we.props.children,Te,we.key):he!==null&&(he.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===ee&&Lm(ze)===he.type)?(Te=x(he,we.props),Te.ref=yo(ye,he,we),Te.return=ye,Te):(Te=bc(we.type,we.key,we.props,null,ye.mode,Te),Te.ref=yo(ye,he,we),Te.return=ye,Te)}function Ee(ye,he,we,Te){return he===null||he.tag!==4||he.stateNode.containerInfo!==we.containerInfo||he.stateNode.implementation!==we.implementation?(he=ah(we,ye.mode,Te),he.return=ye,he):(he=x(he,we.children||[]),he.return=ye,he)}function je(ye,he,we,Te,ze){return he===null||he.tag!==7?(he=gi(we,ye.mode,Te,ze),he.return=ye,he):(he=x(he,we),he.return=ye,he)}function Ce(ye,he,we){if(typeof he=="string"&&he!==""||typeof he=="number")return he=ih(""+he,ye.mode,we),he.return=ye,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case O:return we=bc(he.type,he.key,he.props,null,ye.mode,we),we.ref=yo(ye,null,he),we.return=ye,we;case Q:return he=ah(he,ye.mode,we),he.return=ye,he;case ee:var Te=he._init;return Ce(ye,Te(he._payload),we)}if(L(he)||ge(he))return he=gi(he,ye.mode,we,null),he.return=ye,he;Xl(ye,he)}return null}function Se(ye,he,we,Te){var ze=he!==null?he.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return ze!==null?null:re(ye,he,""+we,Te);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case O:return we.key===ze?ce(ye,he,we,Te):null;case Q:return we.key===ze?Ee(ye,he,we,Te):null;case ee:return ze=we._init,Se(ye,he,ze(we._payload),Te)}if(L(we)||ge(we))return ze!==null?null:je(ye,he,we,Te,null);Xl(ye,we)}return null}function Me(ye,he,we,Te,ze){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return ye=ye.get(we)||null,re(he,ye,""+Te,ze);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case O:return ye=ye.get(Te.key===null?we:Te.key)||null,ce(he,ye,Te,ze);case Q:return ye=ye.get(Te.key===null?we:Te.key)||null,Ee(he,ye,Te,ze);case ee:var qe=Te._init;return Me(ye,he,we,qe(Te._payload),ze)}if(L(Te)||ge(Te))return ye=ye.get(we)||null,je(he,ye,Te,ze,null);Xl(he,Te)}return null}function Fe(ye,he,we,Te){for(var ze=null,qe=null,Ge=he,Ye=he=0,Kt=null;Ge!==null&&Ye<we.length;Ye++){Ge.index>Ye?(Kt=Ge,Ge=null):Kt=Ge.sibling;var dt=Se(ye,Ge,we[Ye],Te);if(dt===null){Ge===null&&(Ge=Kt);break}n&&Ge&&dt.alternate===null&&s(ye,Ge),he=S(dt,he,Ye),qe===null?ze=dt:qe.sibling=dt,qe=dt,Ge=Kt}if(Ye===we.length)return l(ye,Ge),St&&li(ye,Ye),ze;if(Ge===null){for(;Ye<we.length;Ye++)Ge=Ce(ye,we[Ye],Te),Ge!==null&&(he=S(Ge,he,Ye),qe===null?ze=Ge:qe.sibling=Ge,qe=Ge);return St&&li(ye,Ye),ze}for(Ge=f(ye,Ge);Ye<we.length;Ye++)Kt=Me(Ge,ye,Ye,we[Ye],Te),Kt!==null&&(n&&Kt.alternate!==null&&Ge.delete(Kt.key===null?Ye:Kt.key),he=S(Kt,he,Ye),qe===null?ze=Kt:qe.sibling=Kt,qe=Kt);return n&&Ge.forEach(function(As){return s(ye,As)}),St&&li(ye,Ye),ze}function $e(ye,he,we,Te){var ze=ge(we);if(typeof ze!="function")throw Error(r(150));if(we=ze.call(we),we==null)throw Error(r(151));for(var qe=ze=null,Ge=he,Ye=he=0,Kt=null,dt=we.next();Ge!==null&&!dt.done;Ye++,dt=we.next()){Ge.index>Ye?(Kt=Ge,Ge=null):Kt=Ge.sibling;var As=Se(ye,Ge,dt.value,Te);if(As===null){Ge===null&&(Ge=Kt);break}n&&Ge&&As.alternate===null&&s(ye,Ge),he=S(As,he,Ye),qe===null?ze=As:qe.sibling=As,qe=As,Ge=Kt}if(dt.done)return l(ye,Ge),St&&li(ye,Ye),ze;if(Ge===null){for(;!dt.done;Ye++,dt=we.next())dt=Ce(ye,dt.value,Te),dt!==null&&(he=S(dt,he,Ye),qe===null?ze=dt:qe.sibling=dt,qe=dt);return St&&li(ye,Ye),ze}for(Ge=f(ye,Ge);!dt.done;Ye++,dt=we.next())dt=Me(Ge,ye,Ye,dt.value,Te),dt!==null&&(n&&dt.alternate!==null&&Ge.delete(dt.key===null?Ye:dt.key),he=S(dt,he,Ye),qe===null?ze=dt:qe.sibling=dt,qe=dt);return n&&Ge.forEach(function(U3){return s(ye,U3)}),St&&li(ye,Ye),ze}function Bt(ye,he,we,Te){if(typeof we=="object"&&we!==null&&we.type===X&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case O:e:{for(var ze=we.key,qe=he;qe!==null;){if(qe.key===ze){if(ze=we.type,ze===X){if(qe.tag===7){l(ye,qe.sibling),he=x(qe,we.props.children),he.return=ye,ye=he;break e}}else if(qe.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===ee&&Lm(ze)===qe.type){l(ye,qe.sibling),he=x(qe,we.props),he.ref=yo(ye,qe,we),he.return=ye,ye=he;break e}l(ye,qe);break}else s(ye,qe);qe=qe.sibling}we.type===X?(he=gi(we.props.children,ye.mode,Te,we.key),he.return=ye,ye=he):(Te=bc(we.type,we.key,we.props,null,ye.mode,Te),Te.ref=yo(ye,he,we),Te.return=ye,ye=Te)}return $(ye);case Q:e:{for(qe=we.key;he!==null;){if(he.key===qe)if(he.tag===4&&he.stateNode.containerInfo===we.containerInfo&&he.stateNode.implementation===we.implementation){l(ye,he.sibling),he=x(he,we.children||[]),he.return=ye,ye=he;break e}else{l(ye,he);break}else s(ye,he);he=he.sibling}he=ah(we,ye.mode,Te),he.return=ye,ye=he}return $(ye);case ee:return qe=we._init,Bt(ye,he,qe(we._payload),Te)}if(L(we))return Fe(ye,he,we,Te);if(ge(we))return $e(ye,he,we,Te);Xl(ye,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,he!==null&&he.tag===6?(l(ye,he.sibling),he=x(he,we),he.return=ye,ye=he):(l(ye,he),he=ih(we,ye.mode,Te),he.return=ye,ye=he),$(ye)):l(ye,he)}return Bt}var ra=Wm(!0),qm=Wm(!1),Ql=ys(null),Jl=null,na=null,mf=null;function gf(){mf=na=Jl=null}function xf(n){var s=Ql.current;vt(Ql),n._currentValue=s}function yf(n,s,l){for(;n!==null;){var f=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),n===l)break;n=n.return}}function sa(n,s){Jl=n,mf=na=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(vr=!0),n.firstContext=null)}function Vr(n){var s=n._currentValue;if(mf!==n)if(n={context:n,memoizedValue:s,next:null},na===null){if(Jl===null)throw Error(r(308));na=n,Jl.dependencies={lanes:0,firstContext:n}}else na=na.next=n;return s}var ci=null;function wf(n){ci===null?ci=[n]:ci.push(n)}function Gm(n,s,l,f){var x=s.interleaved;return x===null?(l.next=l,wf(s)):(l.next=x.next,x.next=l),s.interleaved=l,Vn(n,f)}function Vn(n,s){n.lanes|=s;var l=n.alternate;for(l!==null&&(l.lanes|=s),l=n,n=n.return;n!==null;)n.childLanes|=s,l=n.alternate,l!==null&&(l.childLanes|=s),l=n,n=n.return;return l.tag===3?l.stateNode:null}var bs=!1;function vf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Km(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Hn(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Ns(n,s,l){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(ut&2)!==0){var x=f.pending;return x===null?s.next=s:(s.next=x.next,x.next=s),f.pending=s,Vn(n,l)}return x=f.interleaved,x===null?(s.next=s,wf(f)):(s.next=x.next,x.next=s),f.interleaved=s,Vn(n,l)}function ec(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var f=s.lanes;f&=n.pendingLanes,l|=f,s.lanes=l,Bd(n,l)}}function Dm(n,s){var l=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var x=null,S=null;if(l=l.firstBaseUpdate,l!==null){do{var $={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};S===null?x=S=$:S=S.next=$,l=l.next}while(l!==null);S===null?x=S=s:S=S.next=s}else x=S=s;l={baseState:f.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:f.shared,effects:f.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}function tc(n,s,l,f){var x=n.updateQueue;bs=!1;var S=x.firstBaseUpdate,$=x.lastBaseUpdate,re=x.shared.pending;if(re!==null){x.shared.pending=null;var ce=re,Ee=ce.next;ce.next=null,$===null?S=Ee:$.next=Ee,$=ce;var je=n.alternate;je!==null&&(je=je.updateQueue,re=je.lastBaseUpdate,re!==$&&(re===null?je.firstBaseUpdate=Ee:re.next=Ee,je.lastBaseUpdate=ce))}if(S!==null){var Ce=x.baseState;$=0,je=Ee=ce=null,re=S;do{var Se=re.lane,Me=re.eventTime;if((f&Se)===Se){je!==null&&(je=je.next={eventTime:Me,lane:0,tag:re.tag,payload:re.payload,callback:re.callback,next:null});e:{var Fe=n,$e=re;switch(Se=s,Me=l,$e.tag){case 1:if(Fe=$e.payload,typeof Fe=="function"){Ce=Fe.call(Me,Ce,Se);break e}Ce=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=$e.payload,Se=typeof Fe=="function"?Fe.call(Me,Ce,Se):Fe,Se==null)break e;Ce=_e({},Ce,Se);break e;case 2:bs=!0}}re.callback!==null&&re.lane!==0&&(n.flags|=64,Se=x.effects,Se===null?x.effects=[re]:Se.push(re))}else Me={eventTime:Me,lane:Se,tag:re.tag,payload:re.payload,callback:re.callback,next:null},je===null?(Ee=je=Me,ce=Ce):je=je.next=Me,$|=Se;if(re=re.next,re===null){if(re=x.shared.pending,re===null)break;Se=re,re=Se.next,Se.next=null,x.lastBaseUpdate=Se,x.shared.pending=null}}while(!0);if(je===null&&(ce=Ce),x.baseState=ce,x.firstBaseUpdate=Ee,x.lastBaseUpdate=je,s=x.shared.interleaved,s!==null){x=s;do $|=x.lane,x=x.next;while(x!==s)}else S===null&&(x.shared.lanes=0);fi|=$,n.lanes=$,n.memoizedState=Ce}}function Ym(n,s,l){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var f=n[s],x=f.callback;if(x!==null){if(f.callback=null,f=l,typeof x!="function")throw Error(r(191,x));x.call(f)}}}var wo={},xn=ys(wo),vo=ys(wo),bo=ys(wo);function ui(n){if(n===wo)throw Error(r(174));return n}function bf(n,s){switch(yt(bo,s),yt(vo,n),yt(xn,wo),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:B(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=B(s,n)}vt(xn),yt(xn,s)}function ia(){vt(xn),vt(vo),vt(bo)}function Zm(n){ui(bo.current);var s=ui(xn.current),l=B(s,n.type);s!==l&&(yt(vo,n),yt(xn,l))}function Nf(n){vo.current===n&&(vt(xn),vt(vo))}var kt=ys(0);function rc(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ef=[];function _f(){for(var n=0;n<Ef.length;n++)Ef[n]._workInProgressVersionPrimary=null;Ef.length=0}var nc=q.ReactCurrentDispatcher,Sf=q.ReactCurrentBatchConfig,di=0,Ct=null,$t=null,qt=null,sc=!1,No=!1,Eo=0,a3=0;function nr(){throw Error(r(321))}function jf(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!Xr(n[l],s[l]))return!1;return!0}function kf(n,s,l,f,x,S){if(di=S,Ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,nc.current=n===null||n.memoizedState===null?u3:d3,n=l(f,x),No){S=0;do{if(No=!1,Eo=0,25<=S)throw Error(r(301));S+=1,qt=$t=null,s.updateQueue=null,nc.current=f3,n=l(f,x)}while(No)}if(nc.current=oc,s=$t!==null&&$t.next!==null,di=0,qt=$t=Ct=null,sc=!1,s)throw Error(r(300));return n}function Cf(){var n=Eo!==0;return Eo=0,n}function yn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Ct.memoizedState=qt=n:qt=qt.next=n,qt}function Hr(){if($t===null){var n=Ct.alternate;n=n!==null?n.memoizedState:null}else n=$t.next;var s=qt===null?Ct.memoizedState:qt.next;if(s!==null)qt=s,$t=n;else{if(n===null)throw Error(r(310));$t=n,n={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},qt===null?Ct.memoizedState=qt=n:qt=qt.next=n}return qt}function _o(n,s){return typeof s=="function"?s(n):s}function Af(n){var s=Hr(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var f=$t,x=f.baseQueue,S=l.pending;if(S!==null){if(x!==null){var $=x.next;x.next=S.next,S.next=$}f.baseQueue=x=S,l.pending=null}if(x!==null){S=x.next,f=f.baseState;var re=$=null,ce=null,Ee=S;do{var je=Ee.lane;if((di&je)===je)ce!==null&&(ce=ce.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),f=Ee.hasEagerState?Ee.eagerState:n(f,Ee.action);else{var Ce={lane:je,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};ce===null?(re=ce=Ce,$=f):ce=ce.next=Ce,Ct.lanes|=je,fi|=je}Ee=Ee.next}while(Ee!==null&&Ee!==S);ce===null?$=f:ce.next=re,Xr(f,s.memoizedState)||(vr=!0),s.memoizedState=f,s.baseState=$,s.baseQueue=ce,l.lastRenderedState=f}if(n=l.interleaved,n!==null){x=n;do S=x.lane,Ct.lanes|=S,fi|=S,x=x.next;while(x!==n)}else x===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Tf(n){var s=Hr(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var f=l.dispatch,x=l.pending,S=s.memoizedState;if(x!==null){l.pending=null;var $=x=x.next;do S=n(S,$.action),$=$.next;while($!==x);Xr(S,s.memoizedState)||(vr=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),l.lastRenderedState=S}return[S,f]}function Xm(){}function Qm(n,s){var l=Ct,f=Hr(),x=s(),S=!Xr(f.memoizedState,x);if(S&&(f.memoizedState=x,vr=!0),f=f.queue,Rf(tg.bind(null,l,f,n),[n]),f.getSnapshot!==s||S||qt!==null&&qt.memoizedState.tag&1){if(l.flags|=2048,So(9,eg.bind(null,l,f,x,s),void 0,null),Gt===null)throw Error(r(349));(di&30)!==0||Jm(l,s,x)}return x}function Jm(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=Ct.updateQueue,s===null?(s={lastEffect:null,stores:null},Ct.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function eg(n,s,l,f){s.value=l,s.getSnapshot=f,rg(s)&&ng(n)}function tg(n,s,l){return l(function(){rg(s)&&ng(n)})}function rg(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!Xr(n,l)}catch{return!0}}function ng(n){var s=Vn(n,1);s!==null&&rn(s,n,1,-1)}function sg(n){var s=yn();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:n},s.queue=n,n=n.dispatch=c3.bind(null,Ct,n),[s.memoizedState,n]}function So(n,s,l,f){return n={tag:n,create:s,destroy:l,deps:f,next:null},s=Ct.updateQueue,s===null?(s={lastEffect:null,stores:null},Ct.updateQueue=s,s.lastEffect=n.next=n):(l=s.lastEffect,l===null?s.lastEffect=n.next=n:(f=l.next,l.next=n,n.next=f,s.lastEffect=n)),n}function ig(){return Hr().memoizedState}function ic(n,s,l,f){var x=yn();Ct.flags|=n,x.memoizedState=So(1|s,l,void 0,f===void 0?null:f)}function ac(n,s,l,f){var x=Hr();f=f===void 0?null:f;var S=void 0;if($t!==null){var $=$t.memoizedState;if(S=$.destroy,f!==null&&jf(f,$.deps)){x.memoizedState=So(s,l,S,f);return}}Ct.flags|=n,x.memoizedState=So(1|s,l,S,f)}function ag(n,s){return ic(8390656,8,n,s)}function Rf(n,s){return ac(2048,8,n,s)}function og(n,s){return ac(4,2,n,s)}function lg(n,s){return ac(4,4,n,s)}function cg(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function ug(n,s,l){return l=l!=null?l.concat([n]):null,ac(4,4,cg.bind(null,s,n),l)}function Pf(){}function dg(n,s){var l=Hr();s=s===void 0?null:s;var f=l.memoizedState;return f!==null&&s!==null&&jf(s,f[1])?f[0]:(l.memoizedState=[n,s],n)}function fg(n,s){var l=Hr();s=s===void 0?null:s;var f=l.memoizedState;return f!==null&&s!==null&&jf(s,f[1])?f[0]:(n=n(),l.memoizedState=[n,s],n)}function hg(n,s,l){return(di&21)===0?(n.baseState&&(n.baseState=!1,vr=!0),n.memoizedState=l):(Xr(l,s)||(l=Lp(),Ct.lanes|=l,fi|=l,n.baseState=!0),s)}function o3(n,s){var l=pt;pt=l!==0&&4>l?l:4,n(!0);var f=Sf.transition;Sf.transition={};try{n(!1),s()}finally{pt=l,Sf.transition=f}}function pg(){return Hr().memoizedState}function l3(n,s,l){var f=js(n);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},mg(n))gg(s,l);else if(l=Gm(n,s,l,f),l!==null){var x=hr();rn(l,n,f,x),xg(l,s,f)}}function c3(n,s,l){var f=js(n),x={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(mg(n))gg(s,x);else{var S=n.alternate;if(n.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var $=s.lastRenderedState,re=S($,l);if(x.hasEagerState=!0,x.eagerState=re,Xr(re,$)){var ce=s.interleaved;ce===null?(x.next=x,wf(s)):(x.next=ce.next,ce.next=x),s.interleaved=x;return}}catch{}finally{}l=Gm(n,s,x,f),l!==null&&(x=hr(),rn(l,n,f,x),xg(l,s,f))}}function mg(n){var s=n.alternate;return n===Ct||s!==null&&s===Ct}function gg(n,s){No=sc=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function xg(n,s,l){if((l&4194240)!==0){var f=s.lanes;f&=n.pendingLanes,l|=f,s.lanes=l,Bd(n,l)}}var oc={readContext:Vr,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},u3={readContext:Vr,useCallback:function(n,s){return yn().memoizedState=[n,s===void 0?null:s],n},useContext:Vr,useEffect:ag,useImperativeHandle:function(n,s,l){return l=l!=null?l.concat([n]):null,ic(4194308,4,cg.bind(null,s,n),l)},useLayoutEffect:function(n,s){return ic(4194308,4,n,s)},useInsertionEffect:function(n,s){return ic(4,2,n,s)},useMemo:function(n,s){var l=yn();return s=s===void 0?null:s,n=n(),l.memoizedState=[n,s],n},useReducer:function(n,s,l){var f=yn();return s=l!==void 0?l(s):s,f.memoizedState=f.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},f.queue=n,n=n.dispatch=l3.bind(null,Ct,n),[f.memoizedState,n]},useRef:function(n){var s=yn();return n={current:n},s.memoizedState=n},useState:sg,useDebugValue:Pf,useDeferredValue:function(n){return yn().memoizedState=n},useTransition:function(){var n=sg(!1),s=n[0];return n=o3.bind(null,n[1]),yn().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,l){var f=Ct,x=yn();if(St){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Gt===null)throw Error(r(349));(di&30)!==0||Jm(f,s,l)}x.memoizedState=l;var S={value:l,getSnapshot:s};return x.queue=S,ag(tg.bind(null,f,S,n),[n]),f.flags|=2048,So(9,eg.bind(null,f,S,l,s),void 0,null),l},useId:function(){var n=yn(),s=Gt.identifierPrefix;if(St){var l=zn,f=$n;l=(f&~(1<<32-Zr(f)-1)).toString(32)+l,s=":"+s+"R"+l,l=Eo++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=a3++,s=":"+s+"r"+l.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},d3={readContext:Vr,useCallback:dg,useContext:Vr,useEffect:Rf,useImperativeHandle:ug,useInsertionEffect:og,useLayoutEffect:lg,useMemo:fg,useReducer:Af,useRef:ig,useState:function(){return Af(_o)},useDebugValue:Pf,useDeferredValue:function(n){var s=Hr();return hg(s,$t.memoizedState,n)},useTransition:function(){var n=Af(_o)[0],s=Hr().memoizedState;return[n,s]},useMutableSource:Xm,useSyncExternalStore:Qm,useId:pg,unstable_isNewReconciler:!1},f3={readContext:Vr,useCallback:dg,useContext:Vr,useEffect:Rf,useImperativeHandle:ug,useInsertionEffect:og,useLayoutEffect:lg,useMemo:fg,useReducer:Tf,useRef:ig,useState:function(){return Tf(_o)},useDebugValue:Pf,useDeferredValue:function(n){var s=Hr();return $t===null?s.memoizedState=n:hg(s,$t.memoizedState,n)},useTransition:function(){var n=Tf(_o)[0],s=Hr().memoizedState;return[n,s]},useMutableSource:Xm,useSyncExternalStore:Qm,useId:pg,unstable_isNewReconciler:!1};function Jr(n,s){if(n&&n.defaultProps){s=_e({},s),n=n.defaultProps;for(var l in n)s[l]===void 0&&(s[l]=n[l]);return s}return s}function Bf(n,s,l,f){s=n.memoizedState,l=l(f,s),l=l==null?s:_e({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var lc={isMounted:function(n){return(n=n._reactInternals)?On(n)===n:!1},enqueueSetState:function(n,s,l){n=n._reactInternals;var f=hr(),x=js(n),S=Hn(f,x);S.payload=s,l!=null&&(S.callback=l),s=Ns(n,S,x),s!==null&&(rn(s,n,x,f),ec(s,n,x))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var f=hr(),x=js(n),S=Hn(f,x);S.tag=1,S.payload=s,l!=null&&(S.callback=l),s=Ns(n,S,x),s!==null&&(rn(s,n,x,f),ec(s,n,x))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=hr(),f=js(n),x=Hn(l,f);x.tag=2,s!=null&&(x.callback=s),s=Ns(n,x,f),s!==null&&(rn(s,n,f,l),ec(s,n,f))}};function yg(n,s,l,f,x,S,$){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,S,$):s.prototype&&s.prototype.isPureReactComponent?!uo(l,f)||!uo(x,S):!0}function wg(n,s,l){var f=!1,x=ws,S=s.contextType;return typeof S=="object"&&S!==null?S=Vr(S):(x=wr(s)?ai:rr.current,f=s.contextTypes,S=(f=f!=null)?Qi(n,x):ws),s=new s(l,S),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=lc,n.stateNode=s,s._reactInternals=n,f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=x,n.__reactInternalMemoizedMaskedChildContext=S),s}function vg(n,s,l,f){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==n&&lc.enqueueReplaceState(s,s.state,null)}function Mf(n,s,l,f){var x=n.stateNode;x.props=l,x.state=n.memoizedState,x.refs={},vf(n);var S=s.contextType;typeof S=="object"&&S!==null?x.context=Vr(S):(S=wr(s)?ai:rr.current,x.context=Qi(n,S)),x.state=n.memoizedState,S=s.getDerivedStateFromProps,typeof S=="function"&&(Bf(n,s,S,l),x.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(s=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),s!==x.state&&lc.enqueueReplaceState(x,x.state,null),tc(n,l,x,f),x.state=n.memoizedState),typeof x.componentDidMount=="function"&&(n.flags|=4194308)}function aa(n,s){try{var l="",f=s;do l+=Pe(f),f=f.return;while(f);var x=l}catch(S){x=`
Error generating stack: `+S.message+`
`+S.stack}return{value:n,source:s,stack:x,digest:null}}function If(n,s,l){return{value:n,source:null,stack:l??null,digest:s??null}}function Of(n,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var h3=typeof WeakMap=="function"?WeakMap:Map;function bg(n,s,l){l=Hn(-1,l),l.tag=3,l.payload={element:null};var f=s.value;return l.callback=function(){mc||(mc=!0,Xf=f),Of(n,s)},l}function Ng(n,s,l){l=Hn(-1,l),l.tag=3;var f=n.type.getDerivedStateFromError;if(typeof f=="function"){var x=s.value;l.payload=function(){return f(x)},l.callback=function(){Of(n,s)}}var S=n.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(l.callback=function(){Of(n,s),typeof f!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var $=s.stack;this.componentDidCatch(s.value,{componentStack:$!==null?$:""})}),l}function Eg(n,s,l){var f=n.pingCache;if(f===null){f=n.pingCache=new h3;var x=new Set;f.set(s,x)}else x=f.get(s),x===void 0&&(x=new Set,f.set(s,x));x.has(l)||(x.add(l),n=k3.bind(null,n,s,l),s.then(n,n))}function _g(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Sg(n,s,l,f,x){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Hn(-1,1),s.tag=2,Ns(l,s,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=x,n)}var p3=q.ReactCurrentOwner,vr=!1;function fr(n,s,l,f){s.child=n===null?qm(s,null,l,f):ra(s,n.child,l,f)}function jg(n,s,l,f,x){l=l.render;var S=s.ref;return sa(s,x),f=kf(n,s,l,f,S,x),l=Cf(),n!==null&&!vr?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~x,Ln(n,s,x)):(St&&l&&uf(s),s.flags|=1,fr(n,s,f,x),s.child)}function kg(n,s,l,f,x){if(n===null){var S=l.type;return typeof S=="function"&&!sh(S)&&S.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=S,Cg(n,s,S,f,x)):(n=bc(l.type,null,f,s,s.mode,x),n.ref=s.ref,n.return=s,s.child=n)}if(S=n.child,(n.lanes&x)===0){var $=S.memoizedProps;if(l=l.compare,l=l!==null?l:uo,l($,f)&&n.ref===s.ref)return Ln(n,s,x)}return s.flags|=1,n=Cs(S,f),n.ref=s.ref,n.return=s,s.child=n}function Cg(n,s,l,f,x){if(n!==null){var S=n.memoizedProps;if(uo(S,f)&&n.ref===s.ref)if(vr=!1,s.pendingProps=f=S,(n.lanes&x)!==0)(n.flags&131072)!==0&&(vr=!0);else return s.lanes=n.lanes,Ln(n,s,x)}return Ff(n,s,l,f,x)}function Ag(n,s,l){var f=s.pendingProps,x=f.children,S=n!==null?n.memoizedState:null;if(f.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(la,Rr),Rr|=l;else{if((l&1073741824)===0)return n=S!==null?S.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,yt(la,Rr),Rr|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=S!==null?S.baseLanes:l,yt(la,Rr),Rr|=f}else S!==null?(f=S.baseLanes|l,s.memoizedState=null):f=l,yt(la,Rr),Rr|=f;return fr(n,s,x,l),s.child}function Tg(n,s){var l=s.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Ff(n,s,l,f,x){var S=wr(l)?ai:rr.current;return S=Qi(s,S),sa(s,x),l=kf(n,s,l,f,S,x),f=Cf(),n!==null&&!vr?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~x,Ln(n,s,x)):(St&&f&&uf(s),s.flags|=1,fr(n,s,l,x),s.child)}function Rg(n,s,l,f,x){if(wr(l)){var S=!0;Gl(s)}else S=!1;if(sa(s,x),s.stateNode===null)uc(n,s),wg(s,l,f),Mf(s,l,f,x),f=!0;else if(n===null){var $=s.stateNode,re=s.memoizedProps;$.props=re;var ce=$.context,Ee=l.contextType;typeof Ee=="object"&&Ee!==null?Ee=Vr(Ee):(Ee=wr(l)?ai:rr.current,Ee=Qi(s,Ee));var je=l.getDerivedStateFromProps,Ce=typeof je=="function"||typeof $.getSnapshotBeforeUpdate=="function";Ce||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(re!==f||ce!==Ee)&&vg(s,$,f,Ee),bs=!1;var Se=s.memoizedState;$.state=Se,tc(s,f,$,x),ce=s.memoizedState,re!==f||Se!==ce||yr.current||bs?(typeof je=="function"&&(Bf(s,l,je,f),ce=s.memoizedState),(re=bs||yg(s,l,re,f,Se,ce,Ee))?(Ce||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(s.flags|=4194308)):(typeof $.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=ce),$.props=f,$.state=ce,$.context=Ee,f=re):(typeof $.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{$=s.stateNode,Km(n,s),re=s.memoizedProps,Ee=s.type===s.elementType?re:Jr(s.type,re),$.props=Ee,Ce=s.pendingProps,Se=$.context,ce=l.contextType,typeof ce=="object"&&ce!==null?ce=Vr(ce):(ce=wr(l)?ai:rr.current,ce=Qi(s,ce));var Me=l.getDerivedStateFromProps;(je=typeof Me=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(re!==Ce||Se!==ce)&&vg(s,$,f,ce),bs=!1,Se=s.memoizedState,$.state=Se,tc(s,f,$,x);var Fe=s.memoizedState;re!==Ce||Se!==Fe||yr.current||bs?(typeof Me=="function"&&(Bf(s,l,Me,f),Fe=s.memoizedState),(Ee=bs||yg(s,l,Ee,f,Se,Fe,ce)||!1)?(je||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(f,Fe,ce),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(f,Fe,ce)),typeof $.componentDidUpdate=="function"&&(s.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof $.componentDidUpdate!="function"||re===n.memoizedProps&&Se===n.memoizedState||(s.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||re===n.memoizedProps&&Se===n.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=Fe),$.props=f,$.state=Fe,$.context=ce,f=Ee):(typeof $.componentDidUpdate!="function"||re===n.memoizedProps&&Se===n.memoizedState||(s.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||re===n.memoizedProps&&Se===n.memoizedState||(s.flags|=1024),f=!1)}return Uf(n,s,l,f,S,x)}function Uf(n,s,l,f,x,S){Tg(n,s);var $=(s.flags&128)!==0;if(!f&&!$)return x&&Om(s,l,!1),Ln(n,s,S);f=s.stateNode,p3.current=s;var re=$&&typeof l.getDerivedStateFromError!="function"?null:f.render();return s.flags|=1,n!==null&&$?(s.child=ra(s,n.child,null,S),s.child=ra(s,null,re,S)):fr(n,s,re,S),s.memoizedState=f.state,x&&Om(s,l,!0),s.child}function Pg(n){var s=n.stateNode;s.pendingContext?Mm(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Mm(n,s.context,!1),bf(n,s.containerInfo)}function Bg(n,s,l,f,x){return ta(),pf(x),s.flags|=256,fr(n,s,l,f),s.child}var $f={dehydrated:null,treeContext:null,retryLane:0};function zf(n){return{baseLanes:n,cachePool:null,transitions:null}}function Mg(n,s,l){var f=s.pendingProps,x=kt.current,S=!1,$=(s.flags&128)!==0,re;if((re=$)||(re=n!==null&&n.memoizedState===null?!1:(x&2)!==0),re?(S=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(x|=1),yt(kt,x&1),n===null)return hf(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):($=f.children,n=f.fallback,S?(f=s.mode,S=s.child,$={mode:"hidden",children:$},(f&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=$):S=Nc($,f,0,null),n=gi(n,f,l,null),S.return=s,n.return=s,S.sibling=n,s.child=S,s.child.memoizedState=zf(l),s.memoizedState=$f,n):Vf(s,$));if(x=n.memoizedState,x!==null&&(re=x.dehydrated,re!==null))return m3(n,s,$,f,re,x,l);if(S){S=f.fallback,$=s.mode,x=n.child,re=x.sibling;var ce={mode:"hidden",children:f.children};return($&1)===0&&s.child!==x?(f=s.child,f.childLanes=0,f.pendingProps=ce,s.deletions=null):(f=Cs(x,ce),f.subtreeFlags=x.subtreeFlags&14680064),re!==null?S=Cs(re,S):(S=gi(S,$,l,null),S.flags|=2),S.return=s,f.return=s,f.sibling=S,s.child=f,f=S,S=s.child,$=n.child.memoizedState,$=$===null?zf(l):{baseLanes:$.baseLanes|l,cachePool:null,transitions:$.transitions},S.memoizedState=$,S.childLanes=n.childLanes&~l,s.memoizedState=$f,f}return S=n.child,n=S.sibling,f=Cs(S,{mode:"visible",children:f.children}),(s.mode&1)===0&&(f.lanes=l),f.return=s,f.sibling=null,n!==null&&(l=s.deletions,l===null?(s.deletions=[n],s.flags|=16):l.push(n)),s.child=f,s.memoizedState=null,f}function Vf(n,s){return s=Nc({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function cc(n,s,l,f){return f!==null&&pf(f),ra(s,n.child,null,l),n=Vf(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function m3(n,s,l,f,x,S,$){if(l)return s.flags&256?(s.flags&=-257,f=If(Error(r(422))),cc(n,s,$,f)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(S=f.fallback,x=s.mode,f=Nc({mode:"visible",children:f.children},x,0,null),S=gi(S,x,$,null),S.flags|=2,f.return=s,S.return=s,f.sibling=S,s.child=f,(s.mode&1)!==0&&ra(s,n.child,null,$),s.child.memoizedState=zf($),s.memoizedState=$f,S);if((s.mode&1)===0)return cc(n,s,$,null);if(x.data==="$!"){if(f=x.nextSibling&&x.nextSibling.dataset,f)var re=f.dgst;return f=re,S=Error(r(419)),f=If(S,f,void 0),cc(n,s,$,f)}if(re=($&n.childLanes)!==0,vr||re){if(f=Gt,f!==null){switch($&-$){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(f.suspendedLanes|$))!==0?0:x,x!==0&&x!==S.retryLane&&(S.retryLane=x,Vn(n,x),rn(f,n,x,-1))}return nh(),f=If(Error(r(421))),cc(n,s,$,f)}return x.data==="$?"?(s.flags|=128,s.child=n.child,s=C3.bind(null,n),x._reactRetry=s,null):(n=S.treeContext,Tr=xs(x.nextSibling),Ar=s,St=!0,Qr=null,n!==null&&($r[zr++]=$n,$r[zr++]=zn,$r[zr++]=oi,$n=n.id,zn=n.overflow,oi=s),s=Vf(s,f.children),s.flags|=4096,s)}function Ig(n,s,l){n.lanes|=s;var f=n.alternate;f!==null&&(f.lanes|=s),yf(n.return,s,l)}function Hf(n,s,l,f,x){var S=n.memoizedState;S===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:x}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=f,S.tail=l,S.tailMode=x)}function Og(n,s,l){var f=s.pendingProps,x=f.revealOrder,S=f.tail;if(fr(n,s,f.children,l),f=kt.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ig(n,l,s);else if(n.tag===19)Ig(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}if(yt(kt,f),(s.mode&1)===0)s.memoizedState=null;else switch(x){case"forwards":for(l=s.child,x=null;l!==null;)n=l.alternate,n!==null&&rc(n)===null&&(x=l),l=l.sibling;l=x,l===null?(x=s.child,s.child=null):(x=l.sibling,l.sibling=null),Hf(s,!1,x,l,S);break;case"backwards":for(l=null,x=s.child,s.child=null;x!==null;){if(n=x.alternate,n!==null&&rc(n)===null){s.child=x;break}n=x.sibling,x.sibling=l,l=x,x=n}Hf(s,!0,l,null,S);break;case"together":Hf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function uc(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Ln(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),fi|=s.lanes,(l&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,l=Cs(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=Cs(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function g3(n,s,l){switch(s.tag){case 3:Pg(s),ta();break;case 5:Zm(s);break;case 1:wr(s.type)&&Gl(s);break;case 4:bf(s,s.stateNode.containerInfo);break;case 10:var f=s.type._context,x=s.memoizedProps.value;yt(Ql,f._currentValue),f._currentValue=x;break;case 13:if(f=s.memoizedState,f!==null)return f.dehydrated!==null?(yt(kt,kt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Mg(n,s,l):(yt(kt,kt.current&1),n=Ln(n,s,l),n!==null?n.sibling:null);yt(kt,kt.current&1);break;case 19:if(f=(l&s.childLanes)!==0,(n.flags&128)!==0){if(f)return Og(n,s,l);s.flags|=128}if(x=s.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),yt(kt,kt.current),f)break;return null;case 22:case 23:return s.lanes=0,Ag(n,s,l)}return Ln(n,s,l)}var Fg,Lf,Ug,$g;Fg=function(n,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Lf=function(){},Ug=function(n,s,l,f){var x=n.memoizedProps;if(x!==f){n=s.stateNode,ui(xn.current);var S=null;switch(l){case"input":x=ne(n,x),f=ne(n,f),S=[];break;case"select":x=_e({},x,{value:void 0}),f=_e({},f,{value:void 0}),S=[];break;case"textarea":x=xe(n,x),f=xe(n,f),S=[];break;default:typeof x.onClick!="function"&&typeof f.onClick=="function"&&(n.onclick=Ll)}De(l,f);var $;l=null;for(Ee in x)if(!f.hasOwnProperty(Ee)&&x.hasOwnProperty(Ee)&&x[Ee]!=null)if(Ee==="style"){var re=x[Ee];for($ in re)re.hasOwnProperty($)&&(l||(l={}),l[$]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(o.hasOwnProperty(Ee)?S||(S=[]):(S=S||[]).push(Ee,null));for(Ee in f){var ce=f[Ee];if(re=x!=null?x[Ee]:void 0,f.hasOwnProperty(Ee)&&ce!==re&&(ce!=null||re!=null))if(Ee==="style")if(re){for($ in re)!re.hasOwnProperty($)||ce&&ce.hasOwnProperty($)||(l||(l={}),l[$]="");for($ in ce)ce.hasOwnProperty($)&&re[$]!==ce[$]&&(l||(l={}),l[$]=ce[$])}else l||(S||(S=[]),S.push(Ee,l)),l=ce;else Ee==="dangerouslySetInnerHTML"?(ce=ce?ce.__html:void 0,re=re?re.__html:void 0,ce!=null&&re!==ce&&(S=S||[]).push(Ee,ce)):Ee==="children"?typeof ce!="string"&&typeof ce!="number"||(S=S||[]).push(Ee,""+ce):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(o.hasOwnProperty(Ee)?(ce!=null&&Ee==="onScroll"&&wt("scroll",n),S||re===ce||(S=[])):(S=S||[]).push(Ee,ce))}l&&(S=S||[]).push("style",l);var Ee=S;(s.updateQueue=Ee)&&(s.flags|=4)}},$g=function(n,s,l,f){l!==f&&(s.flags|=4)};function jo(n,s){if(!St)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function sr(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,f=0;if(s)for(var x=n.child;x!==null;)l|=x.lanes|x.childLanes,f|=x.subtreeFlags&14680064,f|=x.flags&14680064,x.return=n,x=x.sibling;else for(x=n.child;x!==null;)l|=x.lanes|x.childLanes,f|=x.subtreeFlags,f|=x.flags,x.return=n,x=x.sibling;return n.subtreeFlags|=f,n.childLanes=l,s}function x3(n,s,l){var f=s.pendingProps;switch(df(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(s),null;case 1:return wr(s.type)&&ql(),sr(s),null;case 3:return f=s.stateNode,ia(),vt(yr),vt(rr),_f(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(n===null||n.child===null)&&(Zl(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Qr!==null&&(eh(Qr),Qr=null))),Lf(n,s),sr(s),null;case 5:Nf(s);var x=ui(bo.current);if(l=s.type,n!==null&&s.stateNode!=null)Ug(n,s,l,f,x),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!f){if(s.stateNode===null)throw Error(r(166));return sr(s),null}if(n=ui(xn.current),Zl(s)){f=s.stateNode,l=s.type;var S=s.memoizedProps;switch(f[gn]=s,f[go]=S,n=(s.mode&1)!==0,l){case"dialog":wt("cancel",f),wt("close",f);break;case"iframe":case"object":case"embed":wt("load",f);break;case"video":case"audio":for(x=0;x<ho.length;x++)wt(ho[x],f);break;case"source":wt("error",f);break;case"img":case"image":case"link":wt("error",f),wt("load",f);break;case"details":wt("toggle",f);break;case"input":ae(f,S),wt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!S.multiple},wt("invalid",f);break;case"textarea":ke(f,S),wt("invalid",f)}De(l,S),x=null;for(var $ in S)if(S.hasOwnProperty($)){var re=S[$];$==="children"?typeof re=="string"?f.textContent!==re&&(S.suppressHydrationWarning!==!0&&Hl(f.textContent,re,n),x=["children",re]):typeof re=="number"&&f.textContent!==""+re&&(S.suppressHydrationWarning!==!0&&Hl(f.textContent,re,n),x=["children",""+re]):o.hasOwnProperty($)&&re!=null&&$==="onScroll"&&wt("scroll",f)}switch(l){case"input":F(f),b(f,S,!0);break;case"textarea":F(f),Ue(f);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(f.onclick=Ll)}f=x,s.updateQueue=f,f!==null&&(s.flags|=4)}else{$=x.nodeType===9?x:x.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ze(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=$.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof f.is=="string"?n=$.createElement(l,{is:f.is}):(n=$.createElement(l),l==="select"&&($=n,f.multiple?$.multiple=!0:f.size&&($.size=f.size))):n=$.createElementNS(n,l),n[gn]=s,n[go]=f,Fg(n,s,!1,!1),s.stateNode=n;e:{switch($=We(l,f),l){case"dialog":wt("cancel",n),wt("close",n),x=f;break;case"iframe":case"object":case"embed":wt("load",n),x=f;break;case"video":case"audio":for(x=0;x<ho.length;x++)wt(ho[x],n);x=f;break;case"source":wt("error",n),x=f;break;case"img":case"image":case"link":wt("error",n),wt("load",n),x=f;break;case"details":wt("toggle",n),x=f;break;case"input":ae(n,f),x=ne(n,f),wt("invalid",n);break;case"option":x=f;break;case"select":n._wrapperState={wasMultiple:!!f.multiple},x=_e({},f,{value:void 0}),wt("invalid",n);break;case"textarea":ke(n,f),x=xe(n,f),wt("invalid",n);break;default:x=f}De(l,x),re=x;for(S in re)if(re.hasOwnProperty(S)){var ce=re[S];S==="style"?Ke(n,ce):S==="dangerouslySetInnerHTML"?(ce=ce?ce.__html:void 0,ce!=null&&k(n,ce)):S==="children"?typeof ce=="string"?(l!=="textarea"||ce!=="")&&Z(n,ce):typeof ce=="number"&&Z(n,""+ce):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(o.hasOwnProperty(S)?ce!=null&&S==="onScroll"&&wt("scroll",n):ce!=null&&U(n,S,ce,$))}switch(l){case"input":F(n),b(n,f,!1);break;case"textarea":F(n),Ue(n);break;case"option":f.value!=null&&n.setAttribute("value",""+de(f.value));break;case"select":n.multiple=!!f.multiple,S=f.value,S!=null?se(n,!!f.multiple,S,!1):f.defaultValue!=null&&se(n,!!f.multiple,f.defaultValue,!0);break;default:typeof x.onClick=="function"&&(n.onclick=Ll)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return sr(s),null;case 6:if(n&&s.stateNode!=null)$g(n,s,n.memoizedProps,f);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(l=ui(bo.current),ui(xn.current),Zl(s)){if(f=s.stateNode,l=s.memoizedProps,f[gn]=s,(S=f.nodeValue!==l)&&(n=Ar,n!==null))switch(n.tag){case 3:Hl(f.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Hl(f.nodeValue,l,(n.mode&1)!==0)}S&&(s.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[gn]=s,s.stateNode=f}return sr(s),null;case 13:if(vt(kt),f=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(St&&Tr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Hm(),ta(),s.flags|=98560,S=!1;else if(S=Zl(s),f!==null&&f.dehydrated!==null){if(n===null){if(!S)throw Error(r(318));if(S=s.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[gn]=s}else ta(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;sr(s),S=!1}else Qr!==null&&(eh(Qr),Qr=null),S=!0;if(!S)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(f=f!==null,f!==(n!==null&&n.memoizedState!==null)&&f&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(kt.current&1)!==0?zt===0&&(zt=3):nh())),s.updateQueue!==null&&(s.flags|=4),sr(s),null);case 4:return ia(),Lf(n,s),n===null&&po(s.stateNode.containerInfo),sr(s),null;case 10:return xf(s.type._context),sr(s),null;case 17:return wr(s.type)&&ql(),sr(s),null;case 19:if(vt(kt),S=s.memoizedState,S===null)return sr(s),null;if(f=(s.flags&128)!==0,$=S.rendering,$===null)if(f)jo(S,!1);else{if(zt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if($=rc(n),$!==null){for(s.flags|=128,jo(S,!1),f=$.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),s.subtreeFlags=0,f=l,l=s.child;l!==null;)S=l,n=f,S.flags&=14680066,$=S.alternate,$===null?(S.childLanes=0,S.lanes=n,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=$.childLanes,S.lanes=$.lanes,S.child=$.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=$.memoizedProps,S.memoizedState=$.memoizedState,S.updateQueue=$.updateQueue,S.type=$.type,n=$.dependencies,S.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return yt(kt,kt.current&1|2),s.child}n=n.sibling}S.tail!==null&&He()>ca&&(s.flags|=128,f=!0,jo(S,!1),s.lanes=4194304)}else{if(!f)if(n=rc($),n!==null){if(s.flags|=128,f=!0,l=n.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),jo(S,!0),S.tail===null&&S.tailMode==="hidden"&&!$.alternate&&!St)return sr(s),null}else 2*He()-S.renderingStartTime>ca&&l!==1073741824&&(s.flags|=128,f=!0,jo(S,!1),s.lanes=4194304);S.isBackwards?($.sibling=s.child,s.child=$):(l=S.last,l!==null?l.sibling=$:s.child=$,S.last=$)}return S.tail!==null?(s=S.tail,S.rendering=s,S.tail=s.sibling,S.renderingStartTime=He(),s.sibling=null,l=kt.current,yt(kt,f?l&1|2:l&1),s):(sr(s),null);case 22:case 23:return rh(),f=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==f&&(s.flags|=8192),f&&(s.mode&1)!==0?(Rr&1073741824)!==0&&(sr(s),s.subtreeFlags&6&&(s.flags|=8192)):sr(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function y3(n,s){switch(df(s),s.tag){case 1:return wr(s.type)&&ql(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ia(),vt(yr),vt(rr),_f(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Nf(s),null;case 13:if(vt(kt),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ta()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return vt(kt),null;case 4:return ia(),null;case 10:return xf(s.type._context),null;case 22:case 23:return rh(),null;case 24:return null;default:return null}}var dc=!1,ir=!1,w3=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function oa(n,s){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){Tt(n,s,f)}else l.current=null}function Wf(n,s,l){try{l()}catch(f){Tt(n,s,f)}}var zg=!1;function v3(n,s){if(tf=Rl,n=ym(),Kd(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var x=f.anchorOffset,S=f.focusNode;f=f.focusOffset;try{l.nodeType,S.nodeType}catch{l=null;break e}var $=0,re=-1,ce=-1,Ee=0,je=0,Ce=n,Se=null;t:for(;;){for(var Me;Ce!==l||x!==0&&Ce.nodeType!==3||(re=$+x),Ce!==S||f!==0&&Ce.nodeType!==3||(ce=$+f),Ce.nodeType===3&&($+=Ce.nodeValue.length),(Me=Ce.firstChild)!==null;)Se=Ce,Ce=Me;for(;;){if(Ce===n)break t;if(Se===l&&++Ee===x&&(re=$),Se===S&&++je===f&&(ce=$),(Me=Ce.nextSibling)!==null)break;Ce=Se,Se=Ce.parentNode}Ce=Me}l=re===-1||ce===-1?null:{start:re,end:ce}}else l=null}l=l||{start:0,end:0}}else l=null;for(rf={focusedElem:n,selectionRange:l},Rl=!1,Oe=s;Oe!==null;)if(s=Oe,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Oe=n;else for(;Oe!==null;){s=Oe;try{var Fe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Fe!==null){var $e=Fe.memoizedProps,Bt=Fe.memoizedState,ye=s.stateNode,he=ye.getSnapshotBeforeUpdate(s.elementType===s.type?$e:Jr(s.type,$e),Bt);ye.__reactInternalSnapshotBeforeUpdate=he}break;case 3:var we=s.stateNode.containerInfo;we.nodeType===1?we.textContent="":we.nodeType===9&&we.documentElement&&we.removeChild(we.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Te){Tt(s,s.return,Te)}if(n=s.sibling,n!==null){n.return=s.return,Oe=n;break}Oe=s.return}return Fe=zg,zg=!1,Fe}function ko(n,s,l){var f=s.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var x=f=f.next;do{if((x.tag&n)===n){var S=x.destroy;x.destroy=void 0,S!==void 0&&Wf(s,l,S)}x=x.next}while(x!==f)}}function fc(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&n)===n){var f=l.create;l.destroy=f()}l=l.next}while(l!==s)}}function qf(n){var s=n.ref;if(s!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof s=="function"?s(n):s.current=n}}function Vg(n){var s=n.alternate;s!==null&&(n.alternate=null,Vg(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[gn],delete s[go],delete s[of],delete s[r3],delete s[n3])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Hg(n){return n.tag===5||n.tag===3||n.tag===4}function Lg(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Hg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Gf(n,s,l){var f=n.tag;if(f===5||f===6)n=n.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(n,s):l.insertBefore(n,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(n,l)):(s=l,s.appendChild(n)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ll));else if(f!==4&&(n=n.child,n!==null))for(Gf(n,s,l),n=n.sibling;n!==null;)Gf(n,s,l),n=n.sibling}function Kf(n,s,l){var f=n.tag;if(f===5||f===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(f!==4&&(n=n.child,n!==null))for(Kf(n,s,l),n=n.sibling;n!==null;)Kf(n,s,l),n=n.sibling}var Zt=null,en=!1;function Es(n,s,l){for(l=l.child;l!==null;)Wg(n,s,l),l=l.sibling}function Wg(n,s,l){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Sl,l)}catch{}switch(l.tag){case 5:ir||oa(l,s);case 6:var f=Zt,x=en;Zt=null,Es(n,s,l),Zt=f,en=x,Zt!==null&&(en?(n=Zt,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):Zt.removeChild(l.stateNode));break;case 18:Zt!==null&&(en?(n=Zt,l=l.stateNode,n.nodeType===8?af(n.parentNode,l):n.nodeType===1&&af(n,l),so(n)):af(Zt,l.stateNode));break;case 4:f=Zt,x=en,Zt=l.stateNode.containerInfo,en=!0,Es(n,s,l),Zt=f,en=x;break;case 0:case 11:case 14:case 15:if(!ir&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){x=f=f.next;do{var S=x,$=S.destroy;S=S.tag,$!==void 0&&((S&2)!==0||(S&4)!==0)&&Wf(l,s,$),x=x.next}while(x!==f)}Es(n,s,l);break;case 1:if(!ir&&(oa(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(re){Tt(l,s,re)}Es(n,s,l);break;case 21:Es(n,s,l);break;case 22:l.mode&1?(ir=(f=ir)||l.memoizedState!==null,Es(n,s,l),ir=f):Es(n,s,l);break;default:Es(n,s,l)}}function qg(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new w3),s.forEach(function(f){var x=A3.bind(null,n,f);l.has(f)||(l.add(f),f.then(x,x))})}}function tn(n,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var x=l[f];try{var S=n,$=s,re=$;e:for(;re!==null;){switch(re.tag){case 5:Zt=re.stateNode,en=!1;break e;case 3:Zt=re.stateNode.containerInfo,en=!0;break e;case 4:Zt=re.stateNode.containerInfo,en=!0;break e}re=re.return}if(Zt===null)throw Error(r(160));Wg(S,$,x),Zt=null,en=!1;var ce=x.alternate;ce!==null&&(ce.return=null),x.return=null}catch(Ee){Tt(x,s,Ee)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Gg(s,n),s=s.sibling}function Gg(n,s){var l=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(tn(s,n),wn(n),f&4){try{ko(3,n,n.return),fc(3,n)}catch($e){Tt(n,n.return,$e)}try{ko(5,n,n.return)}catch($e){Tt(n,n.return,$e)}}break;case 1:tn(s,n),wn(n),f&512&&l!==null&&oa(l,l.return);break;case 5:if(tn(s,n),wn(n),f&512&&l!==null&&oa(l,l.return),n.flags&32){var x=n.stateNode;try{Z(x,"")}catch($e){Tt(n,n.return,$e)}}if(f&4&&(x=n.stateNode,x!=null)){var S=n.memoizedProps,$=l!==null?l.memoizedProps:S,re=n.type,ce=n.updateQueue;if(n.updateQueue=null,ce!==null)try{re==="input"&&S.type==="radio"&&S.name!=null&&R(x,S),We(re,$);var Ee=We(re,S);for($=0;$<ce.length;$+=2){var je=ce[$],Ce=ce[$+1];je==="style"?Ke(x,Ce):je==="dangerouslySetInnerHTML"?k(x,Ce):je==="children"?Z(x,Ce):U(x,je,Ce,Ee)}switch(re){case"input":y(x,S);break;case"textarea":Ie(x,S);break;case"select":var Se=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!S.multiple;var Me=S.value;Me!=null?se(x,!!S.multiple,Me,!1):Se!==!!S.multiple&&(S.defaultValue!=null?se(x,!!S.multiple,S.defaultValue,!0):se(x,!!S.multiple,S.multiple?[]:"",!1))}x[go]=S}catch($e){Tt(n,n.return,$e)}}break;case 6:if(tn(s,n),wn(n),f&4){if(n.stateNode===null)throw Error(r(162));x=n.stateNode,S=n.memoizedProps;try{x.nodeValue=S}catch($e){Tt(n,n.return,$e)}}break;case 3:if(tn(s,n),wn(n),f&4&&l!==null&&l.memoizedState.isDehydrated)try{so(s.containerInfo)}catch($e){Tt(n,n.return,$e)}break;case 4:tn(s,n),wn(n);break;case 13:tn(s,n),wn(n),x=n.child,x.flags&8192&&(S=x.memoizedState!==null,x.stateNode.isHidden=S,!S||x.alternate!==null&&x.alternate.memoizedState!==null||(Zf=He())),f&4&&qg(n);break;case 22:if(je=l!==null&&l.memoizedState!==null,n.mode&1?(ir=(Ee=ir)||je,tn(s,n),ir=Ee):tn(s,n),wn(n),f&8192){if(Ee=n.memoizedState!==null,(n.stateNode.isHidden=Ee)&&!je&&(n.mode&1)!==0)for(Oe=n,je=n.child;je!==null;){for(Ce=Oe=je;Oe!==null;){switch(Se=Oe,Me=Se.child,Se.tag){case 0:case 11:case 14:case 15:ko(4,Se,Se.return);break;case 1:oa(Se,Se.return);var Fe=Se.stateNode;if(typeof Fe.componentWillUnmount=="function"){f=Se,l=Se.return;try{s=f,Fe.props=s.memoizedProps,Fe.state=s.memoizedState,Fe.componentWillUnmount()}catch($e){Tt(f,l,$e)}}break;case 5:oa(Se,Se.return);break;case 22:if(Se.memoizedState!==null){Yg(Ce);continue}}Me!==null?(Me.return=Se,Oe=Me):Yg(Ce)}je=je.sibling}e:for(je=null,Ce=n;;){if(Ce.tag===5){if(je===null){je=Ce;try{x=Ce.stateNode,Ee?(S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(re=Ce.stateNode,ce=Ce.memoizedProps.style,$=ce!=null&&ce.hasOwnProperty("display")?ce.display:null,re.style.display=ve("display",$))}catch($e){Tt(n,n.return,$e)}}}else if(Ce.tag===6){if(je===null)try{Ce.stateNode.nodeValue=Ee?"":Ce.memoizedProps}catch($e){Tt(n,n.return,$e)}}else if((Ce.tag!==22&&Ce.tag!==23||Ce.memoizedState===null||Ce===n)&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===n)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===n)break e;je===Ce&&(je=null),Ce=Ce.return}je===Ce&&(je=null),Ce.sibling.return=Ce.return,Ce=Ce.sibling}}break;case 19:tn(s,n),wn(n),f&4&&qg(n);break;case 21:break;default:tn(s,n),wn(n)}}function wn(n){var s=n.flags;if(s&2){try{e:{for(var l=n.return;l!==null;){if(Hg(l)){var f=l;break e}l=l.return}throw Error(r(160))}switch(f.tag){case 5:var x=f.stateNode;f.flags&32&&(Z(x,""),f.flags&=-33);var S=Lg(n);Kf(n,S,x);break;case 3:case 4:var $=f.stateNode.containerInfo,re=Lg(n);Gf(n,re,$);break;default:throw Error(r(161))}}catch(ce){Tt(n,n.return,ce)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function b3(n,s,l){Oe=n,Kg(n)}function Kg(n,s,l){for(var f=(n.mode&1)!==0;Oe!==null;){var x=Oe,S=x.child;if(x.tag===22&&f){var $=x.memoizedState!==null||dc;if(!$){var re=x.alternate,ce=re!==null&&re.memoizedState!==null||ir;re=dc;var Ee=ir;if(dc=$,(ir=ce)&&!Ee)for(Oe=x;Oe!==null;)$=Oe,ce=$.child,$.tag===22&&$.memoizedState!==null?Zg(x):ce!==null?(ce.return=$,Oe=ce):Zg(x);for(;S!==null;)Oe=S,Kg(S),S=S.sibling;Oe=x,dc=re,ir=Ee}Dg(n)}else(x.subtreeFlags&8772)!==0&&S!==null?(S.return=x,Oe=S):Dg(n)}}function Dg(n){for(;Oe!==null;){var s=Oe;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:ir||fc(5,s);break;case 1:var f=s.stateNode;if(s.flags&4&&!ir)if(l===null)f.componentDidMount();else{var x=s.elementType===s.type?l.memoizedProps:Jr(s.type,l.memoizedProps);f.componentDidUpdate(x,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var S=s.updateQueue;S!==null&&Ym(s,S,f);break;case 3:var $=s.updateQueue;if($!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Ym(s,$,l)}break;case 5:var re=s.stateNode;if(l===null&&s.flags&4){l=re;var ce=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":ce.autoFocus&&l.focus();break;case"img":ce.src&&(l.src=ce.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Ee=s.alternate;if(Ee!==null){var je=Ee.memoizedState;if(je!==null){var Ce=je.dehydrated;Ce!==null&&so(Ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ir||s.flags&512&&qf(s)}catch(Se){Tt(s,s.return,Se)}}if(s===n){Oe=null;break}if(l=s.sibling,l!==null){l.return=s.return,Oe=l;break}Oe=s.return}}function Yg(n){for(;Oe!==null;){var s=Oe;if(s===n){Oe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Oe=l;break}Oe=s.return}}function Zg(n){for(;Oe!==null;){var s=Oe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{fc(4,s)}catch(ce){Tt(s,l,ce)}break;case 1:var f=s.stateNode;if(typeof f.componentDidMount=="function"){var x=s.return;try{f.componentDidMount()}catch(ce){Tt(s,x,ce)}}var S=s.return;try{qf(s)}catch(ce){Tt(s,S,ce)}break;case 5:var $=s.return;try{qf(s)}catch(ce){Tt(s,$,ce)}}}catch(ce){Tt(s,s.return,ce)}if(s===n){Oe=null;break}var re=s.sibling;if(re!==null){re.return=s.return,Oe=re;break}Oe=s.return}}var N3=Math.ceil,hc=q.ReactCurrentDispatcher,Df=q.ReactCurrentOwner,Lr=q.ReactCurrentBatchConfig,ut=0,Gt=null,Ot=null,Xt=0,Rr=0,la=ys(0),zt=0,Co=null,fi=0,pc=0,Yf=0,Ao=null,br=null,Zf=0,ca=1/0,Wn=null,mc=!1,Xf=null,_s=null,gc=!1,Ss=null,xc=0,To=0,Qf=null,yc=-1,wc=0;function hr(){return(ut&6)!==0?He():yc!==-1?yc:yc=He()}function js(n){return(n.mode&1)===0?1:(ut&2)!==0&&Xt!==0?Xt&-Xt:i3.transition!==null?(wc===0&&(wc=Lp()),wc):(n=pt,n!==0||(n=window.event,n=n===void 0?16:Qp(n.type)),n)}function rn(n,s,l,f){if(50<To)throw To=0,Qf=null,Error(r(185));Ja(n,l,f),((ut&2)===0||n!==Gt)&&(n===Gt&&((ut&2)===0&&(pc|=l),zt===4&&ks(n,Xt)),Nr(n,f),l===1&&ut===0&&(s.mode&1)===0&&(ca=He()+500,Kl&&vs()))}function Nr(n,s){var l=n.callbackNode;iN(n,s);var f=Cl(n,n===Gt?Xt:0);if(f===0)l!==null&&_l(l),n.callbackNode=null,n.callbackPriority=0;else if(s=f&-f,n.callbackPriority!==s){if(l!=null&&_l(l),s===1)n.tag===0?s3(Qg.bind(null,n)):Fm(Qg.bind(null,n)),e3(function(){(ut&6)===0&&vs()}),l=null;else{switch(Wp(f)){case 1:l=et;break;case 4:l=si;break;case 16:l=pn;break;case 536870912:l=Hp;break;default:l=pn}l=ax(l,Xg.bind(null,n))}n.callbackPriority=s,n.callbackNode=l}}function Xg(n,s){if(yc=-1,wc=0,(ut&6)!==0)throw Error(r(327));var l=n.callbackNode;if(ua()&&n.callbackNode!==l)return null;var f=Cl(n,n===Gt?Xt:0);if(f===0)return null;if((f&30)!==0||(f&n.expiredLanes)!==0||s)s=vc(n,f);else{s=f;var x=ut;ut|=2;var S=ex();(Gt!==n||Xt!==s)&&(Wn=null,ca=He()+500,pi(n,s));do try{S3();break}catch(re){Jg(n,re)}while(!0);gf(),hc.current=S,ut=x,Ot!==null?s=0:(Gt=null,Xt=0,s=zt)}if(s!==0){if(s===2&&(x=Rd(n),x!==0&&(f=x,s=Jf(n,x))),s===1)throw l=Co,pi(n,0),ks(n,f),Nr(n,He()),l;if(s===6)ks(n,f);else{if(x=n.current.alternate,(f&30)===0&&!E3(x)&&(s=vc(n,f),s===2&&(S=Rd(n),S!==0&&(f=S,s=Jf(n,S))),s===1))throw l=Co,pi(n,0),ks(n,f),Nr(n,He()),l;switch(n.finishedWork=x,n.finishedLanes=f,s){case 0:case 1:throw Error(r(345));case 2:mi(n,br,Wn);break;case 3:if(ks(n,f),(f&130023424)===f&&(s=Zf+500-He(),10<s)){if(Cl(n,0)!==0)break;if(x=n.suspendedLanes,(x&f)!==f){hr(),n.pingedLanes|=n.suspendedLanes&x;break}n.timeoutHandle=sf(mi.bind(null,n,br,Wn),s);break}mi(n,br,Wn);break;case 4:if(ks(n,f),(f&4194240)===f)break;for(s=n.eventTimes,x=-1;0<f;){var $=31-Zr(f);S=1<<$,$=s[$],$>x&&(x=$),f&=~S}if(f=x,f=He()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*N3(f/1960))-f,10<f){n.timeoutHandle=sf(mi.bind(null,n,br,Wn),f);break}mi(n,br,Wn);break;case 5:mi(n,br,Wn);break;default:throw Error(r(329))}}}return Nr(n,He()),n.callbackNode===l?Xg.bind(null,n):null}function Jf(n,s){var l=Ao;return n.current.memoizedState.isDehydrated&&(pi(n,s).flags|=256),n=vc(n,s),n!==2&&(s=br,br=l,s!==null&&eh(s)),n}function eh(n){br===null?br=n:br.push.apply(br,n)}function E3(n){for(var s=n;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var x=l[f],S=x.getSnapshot;x=x.value;try{if(!Xr(S(),x))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ks(n,s){for(s&=~Yf,s&=~pc,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var l=31-Zr(s),f=1<<l;n[l]=-1,s&=~f}}function Qg(n){if((ut&6)!==0)throw Error(r(327));ua();var s=Cl(n,0);if((s&1)===0)return Nr(n,He()),null;var l=vc(n,s);if(n.tag!==0&&l===2){var f=Rd(n);f!==0&&(s=f,l=Jf(n,f))}if(l===1)throw l=Co,pi(n,0),ks(n,s),Nr(n,He()),l;if(l===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,mi(n,br,Wn),Nr(n,He()),null}function th(n,s){var l=ut;ut|=1;try{return n(s)}finally{ut=l,ut===0&&(ca=He()+500,Kl&&vs())}}function hi(n){Ss!==null&&Ss.tag===0&&(ut&6)===0&&ua();var s=ut;ut|=1;var l=Lr.transition,f=pt;try{if(Lr.transition=null,pt=1,n)return n()}finally{pt=f,Lr.transition=l,ut=s,(ut&6)===0&&vs()}}function rh(){Rr=la.current,vt(la)}function pi(n,s){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,JN(l)),Ot!==null)for(l=Ot.return;l!==null;){var f=l;switch(df(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&ql();break;case 3:ia(),vt(yr),vt(rr),_f();break;case 5:Nf(f);break;case 4:ia();break;case 13:vt(kt);break;case 19:vt(kt);break;case 10:xf(f.type._context);break;case 22:case 23:rh()}l=l.return}if(Gt=n,Ot=n=Cs(n.current,null),Xt=Rr=s,zt=0,Co=null,Yf=pc=fi=0,br=Ao=null,ci!==null){for(s=0;s<ci.length;s++)if(l=ci[s],f=l.interleaved,f!==null){l.interleaved=null;var x=f.next,S=l.pending;if(S!==null){var $=S.next;S.next=x,f.next=$}l.pending=f}ci=null}return n}function Jg(n,s){do{var l=Ot;try{if(gf(),nc.current=oc,sc){for(var f=Ct.memoizedState;f!==null;){var x=f.queue;x!==null&&(x.pending=null),f=f.next}sc=!1}if(di=0,qt=$t=Ct=null,No=!1,Eo=0,Df.current=null,l===null||l.return===null){zt=1,Co=s,Ot=null;break}e:{var S=n,$=l.return,re=l,ce=s;if(s=Xt,re.flags|=32768,ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var Ee=ce,je=re,Ce=je.tag;if((je.mode&1)===0&&(Ce===0||Ce===11||Ce===15)){var Se=je.alternate;Se?(je.updateQueue=Se.updateQueue,je.memoizedState=Se.memoizedState,je.lanes=Se.lanes):(je.updateQueue=null,je.memoizedState=null)}var Me=_g($);if(Me!==null){Me.flags&=-257,Sg(Me,$,re,S,s),Me.mode&1&&Eg(S,Ee,s),s=Me,ce=Ee;var Fe=s.updateQueue;if(Fe===null){var $e=new Set;$e.add(ce),s.updateQueue=$e}else Fe.add(ce);break e}else{if((s&1)===0){Eg(S,Ee,s),nh();break e}ce=Error(r(426))}}else if(St&&re.mode&1){var Bt=_g($);if(Bt!==null){(Bt.flags&65536)===0&&(Bt.flags|=256),Sg(Bt,$,re,S,s),pf(aa(ce,re));break e}}S=ce=aa(ce,re),zt!==4&&(zt=2),Ao===null?Ao=[S]:Ao.push(S),S=$;do{switch(S.tag){case 3:S.flags|=65536,s&=-s,S.lanes|=s;var ye=bg(S,ce,s);Dm(S,ye);break e;case 1:re=ce;var he=S.type,we=S.stateNode;if((S.flags&128)===0&&(typeof he.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(_s===null||!_s.has(we)))){S.flags|=65536,s&=-s,S.lanes|=s;var Te=Ng(S,re,s);Dm(S,Te);break e}}S=S.return}while(S!==null)}rx(l)}catch(ze){s=ze,Ot===l&&l!==null&&(Ot=l=l.return);continue}break}while(!0)}function ex(){var n=hc.current;return hc.current=oc,n===null?oc:n}function nh(){(zt===0||zt===3||zt===2)&&(zt=4),Gt===null||(fi&268435455)===0&&(pc&268435455)===0||ks(Gt,Xt)}function vc(n,s){var l=ut;ut|=2;var f=ex();(Gt!==n||Xt!==s)&&(Wn=null,pi(n,s));do try{_3();break}catch(x){Jg(n,x)}while(!0);if(gf(),ut=l,hc.current=f,Ot!==null)throw Error(r(261));return Gt=null,Xt=0,zt}function _3(){for(;Ot!==null;)tx(Ot)}function S3(){for(;Ot!==null&&!Td();)tx(Ot)}function tx(n){var s=ix(n.alternate,n,Rr);n.memoizedProps=n.pendingProps,s===null?rx(n):Ot=s,Df.current=null}function rx(n){var s=n;do{var l=s.alternate;if(n=s.return,(s.flags&32768)===0){if(l=x3(l,s,Rr),l!==null){Ot=l;return}}else{if(l=y3(l,s),l!==null){l.flags&=32767,Ot=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{zt=6,Ot=null;return}}if(s=s.sibling,s!==null){Ot=s;return}Ot=s=n}while(s!==null);zt===0&&(zt=5)}function mi(n,s,l){var f=pt,x=Lr.transition;try{Lr.transition=null,pt=1,j3(n,s,l,f)}finally{Lr.transition=x,pt=f}return null}function j3(n,s,l,f){do ua();while(Ss!==null);if((ut&6)!==0)throw Error(r(327));l=n.finishedWork;var x=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var S=l.lanes|l.childLanes;if(aN(n,S),n===Gt&&(Ot=Gt=null,Xt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||gc||(gc=!0,ax(pn,function(){return ua(),null})),S=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||S){S=Lr.transition,Lr.transition=null;var $=pt;pt=1;var re=ut;ut|=4,Df.current=null,v3(n,l),Gg(l,n),GN(rf),Rl=!!tf,rf=tf=null,n.current=l,b3(l),oe(),ut=re,pt=$,Lr.transition=S}else n.current=l;if(gc&&(gc=!1,Ss=n,xc=x),S=n.pendingLanes,S===0&&(_s=null),eN(l.stateNode),Nr(n,He()),s!==null)for(f=n.onRecoverableError,l=0;l<s.length;l++)x=s[l],f(x.value,{componentStack:x.stack,digest:x.digest});if(mc)throw mc=!1,n=Xf,Xf=null,n;return(xc&1)!==0&&n.tag!==0&&ua(),S=n.pendingLanes,(S&1)!==0?n===Qf?To++:(To=0,Qf=n):To=0,vs(),null}function ua(){if(Ss!==null){var n=Wp(xc),s=Lr.transition,l=pt;try{if(Lr.transition=null,pt=16>n?16:n,Ss===null)var f=!1;else{if(n=Ss,Ss=null,xc=0,(ut&6)!==0)throw Error(r(331));var x=ut;for(ut|=4,Oe=n.current;Oe!==null;){var S=Oe,$=S.child;if((Oe.flags&16)!==0){var re=S.deletions;if(re!==null){for(var ce=0;ce<re.length;ce++){var Ee=re[ce];for(Oe=Ee;Oe!==null;){var je=Oe;switch(je.tag){case 0:case 11:case 15:ko(8,je,S)}var Ce=je.child;if(Ce!==null)Ce.return=je,Oe=Ce;else for(;Oe!==null;){je=Oe;var Se=je.sibling,Me=je.return;if(Vg(je),je===Ee){Oe=null;break}if(Se!==null){Se.return=Me,Oe=Se;break}Oe=Me}}}var Fe=S.alternate;if(Fe!==null){var $e=Fe.child;if($e!==null){Fe.child=null;do{var Bt=$e.sibling;$e.sibling=null,$e=Bt}while($e!==null)}}Oe=S}}if((S.subtreeFlags&2064)!==0&&$!==null)$.return=S,Oe=$;else e:for(;Oe!==null;){if(S=Oe,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:ko(9,S,S.return)}var ye=S.sibling;if(ye!==null){ye.return=S.return,Oe=ye;break e}Oe=S.return}}var he=n.current;for(Oe=he;Oe!==null;){$=Oe;var we=$.child;if(($.subtreeFlags&2064)!==0&&we!==null)we.return=$,Oe=we;else e:for($=he;Oe!==null;){if(re=Oe,(re.flags&2048)!==0)try{switch(re.tag){case 0:case 11:case 15:fc(9,re)}}catch(ze){Tt(re,re.return,ze)}if(re===$){Oe=null;break e}var Te=re.sibling;if(Te!==null){Te.return=re.return,Oe=Te;break e}Oe=re.return}}if(ut=x,vs(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Sl,n)}catch{}f=!0}return f}finally{pt=l,Lr.transition=s}}return!1}function nx(n,s,l){s=aa(l,s),s=bg(n,s,1),n=Ns(n,s,1),s=hr(),n!==null&&(Ja(n,1,s),Nr(n,s))}function Tt(n,s,l){if(n.tag===3)nx(n,n,l);else for(;s!==null;){if(s.tag===3){nx(s,n,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(_s===null||!_s.has(f))){n=aa(l,n),n=Ng(s,n,1),s=Ns(s,n,1),n=hr(),s!==null&&(Ja(s,1,n),Nr(s,n));break}}s=s.return}}function k3(n,s,l){var f=n.pingCache;f!==null&&f.delete(s),s=hr(),n.pingedLanes|=n.suspendedLanes&l,Gt===n&&(Xt&l)===l&&(zt===4||zt===3&&(Xt&130023424)===Xt&&500>He()-Zf?pi(n,0):Yf|=l),Nr(n,s)}function sx(n,s){s===0&&((n.mode&1)===0?s=1:(s=kl,kl<<=1,(kl&130023424)===0&&(kl=4194304)));var l=hr();n=Vn(n,s),n!==null&&(Ja(n,s,l),Nr(n,l))}function C3(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),sx(n,l)}function A3(n,s){var l=0;switch(n.tag){case 13:var f=n.stateNode,x=n.memoizedState;x!==null&&(l=x.retryLane);break;case 19:f=n.stateNode;break;default:throw Error(r(314))}f!==null&&f.delete(s),sx(n,l)}var ix;ix=function(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps||yr.current)vr=!0;else{if((n.lanes&l)===0&&(s.flags&128)===0)return vr=!1,g3(n,s,l);vr=(n.flags&131072)!==0}else vr=!1,St&&(s.flags&1048576)!==0&&Um(s,Yl,s.index);switch(s.lanes=0,s.tag){case 2:var f=s.type;uc(n,s),n=s.pendingProps;var x=Qi(s,rr.current);sa(s,l),x=kf(null,s,f,n,x,l);var S=Cf();return s.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,wr(f)?(S=!0,Gl(s)):S=!1,s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,vf(s),x.updater=lc,s.stateNode=x,x._reactInternals=s,Mf(s,f,n,l),s=Uf(null,s,f,!0,S,l)):(s.tag=0,St&&S&&uf(s),fr(null,s,x,l),s=s.child),s;case 16:f=s.elementType;e:{switch(uc(n,s),n=s.pendingProps,x=f._init,f=x(f._payload),s.type=f,x=s.tag=R3(f),n=Jr(f,n),x){case 0:s=Ff(null,s,f,n,l);break e;case 1:s=Rg(null,s,f,n,l);break e;case 11:s=jg(null,s,f,n,l);break e;case 14:s=kg(null,s,f,Jr(f.type,n),l);break e}throw Error(r(306,f,""))}return s;case 0:return f=s.type,x=s.pendingProps,x=s.elementType===f?x:Jr(f,x),Ff(n,s,f,x,l);case 1:return f=s.type,x=s.pendingProps,x=s.elementType===f?x:Jr(f,x),Rg(n,s,f,x,l);case 3:e:{if(Pg(s),n===null)throw Error(r(387));f=s.pendingProps,S=s.memoizedState,x=S.element,Km(n,s),tc(s,f,null,l);var $=s.memoizedState;if(f=$.element,S.isDehydrated)if(S={element:f,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){x=aa(Error(r(423)),s),s=Bg(n,s,f,l,x);break e}else if(f!==x){x=aa(Error(r(424)),s),s=Bg(n,s,f,l,x);break e}else for(Tr=xs(s.stateNode.containerInfo.firstChild),Ar=s,St=!0,Qr=null,l=qm(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ta(),f===x){s=Ln(n,s,l);break e}fr(n,s,f,l)}s=s.child}return s;case 5:return Zm(s),n===null&&hf(s),f=s.type,x=s.pendingProps,S=n!==null?n.memoizedProps:null,$=x.children,nf(f,x)?$=null:S!==null&&nf(f,S)&&(s.flags|=32),Tg(n,s),fr(n,s,$,l),s.child;case 6:return n===null&&hf(s),null;case 13:return Mg(n,s,l);case 4:return bf(s,s.stateNode.containerInfo),f=s.pendingProps,n===null?s.child=ra(s,null,f,l):fr(n,s,f,l),s.child;case 11:return f=s.type,x=s.pendingProps,x=s.elementType===f?x:Jr(f,x),jg(n,s,f,x,l);case 7:return fr(n,s,s.pendingProps,l),s.child;case 8:return fr(n,s,s.pendingProps.children,l),s.child;case 12:return fr(n,s,s.pendingProps.children,l),s.child;case 10:e:{if(f=s.type._context,x=s.pendingProps,S=s.memoizedProps,$=x.value,yt(Ql,f._currentValue),f._currentValue=$,S!==null)if(Xr(S.value,$)){if(S.children===x.children&&!yr.current){s=Ln(n,s,l);break e}}else for(S=s.child,S!==null&&(S.return=s);S!==null;){var re=S.dependencies;if(re!==null){$=S.child;for(var ce=re.firstContext;ce!==null;){if(ce.context===f){if(S.tag===1){ce=Hn(-1,l&-l),ce.tag=2;var Ee=S.updateQueue;if(Ee!==null){Ee=Ee.shared;var je=Ee.pending;je===null?ce.next=ce:(ce.next=je.next,je.next=ce),Ee.pending=ce}}S.lanes|=l,ce=S.alternate,ce!==null&&(ce.lanes|=l),yf(S.return,l,s),re.lanes|=l;break}ce=ce.next}}else if(S.tag===10)$=S.type===s.type?null:S.child;else if(S.tag===18){if($=S.return,$===null)throw Error(r(341));$.lanes|=l,re=$.alternate,re!==null&&(re.lanes|=l),yf($,l,s),$=S.sibling}else $=S.child;if($!==null)$.return=S;else for($=S;$!==null;){if($===s){$=null;break}if(S=$.sibling,S!==null){S.return=$.return,$=S;break}$=$.return}S=$}fr(n,s,x.children,l),s=s.child}return s;case 9:return x=s.type,f=s.pendingProps.children,sa(s,l),x=Vr(x),f=f(x),s.flags|=1,fr(n,s,f,l),s.child;case 14:return f=s.type,x=Jr(f,s.pendingProps),x=Jr(f.type,x),kg(n,s,f,x,l);case 15:return Cg(n,s,s.type,s.pendingProps,l);case 17:return f=s.type,x=s.pendingProps,x=s.elementType===f?x:Jr(f,x),uc(n,s),s.tag=1,wr(f)?(n=!0,Gl(s)):n=!1,sa(s,l),wg(s,f,x),Mf(s,f,x,l),Uf(null,s,f,!0,n,l);case 19:return Og(n,s,l);case 22:return Ag(n,s,l)}throw Error(r(156,s.tag))};function ax(n,s){return ht(n,s)}function T3(n,s,l,f){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(n,s,l,f){return new T3(n,s,l,f)}function sh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function R3(n){if(typeof n=="function")return sh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===fe)return 11;if(n===G)return 14}return 2}function Cs(n,s){var l=n.alternate;return l===null?(l=Wr(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function bc(n,s,l,f,x,S){var $=2;if(f=n,typeof n=="function")sh(n)&&($=1);else if(typeof n=="string")$=5;else e:switch(n){case X:return gi(l.children,x,S,s);case z:$=8,x|=8;break;case K:return n=Wr(12,l,s,x|2),n.elementType=K,n.lanes=S,n;case T:return n=Wr(13,l,s,x),n.elementType=T,n.lanes=S,n;case V:return n=Wr(19,l,s,x),n.elementType=V,n.lanes=S,n;case le:return Nc(l,x,S,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case W:$=10;break e;case ie:$=9;break e;case fe:$=11;break e;case G:$=14;break e;case ee:$=16,f=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return s=Wr($,l,s,x),s.elementType=n,s.type=f,s.lanes=S,s}function gi(n,s,l,f){return n=Wr(7,n,f,s),n.lanes=l,n}function Nc(n,s,l,f){return n=Wr(22,n,f,s),n.elementType=le,n.lanes=l,n.stateNode={isHidden:!1},n}function ih(n,s,l){return n=Wr(6,n,null,s),n.lanes=l,n}function ah(n,s,l){return s=Wr(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function P3(n,s,l,f,x){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pd(0),this.expirationTimes=Pd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pd(0),this.identifierPrefix=f,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function oh(n,s,l,f,x,S,$,re,ce){return n=new P3(n,s,l,re,ce),s===1?(s=1,S===!0&&(s|=8)):s=0,S=Wr(3,null,null,s),n.current=S,S.stateNode=n,S.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},vf(S),n}function B3(n,s,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:f==null?null:""+f,children:n,containerInfo:s,implementation:l}}function ox(n){if(!n)return ws;n=n._reactInternals;e:{if(On(n)!==n||n.tag!==1)throw Error(r(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(wr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(n.tag===1){var l=n.type;if(wr(l))return Im(n,l,s)}return s}function lx(n,s,l,f,x,S,$,re,ce){return n=oh(l,f,!0,n,x,S,$,re,ce),n.context=ox(null),l=n.current,f=hr(),x=js(l),S=Hn(f,x),S.callback=s??null,Ns(l,S,x),n.current.lanes=x,Ja(n,x,f),Nr(n,f),n}function Ec(n,s,l,f){var x=s.current,S=hr(),$=js(x);return l=ox(l),s.context===null?s.context=l:s.pendingContext=l,s=Hn(S,$),s.payload={element:n},f=f===void 0?null:f,f!==null&&(s.callback=f),n=Ns(x,s,$),n!==null&&(rn(n,x,$,S),ec(n,x,$)),$}function _c(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function cx(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function lh(n,s){cx(n,s),(n=n.alternate)&&cx(n,s)}function M3(){return null}var ux=typeof reportError=="function"?reportError:function(n){console.error(n)};function ch(n){this._internalRoot=n}Sc.prototype.render=ch.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));Ec(n,s,null,null)},Sc.prototype.unmount=ch.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;hi(function(){Ec(null,n,null,null)}),s[Fn]=null}};function Sc(n){this._internalRoot=n}Sc.prototype.unstable_scheduleHydration=function(n){if(n){var s=Kp();n={blockedOn:null,target:n,priority:s};for(var l=0;l<ps.length&&s!==0&&s<ps[l].priority;l++);ps.splice(l,0,n),l===0&&Zp(n)}};function uh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function jc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function dx(){}function I3(n,s,l,f,x){if(x){if(typeof f=="function"){var S=f;f=function(){var Ee=_c($);S.call(Ee)}}var $=lx(s,f,n,0,null,!1,!1,"",dx);return n._reactRootContainer=$,n[Fn]=$.current,po(n.nodeType===8?n.parentNode:n),hi(),$}for(;x=n.lastChild;)n.removeChild(x);if(typeof f=="function"){var re=f;f=function(){var Ee=_c(ce);re.call(Ee)}}var ce=oh(n,0,!1,null,null,!1,!1,"",dx);return n._reactRootContainer=ce,n[Fn]=ce.current,po(n.nodeType===8?n.parentNode:n),hi(function(){Ec(s,ce,l,f)}),ce}function kc(n,s,l,f,x){var S=l._reactRootContainer;if(S){var $=S;if(typeof x=="function"){var re=x;x=function(){var ce=_c($);re.call(ce)}}Ec(s,$,n,x)}else $=I3(l,s,n,x,f);return _c($)}qp=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var l=Qa(s.pendingLanes);l!==0&&(Bd(s,l|1),Nr(s,He()),(ut&6)===0&&(ca=He()+500,vs()))}break;case 13:hi(function(){var f=Vn(n,1);if(f!==null){var x=hr();rn(f,n,1,x)}}),lh(n,1)}},Md=function(n){if(n.tag===13){var s=Vn(n,134217728);if(s!==null){var l=hr();rn(s,n,134217728,l)}lh(n,134217728)}},Gp=function(n){if(n.tag===13){var s=js(n),l=Vn(n,s);if(l!==null){var f=hr();rn(l,n,s,f)}lh(n,s)}},Kp=function(){return pt},Dp=function(n,s){var l=pt;try{return pt=n,s()}finally{pt=l}},ri=function(n,s,l){switch(s){case"input":if(y(n,l),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==n&&f.form===n.form){var x=Wl(f);if(!x)throw Error(r(90));D(f),y(f,x)}}}break;case"textarea":Ie(n,l);break;case"select":s=l.value,s!=null&&se(n,!!l.multiple,s,!1)}},_d=th,Sd=hi;var O3={usingClientEntryPoint:!1,Events:[xo,Zi,Wl,$i,Yr,th]},Ro={findFiberByHostInstance:ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F3={bundleType:Ro.bundleType,version:Ro.version,rendererPackageName:Ro.rendererPackageName,rendererConfig:Ro.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Nl(n),n===null?null:n.stateNode},findFiberByHostInstance:Ro.findFiberByHostInstance||M3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Sl=Cc.inject(F3),mn=Cc}catch{}}return Er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O3,Er.createPortal=function(n,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uh(s))throw Error(r(200));return B3(n,s,null,l)},Er.createRoot=function(n,s){if(!uh(n))throw Error(r(299));var l=!1,f="",x=ux;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=oh(n,1,!1,null,null,l,!1,f,x),n[Fn]=s.current,po(n.nodeType===8?n.parentNode:n),new ch(s)},Er.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=Nl(s),n=n===null?null:n.stateNode,n},Er.flushSync=function(n){return hi(n)},Er.hydrate=function(n,s,l){if(!jc(s))throw Error(r(200));return kc(null,n,s,!0,l)},Er.hydrateRoot=function(n,s,l){if(!uh(n))throw Error(r(405));var f=l!=null&&l.hydratedSources||null,x=!1,S="",$=ux;if(l!=null&&(l.unstable_strictMode===!0&&(x=!0),l.identifierPrefix!==void 0&&(S=l.identifierPrefix),l.onRecoverableError!==void 0&&($=l.onRecoverableError)),s=lx(s,null,n,1,l??null,x,!1,S,$),n[Fn]=s.current,po(n),f)for(n=0;n<f.length;n++)l=f[n],x=l._getVersion,x=x(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,x]:s.mutableSourceEagerHydrationData.push(l,x);return new Sc(s)},Er.render=function(n,s,l){if(!jc(s))throw Error(r(200));return kc(null,n,s,!1,l)},Er.unmountComponentAtNode=function(n){if(!jc(n))throw Error(r(40));return n._reactRootContainer?(hi(function(){kc(null,null,n,!1,function(){n._reactRootContainer=null,n[Fn]=null})}),!0):!1},Er.unstable_batchedUpdates=th,Er.unstable_renderSubtreeIntoContainer=function(n,s,l,f){if(!jc(l))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return kc(n,s,l,!1,f)},Er.version="18.3.1-next-f1338f8080-20240426",Er}var wx;function yw(){if(wx)return hh.exports;wx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hh.exports=D3(),hh.exports}var vx;function Y3(){if(vx)return Ac;vx=1;var e=yw();return Ac.createRoot=e.createRoot,Ac.hydrateRoot=e.hydrateRoot,Ac}var Z3=Y3();const X3=Gu(Z3);var cl=yw();const Q3=Gu(cl);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},_u.apply(this,arguments)}var qs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qs||(qs={}));const bx="popstate";function J3(e){e===void 0&&(e={});function t(i,o){let{pathname:c,search:d,hash:u}=i.location;return h0("",{pathname:c,search:d,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(i,o){return typeof o=="string"?o:vw(o)}return tE(t,r,null,e)}function kr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ww(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eE(){return Math.random().toString(36).substr(2,8)}function Nx(e,t){return{usr:e.state,key:e.key,idx:t}}function h0(e,t,r,i){return r===void 0&&(r=null),_u({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ku(t):t,{state:r,key:t&&t.key||i||eE()})}function vw(e){let{pathname:t="/",search:r="",hash:i=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Ku(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function tE(e,t,r,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:c=!1}=i,d=o.history,u=qs.Pop,h=null,g=p();g==null&&(g=0,d.replaceState(_u({},d.state,{idx:g}),""));function p(){return(d.state||{idx:null}).idx}function m(){u=qs.Pop;let E=p(),P=E==null?null:E-g;g=E,h&&h({action:u,location:j.location,delta:P})}function w(E,P){u=qs.Push;let I=h0(j.location,E,P);g=p()+1;let U=Nx(I,g),q=j.createHref(I);try{d.pushState(U,"",q)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;o.location.assign(q)}c&&h&&h({action:u,location:j.location,delta:1})}function _(E,P){u=qs.Replace;let I=h0(j.location,E,P);g=p();let U=Nx(I,g),q=j.createHref(I);d.replaceState(U,"",q),c&&h&&h({action:u,location:j.location,delta:0})}function v(E){let P=o.location.origin!=="null"?o.location.origin:o.location.href,I=typeof E=="string"?E:vw(E);return I=I.replace(/ $/,"%20"),kr(P,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,P)}let j={get action(){return u},get location(){return e(o,d)},listen(E){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(bx,m),h=E,()=>{o.removeEventListener(bx,m),h=null}},createHref(E){return t(o,E)},createURL:v,encodeLocation(E){let P=v(E);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:w,replace:_,go(E){return d.go(E)}};return j}var Ex;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ex||(Ex={}));function rE(e,t,r){return r===void 0&&(r="/"),nE(e,t,r)}function nE(e,t,r,i){let o=typeof t=="string"?Ku(t):t,c=Ew(o.pathname||"/",r);if(c==null)return null;let d=bw(e);sE(d);let u=null;for(let h=0;u==null&&h<d.length;++h){let g=gE(c);u=hE(d[h],g)}return u}function bw(e,t,r,i){t===void 0&&(t=[]),r===void 0&&(r=[]),i===void 0&&(i="");let o=(c,d,u)=>{let h={relativePath:u===void 0?c.path||"":u,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};h.relativePath.startsWith("/")&&(kr(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let g=Ra([i,h.relativePath]),p=r.concat(h);c.children&&c.children.length>0&&(kr(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),bw(c.children,t,p,g)),!(c.path==null&&!c.index)&&t.push({path:g,score:dE(g,c.index),routesMeta:p})};return e.forEach((c,d)=>{var u;if(c.path===""||!((u=c.path)!=null&&u.includes("?")))o(c,d);else for(let h of Nw(c.path))o(c,d,h)}),t}function Nw(e){let t=e.split("/");if(t.length===0)return[];let[r,...i]=t,o=r.endsWith("?"),c=r.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let d=Nw(i.join("/")),u=[];return u.push(...d.map(h=>h===""?c:[c,h].join("/"))),o&&u.push(...d),u.map(h=>e.startsWith("/")&&h===""?"/":h)}function sE(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:fE(t.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const iE=/^:[\w-]+$/,aE=3,oE=2,lE=1,cE=10,uE=-2,_x=e=>e==="*";function dE(e,t){let r=e.split("/"),i=r.length;return r.some(_x)&&(i+=uE),t&&(i+=oE),r.filter(o=>!_x(o)).reduce((o,c)=>o+(iE.test(c)?aE:c===""?lE:cE),i)}function fE(e,t){return e.length===t.length&&e.slice(0,-1).every((i,o)=>i===t[o])?e[e.length-1]-t[t.length-1]:0}function hE(e,t,r){let{routesMeta:i}=e,o={},c="/",d=[];for(let u=0;u<i.length;++u){let h=i[u],g=u===i.length-1,p=c==="/"?t:t.slice(c.length)||"/",m=pE({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},p),w=h.route;if(!m)return null;Object.assign(o,m.params),d.push({params:o,pathname:Ra([c,m.pathname]),pathnameBase:xE(Ra([c,m.pathnameBase])),route:w}),m.pathnameBase!=="/"&&(c=Ra([c,m.pathnameBase]))}return d}function pE(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=mE(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:i.reduce((g,p,m)=>{let{paramName:w,isOptional:_}=p;if(w==="*"){let j=u[m]||"";d=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const v=u[m];return _&&!v?g[w]=void 0:g[w]=(v||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:e}}function mE(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ww(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function gE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ww(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ew(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}const Ra=e=>e.join("/").replace(/\/\/+/g,"/"),xE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function yE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _w=["post","put","patch","delete"];new Set(_w);const wE=["get",..._w];new Set(wE);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Su.apply(this,arguments)}const vE=A.createContext(null),bE=A.createContext(null),Sw=A.createContext(null),Du=A.createContext(null),Yu=A.createContext({outlet:null,matches:[],isDataRoute:!1}),jw=A.createContext(null);function ep(){return A.useContext(Du)!=null}function NE(){return ep()||kr(!1),A.useContext(Du).location}function EE(e,t){return _E(e,t)}function _E(e,t,r,i){ep()||kr(!1);let{navigator:o}=A.useContext(Sw),{matches:c}=A.useContext(Yu),d=c[c.length-1],u=d?d.params:{};d&&d.pathname;let h=d?d.pathnameBase:"/";d&&d.route;let g=NE(),p;if(t){var m;let E=typeof t=="string"?Ku(t):t;h==="/"||(m=E.pathname)!=null&&m.startsWith(h)||kr(!1),p=E}else p=g;let w=p.pathname||"/",_=w;if(h!=="/"){let E=h.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(E.length).join("/")}let v=rE(e,{pathname:_}),j=AE(v&&v.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Ra([h,o.encodeLocation?o.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:Ra([h,o.encodeLocation?o.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),c,r,i);return t&&j?A.createElement(Du.Provider,{value:{location:Su({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:qs.Pop}},j):j}function SE(){let e=BE(),t=yE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),r?A.createElement("pre",{style:o},r):null,null)}const jE=A.createElement(SE,null);class kE extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?A.createElement(Yu.Provider,{value:this.props.routeContext},A.createElement(jw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CE(e){let{routeContext:t,match:r,children:i}=e,o=A.useContext(vE);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),A.createElement(Yu.Provider,{value:t},i)}function AE(e,t,r,i){var o;if(t===void 0&&(t=[]),r===void 0&&(r=null),i===void 0&&(i=null),e==null){var c;if(!r)return null;if(r.errors)e=r.matches;else if((c=i)!=null&&c.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let d=e,u=(o=r)==null?void 0:o.errors;if(u!=null){let p=d.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);p>=0||kr(!1),d=d.slice(0,Math.min(d.length,p+1))}let h=!1,g=-1;if(r&&i&&i.v7_partialHydration)for(let p=0;p<d.length;p++){let m=d[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(g=p),m.route.id){let{loaderData:w,errors:_}=r,v=m.route.loader&&w[m.route.id]===void 0&&(!_||_[m.route.id]===void 0);if(m.route.lazy||v){h=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((p,m,w)=>{let _,v=!1,j=null,E=null;r&&(_=u&&m.route.id?u[m.route.id]:void 0,j=m.route.errorElement||jE,h&&(g<0&&w===0?(ME("route-fallback"),v=!0,E=null):g===w&&(v=!0,E=m.route.hydrateFallbackElement||null)));let P=t.concat(d.slice(0,w+1)),I=()=>{let U;return _?U=j:v?U=E:m.route.Component?U=A.createElement(m.route.Component,null):m.route.element?U=m.route.element:U=p,A.createElement(CE,{match:m,routeContext:{outlet:p,matches:P,isDataRoute:r!=null},children:U})};return r&&(m.route.ErrorBoundary||m.route.errorElement||w===0)?A.createElement(kE,{location:r.location,revalidation:r.revalidation,component:j,error:_,children:I(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):I()},null)}var kw=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(kw||{});function TE(e){let t=A.useContext(bE);return t||kr(!1),t}function RE(e){let t=A.useContext(Yu);return t||kr(!1),t}function PE(e){let t=RE(),r=t.matches[t.matches.length-1];return r.route.id||kr(!1),r.route.id}function BE(){var e;let t=A.useContext(jw),r=TE(kw.UseRouteError),i=PE();return t!==void 0?t:(e=r.errors)==null?void 0:e[i]}const Sx={};function ME(e,t,r){Sx[e]||(Sx[e]=!0)}function IE(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function p0(e){kr(!1)}function OE(e){let{basename:t="/",children:r=null,location:i,navigationType:o=qs.Pop,navigator:c,static:d=!1,future:u}=e;ep()&&kr(!1);let h=t.replace(/^\/*/,"/"),g=A.useMemo(()=>({basename:h,navigator:c,static:d,future:Su({v7_relativeSplatPath:!1},u)}),[h,u,c,d]);typeof i=="string"&&(i=Ku(i));let{pathname:p="/",search:m="",hash:w="",state:_=null,key:v="default"}=i,j=A.useMemo(()=>{let E=Ew(p,h);return E==null?null:{location:{pathname:E,search:m,hash:w,state:_,key:v},navigationType:o}},[h,p,m,w,_,v,o]);return j==null?null:A.createElement(Sw.Provider,{value:g},A.createElement(Du.Provider,{children:r,value:j}))}function FE(e){let{children:t,location:r}=e;return EE(m0(t),r)}new Promise(()=>{});function m0(e,t){t===void 0&&(t=[]);let r=[];return A.Children.forEach(e,(i,o)=>{if(!A.isValidElement(i))return;let c=[...t,o];if(i.type===A.Fragment){r.push.apply(r,m0(i.props.children,c));return}i.type!==p0&&kr(!1),!i.props.index||!i.props.children||kr(!1);let d={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=m0(i.props.children,c)),r.push(d)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const UE="6";try{window.__reactRouterVersion=UE}catch{}const $E="startTransition",jx=J0[$E];function zE(e){let{basename:t,children:r,future:i,window:o}=e,c=A.useRef();c.current==null&&(c.current=J3({window:o,v5Compat:!0}));let d=c.current,[u,h]=A.useState({action:d.action,location:d.location}),{v7_startTransition:g}=i||{},p=A.useCallback(m=>{g&&jx?jx(()=>h(m)):h(m)},[h,g]);return A.useLayoutEffect(()=>d.listen(p),[d,p]),A.useEffect(()=>IE(i),[i]),A.createElement(OE,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:d,future:i})}var kx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(kx||(kx={}));var Cx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Cx||(Cx={}));var gh={},Bo={},Ax;function Cw(){if(Ax)return Bo;Ax=1,Bo.byteLength=u,Bo.toByteArray=g,Bo.fromByteArray=w;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,c=i.length;o<c;++o)e[o]=i[o],t[i.charCodeAt(o)]=o;t[45]=62,t[95]=63;function d(_){var v=_.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var j=_.indexOf("=");j===-1&&(j=v);var E=j===v?0:4-j%4;return[j,E]}function u(_){var v=d(_),j=v[0],E=v[1];return(j+E)*3/4-E}function h(_,v,j){return(v+j)*3/4-j}function g(_){var v,j=d(_),E=j[0],P=j[1],I=new r(h(_,E,P)),U=0,q=P>0?E-4:E,O;for(O=0;O<q;O+=4)v=t[_.charCodeAt(O)]<<18|t[_.charCodeAt(O+1)]<<12|t[_.charCodeAt(O+2)]<<6|t[_.charCodeAt(O+3)],I[U++]=v>>16&255,I[U++]=v>>8&255,I[U++]=v&255;return P===2&&(v=t[_.charCodeAt(O)]<<2|t[_.charCodeAt(O+1)]>>4,I[U++]=v&255),P===1&&(v=t[_.charCodeAt(O)]<<10|t[_.charCodeAt(O+1)]<<4|t[_.charCodeAt(O+2)]>>2,I[U++]=v>>8&255,I[U++]=v&255),I}function p(_){return e[_>>18&63]+e[_>>12&63]+e[_>>6&63]+e[_&63]}function m(_,v,j){for(var E,P=[],I=v;I<j;I+=3)E=(_[I]<<16&16711680)+(_[I+1]<<8&65280)+(_[I+2]&255),P.push(p(E));return P.join("")}function w(_){for(var v,j=_.length,E=j%3,P=[],I=16383,U=0,q=j-E;U<q;U+=I)P.push(m(_,U,U+I>q?q:U+I));return E===1?(v=_[j-1],P.push(e[v>>2]+e[v<<4&63]+"==")):E===2&&(v=(_[j-2]<<8)+_[j-1],P.push(e[v>>10]+e[v>>4&63]+e[v<<2&63]+"=")),P.join("")}return Bo}var Tc={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Tx;function tp(){return Tx||(Tx=1,Tc.read=function(e,t,r,i,o){var c,d,u=o*8-i-1,h=(1<<u)-1,g=h>>1,p=-7,m=r?o-1:0,w=r?-1:1,_=e[t+m];for(m+=w,c=_&(1<<-p)-1,_>>=-p,p+=u;p>0;c=c*256+e[t+m],m+=w,p-=8);for(d=c&(1<<-p)-1,c>>=-p,p+=i;p>0;d=d*256+e[t+m],m+=w,p-=8);if(c===0)c=1-g;else{if(c===h)return d?NaN:(_?-1:1)*(1/0);d=d+Math.pow(2,i),c=c-g}return(_?-1:1)*d*Math.pow(2,c-i)},Tc.write=function(e,t,r,i,o,c){var d,u,h,g=c*8-o-1,p=(1<<g)-1,m=p>>1,w=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=i?0:c-1,v=i?1:-1,j=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,d=p):(d=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-d))<1&&(d--,h*=2),d+m>=1?t+=w/h:t+=w*Math.pow(2,1-m),t*h>=2&&(d++,h/=2),d+m>=p?(u=0,d=p):d+m>=1?(u=(t*h-1)*Math.pow(2,o),d=d+m):(u=t*Math.pow(2,m-1)*Math.pow(2,o),d=0));o>=8;e[r+_]=u&255,_+=v,u/=256,o-=8);for(d=d<<o|u,g+=o;g>0;e[r+_]=d&255,_+=v,d/=256,g-=8);e[r+_-v]|=j*128}),Tc}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Rx;function VE(){return Rx||(Rx=1,function(e){const t=Cw(),r=tp(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=I,e.INSPECT_MAX_BYTES=50;const o=2147483647;e.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=c(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const B=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(B,N),B.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function d(B){if(B>o)throw new RangeError('The value "'+B+'" is invalid for option "size"');const N=new Uint8Array(B);return Object.setPrototypeOf(N,u.prototype),N}function u(B,N,k){if(typeof B=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(B)}return h(B,N,k)}u.poolSize=8192;function h(B,N,k){if(typeof B=="string")return w(B,N);if(ArrayBuffer.isView(B))return v(B);if(B==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(xe(B,ArrayBuffer)||B&&xe(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(xe(B,SharedArrayBuffer)||B&&xe(B.buffer,SharedArrayBuffer)))return j(B,N,k);if(typeof B=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Z=B.valueOf&&B.valueOf();if(Z!=null&&Z!==B)return u.from(Z,N,k);const ue=E(B);if(ue)return ue;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof B[Symbol.toPrimitive]=="function")return u.from(B[Symbol.toPrimitive]("string"),N,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}u.from=function(B,N,k){return h(B,N,k)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function g(B){if(typeof B!="number")throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function p(B,N,k){return g(B),B<=0?d(B):N!==void 0?typeof k=="string"?d(B).fill(N,k):d(B).fill(N):d(B)}u.alloc=function(B,N,k){return p(B,N,k)};function m(B){return g(B),d(B<0?0:P(B)|0)}u.allocUnsafe=function(B){return m(B)},u.allocUnsafeSlow=function(B){return m(B)};function w(B,N){if((typeof N!="string"||N==="")&&(N="utf8"),!u.isEncoding(N))throw new TypeError("Unknown encoding: "+N);const k=U(B,N)|0;let Z=d(k);const ue=Z.write(B,N);return ue!==k&&(Z=Z.slice(0,ue)),Z}function _(B){const N=B.length<0?0:P(B.length)|0,k=d(N);for(let Z=0;Z<N;Z+=1)k[Z]=B[Z]&255;return k}function v(B){if(xe(B,Uint8Array)){const N=new Uint8Array(B);return j(N.buffer,N.byteOffset,N.byteLength)}return _(B)}function j(B,N,k){if(N<0||B.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<N+(k||0))throw new RangeError('"length" is outside of buffer bounds');let Z;return N===void 0&&k===void 0?Z=new Uint8Array(B):k===void 0?Z=new Uint8Array(B,N):Z=new Uint8Array(B,N,k),Object.setPrototypeOf(Z,u.prototype),Z}function E(B){if(u.isBuffer(B)){const N=P(B.length)|0,k=d(N);return k.length===0||B.copy(k,0,0,N),k}if(B.length!==void 0)return typeof B.length!="number"||ke(B.length)?d(0):_(B);if(B.type==="Buffer"&&Array.isArray(B.data))return _(B.data)}function P(B){if(B>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return B|0}function I(B){return+B!=B&&(B=0),u.alloc(+B)}u.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==u.prototype},u.compare=function(N,k){if(xe(N,Uint8Array)&&(N=u.from(N,N.offset,N.byteLength)),xe(k,Uint8Array)&&(k=u.from(k,k.offset,k.byteLength)),!u.isBuffer(N)||!u.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===k)return 0;let Z=N.length,ue=k.length;for(let be=0,ve=Math.min(Z,ue);be<ve;++be)if(N[be]!==k[be]){Z=N[be],ue=k[be];break}return Z<ue?-1:ue<Z?1:0},u.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(N,k){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return u.alloc(0);let Z;if(k===void 0)for(k=0,Z=0;Z<N.length;++Z)k+=N[Z].length;const ue=u.allocUnsafe(k);let be=0;for(Z=0;Z<N.length;++Z){let ve=N[Z];if(xe(ve,Uint8Array))be+ve.length>ue.length?(u.isBuffer(ve)||(ve=u.from(ve)),ve.copy(ue,be)):Uint8Array.prototype.set.call(ue,ve,be);else if(u.isBuffer(ve))ve.copy(ue,be);else throw new TypeError('"list" argument must be an Array of Buffers');be+=ve.length}return ue};function U(B,N){if(u.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||xe(B,ArrayBuffer))return B.byteLength;if(typeof B!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);const k=B.length,Z=arguments.length>2&&arguments[2]===!0;if(!Z&&k===0)return 0;let ue=!1;for(;;)switch(N){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return y(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return L(B).length;default:if(ue)return Z?-1:y(B).length;N=(""+N).toLowerCase(),ue=!0}}u.byteLength=U;function q(B,N,k){let Z=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,N>>>=0,k<=N))return"";for(B||(B="utf8");;)switch(B){case"hex":return ge(this,N,k);case"utf8":case"utf-8":return V(this,N,k);case"ascii":return le(this,N,k);case"latin1":case"binary":return te(this,N,k);case"base64":return T(this,N,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,N,k);default:if(Z)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),Z=!0}}u.prototype._isBuffer=!0;function O(B,N,k){const Z=B[N];B[N]=B[k],B[k]=Z}u.prototype.swap16=function(){const N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let k=0;k<N;k+=2)O(this,k,k+1);return this},u.prototype.swap32=function(){const N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let k=0;k<N;k+=4)O(this,k,k+3),O(this,k+1,k+2);return this},u.prototype.swap64=function(){const N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let k=0;k<N;k+=8)O(this,k,k+7),O(this,k+1,k+6),O(this,k+2,k+5),O(this,k+3,k+4);return this},u.prototype.toString=function(){const N=this.length;return N===0?"":arguments.length===0?V(this,0,N):q.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(N){if(!u.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:u.compare(this,N)===0},u.prototype.inspect=function(){let N="";const k=e.INSPECT_MAX_BYTES;return N=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(N+=" ... "),"<Buffer "+N+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(N,k,Z,ue,be){if(xe(N,Uint8Array)&&(N=u.from(N,N.offset,N.byteLength)),!u.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(k===void 0&&(k=0),Z===void 0&&(Z=N?N.length:0),ue===void 0&&(ue=0),be===void 0&&(be=this.length),k<0||Z>N.length||ue<0||be>this.length)throw new RangeError("out of range index");if(ue>=be&&k>=Z)return 0;if(ue>=be)return-1;if(k>=Z)return 1;if(k>>>=0,Z>>>=0,ue>>>=0,be>>>=0,this===N)return 0;let ve=be-ue,Ke=Z-k;const Qe=Math.min(ve,Ke),De=this.slice(ue,be),We=N.slice(k,Z);for(let ct=0;ct<Qe;++ct)if(De[ct]!==We[ct]){ve=De[ct],Ke=We[ct];break}return ve<Ke?-1:Ke<ve?1:0};function Q(B,N,k,Z,ue){if(B.length===0)return-1;if(typeof k=="string"?(Z=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,ke(k)&&(k=ue?0:B.length-1),k<0&&(k=B.length+k),k>=B.length){if(ue)return-1;k=B.length-1}else if(k<0)if(ue)k=0;else return-1;if(typeof N=="string"&&(N=u.from(N,Z)),u.isBuffer(N))return N.length===0?-1:X(B,N,k,Z,ue);if(typeof N=="number")return N=N&255,typeof Uint8Array.prototype.indexOf=="function"?ue?Uint8Array.prototype.indexOf.call(B,N,k):Uint8Array.prototype.lastIndexOf.call(B,N,k):X(B,[N],k,Z,ue);throw new TypeError("val must be string, number or Buffer")}function X(B,N,k,Z,ue){let be=1,ve=B.length,Ke=N.length;if(Z!==void 0&&(Z=String(Z).toLowerCase(),Z==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(B.length<2||N.length<2)return-1;be=2,ve/=2,Ke/=2,k/=2}function Qe(We,ct){return be===1?We[ct]:We.readUInt16BE(ct*be)}let De;if(ue){let We=-1;for(De=k;De<ve;De++)if(Qe(B,De)===Qe(N,We===-1?0:De-We)){if(We===-1&&(We=De),De-We+1===Ke)return We*be}else We!==-1&&(De-=De-We),We=-1}else for(k+Ke>ve&&(k=ve-Ke),De=k;De>=0;De--){let We=!0;for(let ct=0;ct<Ke;ct++)if(Qe(B,De+ct)!==Qe(N,ct)){We=!1;break}if(We)return De}return-1}u.prototype.includes=function(N,k,Z){return this.indexOf(N,k,Z)!==-1},u.prototype.indexOf=function(N,k,Z){return Q(this,N,k,Z,!0)},u.prototype.lastIndexOf=function(N,k,Z){return Q(this,N,k,Z,!1)};function z(B,N,k,Z){k=Number(k)||0;const ue=B.length-k;Z?(Z=Number(Z),Z>ue&&(Z=ue)):Z=ue;const be=N.length;Z>be/2&&(Z=be/2);let ve;for(ve=0;ve<Z;++ve){const Ke=parseInt(N.substr(ve*2,2),16);if(ke(Ke))return ve;B[k+ve]=Ke}return ve}function K(B,N,k,Z){return se(y(N,B.length-k),B,k,Z)}function W(B,N,k,Z){return se(b(N),B,k,Z)}function ie(B,N,k,Z){return se(L(N),B,k,Z)}function fe(B,N,k,Z){return se(M(N,B.length-k),B,k,Z)}u.prototype.write=function(N,k,Z,ue){if(k===void 0)ue="utf8",Z=this.length,k=0;else if(Z===void 0&&typeof k=="string")ue=k,Z=this.length,k=0;else if(isFinite(k))k=k>>>0,isFinite(Z)?(Z=Z>>>0,ue===void 0&&(ue="utf8")):(ue=Z,Z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const be=this.length-k;if((Z===void 0||Z>be)&&(Z=be),N.length>0&&(Z<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");ue||(ue="utf8");let ve=!1;for(;;)switch(ue){case"hex":return z(this,N,k,Z);case"utf8":case"utf-8":return K(this,N,k,Z);case"ascii":case"latin1":case"binary":return W(this,N,k,Z);case"base64":return ie(this,N,k,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,N,k,Z);default:if(ve)throw new TypeError("Unknown encoding: "+ue);ue=(""+ue).toLowerCase(),ve=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(B,N,k){return N===0&&k===B.length?t.fromByteArray(B):t.fromByteArray(B.slice(N,k))}function V(B,N,k){k=Math.min(B.length,k);const Z=[];let ue=N;for(;ue<k;){const be=B[ue];let ve=null,Ke=be>239?4:be>223?3:be>191?2:1;if(ue+Ke<=k){let Qe,De,We,ct;switch(Ke){case 1:be<128&&(ve=be);break;case 2:Qe=B[ue+1],(Qe&192)===128&&(ct=(be&31)<<6|Qe&63,ct>127&&(ve=ct));break;case 3:Qe=B[ue+1],De=B[ue+2],(Qe&192)===128&&(De&192)===128&&(ct=(be&15)<<12|(Qe&63)<<6|De&63,ct>2047&&(ct<55296||ct>57343)&&(ve=ct));break;case 4:Qe=B[ue+1],De=B[ue+2],We=B[ue+3],(Qe&192)===128&&(De&192)===128&&(We&192)===128&&(ct=(be&15)<<18|(Qe&63)<<12|(De&63)<<6|We&63,ct>65535&&ct<1114112&&(ve=ct))}}ve===null?(ve=65533,Ke=1):ve>65535&&(ve-=65536,Z.push(ve>>>10&1023|55296),ve=56320|ve&1023),Z.push(ve),ue+=Ke}return ee(Z)}const G=4096;function ee(B){const N=B.length;if(N<=G)return String.fromCharCode.apply(String,B);let k="",Z=0;for(;Z<N;)k+=String.fromCharCode.apply(String,B.slice(Z,Z+=G));return k}function le(B,N,k){let Z="";k=Math.min(B.length,k);for(let ue=N;ue<k;++ue)Z+=String.fromCharCode(B[ue]&127);return Z}function te(B,N,k){let Z="";k=Math.min(B.length,k);for(let ue=N;ue<k;++ue)Z+=String.fromCharCode(B[ue]);return Z}function ge(B,N,k){const Z=B.length;(!N||N<0)&&(N=0),(!k||k<0||k>Z)&&(k=Z);let ue="";for(let be=N;be<k;++be)ue+=Ie[B[be]];return ue}function _e(B,N,k){const Z=B.slice(N,k);let ue="";for(let be=0;be<Z.length-1;be+=2)ue+=String.fromCharCode(Z[be]+Z[be+1]*256);return ue}u.prototype.slice=function(N,k){const Z=this.length;N=~~N,k=k===void 0?Z:~~k,N<0?(N+=Z,N<0&&(N=0)):N>Z&&(N=Z),k<0?(k+=Z,k<0&&(k=0)):k>Z&&(k=Z),k<N&&(k=N);const ue=this.subarray(N,k);return Object.setPrototypeOf(ue,u.prototype),ue};function Y(B,N,k){if(B%1!==0||B<0)throw new RangeError("offset is not uint");if(B+N>k)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(N,k,Z){N=N>>>0,k=k>>>0,Z||Y(N,k,this.length);let ue=this[N],be=1,ve=0;for(;++ve<k&&(be*=256);)ue+=this[N+ve]*be;return ue},u.prototype.readUintBE=u.prototype.readUIntBE=function(N,k,Z){N=N>>>0,k=k>>>0,Z||Y(N,k,this.length);let ue=this[N+--k],be=1;for(;k>0&&(be*=256);)ue+=this[N+--k]*be;return ue},u.prototype.readUint8=u.prototype.readUInt8=function(N,k){return N=N>>>0,k||Y(N,1,this.length),this[N]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(N,k){return N=N>>>0,k||Y(N,2,this.length),this[N]|this[N+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(N,k){return N=N>>>0,k||Y(N,2,this.length),this[N]<<8|this[N+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(N,k){return N=N>>>0,k||Y(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(N,k){return N=N>>>0,k||Y(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},u.prototype.readBigUInt64LE=Ue(function(N){N=N>>>0,J(N,"offset");const k=this[N],Z=this[N+7];(k===void 0||Z===void 0)&&ne(N,this.length-8);const ue=k+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24,be=this[++N]+this[++N]*2**8+this[++N]*2**16+Z*2**24;return BigInt(ue)+(BigInt(be)<<BigInt(32))}),u.prototype.readBigUInt64BE=Ue(function(N){N=N>>>0,J(N,"offset");const k=this[N],Z=this[N+7];(k===void 0||Z===void 0)&&ne(N,this.length-8);const ue=k*2**24+this[++N]*2**16+this[++N]*2**8+this[++N],be=this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+Z;return(BigInt(ue)<<BigInt(32))+BigInt(be)}),u.prototype.readIntLE=function(N,k,Z){N=N>>>0,k=k>>>0,Z||Y(N,k,this.length);let ue=this[N],be=1,ve=0;for(;++ve<k&&(be*=256);)ue+=this[N+ve]*be;return be*=128,ue>=be&&(ue-=Math.pow(2,8*k)),ue},u.prototype.readIntBE=function(N,k,Z){N=N>>>0,k=k>>>0,Z||Y(N,k,this.length);let ue=k,be=1,ve=this[N+--ue];for(;ue>0&&(be*=256);)ve+=this[N+--ue]*be;return be*=128,ve>=be&&(ve-=Math.pow(2,8*k)),ve},u.prototype.readInt8=function(N,k){return N=N>>>0,k||Y(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},u.prototype.readInt16LE=function(N,k){N=N>>>0,k||Y(N,2,this.length);const Z=this[N]|this[N+1]<<8;return Z&32768?Z|4294901760:Z},u.prototype.readInt16BE=function(N,k){N=N>>>0,k||Y(N,2,this.length);const Z=this[N+1]|this[N]<<8;return Z&32768?Z|4294901760:Z},u.prototype.readInt32LE=function(N,k){return N=N>>>0,k||Y(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},u.prototype.readInt32BE=function(N,k){return N=N>>>0,k||Y(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},u.prototype.readBigInt64LE=Ue(function(N){N=N>>>0,J(N,"offset");const k=this[N],Z=this[N+7];(k===void 0||Z===void 0)&&ne(N,this.length-8);const ue=this[N+4]+this[N+5]*2**8+this[N+6]*2**16+(Z<<24);return(BigInt(ue)<<BigInt(32))+BigInt(k+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24)}),u.prototype.readBigInt64BE=Ue(function(N){N=N>>>0,J(N,"offset");const k=this[N],Z=this[N+7];(k===void 0||Z===void 0)&&ne(N,this.length-8);const ue=(k<<24)+this[++N]*2**16+this[++N]*2**8+this[++N];return(BigInt(ue)<<BigInt(32))+BigInt(this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+Z)}),u.prototype.readFloatLE=function(N,k){return N=N>>>0,k||Y(N,4,this.length),r.read(this,N,!0,23,4)},u.prototype.readFloatBE=function(N,k){return N=N>>>0,k||Y(N,4,this.length),r.read(this,N,!1,23,4)},u.prototype.readDoubleLE=function(N,k){return N=N>>>0,k||Y(N,8,this.length),r.read(this,N,!0,52,8)},u.prototype.readDoubleBE=function(N,k){return N=N>>>0,k||Y(N,8,this.length),r.read(this,N,!1,52,8)};function me(B,N,k,Z,ue,be){if(!u.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>ue||N<be)throw new RangeError('"value" argument is out of bounds');if(k+Z>B.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(N,k,Z,ue){if(N=+N,k=k>>>0,Z=Z>>>0,!ue){const Ke=Math.pow(2,8*Z)-1;me(this,N,k,Z,Ke,0)}let be=1,ve=0;for(this[k]=N&255;++ve<Z&&(be*=256);)this[k+ve]=N/be&255;return k+Z},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(N,k,Z,ue){if(N=+N,k=k>>>0,Z=Z>>>0,!ue){const Ke=Math.pow(2,8*Z)-1;me(this,N,k,Z,Ke,0)}let be=Z-1,ve=1;for(this[k+be]=N&255;--be>=0&&(ve*=256);)this[k+be]=N/ve&255;return k+Z},u.prototype.writeUint8=u.prototype.writeUInt8=function(N,k,Z){return N=+N,k=k>>>0,Z||me(this,N,k,1,255,0),this[k]=N&255,k+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(N,k,Z){return N=+N,k=k>>>0,Z||me(this,N,k,2,65535,0),this[k]=N&255,this[k+1]=N>>>8,k+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(N,k,Z){return N=+N,k=k>>>0,Z||me(this,N,k,2,65535,0),this[k]=N>>>8,this[k+1]=N&255,k+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(N,k,Z){return N=+N,k=k>>>0,Z||me(this,N,k,4,4294967295,0),this[k+3]=N>>>24,this[k+2]=N>>>16,this[k+1]=N>>>8,this[k]=N&255,k+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(N,k,Z){return N=+N,k=k>>>0,Z||me(this,N,k,4,4294967295,0),this[k]=N>>>24,this[k+1]=N>>>16,this[k+2]=N>>>8,this[k+3]=N&255,k+4};function Be(B,N,k,Z,ue){D(N,Z,ue,B,k,7);let be=Number(N&BigInt(4294967295));B[k++]=be,be=be>>8,B[k++]=be,be=be>>8,B[k++]=be,be=be>>8,B[k++]=be;let ve=Number(N>>BigInt(32)&BigInt(4294967295));return B[k++]=ve,ve=ve>>8,B[k++]=ve,ve=ve>>8,B[k++]=ve,ve=ve>>8,B[k++]=ve,k}function H(B,N,k,Z,ue){D(N,Z,ue,B,k,7);let be=Number(N&BigInt(4294967295));B[k+7]=be,be=be>>8,B[k+6]=be,be=be>>8,B[k+5]=be,be=be>>8,B[k+4]=be;let ve=Number(N>>BigInt(32)&BigInt(4294967295));return B[k+3]=ve,ve=ve>>8,B[k+2]=ve,ve=ve>>8,B[k+1]=ve,ve=ve>>8,B[k]=ve,k+8}u.prototype.writeBigUInt64LE=Ue(function(N,k=0){return Be(this,N,k,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Ue(function(N,k=0){return H(this,N,k,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(N,k,Z,ue){if(N=+N,k=k>>>0,!ue){const Qe=Math.pow(2,8*Z-1);me(this,N,k,Z,Qe-1,-Qe)}let be=0,ve=1,Ke=0;for(this[k]=N&255;++be<Z&&(ve*=256);)N<0&&Ke===0&&this[k+be-1]!==0&&(Ke=1),this[k+be]=(N/ve>>0)-Ke&255;return k+Z},u.prototype.writeIntBE=function(N,k,Z,ue){if(N=+N,k=k>>>0,!ue){const Qe=Math.pow(2,8*Z-1);me(this,N,k,Z,Qe-1,-Qe)}let be=Z-1,ve=1,Ke=0;for(this[k+be]=N&255;--be>=0&&(ve*=256);)N<0&&Ke===0&&this[k+be+1]!==0&&(Ke=1),this[k+be]=(N/ve>>0)-Ke&255;return k+Z},u.prototype.writeInt8=function(N,k,Z){return N=+N,k=k>>>0,Z||me(this,N,k,1,127,-128),N<0&&(N=255+N+1),this[k]=N&255,k+1},u.prototype.writeInt16LE=function(N,k,Z){return N=+N,k=k>>>0,Z||me(this,N,k,2,32767,-32768),this[k]=N&255,this[k+1]=N>>>8,k+2},u.prototype.writeInt16BE=function(N,k,Z){return N=+N,k=k>>>0,Z||me(this,N,k,2,32767,-32768),this[k]=N>>>8,this[k+1]=N&255,k+2},u.prototype.writeInt32LE=function(N,k,Z){return N=+N,k=k>>>0,Z||me(this,N,k,4,2147483647,-2147483648),this[k]=N&255,this[k+1]=N>>>8,this[k+2]=N>>>16,this[k+3]=N>>>24,k+4},u.prototype.writeInt32BE=function(N,k,Z){return N=+N,k=k>>>0,Z||me(this,N,k,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[k]=N>>>24,this[k+1]=N>>>16,this[k+2]=N>>>8,this[k+3]=N&255,k+4},u.prototype.writeBigInt64LE=Ue(function(N,k=0){return Be(this,N,k,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Ue(function(N,k=0){return H(this,N,k,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Pe(B,N,k,Z,ue,be){if(k+Z>B.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function Ae(B,N,k,Z,ue){return N=+N,k=k>>>0,ue||Pe(B,N,k,4),r.write(B,N,k,Z,23,4),k+4}u.prototype.writeFloatLE=function(N,k,Z){return Ae(this,N,k,!0,Z)},u.prototype.writeFloatBE=function(N,k,Z){return Ae(this,N,k,!1,Z)};function pe(B,N,k,Z,ue){return N=+N,k=k>>>0,ue||Pe(B,N,k,8),r.write(B,N,k,Z,52,8),k+8}u.prototype.writeDoubleLE=function(N,k,Z){return pe(this,N,k,!0,Z)},u.prototype.writeDoubleBE=function(N,k,Z){return pe(this,N,k,!1,Z)},u.prototype.copy=function(N,k,Z,ue){if(!u.isBuffer(N))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),!ue&&ue!==0&&(ue=this.length),k>=N.length&&(k=N.length),k||(k=0),ue>0&&ue<Z&&(ue=Z),ue===Z||N.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(ue<0)throw new RangeError("sourceEnd out of bounds");ue>this.length&&(ue=this.length),N.length-k<ue-Z&&(ue=N.length-k+Z);const be=ue-Z;return this===N&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(k,Z,ue):Uint8Array.prototype.set.call(N,this.subarray(Z,ue),k),be},u.prototype.fill=function(N,k,Z,ue){if(typeof N=="string"){if(typeof k=="string"?(ue=k,k=0,Z=this.length):typeof Z=="string"&&(ue=Z,Z=this.length),ue!==void 0&&typeof ue!="string")throw new TypeError("encoding must be a string");if(typeof ue=="string"&&!u.isEncoding(ue))throw new TypeError("Unknown encoding: "+ue);if(N.length===1){const ve=N.charCodeAt(0);(ue==="utf8"&&ve<128||ue==="latin1")&&(N=ve)}}else typeof N=="number"?N=N&255:typeof N=="boolean"&&(N=Number(N));if(k<0||this.length<k||this.length<Z)throw new RangeError("Out of range index");if(Z<=k)return this;k=k>>>0,Z=Z===void 0?this.length:Z>>>0,N||(N=0);let be;if(typeof N=="number")for(be=k;be<Z;++be)this[be]=N;else{const ve=u.isBuffer(N)?N:u.from(N,ue),Ke=ve.length;if(Ke===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(be=0;be<Z-k;++be)this[be+k]=ve[be%Ke]}return this};const de={};function Ne(B,N,k){de[B]=class extends k{constructor(){super(),Object.defineProperty(this,"message",{value:N.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${B}]`,this.stack,delete this.name}get code(){return B}set code(ue){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ue,writable:!0})}toString(){return`${this.name} [${B}]: ${this.message}`}}}Ne("ERR_BUFFER_OUT_OF_BOUNDS",function(B){return B?`${B} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ne("ERR_INVALID_ARG_TYPE",function(B,N){return`The "${B}" argument must be of type number. Received type ${typeof N}`},TypeError),Ne("ERR_OUT_OF_RANGE",function(B,N,k){let Z=`The value of "${B}" is out of range.`,ue=k;return Number.isInteger(k)&&Math.abs(k)>2**32?ue=C(String(k)):typeof k=="bigint"&&(ue=String(k),(k>BigInt(2)**BigInt(32)||k<-(BigInt(2)**BigInt(32)))&&(ue=C(ue)),ue+="n"),Z+=` It must be ${N}. Received ${ue}`,Z},RangeError);function C(B){let N="",k=B.length;const Z=B[0]==="-"?1:0;for(;k>=Z+4;k-=3)N=`_${B.slice(k-3,k)}${N}`;return`${B.slice(0,k)}${N}`}function F(B,N,k){J(N,"offset"),(B[N]===void 0||B[N+k]===void 0)&&ne(N,B.length-(k+1))}function D(B,N,k,Z,ue,be){if(B>k||B<N){const ve=typeof N=="bigint"?"n":"";let Ke;throw N===0||N===BigInt(0)?Ke=`>= 0${ve} and < 2${ve} ** ${(be+1)*8}${ve}`:Ke=`>= -(2${ve} ** ${(be+1)*8-1}${ve}) and < 2 ** ${(be+1)*8-1}${ve}`,new de.ERR_OUT_OF_RANGE("value",Ke,B)}F(Z,ue,be)}function J(B,N){if(typeof B!="number")throw new de.ERR_INVALID_ARG_TYPE(N,"number",B)}function ne(B,N,k){throw Math.floor(B)!==B?(J(B,k),new de.ERR_OUT_OF_RANGE("offset","an integer",B)):N<0?new de.ERR_BUFFER_OUT_OF_BOUNDS:new de.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${N}`,B)}const ae=/[^+/0-9A-Za-z-_]/g;function R(B){if(B=B.split("=")[0],B=B.trim().replace(ae,""),B.length<2)return"";for(;B.length%4!==0;)B=B+"=";return B}function y(B,N){N=N||1/0;let k;const Z=B.length;let ue=null;const be=[];for(let ve=0;ve<Z;++ve){if(k=B.charCodeAt(ve),k>55295&&k<57344){if(!ue){if(k>56319){(N-=3)>-1&&be.push(239,191,189);continue}else if(ve+1===Z){(N-=3)>-1&&be.push(239,191,189);continue}ue=k;continue}if(k<56320){(N-=3)>-1&&be.push(239,191,189),ue=k;continue}k=(ue-55296<<10|k-56320)+65536}else ue&&(N-=3)>-1&&be.push(239,191,189);if(ue=null,k<128){if((N-=1)<0)break;be.push(k)}else if(k<2048){if((N-=2)<0)break;be.push(k>>6|192,k&63|128)}else if(k<65536){if((N-=3)<0)break;be.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((N-=4)<0)break;be.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return be}function b(B){const N=[];for(let k=0;k<B.length;++k)N.push(B.charCodeAt(k)&255);return N}function M(B,N){let k,Z,ue;const be=[];for(let ve=0;ve<B.length&&!((N-=2)<0);++ve)k=B.charCodeAt(ve),Z=k>>8,ue=k%256,be.push(ue),be.push(Z);return be}function L(B){return t.toByteArray(R(B))}function se(B,N,k,Z){let ue;for(ue=0;ue<Z&&!(ue+k>=N.length||ue>=B.length);++ue)N[ue+k]=B[ue];return ue}function xe(B,N){return B instanceof N||B!=null&&B.constructor!=null&&B.constructor.name!=null&&B.constructor.name===N.name}function ke(B){return B!==B}const Ie=function(){const B="0123456789abcdef",N=new Array(256);for(let k=0;k<16;++k){const Z=k*16;for(let ue=0;ue<16;++ue)N[Z+ue]=B[k]+B[ue]}return N}();function Ue(B){return typeof BigInt>"u"?Ze:B}function Ze(){throw new Error("BigInt not supported")}}(gh)),gh}var HE=VE(),g0;(function(e){e[e.SysFatal=1]="SysFatal",e[e.SysTransient=2]="SysTransient",e[e.DestinationInvalid=3]="DestinationInvalid",e[e.CanisterReject=4]="CanisterReject",e[e.CanisterError=5]="CanisterError"})(g0||(g0={}));const LE="modulepreload",WE=function(e){return"/"+e},Px={},qE=function(t,r,i){let o=Promise.resolve();if(r&&r.length>0){let d=function(g){return Promise.all(g.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=d(r.map(g=>{if(g=WE(g),g in Px)return;Px[g]=!0;const p=g.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${m}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":LE,p||(w.as="script"),w.crossOrigin="",w.href=g,h&&w.setAttribute("nonce",h),document.head.appendChild(w),p)return new Promise((_,v)=>{w.addEventListener("load",_),w.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(d){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=d,window.dispatchEvent(u),!u.defaultPrevented)throw d}return o.then(d=>{for(const u of d||[])u.status==="rejected"&&c(u.reason);return t().catch(c)})},ju="abcdefghijklmnopqrstuvwxyz234567",Ua=Object.create(null);for(let e=0;e<ju.length;e++)Ua[ju[e]]=e;Ua[0]=Ua.o;Ua[1]=Ua.i;function GE(e){let t=0,r=0,i="";function o(c){return t<0?r|=c>>-t:r=c<<t&248,t>3?(t-=8,1):(t<4&&(i+=ju[r>>3],t+=5),0)}for(let c=0;c<e.length;)c+=o(e[c]);return i+(t<0?ju[r>>3]:"")}function KE(e){let t=0,r=0;const i=new Uint8Array(e.length*4/3|0);let o=0;function c(d){let u=Ua[d.toLowerCase()];if(u===void 0)throw new Error(`Invalid character: ${JSON.stringify(d)}`);u<<=3,r|=u>>>t,t+=5,t>=8&&(i[o++]=r,t-=8,t>0?r=u<<5-t&255:r=0)}for(const d of e)c(d);return i.slice(0,o)}const DE=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function YE(e){const t=new Uint8Array(e);let r=-1;for(let i=0;i<t.length;i++){const c=(t[i]^r)&255;r=DE[c]^r>>>8}return(r^-1)>>>0}const da=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function rp(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ZE(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function tr(e,...t){if(!rp(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Bx(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function XE(e,t){tr(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Zo(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function xh(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function vn(e,t){return e<<32-t|e>>>t}const Aw=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",QE=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function $a(e){if(tr(e),Aw)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=QE[e[r]];return t}const qn={_0:48,_9:57,A:65,F:70,a:97,f:102};function Mx(e){if(e>=qn._0&&e<=qn._9)return e-qn._0;if(e>=qn.A&&e<=qn.F)return e-(qn.A-10);if(e>=qn.a&&e<=qn.f)return e-(qn.a-10)}function Tw(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Aw)return Uint8Array.fromHex(e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(r);for(let o=0,c=0;o<r;o++,c+=2){const d=Mx(e.charCodeAt(c)),u=Mx(e.charCodeAt(c+1));if(d===void 0||u===void 0){const h=e[c]+e[c+1];throw new Error('hex string expected, got non-hex character "'+h+'" at index '+c)}i[o]=d*16+u}return i}function Zu(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Rw(e){return typeof e=="string"&&(e=Zu(e)),tr(e),e}function Mt(...e){let t=0;for(let i=0;i<e.length;i++){const o=e[i];tr(o),t+=o.length}const r=new Uint8Array(t);for(let i=0,o=0;i<e.length;i++){const c=e[i];r.set(c,o),o+=c.length}return r}class JE{}function np(e){const t=i=>e().update(Rw(i)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Pw(e=32){if(da&&typeof da.getRandomValues=="function")return da.getRandomValues(new Uint8Array(e));if(da&&typeof da.randomBytes=="function")return Uint8Array.from(da.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function e_(e,t,r,i){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,i);const o=BigInt(32),c=BigInt(4294967295),d=Number(r>>o&c),u=Number(r&c),h=i?4:0,g=i?0:4;e.setUint32(t+h,d,i),e.setUint32(t+g,u,i)}function t_(e,t,r){return e&t^~e&r}function r_(e,t,r){return e&t^e&r^t&r}class Bw extends JE{constructor(t,r,i,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=r,this.padOffset=i,this.isLE=o,this.buffer=new Uint8Array(t),this.view=xh(this.buffer)}update(t){Bx(this),t=Rw(t),tr(t);const{view:r,buffer:i,blockLen:o}=this,c=t.length;for(let d=0;d<c;){const u=Math.min(o-this.pos,c-d);if(u===o){const h=xh(t);for(;o<=c-d;d+=o)this.process(h,d);continue}i.set(t.subarray(d,d+u),this.pos),this.pos+=u,d+=u,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Bx(this),XE(t,this),this.finished=!0;const{buffer:r,view:i,blockLen:o,isLE:c}=this;let{pos:d}=this;r[d++]=128,Zo(this.buffer.subarray(d)),this.padOffset>o-d&&(this.process(i,0),d=0);for(let m=d;m<o;m++)r[m]=0;e_(i,o-8,BigInt(this.length*8),c),this.process(i,0);const u=xh(t),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const g=h/4,p=this.get();if(g>p.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<g;m++)u.setUint32(4*m,p[m],c)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const i=t.slice(0,r);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:i,length:o,finished:c,destroyed:d,pos:u}=this;return t.destroyed=d,t.finished=c,t.length=o,t.pos=u,o%r&&t.buffer.set(i),t}clone(){return this._cloneInto()}}const Ts=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Rs=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),ar=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Rc=BigInt(2**32-1),Ix=BigInt(32);function n_(e,t=!1){return t?{h:Number(e&Rc),l:Number(e>>Ix&Rc)}:{h:Number(e>>Ix&Rc)|0,l:Number(e&Rc)|0}}function s_(e,t=!1){const r=e.length;let i=new Uint32Array(r),o=new Uint32Array(r);for(let c=0;c<r;c++){const{h:d,l:u}=n_(e[c],t);[i[c],o[c]]=[d,u]}return[i,o]}const Ox=(e,t,r)=>e>>>r,Fx=(e,t,r)=>e<<32-r|t>>>r,fa=(e,t,r)=>e>>>r|t<<32-r,ha=(e,t,r)=>e<<32-r|t>>>r,Pc=(e,t,r)=>e<<64-r|t>>>r-32,Bc=(e,t,r)=>e>>>r-32|t<<64-r;function Gn(e,t,r,i){const o=(t>>>0)+(i>>>0);return{h:e+r+(o/2**32|0)|0,l:o|0}}const i_=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),a_=(e,t,r,i)=>t+r+i+(e/2**32|0)|0,o_=(e,t,r,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),l_=(e,t,r,i,o)=>t+r+i+o+(e/2**32|0)|0,c_=(e,t,r,i,o)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0)+(o>>>0),u_=(e,t,r,i,o,c)=>t+r+i+o+c+(e/2**32|0)|0,d_=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ps=new Uint32Array(64);class Mw extends Bw{constructor(t=32){super(64,t,8,!1),this.A=Ts[0]|0,this.B=Ts[1]|0,this.C=Ts[2]|0,this.D=Ts[3]|0,this.E=Ts[4]|0,this.F=Ts[5]|0,this.G=Ts[6]|0,this.H=Ts[7]|0}get(){const{A:t,B:r,C:i,D:o,E:c,F:d,G:u,H:h}=this;return[t,r,i,o,c,d,u,h]}set(t,r,i,o,c,d,u,h){this.A=t|0,this.B=r|0,this.C=i|0,this.D=o|0,this.E=c|0,this.F=d|0,this.G=u|0,this.H=h|0}process(t,r){for(let m=0;m<16;m++,r+=4)Ps[m]=t.getUint32(r,!1);for(let m=16;m<64;m++){const w=Ps[m-15],_=Ps[m-2],v=vn(w,7)^vn(w,18)^w>>>3,j=vn(_,17)^vn(_,19)^_>>>10;Ps[m]=j+Ps[m-7]+v+Ps[m-16]|0}let{A:i,B:o,C:c,D:d,E:u,F:h,G:g,H:p}=this;for(let m=0;m<64;m++){const w=vn(u,6)^vn(u,11)^vn(u,25),_=p+w+t_(u,h,g)+d_[m]+Ps[m]|0,j=(vn(i,2)^vn(i,13)^vn(i,22))+r_(i,o,c)|0;p=g,g=h,h=u,u=d+_|0,d=c,c=o,o=i,i=_+j|0}i=i+this.A|0,o=o+this.B|0,c=c+this.C|0,d=d+this.D|0,u=u+this.E|0,h=h+this.F|0,g=g+this.G|0,p=p+this.H|0,this.set(i,o,c,d,u,h,g,p)}roundClean(){Zo(Ps)}destroy(){this.set(0,0,0,0,0,0,0,0),Zo(this.buffer)}}class f_ extends Mw{constructor(){super(28),this.A=Rs[0]|0,this.B=Rs[1]|0,this.C=Rs[2]|0,this.D=Rs[3]|0,this.E=Rs[4]|0,this.F=Rs[5]|0,this.G=Rs[6]|0,this.H=Rs[7]|0}}const Iw=s_(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),h_=Iw[0],p_=Iw[1],Bs=new Uint32Array(80),Ms=new Uint32Array(80);class m_ extends Bw{constructor(t=64){super(128,t,16,!1),this.Ah=ar[0]|0,this.Al=ar[1]|0,this.Bh=ar[2]|0,this.Bl=ar[3]|0,this.Ch=ar[4]|0,this.Cl=ar[5]|0,this.Dh=ar[6]|0,this.Dl=ar[7]|0,this.Eh=ar[8]|0,this.El=ar[9]|0,this.Fh=ar[10]|0,this.Fl=ar[11]|0,this.Gh=ar[12]|0,this.Gl=ar[13]|0,this.Hh=ar[14]|0,this.Hl=ar[15]|0}get(){const{Ah:t,Al:r,Bh:i,Bl:o,Ch:c,Cl:d,Dh:u,Dl:h,Eh:g,El:p,Fh:m,Fl:w,Gh:_,Gl:v,Hh:j,Hl:E}=this;return[t,r,i,o,c,d,u,h,g,p,m,w,_,v,j,E]}set(t,r,i,o,c,d,u,h,g,p,m,w,_,v,j,E){this.Ah=t|0,this.Al=r|0,this.Bh=i|0,this.Bl=o|0,this.Ch=c|0,this.Cl=d|0,this.Dh=u|0,this.Dl=h|0,this.Eh=g|0,this.El=p|0,this.Fh=m|0,this.Fl=w|0,this.Gh=_|0,this.Gl=v|0,this.Hh=j|0,this.Hl=E|0}process(t,r){for(let U=0;U<16;U++,r+=4)Bs[U]=t.getUint32(r),Ms[U]=t.getUint32(r+=4);for(let U=16;U<80;U++){const q=Bs[U-15]|0,O=Ms[U-15]|0,Q=fa(q,O,1)^fa(q,O,8)^Ox(q,O,7),X=ha(q,O,1)^ha(q,O,8)^Fx(q,O,7),z=Bs[U-2]|0,K=Ms[U-2]|0,W=fa(z,K,19)^Pc(z,K,61)^Ox(z,K,6),ie=ha(z,K,19)^Bc(z,K,61)^Fx(z,K,6),fe=o_(X,ie,Ms[U-7],Ms[U-16]),T=l_(fe,Q,W,Bs[U-7],Bs[U-16]);Bs[U]=T|0,Ms[U]=fe|0}let{Ah:i,Al:o,Bh:c,Bl:d,Ch:u,Cl:h,Dh:g,Dl:p,Eh:m,El:w,Fh:_,Fl:v,Gh:j,Gl:E,Hh:P,Hl:I}=this;for(let U=0;U<80;U++){const q=fa(m,w,14)^fa(m,w,18)^Pc(m,w,41),O=ha(m,w,14)^ha(m,w,18)^Bc(m,w,41),Q=m&_^~m&j,X=w&v^~w&E,z=c_(I,O,X,p_[U],Ms[U]),K=u_(z,P,q,Q,h_[U],Bs[U]),W=z|0,ie=fa(i,o,28)^Pc(i,o,34)^Pc(i,o,39),fe=ha(i,o,28)^Bc(i,o,34)^Bc(i,o,39),T=i&c^i&u^c&u,V=o&d^o&h^d&h;P=j|0,I=E|0,j=_|0,E=v|0,_=m|0,v=w|0,{h:m,l:w}=Gn(g|0,p|0,K|0,W|0),g=u|0,p=h|0,u=c|0,h=d|0,c=i|0,d=o|0;const G=i_(W,fe,V);i=a_(G,K,ie,T),o=G|0}({h:i,l:o}=Gn(this.Ah|0,this.Al|0,i|0,o|0)),{h:c,l:d}=Gn(this.Bh|0,this.Bl|0,c|0,d|0),{h:u,l:h}=Gn(this.Ch|0,this.Cl|0,u|0,h|0),{h:g,l:p}=Gn(this.Dh|0,this.Dl|0,g|0,p|0),{h:m,l:w}=Gn(this.Eh|0,this.El|0,m|0,w|0),{h:_,l:v}=Gn(this.Fh|0,this.Fl|0,_|0,v|0),{h:j,l:E}=Gn(this.Gh|0,this.Gl|0,j|0,E|0),{h:P,l:I}=Gn(this.Hh|0,this.Hl|0,P|0,I|0),this.set(i,o,c,d,u,h,g,p,m,w,_,v,j,E,P,I)}roundClean(){Zo(Bs,Ms)}destroy(){Zo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sp=np(()=>new Mw),g_=np(()=>new f_),x_=np(()=>new m_),y_=sp,w_=g_;function v_(e){return w_.create().update(new Uint8Array(e)).digest()}const Mc="__principal__",b_=2,Ux=4,N_="aaaaa-aa",E_=e=>{var t;return new Uint8Array(((t=e.match(/.{1,2}/g))!==null&&t!==void 0?t:[]).map(r=>parseInt(r,16)))},__=e=>e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),"");let rt=class Yc{constructor(t){this._arr=t,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([Ux]))}static managementCanister(){return this.fromText(N_)}static selfAuthenticating(t){const r=v_(t);return new this(new Uint8Array([...r,b_]))}static from(t){if(typeof t=="string")return Yc.fromText(t);if(Object.getPrototypeOf(t)===Uint8Array.prototype)return new Yc(t);if(typeof t=="object"&&t!==null&&t._isPrincipal===!0)return new Yc(t._arr);throw new Error(`Impossible to convert ${JSON.stringify(t)} to Principal.`)}static fromHex(t){return new this(E_(t))}static fromText(t){let r=t;if(t.includes(Mc)){const d=JSON.parse(t);Mc in d&&(r=d[Mc])}const i=r.toLowerCase().replace(/-/g,"");let o=KE(i);o=o.slice(4,o.length);const c=new this(o);if(c.toText()!==r)throw new Error(`Principal "${c.toText()}" does not have a valid checksum (original value "${r}" may not be a valid Principal ID).`);return c}static fromUint8Array(t){return new this(t)}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===Ux}toUint8Array(){return this._arr}toHex(){return __(this._arr).toUpperCase()}toText(){const t=new ArrayBuffer(4);new DataView(t).setUint32(0,YE(this._arr));const i=new Uint8Array(t),o=Uint8Array.from(this._arr),c=new Uint8Array([...i,...o]),u=GE(c).match(/.{1,5}/g);if(!u)throw new Error;return u.join("-")}toString(){return this.toText()}toJSON(){return{[Mc]:this.toText()}}compareTo(t){for(let r=0;r<Math.min(this._arr.length,t._arr.length);r++){if(this._arr[r]<t._arr[r])return"lt";if(this._arr[r]>t._arr[r])return"gt"}return this._arr.length<t._arr.length?"lt":this._arr.length>t._arr.length?"gt":"eq"}ltEq(t){const r=this.compareTo(t);return r=="lt"||r=="eq"}gtEq(t){const r=this.compareTo(t);return r=="gt"||r=="eq"}};function cn(...e){const t=new Uint8Array(e.reduce((i,o)=>i+o.byteLength,0));let r=0;for(const i of e)t.set(new Uint8Array(i),r),r+=i.byteLength;return t.buffer}function jt(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}const S_=new RegExp(/^[0-9a-fA-F]+$/);function os(e){if(!S_.test(e))throw new Error("Invalid hexadecimal string.");const t=[...e].reduce((r,i,o)=>(r[o/2|0]=(r[o/2|0]||"")+i,r),[]).map(r=>Number.parseInt(r,16));return new Uint8Array(t).buffer}function Ow(e,t){if(e.byteLength!==t.byteLength)return e.byteLength-t.byteLength;const r=new Uint8Array(e),i=new Uint8Array(t);for(let o=0;o<r.length;o++)if(r[o]!==i[o])return r[o]-i[o];return 0}function ul(e,t){return Ow(e,t)===0}function Go(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function ts(e){return e instanceof Uint8Array?Go(e):e instanceof ArrayBuffer?e:Array.isArray(e)?Go(new Uint8Array(e)):"buffer"in e?ts(e.buffer):Go(new Uint8Array(e))}class Rt extends Error{constructor(t){super(t),this.message=t,this.name="AgentError",this.__proto__=Rt.prototype,Object.setPrototypeOf(this,Rt.prototype)}}function mt(...e){const t=new Uint8Array(e.reduce((i,o)=>i+o.byteLength,0));let r=0;for(const i of e)t.set(new Uint8Array(i),r),r+=i.byteLength;return t}class qa{constructor(t,r=(t==null?void 0:t.byteLength)||0){this._buffer=ki(t||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,r)}save(){return this._view}restore(t){this._view=t}get buffer(){return ki(this._view.slice())}get byteLength(){return this._view.byteLength}read(t){const r=this._view.subarray(0,t);return this._view=this._view.subarray(t),r.slice().buffer}readUint8(){const t=this._view[0];return this._view=this._view.subarray(1),t}write(t){const r=new Uint8Array(t),i=this._view.byteLength;this._view.byteOffset+this._view.byteLength+r.byteLength>=this._buffer.byteLength?this.alloc(r.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+r.byteLength),this._view.set(r,i)}get end(){return this._view.byteLength===0}alloc(t){const r=new ArrayBuffer((this._buffer.byteLength+t)*1.2|0),i=new Uint8Array(r,0,this._view.byteLength+t);i.set(this._view),this._buffer=r,this._view=i}}function yh(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function ki(e){return e instanceof Uint8Array?yh(e):e instanceof ArrayBuffer?e:Array.isArray(e)?yh(new Uint8Array(e)):"buffer"in e?ki(e.buffer):yh(new Uint8Array(e))}function j_(e){const r=new TextEncoder().encode(e);let i=0;for(const o of r)i=(i*223+o)%2**32;return i}function kn(e){if(/^_\d+_$/.test(e)||/^_0x[0-9a-fA-F]+_$/.test(e)){const t=+e.slice(1,-1);if(Number.isSafeInteger(t)&&t>=0&&t<2**32)return t}return j_(e)}function Fw(){throw new Error("unexpected end of buffer")}function Ci(e,t){return e.byteLength<t&&Fw(),e.read(t)}function Ai(e){const t=e.readUint8();return t===void 0&&Fw(),t}function Pt(e){if(typeof e=="number"&&(e=BigInt(e)),e<BigInt(0))throw new Error("Cannot leb encode negative values.");const t=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,r=new qa(new ArrayBuffer(t),0);for(;;){const i=Number(e&BigInt(127));if(e/=BigInt(128),e===BigInt(0)){r.write(new Uint8Array([i]));break}else r.write(new Uint8Array([i|128]))}return r.buffer}function Dt(e){let t=BigInt(1),r=BigInt(0),i;do i=Ai(e),r+=BigInt(i&127).valueOf()*t,t*=BigInt(128);while(i>=128);return r}function Wt(e){typeof e=="number"&&(e=BigInt(e));const t=e<BigInt(0);t&&(e=-e-BigInt(1));const r=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,i=new qa(new ArrayBuffer(r),0);for(;;){const c=o(e);if(e/=BigInt(128),t&&e===BigInt(0)&&(c&64)!==0||!t&&e===BigInt(0)&&(c&64)===0){i.write(new Uint8Array([c]));break}else i.write(new Uint8Array([c|128]))}function o(c){const d=c%BigInt(128);return Number(t?BigInt(128)-d-BigInt(1):d)}return i.buffer}function Us(e){const t=new Uint8Array(e.buffer);let r=0;for(;r<t.byteLength;r++)if(t[r]<128){if((t[r]&64)===0)return Dt(e);break}const i=new Uint8Array(Ci(e,r+1));let o=BigInt(0);for(let c=i.byteLength-1;c>=0;c--)o=o*BigInt(128)+BigInt(128-(i[c]&127)-1);return-o-BigInt(1)}function k_(e,t){if(BigInt(e)<BigInt(0))throw new Error("Cannot write negative values.");return Uw(e,t)}function Uw(e,t){e=BigInt(e);const r=new qa(new ArrayBuffer(Math.min(1,t)),0);let i=0,o=BigInt(256),c=BigInt(0),d=Number(e%o);for(r.write(new Uint8Array([d]));++i<t;)e<0&&c===BigInt(0)&&d!==0&&(c=BigInt(1)),d=Number((e/o-c)%BigInt(256)),r.write(new Uint8Array([d])),o*=BigInt(256);return r.buffer}function $w(e,t){let r=BigInt(Ai(e)),i=BigInt(1),o=0;for(;++o<t;){i*=BigInt(256);const c=BigInt(Ai(e));r=r+i*c}return r}function C_(e,t){let r=$w(e,t);const i=BigInt(2)**(BigInt(8)*BigInt(t-1)+BigInt(7));return r>=i&&(r-=i*BigInt(2)),r}function x0(e){const t=BigInt(e);if(e<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<t}const Zc="DIDL",$x=400;function Xo(e,t,r){return e.map((i,o)=>r(i,t[o]))}class A_{constructor(){this._typs=[],this._idx=new Map}has(t){return this._idx.has(t.name)}add(t,r){const i=this._typs.length;this._idx.set(t.name,i),this._typs.push(r)}merge(t,r){const i=this._idx.get(t.name),o=this._idx.get(r);if(i===void 0)throw new Error("Missing type index for "+t);if(o===void 0)throw new Error("Missing type index for "+r);this._typs[i]=this._typs[o],this._typs.splice(o,1),this._idx.delete(r)}encode(){const t=Pt(this._typs.length),r=mt(...this._typs);return mt(t,r)}indexOf(t){if(!this._idx.has(t))throw new Error("Missing type index for "+t);return Wt(this._idx.get(t)||0)}}class T_{visitType(t,r){throw new Error("Not implemented")}visitPrimitive(t,r){return this.visitType(t,r)}visitEmpty(t,r){return this.visitPrimitive(t,r)}visitBool(t,r){return this.visitPrimitive(t,r)}visitNull(t,r){return this.visitPrimitive(t,r)}visitReserved(t,r){return this.visitPrimitive(t,r)}visitText(t,r){return this.visitPrimitive(t,r)}visitNumber(t,r){return this.visitPrimitive(t,r)}visitInt(t,r){return this.visitNumber(t,r)}visitNat(t,r){return this.visitNumber(t,r)}visitFloat(t,r){return this.visitPrimitive(t,r)}visitFixedInt(t,r){return this.visitNumber(t,r)}visitFixedNat(t,r){return this.visitNumber(t,r)}visitPrincipal(t,r){return this.visitPrimitive(t,r)}visitConstruct(t,r){return this.visitType(t,r)}visitVec(t,r,i){return this.visitConstruct(t,i)}visitOpt(t,r,i){return this.visitConstruct(t,i)}visitRecord(t,r,i){return this.visitConstruct(t,i)}visitTuple(t,r,i){const o=r.map((c,d)=>[`_${d}_`,c]);return this.visitRecord(t,o,i)}visitVariant(t,r,i){return this.visitConstruct(t,i)}visitRec(t,r,i){return this.visitConstruct(r,i)}visitFunc(t,r){return this.visitConstruct(t,r)}visitService(t,r){return this.visitConstruct(t,r)}}class Xu{display(){return this.name}valueToString(t){return It(t)}buildTypeTable(t){t.has(this)||this._buildTypeTableImpl(t)}}class Dr extends Xu{checkType(t){if(this.name!==t.name)throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`);return t}_buildTypeTableImpl(t){}}class Js extends Xu{checkType(t){if(t instanceof us){const r=t.getType();if(typeof r>"u")throw new Error("type mismatch with uninitialized type");return r}throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`)}encodeType(t){return t.indexOf(this.name)}}class zw extends Dr{accept(t,r){return t.visitEmpty(this,r)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${It(t)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return Wt(-17)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}}class Vw extends Xu{checkType(t){throw new Error("Method not implemented for unknown.")}accept(t,r){throw t.visitType(this,r)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${It(t)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(t,r){let i=r.decodeValue(t,r);Object(i)!==i&&(i=Object(i));let o;return r instanceof us?o=()=>r.getType():o=()=>r,Object.defineProperty(i,"type",{value:o,writable:!0,enumerable:!1,configurable:!0}),i}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}}class Hw extends Dr{accept(t,r){return t.visitBool(this,r)}covariant(t){if(typeof t=="boolean")return!0;throw new Error(`Invalid ${this.display()} argument: ${It(t)}`)}encodeValue(t){return new Uint8Array([t?1:0])}encodeType(){return Wt(-2)}decodeValue(t,r){switch(this.checkType(r),Ai(t)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}}class ku extends Dr{accept(t,r){return t.visitNull(this,r)}covariant(t){if(t===null)return!0;throw new Error(`Invalid ${this.display()} argument: ${It(t)}`)}encodeValue(){return new ArrayBuffer(0)}encodeType(){return Wt(-1)}decodeValue(t,r){return this.checkType(r),null}get name(){return"null"}}class za extends Dr{accept(t,r){return t.visitReserved(this,r)}covariant(t){return!0}encodeValue(){return new ArrayBuffer(0)}encodeType(){return Wt(-16)}decodeValue(t,r){return r.name!==this.name&&r.decodeValue(t,r),null}get name(){return"reserved"}}class Lw extends Dr{accept(t,r){return t.visitText(this,r)}covariant(t){if(typeof t=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${It(t)}`)}encodeValue(t){const r=new TextEncoder().encode(t),i=Pt(r.byteLength);return mt(i,r)}encodeType(){return Wt(-15)}decodeValue(t,r){this.checkType(r);const i=Dt(t),o=Ci(t,Number(i));return new TextDecoder("utf8",{fatal:!0}).decode(o)}get name(){return"text"}valueToString(t){return'"'+t+'"'}}class Ww extends Dr{accept(t,r){return t.visitInt(this,r)}covariant(t){if(typeof t=="bigint"||Number.isInteger(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${It(t)}`)}encodeValue(t){return Wt(t)}encodeType(){return Wt(-4)}decodeValue(t,r){return this.checkType(r),Us(t)}get name(){return"int"}valueToString(t){return t.toString()}}class qw extends Dr{accept(t,r){return t.visitNat(this,r)}covariant(t){if(typeof t=="bigint"&&t>=BigInt(0)||Number.isInteger(t)&&t>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${It(t)}`)}encodeValue(t){return Pt(t)}encodeType(){return Wt(-3)}decodeValue(t,r){return this.checkType(r),Dt(t)}get name(){return"nat"}valueToString(t){return t.toString()}}class ip extends Dr{constructor(t){if(super(),this._bits=t,t!==32&&t!==64)throw new Error("not a valid float type")}accept(t,r){return t.visitFloat(this,r)}covariant(t){if(typeof t=="number"||t instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${It(t)}`)}encodeValue(t){const r=new ArrayBuffer(this._bits/8),i=new DataView(r);return this._bits===32?i.setFloat32(0,t,!0):i.setFloat64(0,t,!0),r}encodeType(){const t=this._bits===32?-13:-14;return Wt(t)}decodeValue(t,r){this.checkType(r);const i=Ci(t,this._bits/8),o=new DataView(i);return this._bits===32?o.getFloat32(0,!0):o.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(t){return t.toString()}}class Ti extends Dr{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedInt(this,r)}covariant(t){const r=x0(this._bits-1)*BigInt(-1),i=x0(this._bits-1)-BigInt(1);let o=!1;if(typeof t=="bigint")o=t>=r&&t<=i;else if(Number.isInteger(t)){const c=BigInt(t);o=c>=r&&c<=i}else o=!1;if(o)return!0;throw new Error(`Invalid ${this.display()} argument: ${It(t)}`)}encodeValue(t){return Uw(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return Wt(-9-t)}decodeValue(t,r){this.checkType(r);const i=C_(t,this._bits/8);return this._bits<=32?Number(i):i}get name(){return`int${this._bits}`}valueToString(t){return t.toString()}}class Ks extends Dr{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedNat(this,r)}covariant(t){const r=x0(this._bits);let i=!1;if(typeof t=="bigint"&&t>=BigInt(0)?i=t<r:Number.isInteger(t)&&t>=0?i=BigInt(t)<r:i=!1,i)return!0;throw new Error(`Invalid ${this.display()} argument: ${It(t)}`)}encodeValue(t){return k_(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return Wt(-5-t)}decodeValue(t,r){this.checkType(r);const i=$w(t,this._bits/8);return this._bits<=32?Number(i):i}get name(){return`nat${this._bits}`}valueToString(t){return t.toString()}}class Qu extends Js{constructor(t){super(),this._type=t,this._blobOptimization=!1,t instanceof Ks&&t._bits===8&&(this._blobOptimization=!0)}accept(t,r){return t.visitVec(this,this._type,r)}covariant(t){const r=this._type instanceof Ks?this._type._bits:this._type instanceof Ti?this._type._bits:0;if(ArrayBuffer.isView(t)&&r==t.BYTES_PER_ELEMENT*8||Array.isArray(t)&&t.every((i,o)=>{try{return this._type.covariant(i)}catch(c){throw new Error(`Invalid ${this.display()} argument: 

index ${o} -> ${c.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${It(t)}`)}encodeValue(t){const r=Pt(t.length);if(this._blobOptimization)return mt(r,new Uint8Array(t));if(ArrayBuffer.isView(t))return mt(r,new Uint8Array(t.buffer));const i=new qa(new ArrayBuffer(r.byteLength+t.length),0);i.write(r);for(const o of t){const c=this._type.encodeValue(o);i.write(new Uint8Array(c))}return i.buffer}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const r=Wt(-19),i=this._type.encodeType(t);t.add(this,mt(r,i))}decodeValue(t,r){const i=this.checkType(r);if(!(i instanceof Qu))throw new Error("Not a vector type");const o=Number(Dt(t));if(this._type instanceof Ks){if(this._type._bits==8)return new Uint8Array(t.read(o));if(this._type._bits==16)return new Uint16Array(t.read(o*2));if(this._type._bits==32)return new Uint32Array(t.read(o*4));if(this._type._bits==64)return new BigUint64Array(t.read(o*8))}if(this._type instanceof Ti){if(this._type._bits==8)return new Int8Array(t.read(o));if(this._type._bits==16)return new Int16Array(t.read(o*2));if(this._type._bits==32)return new Int32Array(t.read(o*4));if(this._type._bits==64)return new BigInt64Array(t.read(o*8))}const c=[];for(let d=0;d<o;d++)c.push(this._type.decodeValue(t,i._type));return c}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(t){return"vec {"+t.map(i=>this._type.valueToString(i)).join("; ")+"}"}}class Ri extends Js{constructor(t){super(),this._type=t}accept(t,r){return t.visitOpt(this,this._type,r)}covariant(t){try{if(Array.isArray(t)&&(t.length===0||t.length===1&&this._type.covariant(t[0])))return!0}catch(r){throw new Error(`Invalid ${this.display()} argument: ${It(t)} 

-> ${r.message}`)}throw new Error(`Invalid ${this.display()} argument: ${It(t)}`)}encodeValue(t){return t.length===0?new Uint8Array([0]):mt(new Uint8Array([1]),this._type.encodeValue(t[0]))}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const r=Wt(-18),i=this._type.encodeType(t);t.add(this,mt(r,i))}decodeValue(t,r){if(r instanceof ku)return[];if(r instanceof za)return[];let i=r;if(r instanceof us){const o=r.getType();if(typeof o>"u")throw new Error("type mismatch with uninitialized type");i=o}if(i instanceof Ri)switch(Ai(t)){case 0:return[];case 1:{const o=t.save();try{return[this._type.decodeValue(t,i._type)]}catch{return t.restore(o),i._type.decodeValue(t,i._type),[]}}default:throw new Error("Not an option value")}else{if(this._type instanceof ku||this._type instanceof Ri||this._type instanceof za)return i.decodeValue(t,i),[];{const o=t.save();try{return[this._type.decodeValue(t,r)]}catch{return t.restore(o),i.decodeValue(t,r),[]}}}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(t){return t.length===0?"null":`opt ${this._type.valueToString(t[0])}`}}class dl extends Js{constructor(t={}){super(),this._fields=Object.entries(t).sort((r,i)=>kn(r[0])-kn(i[0]))}accept(t,r){return t.visitRecord(this,this._fields,r)}tryAsTuple(){const t=[];for(let r=0;r<this._fields.length;r++){const[i,o]=this._fields[r];if(i!==`_${r}_`)return null;t.push(o)}return t}covariant(t){if(typeof t=="object"&&this._fields.every(([r,i])=>{if(!t.hasOwnProperty(r))throw new Error(`Record is missing key "${r}".`);try{return i.covariant(t[r])}catch(o){throw new Error(`Invalid ${this.display()} argument: 

field ${r} -> ${o.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${It(t)}`)}encodeValue(t){const r=this._fields.map(([o])=>t[o]),i=Xo(this._fields,r,([,o],c)=>o.encodeValue(c));return mt(...i)}_buildTypeTableImpl(t){this._fields.forEach(([c,d])=>d.buildTypeTable(t));const r=Wt(-20),i=Pt(this._fields.length),o=this._fields.map(([c,d])=>mt(Pt(kn(c)),d.encodeType(t)));t.add(this,mt(r,i,mt(...o)))}decodeValue(t,r){const i=this.checkType(r);if(!(i instanceof dl))throw new Error("Not a record type");const o={};let c=0,d=0;for(;d<i._fields.length;){const[u,h]=i._fields[d];if(c>=this._fields.length){h.decodeValue(t,h),d++;continue}const[g,p]=this._fields[c],m=kn(this._fields[c][0]),w=kn(u);if(m===w)o[g]=p.decodeValue(t,h),c++,d++;else if(w>m)if(p instanceof Ri||p instanceof za)o[g]=[],c++;else throw new Error("Cannot find required field "+g);else h.decodeValue(t,h),d++}for(const[u,h]of this._fields.slice(c))if(h instanceof Ri||h instanceof za)o[u]=[];else throw new Error("Cannot find required field "+u);return o}get name(){return`record {${this._fields.map(([r,i])=>r+":"+i.name).join("; ")}}`}display(){return`record {${this._fields.map(([r,i])=>r+":"+i.display()).join("; ")}}`}valueToString(t){const r=this._fields.map(([o])=>t[o]);return`record {${Xo(this._fields,r,([o,c],d)=>o+"="+c.valueToString(d)).join("; ")}}`}}class Ju extends dl{constructor(t){const r={};t.forEach((i,o)=>r["_"+o+"_"]=i),super(r),this._components=t}accept(t,r){return t.visitTuple(this,this._components,r)}covariant(t){if(Array.isArray(t)&&t.length>=this._fields.length&&this._components.every((r,i)=>{try{return r.covariant(t[i])}catch(o){throw new Error(`Invalid ${this.display()} argument: 

index ${i} -> ${o.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${It(t)}`)}encodeValue(t){const r=Xo(this._components,t,(i,o)=>i.encodeValue(o));return mt(...r)}decodeValue(t,r){const i=this.checkType(r);if(!(i instanceof Ju))throw new Error("not a tuple type");if(i._components.length<this._components.length)throw new Error("tuple mismatch");const o=[];for(const[c,d]of i._components.entries())c>=this._components.length?d.decodeValue(t,d):o.push(this._components[c].decodeValue(t,d));return o}display(){return`record {${this._components.map(r=>r.display()).join("; ")}}`}valueToString(t){return`record {${Xo(this._components,t,(i,o)=>i.valueToString(o)).join("; ")}}`}}class ed extends Js{constructor(t={}){super(),this._fields=Object.entries(t).sort((r,i)=>kn(r[0])-kn(i[0]))}accept(t,r){return t.visitVariant(this,this._fields,r)}covariant(t){if(typeof t=="object"&&Object.entries(t).length===1&&this._fields.every(([r,i])=>{try{return!t.hasOwnProperty(r)||i.covariant(t[r])}catch(o){throw new Error(`Invalid ${this.display()} argument: 

variant ${r} -> ${o.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${It(t)}`)}encodeValue(t){for(let r=0;r<this._fields.length;r++){const[i,o]=this._fields[r];if(t.hasOwnProperty(i)){const c=Pt(r),d=o.encodeValue(t[i]);return mt(c,d)}}throw Error("Variant has no data: "+t)}_buildTypeTableImpl(t){this._fields.forEach(([,c])=>{c.buildTypeTable(t)});const r=Wt(-21),i=Pt(this._fields.length),o=this._fields.map(([c,d])=>mt(Pt(kn(c)),d.encodeType(t)));t.add(this,mt(r,i,...o))}decodeValue(t,r){const i=this.checkType(r);if(!(i instanceof ed))throw new Error("Not a variant type");const o=Number(Dt(t));if(o>=i._fields.length)throw Error("Invalid variant index: "+o);const[c,d]=i._fields[o];for(const[u,h]of this._fields)if(kn(c)===kn(u)){const g=h.decodeValue(t,d);return{[u]:g}}throw new Error("Cannot find field hash "+c)}get name(){return`variant {${this._fields.map(([r,i])=>r+":"+i.name).join("; ")}}`}display(){return`variant {${this._fields.map(([r,i])=>r+(i.name==="null"?"":`:${i.display()}`)).join("; ")}}`}valueToString(t){for(const[r,i]of this._fields)if(t.hasOwnProperty(r)){const o=i.valueToString(t[r]);return o==="null"?`variant {${r}}`:`variant {${r}=${o}}`}throw new Error("Variant has no data: "+t)}}class us extends Js{constructor(){super(...arguments),this._id=us._counter++,this._type=void 0}accept(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return t.visitRec(this,this._type,r)}fill(t){this._type=t}getType(){return this._type}covariant(t){if(this._type&&this._type.covariant(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${It(t)}`)}encodeValue(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(t)}_buildTypeTableImpl(t){if(!this._type)throw Error("Recursive type uninitialized.");t.add(this,new Uint8Array([])),this._type.buildTypeTable(t),t.merge(this,this._type.name)}decodeValue(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(t,r)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`μ${this.name}.${this._type.name}`}valueToString(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(t)}}us._counter=0;function ap(e){if(Ai(e)!==1)throw new Error("Cannot decode principal");const r=Number(Dt(e));return rt.fromUint8Array(new Uint8Array(Ci(e,r)))}class Gw extends Dr{accept(t,r){return t.visitPrincipal(this,r)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${It(t)}`)}encodeValue(t){const r=t.toUint8Array(),i=Pt(r.byteLength);return mt(new Uint8Array([1]),i,r)}encodeType(){return Wt(-24)}decodeValue(t,r){return this.checkType(r),ap(t)}get name(){return"principal"}valueToString(t){return`${this.name} "${t.toText()}"`}}class op extends Js{constructor(t,r,i=[]){super(),this.argTypes=t,this.retTypes=r,this.annotations=i}static argsToString(t,r){if(t.length!==r.length)throw new Error("arity mismatch");return"("+t.map((i,o)=>i.valueToString(r[o])).join(", ")+")"}accept(t,r){return t.visitFunc(this,r)}covariant(t){if(Array.isArray(t)&&t.length===2&&t[0]&&t[0]._isPrincipal&&typeof t[1]=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${It(t)}`)}encodeValue([t,r]){const i=t.toUint8Array(),o=Pt(i.byteLength),c=mt(new Uint8Array([1]),o,i),d=new TextEncoder().encode(r),u=Pt(d.byteLength);return mt(new Uint8Array([1]),c,u,d)}_buildTypeTableImpl(t){this.argTypes.forEach(g=>g.buildTypeTable(t)),this.retTypes.forEach(g=>g.buildTypeTable(t));const r=Wt(-22),i=Pt(this.argTypes.length),o=mt(...this.argTypes.map(g=>g.encodeType(t))),c=Pt(this.retTypes.length),d=mt(...this.retTypes.map(g=>g.encodeType(t))),u=Pt(this.annotations.length),h=mt(...this.annotations.map(g=>this.encodeAnnotation(g)));t.add(this,mt(r,i,o,c,d,u,h))}decodeValue(t){if(Ai(t)!==1)throw new Error("Cannot decode function reference");const i=ap(t),o=Number(Dt(t)),c=Ci(t,o),u=new TextDecoder("utf8",{fatal:!0}).decode(c);return[i,u]}get name(){const t=this.argTypes.map(o=>o.name).join(", "),r=this.retTypes.map(o=>o.name).join(", "),i=" "+this.annotations.join(" ");return`(${t}) -> (${r})${i}`}valueToString([t,r]){return`func "${t.toText()}".${r}`}display(){const t=this.argTypes.map(o=>o.display()).join(", "),r=this.retTypes.map(o=>o.display()).join(", "),i=" "+this.annotations.join(" ");return`(${t}) → (${r})${i}`}encodeAnnotation(t){if(t==="query")return new Uint8Array([1]);if(t==="oneway")return new Uint8Array([2]);if(t==="composite_query")return new Uint8Array([3]);throw new Error("Illegal function annotation")}}class Kw extends Js{constructor(t){super(),this._fields=Object.entries(t).sort((r,i)=>r[0]<i[0]?-1:r[0]>i[0]?1:0)}accept(t,r){return t.visitService(this,r)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${It(t)}`)}encodeValue(t){const r=t.toUint8Array(),i=Pt(r.length);return mt(new Uint8Array([1]),i,r)}_buildTypeTableImpl(t){this._fields.forEach(([c,d])=>d.buildTypeTable(t));const r=Wt(-23),i=Pt(this._fields.length),o=this._fields.map(([c,d])=>{const u=new TextEncoder().encode(c),h=Pt(u.length);return mt(h,u,d.encodeType(t))});t.add(this,mt(r,i,...o))}decodeValue(t){return ap(t)}get name(){return`service {${this._fields.map(([r,i])=>r+":"+i.name).join("; ")}}`}valueToString(t){return`service "${t.toText()}"`}}function It(e){const t=JSON.stringify(e,(r,i)=>typeof i=="bigint"?`BigInt(${i})`:i);return t&&t.length>$x?t.substring(0,$x-3)+"...":t}function y0(e,t){if(t.length<e.length)throw Error("Wrong number of message arguments");const r=new A_;e.forEach(h=>h.buildTypeTable(r));const i=new TextEncoder().encode(Zc),o=r.encode(),c=Pt(t.length),d=mt(...e.map(h=>h.encodeType(r))),u=mt(...Xo(e,t,(h,g)=>{try{h.covariant(g)}catch(p){throw new Error(p.message+`

`)}return h.encodeValue(g)}));return mt(i,o,c,d,u)}function Dw(e,t){const r=new qa(t);if(t.byteLength<Zc.length)throw new Error("Message length smaller than magic number");const i=Ci(r,Zc.length),o=new TextDecoder().decode(i);if(o!==Zc)throw new Error("Wrong magic number: "+JSON.stringify(o));function c(_){const v=[],j=Number(Dt(_));for(let I=0;I<j;I++){const U=Number(Us(_));switch(U){case-18:case-19:{const q=Number(Us(_));v.push([U,q]);break}case-20:case-21:{const q=[];let O=Number(Dt(_)),Q;for(;O--;){const X=Number(Dt(_));if(X>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if(typeof Q=="number"&&Q>=X)throw new Error("field id collision or not sorted");Q=X;const z=Number(Us(_));q.push([X,z])}v.push([U,q]);break}case-22:{const q=[];let O=Number(Dt(_));for(;O--;)q.push(Number(Us(_)));const Q=[];let X=Number(Dt(_));for(;X--;)Q.push(Number(Us(_)));const z=[];let K=Number(Dt(_));for(;K--;)switch(Number(Dt(_))){case 1:{z.push("query");break}case 2:{z.push("oneway");break}case 3:{z.push("composite_query");break}default:throw new Error("unknown annotation")}v.push([U,[q,Q,z]]);break}case-23:{let q=Number(Dt(_));const O=[];for(;q--;){const Q=Number(Dt(_)),X=new TextDecoder().decode(Ci(_,Q)),z=Us(_);O.push([X,z])}v.push([U,O]);break}default:throw new Error("Illegal op_code: "+U)}}const E=[],P=Number(Dt(_));for(let I=0;I<P;I++)E.push(Number(Us(_)));return[v,E]}const[d,u]=c(r);if(u.length<e.length)throw new Error("Wrong number of return values");const h=d.map(_=>yv());function g(_){if(_<-24)throw new Error("future value not supported");if(_<0)switch(_){case-1:return Qw;case-2:return Xw;case-3:return tv;case-4:return ev;case-5:return lv;case-6:return cv;case-7:return uv;case-8:return dv;case-9:return sv;case-10:return iv;case-11:return av;case-12:return ov;case-13:return rv;case-14:return nv;case-15:return Jw;case-16:return Zw;case-17:return Yw;case-24:return fv;default:throw new Error("Illegal op_code: "+_)}if(_>=d.length)throw new Error("type index out of range");return h[_]}function p(_){switch(_[0]){case-19:{const v=g(_[1]);return pv(v)}case-18:{const v=g(_[1]);return mv(v)}case-20:{const v={};for(const[P,I]of _[1]){const U=`_${P}_`;v[U]=g(I)}const j=gv(v),E=j.tryAsTuple();return Array.isArray(E)?hv(...E):j}case-21:{const v={};for(const[j,E]of _[1]){const P=`_${j}_`;v[P]=g(E)}return xv(v)}case-22:{const[v,j,E]=_[1];return wv(v.map(P=>g(P)),j.map(P=>g(P)),E)}case-23:{const v={},j=_[1];for(const[E,P]of j){let I=g(P);if(I instanceof us&&(I=I.getType()),!(I instanceof op))throw new Error("Illegal service definition: services can only contain functions");v[E]=I}return vv(v)}default:throw new Error("Illegal op_code: "+_[0])}}d.forEach((_,v)=>{if(_[0]===-22){const j=p(_);h[v].fill(j)}}),d.forEach((_,v)=>{if(_[0]!==-22){const j=p(_);h[v].fill(j)}});const m=u.map(_=>g(_)),w=e.map((_,v)=>_.decodeValue(r,m[v]));for(let _=e.length;_<m.length;_++)m[_].decodeValue(r,m[_]);if(r.byteLength>0)throw new Error("decode: Left-over bytes");return w}const Yw=new zw,Zw=new za,R_=new Vw,Xw=new Hw,Qw=new ku,Jw=new Lw,ev=new Ww,tv=new qw,rv=new ip(32),nv=new ip(64),sv=new Ti(8),iv=new Ti(16),av=new Ti(32),ov=new Ti(64),lv=new Ks(8),cv=new Ks(16),uv=new Ks(32),dv=new Ks(64),fv=new Gw;function hv(...e){return new Ju(e)}function pv(e){return new Qu(e)}function mv(e){return new Ri(e)}function gv(e){return new dl(e)}function xv(e){return new ed(e)}function yv(){return new us}function wv(e,t,r=[]){return new op(e,t,r)}function vv(e){return new Kw(e)}const P_=Object.freeze(Object.defineProperty({__proto__:null,Bool:Xw,BoolClass:Hw,ConstructType:Js,Empty:Yw,EmptyClass:zw,FixedIntClass:Ti,FixedNatClass:Ks,Float32:rv,Float64:nv,FloatClass:ip,Func:wv,FuncClass:op,Int:ev,Int16:iv,Int32:av,Int64:ov,Int8:sv,IntClass:Ww,Nat:tv,Nat16:cv,Nat32:uv,Nat64:dv,Nat8:lv,NatClass:qw,Null:Qw,NullClass:ku,Opt:mv,OptClass:Ri,PrimitiveType:Dr,Principal:fv,PrincipalClass:Gw,Rec:yv,RecClass:us,Record:gv,RecordClass:dl,Reserved:Zw,ReservedClass:za,Service:vv,ServiceClass:Kw,Text:Jw,TextClass:Lw,Tuple:hv,TupleClass:Ju,Type:Xu,Unknown:R_,UnknownClass:Vw,Variant:xv,VariantClass:ed,Vec:pv,VecClass:Qu,Visitor:T_,decode:Dw,encode:y0},Symbol.toStringTag,{value:"Module"}));var wh={},vh={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var zx;function td(){return zx||(zx=1,function(e){var t=Cw(),r=tp(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=I,e.INSPECT_MAX_BYTES=50;var o=2147483647;e.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=c(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{var R=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(R,y),R.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function d(R){if(R>o)throw new RangeError('The value "'+R+'" is invalid for option "size"');var y=new Uint8Array(R);return Object.setPrototypeOf(y,u.prototype),y}function u(R,y,b){if(typeof R=="number"){if(typeof y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(R)}return h(R,y,b)}u.poolSize=8192;function h(R,y,b){if(typeof R=="string")return w(R,y);if(ArrayBuffer.isView(R))return v(R);if(R==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R);if(J(R,ArrayBuffer)||R&&J(R.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(J(R,SharedArrayBuffer)||R&&J(R.buffer,SharedArrayBuffer)))return j(R,y,b);if(typeof R=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var M=R.valueOf&&R.valueOf();if(M!=null&&M!==R)return u.from(M,y,b);var L=E(R);if(L)return L;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof R[Symbol.toPrimitive]=="function")return u.from(R[Symbol.toPrimitive]("string"),y,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R)}u.from=function(R,y,b){return h(R,y,b)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function g(R){if(typeof R!="number")throw new TypeError('"size" argument must be of type number');if(R<0)throw new RangeError('The value "'+R+'" is invalid for option "size"')}function p(R,y,b){return g(R),R<=0?d(R):y!==void 0?typeof b=="string"?d(R).fill(y,b):d(R).fill(y):d(R)}u.alloc=function(R,y,b){return p(R,y,b)};function m(R){return g(R),d(R<0?0:P(R)|0)}u.allocUnsafe=function(R){return m(R)},u.allocUnsafeSlow=function(R){return m(R)};function w(R,y){if((typeof y!="string"||y==="")&&(y="utf8"),!u.isEncoding(y))throw new TypeError("Unknown encoding: "+y);var b=U(R,y)|0,M=d(b),L=M.write(R,y);return L!==b&&(M=M.slice(0,L)),M}function _(R){for(var y=R.length<0?0:P(R.length)|0,b=d(y),M=0;M<y;M+=1)b[M]=R[M]&255;return b}function v(R){if(J(R,Uint8Array)){var y=new Uint8Array(R);return j(y.buffer,y.byteOffset,y.byteLength)}return _(R)}function j(R,y,b){if(y<0||R.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(R.byteLength<y+(b||0))throw new RangeError('"length" is outside of buffer bounds');var M;return y===void 0&&b===void 0?M=new Uint8Array(R):b===void 0?M=new Uint8Array(R,y):M=new Uint8Array(R,y,b),Object.setPrototypeOf(M,u.prototype),M}function E(R){if(u.isBuffer(R)){var y=P(R.length)|0,b=d(y);return b.length===0||R.copy(b,0,0,y),b}if(R.length!==void 0)return typeof R.length!="number"||ne(R.length)?d(0):_(R);if(R.type==="Buffer"&&Array.isArray(R.data))return _(R.data)}function P(R){if(R>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return R|0}function I(R){return+R!=R&&(R=0),u.alloc(+R)}u.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==u.prototype},u.compare=function(y,b){if(J(y,Uint8Array)&&(y=u.from(y,y.offset,y.byteLength)),J(b,Uint8Array)&&(b=u.from(b,b.offset,b.byteLength)),!u.isBuffer(y)||!u.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===b)return 0;for(var M=y.length,L=b.length,se=0,xe=Math.min(M,L);se<xe;++se)if(y[se]!==b[se]){M=y[se],L=b[se];break}return M<L?-1:L<M?1:0},u.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(y,b){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return u.alloc(0);var M;if(b===void 0)for(b=0,M=0;M<y.length;++M)b+=y[M].length;var L=u.allocUnsafe(b),se=0;for(M=0;M<y.length;++M){var xe=y[M];if(J(xe,Uint8Array))se+xe.length>L.length?u.from(xe).copy(L,se):Uint8Array.prototype.set.call(L,xe,se);else if(u.isBuffer(xe))xe.copy(L,se);else throw new TypeError('"list" argument must be an Array of Buffers');se+=xe.length}return L};function U(R,y){if(u.isBuffer(R))return R.length;if(ArrayBuffer.isView(R)||J(R,ArrayBuffer))return R.byteLength;if(typeof R!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof R);var b=R.length,M=arguments.length>2&&arguments[2]===!0;if(!M&&b===0)return 0;for(var L=!1;;)switch(y){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return de(R).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b*2;case"hex":return b>>>1;case"base64":return F(R).length;default:if(L)return M?-1:de(R).length;y=(""+y).toLowerCase(),L=!0}}u.byteLength=U;function q(R,y,b){var M=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,y>>>=0,b<=y))return"";for(R||(R="utf8");;)switch(R){case"hex":return ge(this,y,b);case"utf8":case"utf-8":return V(this,y,b);case"ascii":return le(this,y,b);case"latin1":case"binary":return te(this,y,b);case"base64":return T(this,y,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,y,b);default:if(M)throw new TypeError("Unknown encoding: "+R);R=(R+"").toLowerCase(),M=!0}}u.prototype._isBuffer=!0;function O(R,y,b){var M=R[y];R[y]=R[b],R[b]=M}u.prototype.swap16=function(){var y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<y;b+=2)O(this,b,b+1);return this},u.prototype.swap32=function(){var y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<y;b+=4)O(this,b,b+3),O(this,b+1,b+2);return this},u.prototype.swap64=function(){var y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<y;b+=8)O(this,b,b+7),O(this,b+1,b+6),O(this,b+2,b+5),O(this,b+3,b+4);return this},u.prototype.toString=function(){var y=this.length;return y===0?"":arguments.length===0?V(this,0,y):q.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(y){if(!u.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:u.compare(this,y)===0},u.prototype.inspect=function(){var y="",b=e.INSPECT_MAX_BYTES;return y=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(y+=" ... "),"<Buffer "+y+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(y,b,M,L,se){if(J(y,Uint8Array)&&(y=u.from(y,y.offset,y.byteLength)),!u.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(b===void 0&&(b=0),M===void 0&&(M=y?y.length:0),L===void 0&&(L=0),se===void 0&&(se=this.length),b<0||M>y.length||L<0||se>this.length)throw new RangeError("out of range index");if(L>=se&&b>=M)return 0;if(L>=se)return-1;if(b>=M)return 1;if(b>>>=0,M>>>=0,L>>>=0,se>>>=0,this===y)return 0;for(var xe=se-L,ke=M-b,Ie=Math.min(xe,ke),Ue=this.slice(L,se),Ze=y.slice(b,M),B=0;B<Ie;++B)if(Ue[B]!==Ze[B]){xe=Ue[B],ke=Ze[B];break}return xe<ke?-1:ke<xe?1:0};function Q(R,y,b,M,L){if(R.length===0)return-1;if(typeof b=="string"?(M=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,ne(b)&&(b=L?0:R.length-1),b<0&&(b=R.length+b),b>=R.length){if(L)return-1;b=R.length-1}else if(b<0)if(L)b=0;else return-1;if(typeof y=="string"&&(y=u.from(y,M)),u.isBuffer(y))return y.length===0?-1:X(R,y,b,M,L);if(typeof y=="number")return y=y&255,typeof Uint8Array.prototype.indexOf=="function"?L?Uint8Array.prototype.indexOf.call(R,y,b):Uint8Array.prototype.lastIndexOf.call(R,y,b):X(R,[y],b,M,L);throw new TypeError("val must be string, number or Buffer")}function X(R,y,b,M,L){var se=1,xe=R.length,ke=y.length;if(M!==void 0&&(M=String(M).toLowerCase(),M==="ucs2"||M==="ucs-2"||M==="utf16le"||M==="utf-16le")){if(R.length<2||y.length<2)return-1;se=2,xe/=2,ke/=2,b/=2}function Ie(k,Z){return se===1?k[Z]:k.readUInt16BE(Z*se)}var Ue;if(L){var Ze=-1;for(Ue=b;Ue<xe;Ue++)if(Ie(R,Ue)===Ie(y,Ze===-1?0:Ue-Ze)){if(Ze===-1&&(Ze=Ue),Ue-Ze+1===ke)return Ze*se}else Ze!==-1&&(Ue-=Ue-Ze),Ze=-1}else for(b+ke>xe&&(b=xe-ke),Ue=b;Ue>=0;Ue--){for(var B=!0,N=0;N<ke;N++)if(Ie(R,Ue+N)!==Ie(y,N)){B=!1;break}if(B)return Ue}return-1}u.prototype.includes=function(y,b,M){return this.indexOf(y,b,M)!==-1},u.prototype.indexOf=function(y,b,M){return Q(this,y,b,M,!0)},u.prototype.lastIndexOf=function(y,b,M){return Q(this,y,b,M,!1)};function z(R,y,b,M){b=Number(b)||0;var L=R.length-b;M?(M=Number(M),M>L&&(M=L)):M=L;var se=y.length;M>se/2&&(M=se/2);for(var xe=0;xe<M;++xe){var ke=parseInt(y.substr(xe*2,2),16);if(ne(ke))return xe;R[b+xe]=ke}return xe}function K(R,y,b,M){return D(de(y,R.length-b),R,b,M)}function W(R,y,b,M){return D(Ne(y),R,b,M)}function ie(R,y,b,M){return D(F(y),R,b,M)}function fe(R,y,b,M){return D(C(y,R.length-b),R,b,M)}u.prototype.write=function(y,b,M,L){if(b===void 0)L="utf8",M=this.length,b=0;else if(M===void 0&&typeof b=="string")L=b,M=this.length,b=0;else if(isFinite(b))b=b>>>0,isFinite(M)?(M=M>>>0,L===void 0&&(L="utf8")):(L=M,M=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var se=this.length-b;if((M===void 0||M>se)&&(M=se),y.length>0&&(M<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");L||(L="utf8");for(var xe=!1;;)switch(L){case"hex":return z(this,y,b,M);case"utf8":case"utf-8":return K(this,y,b,M);case"ascii":case"latin1":case"binary":return W(this,y,b,M);case"base64":return ie(this,y,b,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,y,b,M);default:if(xe)throw new TypeError("Unknown encoding: "+L);L=(""+L).toLowerCase(),xe=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(R,y,b){return y===0&&b===R.length?t.fromByteArray(R):t.fromByteArray(R.slice(y,b))}function V(R,y,b){b=Math.min(R.length,b);for(var M=[],L=y;L<b;){var se=R[L],xe=null,ke=se>239?4:se>223?3:se>191?2:1;if(L+ke<=b){var Ie,Ue,Ze,B;switch(ke){case 1:se<128&&(xe=se);break;case 2:Ie=R[L+1],(Ie&192)===128&&(B=(se&31)<<6|Ie&63,B>127&&(xe=B));break;case 3:Ie=R[L+1],Ue=R[L+2],(Ie&192)===128&&(Ue&192)===128&&(B=(se&15)<<12|(Ie&63)<<6|Ue&63,B>2047&&(B<55296||B>57343)&&(xe=B));break;case 4:Ie=R[L+1],Ue=R[L+2],Ze=R[L+3],(Ie&192)===128&&(Ue&192)===128&&(Ze&192)===128&&(B=(se&15)<<18|(Ie&63)<<12|(Ue&63)<<6|Ze&63,B>65535&&B<1114112&&(xe=B))}}xe===null?(xe=65533,ke=1):xe>65535&&(xe-=65536,M.push(xe>>>10&1023|55296),xe=56320|xe&1023),M.push(xe),L+=ke}return ee(M)}var G=4096;function ee(R){var y=R.length;if(y<=G)return String.fromCharCode.apply(String,R);for(var b="",M=0;M<y;)b+=String.fromCharCode.apply(String,R.slice(M,M+=G));return b}function le(R,y,b){var M="";b=Math.min(R.length,b);for(var L=y;L<b;++L)M+=String.fromCharCode(R[L]&127);return M}function te(R,y,b){var M="";b=Math.min(R.length,b);for(var L=y;L<b;++L)M+=String.fromCharCode(R[L]);return M}function ge(R,y,b){var M=R.length;(!y||y<0)&&(y=0),(!b||b<0||b>M)&&(b=M);for(var L="",se=y;se<b;++se)L+=ae[R[se]];return L}function _e(R,y,b){for(var M=R.slice(y,b),L="",se=0;se<M.length-1;se+=2)L+=String.fromCharCode(M[se]+M[se+1]*256);return L}u.prototype.slice=function(y,b){var M=this.length;y=~~y,b=b===void 0?M:~~b,y<0?(y+=M,y<0&&(y=0)):y>M&&(y=M),b<0?(b+=M,b<0&&(b=0)):b>M&&(b=M),b<y&&(b=y);var L=this.subarray(y,b);return Object.setPrototypeOf(L,u.prototype),L};function Y(R,y,b){if(R%1!==0||R<0)throw new RangeError("offset is not uint");if(R+y>b)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(y,b,M){y=y>>>0,b=b>>>0,M||Y(y,b,this.length);for(var L=this[y],se=1,xe=0;++xe<b&&(se*=256);)L+=this[y+xe]*se;return L},u.prototype.readUintBE=u.prototype.readUIntBE=function(y,b,M){y=y>>>0,b=b>>>0,M||Y(y,b,this.length);for(var L=this[y+--b],se=1;b>0&&(se*=256);)L+=this[y+--b]*se;return L},u.prototype.readUint8=u.prototype.readUInt8=function(y,b){return y=y>>>0,b||Y(y,1,this.length),this[y]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(y,b){return y=y>>>0,b||Y(y,2,this.length),this[y]|this[y+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(y,b){return y=y>>>0,b||Y(y,2,this.length),this[y]<<8|this[y+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(y,b){return y=y>>>0,b||Y(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(y,b){return y=y>>>0,b||Y(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},u.prototype.readIntLE=function(y,b,M){y=y>>>0,b=b>>>0,M||Y(y,b,this.length);for(var L=this[y],se=1,xe=0;++xe<b&&(se*=256);)L+=this[y+xe]*se;return se*=128,L>=se&&(L-=Math.pow(2,8*b)),L},u.prototype.readIntBE=function(y,b,M){y=y>>>0,b=b>>>0,M||Y(y,b,this.length);for(var L=b,se=1,xe=this[y+--L];L>0&&(se*=256);)xe+=this[y+--L]*se;return se*=128,xe>=se&&(xe-=Math.pow(2,8*b)),xe},u.prototype.readInt8=function(y,b){return y=y>>>0,b||Y(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},u.prototype.readInt16LE=function(y,b){y=y>>>0,b||Y(y,2,this.length);var M=this[y]|this[y+1]<<8;return M&32768?M|4294901760:M},u.prototype.readInt16BE=function(y,b){y=y>>>0,b||Y(y,2,this.length);var M=this[y+1]|this[y]<<8;return M&32768?M|4294901760:M},u.prototype.readInt32LE=function(y,b){return y=y>>>0,b||Y(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},u.prototype.readInt32BE=function(y,b){return y=y>>>0,b||Y(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},u.prototype.readFloatLE=function(y,b){return y=y>>>0,b||Y(y,4,this.length),r.read(this,y,!0,23,4)},u.prototype.readFloatBE=function(y,b){return y=y>>>0,b||Y(y,4,this.length),r.read(this,y,!1,23,4)},u.prototype.readDoubleLE=function(y,b){return y=y>>>0,b||Y(y,8,this.length),r.read(this,y,!0,52,8)},u.prototype.readDoubleBE=function(y,b){return y=y>>>0,b||Y(y,8,this.length),r.read(this,y,!1,52,8)};function me(R,y,b,M,L,se){if(!u.isBuffer(R))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>L||y<se)throw new RangeError('"value" argument is out of bounds');if(b+M>R.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(y,b,M,L){if(y=+y,b=b>>>0,M=M>>>0,!L){var se=Math.pow(2,8*M)-1;me(this,y,b,M,se,0)}var xe=1,ke=0;for(this[b]=y&255;++ke<M&&(xe*=256);)this[b+ke]=y/xe&255;return b+M},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(y,b,M,L){if(y=+y,b=b>>>0,M=M>>>0,!L){var se=Math.pow(2,8*M)-1;me(this,y,b,M,se,0)}var xe=M-1,ke=1;for(this[b+xe]=y&255;--xe>=0&&(ke*=256);)this[b+xe]=y/ke&255;return b+M},u.prototype.writeUint8=u.prototype.writeUInt8=function(y,b,M){return y=+y,b=b>>>0,M||me(this,y,b,1,255,0),this[b]=y&255,b+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(y,b,M){return y=+y,b=b>>>0,M||me(this,y,b,2,65535,0),this[b]=y&255,this[b+1]=y>>>8,b+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(y,b,M){return y=+y,b=b>>>0,M||me(this,y,b,2,65535,0),this[b]=y>>>8,this[b+1]=y&255,b+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(y,b,M){return y=+y,b=b>>>0,M||me(this,y,b,4,4294967295,0),this[b+3]=y>>>24,this[b+2]=y>>>16,this[b+1]=y>>>8,this[b]=y&255,b+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(y,b,M){return y=+y,b=b>>>0,M||me(this,y,b,4,4294967295,0),this[b]=y>>>24,this[b+1]=y>>>16,this[b+2]=y>>>8,this[b+3]=y&255,b+4},u.prototype.writeIntLE=function(y,b,M,L){if(y=+y,b=b>>>0,!L){var se=Math.pow(2,8*M-1);me(this,y,b,M,se-1,-se)}var xe=0,ke=1,Ie=0;for(this[b]=y&255;++xe<M&&(ke*=256);)y<0&&Ie===0&&this[b+xe-1]!==0&&(Ie=1),this[b+xe]=(y/ke>>0)-Ie&255;return b+M},u.prototype.writeIntBE=function(y,b,M,L){if(y=+y,b=b>>>0,!L){var se=Math.pow(2,8*M-1);me(this,y,b,M,se-1,-se)}var xe=M-1,ke=1,Ie=0;for(this[b+xe]=y&255;--xe>=0&&(ke*=256);)y<0&&Ie===0&&this[b+xe+1]!==0&&(Ie=1),this[b+xe]=(y/ke>>0)-Ie&255;return b+M},u.prototype.writeInt8=function(y,b,M){return y=+y,b=b>>>0,M||me(this,y,b,1,127,-128),y<0&&(y=255+y+1),this[b]=y&255,b+1},u.prototype.writeInt16LE=function(y,b,M){return y=+y,b=b>>>0,M||me(this,y,b,2,32767,-32768),this[b]=y&255,this[b+1]=y>>>8,b+2},u.prototype.writeInt16BE=function(y,b,M){return y=+y,b=b>>>0,M||me(this,y,b,2,32767,-32768),this[b]=y>>>8,this[b+1]=y&255,b+2},u.prototype.writeInt32LE=function(y,b,M){return y=+y,b=b>>>0,M||me(this,y,b,4,2147483647,-2147483648),this[b]=y&255,this[b+1]=y>>>8,this[b+2]=y>>>16,this[b+3]=y>>>24,b+4},u.prototype.writeInt32BE=function(y,b,M){return y=+y,b=b>>>0,M||me(this,y,b,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[b]=y>>>24,this[b+1]=y>>>16,this[b+2]=y>>>8,this[b+3]=y&255,b+4};function Be(R,y,b,M,L,se){if(b+M>R.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function H(R,y,b,M,L){return y=+y,b=b>>>0,L||Be(R,y,b,4),r.write(R,y,b,M,23,4),b+4}u.prototype.writeFloatLE=function(y,b,M){return H(this,y,b,!0,M)},u.prototype.writeFloatBE=function(y,b,M){return H(this,y,b,!1,M)};function Pe(R,y,b,M,L){return y=+y,b=b>>>0,L||Be(R,y,b,8),r.write(R,y,b,M,52,8),b+8}u.prototype.writeDoubleLE=function(y,b,M){return Pe(this,y,b,!0,M)},u.prototype.writeDoubleBE=function(y,b,M){return Pe(this,y,b,!1,M)},u.prototype.copy=function(y,b,M,L){if(!u.isBuffer(y))throw new TypeError("argument should be a Buffer");if(M||(M=0),!L&&L!==0&&(L=this.length),b>=y.length&&(b=y.length),b||(b=0),L>0&&L<M&&(L=M),L===M||y.length===0||this.length===0)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("sourceEnd out of bounds");L>this.length&&(L=this.length),y.length-b<L-M&&(L=y.length-b+M);var se=L-M;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(b,M,L):Uint8Array.prototype.set.call(y,this.subarray(M,L),b),se},u.prototype.fill=function(y,b,M,L){if(typeof y=="string"){if(typeof b=="string"?(L=b,b=0,M=this.length):typeof M=="string"&&(L=M,M=this.length),L!==void 0&&typeof L!="string")throw new TypeError("encoding must be a string");if(typeof L=="string"&&!u.isEncoding(L))throw new TypeError("Unknown encoding: "+L);if(y.length===1){var se=y.charCodeAt(0);(L==="utf8"&&se<128||L==="latin1")&&(y=se)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(b<0||this.length<b||this.length<M)throw new RangeError("Out of range index");if(M<=b)return this;b=b>>>0,M=M===void 0?this.length:M>>>0,y||(y=0);var xe;if(typeof y=="number")for(xe=b;xe<M;++xe)this[xe]=y;else{var ke=u.isBuffer(y)?y:u.from(y,L),Ie=ke.length;if(Ie===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for(xe=0;xe<M-b;++xe)this[xe+b]=ke[xe%Ie]}return this};var Ae=/[^+/0-9A-Za-z-_]/g;function pe(R){if(R=R.split("=")[0],R=R.trim().replace(Ae,""),R.length<2)return"";for(;R.length%4!==0;)R=R+"=";return R}function de(R,y){y=y||1/0;for(var b,M=R.length,L=null,se=[],xe=0;xe<M;++xe){if(b=R.charCodeAt(xe),b>55295&&b<57344){if(!L){if(b>56319){(y-=3)>-1&&se.push(239,191,189);continue}else if(xe+1===M){(y-=3)>-1&&se.push(239,191,189);continue}L=b;continue}if(b<56320){(y-=3)>-1&&se.push(239,191,189),L=b;continue}b=(L-55296<<10|b-56320)+65536}else L&&(y-=3)>-1&&se.push(239,191,189);if(L=null,b<128){if((y-=1)<0)break;se.push(b)}else if(b<2048){if((y-=2)<0)break;se.push(b>>6|192,b&63|128)}else if(b<65536){if((y-=3)<0)break;se.push(b>>12|224,b>>6&63|128,b&63|128)}else if(b<1114112){if((y-=4)<0)break;se.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw new Error("Invalid code point")}return se}function Ne(R){for(var y=[],b=0;b<R.length;++b)y.push(R.charCodeAt(b)&255);return y}function C(R,y){for(var b,M,L,se=[],xe=0;xe<R.length&&!((y-=2)<0);++xe)b=R.charCodeAt(xe),M=b>>8,L=b%256,se.push(L),se.push(M);return se}function F(R){return t.toByteArray(pe(R))}function D(R,y,b,M){for(var L=0;L<M&&!(L+b>=y.length||L>=R.length);++L)y[L+b]=R[L];return L}function J(R,y){return R instanceof y||R!=null&&R.constructor!=null&&R.constructor.name!=null&&R.constructor.name===y.name}function ne(R){return R!==R}var ae=function(){for(var R="0123456789abcdef",y=new Array(256),b=0;b<16;++b)for(var M=b*16,L=0;L<16;++L)y[M+L]=R[b]+R[L];return y}()}(vh)),vh}var Xc={exports:{}},B_=Xc.exports,Vx;function rd(){return Vx||(Vx=1,function(e){(function(t){var r,i=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,c=Math.floor,d="[BigNumber Error] ",u=d+"Number primitive has more than 15 significant digits: ",h=1e14,g=14,p=9007199254740991,m=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],w=1e7,_=1e9;function v(Q){var X,z,K,W=H.prototype={constructor:H,toString:null,valueOf:null},ie=new H(1),fe=20,T=4,V=-7,G=21,ee=-1e7,le=1e7,te=!1,ge=1,_e=0,Y={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},me="0123456789abcdefghijklmnopqrstuvwxyz",Be=!0;function H(C,F){var D,J,ne,ae,R,y,b,M,L=this;if(!(L instanceof H))return new H(C,F);if(F==null){if(C&&C._isBigNumber===!0){L.s=C.s,!C.c||C.e>le?L.c=L.e=null:C.e<ee?L.c=[L.e=0]:(L.e=C.e,L.c=C.c.slice());return}if((y=typeof C=="number")&&C*0==0){if(L.s=1/C<0?(C=-C,-1):1,C===~~C){for(ae=0,R=C;R>=10;R/=10,ae++);ae>le?L.c=L.e=null:(L.e=ae,L.c=[C]);return}M=String(C)}else{if(!i.test(M=String(C)))return K(L,M,y);L.s=M.charCodeAt(0)==45?(M=M.slice(1),-1):1}(ae=M.indexOf("."))>-1&&(M=M.replace(".","")),(R=M.search(/e/i))>0?(ae<0&&(ae=R),ae+=+M.slice(R+1),M=M.substring(0,R)):ae<0&&(ae=M.length)}else{if(I(F,2,me.length,"Base"),F==10&&Be)return L=new H(C),de(L,fe+L.e+1,T);if(M=String(C),y=typeof C=="number"){if(C*0!=0)return K(L,M,y,F);if(L.s=1/C<0?(M=M.slice(1),-1):1,H.DEBUG&&M.replace(/^0\.0*|\./,"").length>15)throw Error(u+C)}else L.s=M.charCodeAt(0)===45?(M=M.slice(1),-1):1;for(D=me.slice(0,F),ae=R=0,b=M.length;R<b;R++)if(D.indexOf(J=M.charAt(R))<0){if(J=="."){if(R>ae){ae=b;continue}}else if(!ne&&(M==M.toUpperCase()&&(M=M.toLowerCase())||M==M.toLowerCase()&&(M=M.toUpperCase()))){ne=!0,R=-1,ae=0;continue}return K(L,String(C),y,F)}y=!1,M=z(M,F,10,L.s),(ae=M.indexOf("."))>-1?M=M.replace(".",""):ae=M.length}for(R=0;M.charCodeAt(R)===48;R++);for(b=M.length;M.charCodeAt(--b)===48;);if(M=M.slice(R,++b)){if(b-=R,y&&H.DEBUG&&b>15&&(C>p||C!==c(C)))throw Error(u+L.s*C);if((ae=ae-R-1)>le)L.c=L.e=null;else if(ae<ee)L.c=[L.e=0];else{if(L.e=ae,L.c=[],R=(ae+1)%g,ae<0&&(R+=g),R<b){for(R&&L.c.push(+M.slice(0,R)),b-=g;R<b;)L.c.push(+M.slice(R,R+=g));R=g-(M=M.slice(R)).length}else R-=b;for(;R--;M+="0");L.c.push(+M)}}else L.c=[L.e=0]}H.clone=v,H.ROUND_UP=0,H.ROUND_DOWN=1,H.ROUND_CEIL=2,H.ROUND_FLOOR=3,H.ROUND_HALF_UP=4,H.ROUND_HALF_DOWN=5,H.ROUND_HALF_EVEN=6,H.ROUND_HALF_CEIL=7,H.ROUND_HALF_FLOOR=8,H.EUCLID=9,H.config=H.set=function(C){var F,D;if(C!=null)if(typeof C=="object"){if(C.hasOwnProperty(F="DECIMAL_PLACES")&&(D=C[F],I(D,0,_,F),fe=D),C.hasOwnProperty(F="ROUNDING_MODE")&&(D=C[F],I(D,0,8,F),T=D),C.hasOwnProperty(F="EXPONENTIAL_AT")&&(D=C[F],D&&D.pop?(I(D[0],-_,0,F),I(D[1],0,_,F),V=D[0],G=D[1]):(I(D,-_,_,F),V=-(G=D<0?-D:D))),C.hasOwnProperty(F="RANGE"))if(D=C[F],D&&D.pop)I(D[0],-_,-1,F),I(D[1],1,_,F),ee=D[0],le=D[1];else if(I(D,-_,_,F),D)ee=-(le=D<0?-D:D);else throw Error(d+F+" cannot be zero: "+D);if(C.hasOwnProperty(F="CRYPTO"))if(D=C[F],D===!!D)if(D)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))te=D;else throw te=!D,Error(d+"crypto unavailable");else te=D;else throw Error(d+F+" not true or false: "+D);if(C.hasOwnProperty(F="MODULO_MODE")&&(D=C[F],I(D,0,9,F),ge=D),C.hasOwnProperty(F="POW_PRECISION")&&(D=C[F],I(D,0,_,F),_e=D),C.hasOwnProperty(F="FORMAT"))if(D=C[F],typeof D=="object")Y=D;else throw Error(d+F+" not an object: "+D);if(C.hasOwnProperty(F="ALPHABET"))if(D=C[F],typeof D=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(D))Be=D.slice(0,10)=="0123456789",me=D;else throw Error(d+F+" invalid: "+D)}else throw Error(d+"Object expected: "+C);return{DECIMAL_PLACES:fe,ROUNDING_MODE:T,EXPONENTIAL_AT:[V,G],RANGE:[ee,le],CRYPTO:te,MODULO_MODE:ge,POW_PRECISION:_e,FORMAT:Y,ALPHABET:me}},H.isBigNumber=function(C){if(!C||C._isBigNumber!==!0)return!1;if(!H.DEBUG)return!0;var F,D,J=C.c,ne=C.e,ae=C.s;e:if({}.toString.call(J)=="[object Array]"){if((ae===1||ae===-1)&&ne>=-_&&ne<=_&&ne===c(ne)){if(J[0]===0){if(ne===0&&J.length===1)return!0;break e}if(F=(ne+1)%g,F<1&&(F+=g),String(J[0]).length==F){for(F=0;F<J.length;F++)if(D=J[F],D<0||D>=h||D!==c(D))break e;if(D!==0)return!0}}}else if(J===null&&ne===null&&(ae===null||ae===1||ae===-1))return!0;throw Error(d+"Invalid BigNumber: "+C)},H.maximum=H.max=function(){return Ae(arguments,-1)},H.minimum=H.min=function(){return Ae(arguments,1)},H.random=function(){var C=9007199254740992,F=Math.random()*C&2097151?function(){return c(Math.random()*C)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(D){var J,ne,ae,R,y,b=0,M=[],L=new H(ie);if(D==null?D=fe:I(D,0,_),R=o(D/g),te)if(crypto.getRandomValues){for(J=crypto.getRandomValues(new Uint32Array(R*=2));b<R;)y=J[b]*131072+(J[b+1]>>>11),y>=9e15?(ne=crypto.getRandomValues(new Uint32Array(2)),J[b]=ne[0],J[b+1]=ne[1]):(M.push(y%1e14),b+=2);b=R/2}else if(crypto.randomBytes){for(J=crypto.randomBytes(R*=7);b<R;)y=(J[b]&31)*281474976710656+J[b+1]*1099511627776+J[b+2]*4294967296+J[b+3]*16777216+(J[b+4]<<16)+(J[b+5]<<8)+J[b+6],y>=9e15?crypto.randomBytes(7).copy(J,b):(M.push(y%1e14),b+=7);b=R/7}else throw te=!1,Error(d+"crypto unavailable");if(!te)for(;b<R;)y=F(),y<9e15&&(M[b++]=y%1e14);for(R=M[--b],D%=g,R&&D&&(y=m[g-D],M[b]=c(R/y)*y);M[b]===0;M.pop(),b--);if(b<0)M=[ae=0];else{for(ae=-1;M[0]===0;M.splice(0,1),ae-=g);for(b=1,y=M[0];y>=10;y/=10,b++);b<g&&(ae-=g-b)}return L.e=ae,L.c=M,L}}(),H.sum=function(){for(var C=1,F=arguments,D=new H(F[0]);C<F.length;)D=D.plus(F[C++]);return D},z=function(){var C="0123456789";function F(D,J,ne,ae){for(var R,y=[0],b,M=0,L=D.length;M<L;){for(b=y.length;b--;y[b]*=J);for(y[0]+=ae.indexOf(D.charAt(M++)),R=0;R<y.length;R++)y[R]>ne-1&&(y[R+1]==null&&(y[R+1]=0),y[R+1]+=y[R]/ne|0,y[R]%=ne)}return y.reverse()}return function(D,J,ne,ae,R){var y,b,M,L,se,xe,ke,Ie,Ue=D.indexOf("."),Ze=fe,B=T;for(Ue>=0&&(L=_e,_e=0,D=D.replace(".",""),Ie=new H(J),xe=Ie.pow(D.length-Ue),_e=L,Ie.c=F(O(E(xe.c),xe.e,"0"),10,ne,C),Ie.e=Ie.c.length),ke=F(D,J,ne,R?(y=me,C):(y=C,me)),M=L=ke.length;ke[--L]==0;ke.pop());if(!ke[0])return y.charAt(0);if(Ue<0?--M:(xe.c=ke,xe.e=M,xe.s=ae,xe=X(xe,Ie,Ze,B,ne),ke=xe.c,se=xe.r,M=xe.e),b=M+Ze+1,Ue=ke[b],L=ne/2,se=se||b<0||ke[b+1]!=null,se=B<4?(Ue!=null||se)&&(B==0||B==(xe.s<0?3:2)):Ue>L||Ue==L&&(B==4||se||B==6&&ke[b-1]&1||B==(xe.s<0?8:7)),b<1||!ke[0])D=se?O(y.charAt(1),-Ze,y.charAt(0)):y.charAt(0);else{if(ke.length=b,se)for(--ne;++ke[--b]>ne;)ke[b]=0,b||(++M,ke=[1].concat(ke));for(L=ke.length;!ke[--L];);for(Ue=0,D="";Ue<=L;D+=y.charAt(ke[Ue++]));D=O(D,M,y.charAt(0))}return D}}(),X=function(){function C(J,ne,ae){var R,y,b,M,L=0,se=J.length,xe=ne%w,ke=ne/w|0;for(J=J.slice();se--;)b=J[se]%w,M=J[se]/w|0,R=ke*b+M*xe,y=xe*b+R%w*w+L,L=(y/ae|0)+(R/w|0)+ke*M,J[se]=y%ae;return L&&(J=[L].concat(J)),J}function F(J,ne,ae,R){var y,b;if(ae!=R)b=ae>R?1:-1;else for(y=b=0;y<ae;y++)if(J[y]!=ne[y]){b=J[y]>ne[y]?1:-1;break}return b}function D(J,ne,ae,R){for(var y=0;ae--;)J[ae]-=y,y=J[ae]<ne[ae]?1:0,J[ae]=y*R+J[ae]-ne[ae];for(;!J[0]&&J.length>1;J.splice(0,1));}return function(J,ne,ae,R,y){var b,M,L,se,xe,ke,Ie,Ue,Ze,B,N,k,Z,ue,be,ve,Ke,Qe=J.s==ne.s?1:-1,De=J.c,We=ne.c;if(!De||!De[0]||!We||!We[0])return new H(!J.s||!ne.s||(De?We&&De[0]==We[0]:!We)?NaN:De&&De[0]==0||!We?Qe*0:Qe/0);for(Ue=new H(Qe),Ze=Ue.c=[],M=J.e-ne.e,Qe=ae+M+1,y||(y=h,M=j(J.e/g)-j(ne.e/g),Qe=Qe/g|0),L=0;We[L]==(De[L]||0);L++);if(We[L]>(De[L]||0)&&M--,Qe<0)Ze.push(1),se=!0;else{for(ue=De.length,ve=We.length,L=0,Qe+=2,xe=c(y/(We[0]+1)),xe>1&&(We=C(We,xe,y),De=C(De,xe,y),ve=We.length,ue=De.length),Z=ve,B=De.slice(0,ve),N=B.length;N<ve;B[N++]=0);Ke=We.slice(),Ke=[0].concat(Ke),be=We[0],We[1]>=y/2&&be++;do{if(xe=0,b=F(We,B,ve,N),b<0){if(k=B[0],ve!=N&&(k=k*y+(B[1]||0)),xe=c(k/be),xe>1)for(xe>=y&&(xe=y-1),ke=C(We,xe,y),Ie=ke.length,N=B.length;F(ke,B,Ie,N)==1;)xe--,D(ke,ve<Ie?Ke:We,Ie,y),Ie=ke.length,b=1;else xe==0&&(b=xe=1),ke=We.slice(),Ie=ke.length;if(Ie<N&&(ke=[0].concat(ke)),D(B,ke,N,y),N=B.length,b==-1)for(;F(We,B,ve,N)<1;)xe++,D(B,ve<N?Ke:We,N,y),N=B.length}else b===0&&(xe++,B=[0]);Ze[L++]=xe,B[0]?B[N++]=De[Z]||0:(B=[De[Z]],N=1)}while((Z++<ue||B[0]!=null)&&Qe--);se=B[0]!=null,Ze[0]||Ze.splice(0,1)}if(y==h){for(L=1,Qe=Ze[0];Qe>=10;Qe/=10,L++);de(Ue,ae+(Ue.e=L+M*g-1)+1,R,se)}else Ue.e=M,Ue.r=+se;return Ue}}();function Pe(C,F,D,J){var ne,ae,R,y,b;if(D==null?D=T:I(D,0,8),!C.c)return C.toString();if(ne=C.c[0],R=C.e,F==null)b=E(C.c),b=J==1||J==2&&(R<=V||R>=G)?q(b,R):O(b,R,"0");else if(C=de(new H(C),F,D),ae=C.e,b=E(C.c),y=b.length,J==1||J==2&&(F<=ae||ae<=V)){for(;y<F;b+="0",y++);b=q(b,ae)}else if(F-=R,b=O(b,ae,"0"),ae+1>y){if(--F>0)for(b+=".";F--;b+="0");}else if(F+=ae-y,F>0)for(ae+1==y&&(b+=".");F--;b+="0");return C.s<0&&ne?"-"+b:b}function Ae(C,F){for(var D,J,ne=1,ae=new H(C[0]);ne<C.length;ne++)J=new H(C[ne]),(!J.s||(D=P(ae,J))===F||D===0&&ae.s===F)&&(ae=J);return ae}function pe(C,F,D){for(var J=1,ne=F.length;!F[--ne];F.pop());for(ne=F[0];ne>=10;ne/=10,J++);return(D=J+D*g-1)>le?C.c=C.e=null:D<ee?C.c=[C.e=0]:(C.e=D,C.c=F),C}K=function(){var C=/^(-?)0([xbo])(?=\w[\w.]*$)/i,F=/^([^.]+)\.$/,D=/^\.([^.]+)$/,J=/^-?(Infinity|NaN)$/,ne=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(ae,R,y,b){var M,L=y?R:R.replace(ne,"");if(J.test(L))ae.s=isNaN(L)?null:L<0?-1:1;else{if(!y&&(L=L.replace(C,function(se,xe,ke){return M=(ke=ke.toLowerCase())=="x"?16:ke=="b"?2:8,!b||b==M?xe:se}),b&&(M=b,L=L.replace(F,"$1").replace(D,"0.$1")),R!=L))return new H(L,M);if(H.DEBUG)throw Error(d+"Not a"+(b?" base "+b:"")+" number: "+R);ae.s=null}ae.c=ae.e=null}}();function de(C,F,D,J){var ne,ae,R,y,b,M,L,se=C.c,xe=m;if(se){e:{for(ne=1,y=se[0];y>=10;y/=10,ne++);if(ae=F-ne,ae<0)ae+=g,R=F,b=se[M=0],L=c(b/xe[ne-R-1]%10);else if(M=o((ae+1)/g),M>=se.length)if(J){for(;se.length<=M;se.push(0));b=L=0,ne=1,ae%=g,R=ae-g+1}else break e;else{for(b=y=se[M],ne=1;y>=10;y/=10,ne++);ae%=g,R=ae-g+ne,L=R<0?0:c(b/xe[ne-R-1]%10)}if(J=J||F<0||se[M+1]!=null||(R<0?b:b%xe[ne-R-1]),J=D<4?(L||J)&&(D==0||D==(C.s<0?3:2)):L>5||L==5&&(D==4||J||D==6&&(ae>0?R>0?b/xe[ne-R]:0:se[M-1])%10&1||D==(C.s<0?8:7)),F<1||!se[0])return se.length=0,J?(F-=C.e+1,se[0]=xe[(g-F%g)%g],C.e=-F||0):se[0]=C.e=0,C;if(ae==0?(se.length=M,y=1,M--):(se.length=M+1,y=xe[g-ae],se[M]=R>0?c(b/xe[ne-R]%xe[R])*y:0),J)for(;;)if(M==0){for(ae=1,R=se[0];R>=10;R/=10,ae++);for(R=se[0]+=y,y=1;R>=10;R/=10,y++);ae!=y&&(C.e++,se[0]==h&&(se[0]=1));break}else{if(se[M]+=y,se[M]!=h)break;se[M--]=0,y=1}for(ae=se.length;se[--ae]===0;se.pop());}C.e>le?C.c=C.e=null:C.e<ee&&(C.c=[C.e=0])}return C}function Ne(C){var F,D=C.e;return D===null?C.toString():(F=E(C.c),F=D<=V||D>=G?q(F,D):O(F,D,"0"),C.s<0?"-"+F:F)}return W.absoluteValue=W.abs=function(){var C=new H(this);return C.s<0&&(C.s=1),C},W.comparedTo=function(C,F){return P(this,new H(C,F))},W.decimalPlaces=W.dp=function(C,F){var D,J,ne,ae=this;if(C!=null)return I(C,0,_),F==null?F=T:I(F,0,8),de(new H(ae),C+ae.e+1,F);if(!(D=ae.c))return null;if(J=((ne=D.length-1)-j(this.e/g))*g,ne=D[ne])for(;ne%10==0;ne/=10,J--);return J<0&&(J=0),J},W.dividedBy=W.div=function(C,F){return X(this,new H(C,F),fe,T)},W.dividedToIntegerBy=W.idiv=function(C,F){return X(this,new H(C,F),0,1)},W.exponentiatedBy=W.pow=function(C,F){var D,J,ne,ae,R,y,b,M,L,se=this;if(C=new H(C),C.c&&!C.isInteger())throw Error(d+"Exponent not an integer: "+Ne(C));if(F!=null&&(F=new H(F)),y=C.e>14,!se.c||!se.c[0]||se.c[0]==1&&!se.e&&se.c.length==1||!C.c||!C.c[0])return L=new H(Math.pow(+Ne(se),y?C.s*(2-U(C)):+Ne(C))),F?L.mod(F):L;if(b=C.s<0,F){if(F.c?!F.c[0]:!F.s)return new H(NaN);J=!b&&se.isInteger()&&F.isInteger(),J&&(se=se.mod(F))}else{if(C.e>9&&(se.e>0||se.e<-1||(se.e==0?se.c[0]>1||y&&se.c[1]>=24e7:se.c[0]<8e13||y&&se.c[0]<=9999975e7)))return ae=se.s<0&&U(C)?-0:0,se.e>-1&&(ae=1/ae),new H(b?1/ae:ae);_e&&(ae=o(_e/g+2))}for(y?(D=new H(.5),b&&(C.s=1),M=U(C)):(ne=Math.abs(+Ne(C)),M=ne%2),L=new H(ie);;){if(M){if(L=L.times(se),!L.c)break;ae?L.c.length>ae&&(L.c.length=ae):J&&(L=L.mod(F))}if(ne){if(ne=c(ne/2),ne===0)break;M=ne%2}else if(C=C.times(D),de(C,C.e+1,1),C.e>14)M=U(C);else{if(ne=+Ne(C),ne===0)break;M=ne%2}se=se.times(se),ae?se.c&&se.c.length>ae&&(se.c.length=ae):J&&(se=se.mod(F))}return J?L:(b&&(L=ie.div(L)),F?L.mod(F):ae?de(L,_e,T,R):L)},W.integerValue=function(C){var F=new H(this);return C==null?C=T:I(C,0,8),de(F,F.e+1,C)},W.isEqualTo=W.eq=function(C,F){return P(this,new H(C,F))===0},W.isFinite=function(){return!!this.c},W.isGreaterThan=W.gt=function(C,F){return P(this,new H(C,F))>0},W.isGreaterThanOrEqualTo=W.gte=function(C,F){return(F=P(this,new H(C,F)))===1||F===0},W.isInteger=function(){return!!this.c&&j(this.e/g)>this.c.length-2},W.isLessThan=W.lt=function(C,F){return P(this,new H(C,F))<0},W.isLessThanOrEqualTo=W.lte=function(C,F){return(F=P(this,new H(C,F)))===-1||F===0},W.isNaN=function(){return!this.s},W.isNegative=function(){return this.s<0},W.isPositive=function(){return this.s>0},W.isZero=function(){return!!this.c&&this.c[0]==0},W.minus=function(C,F){var D,J,ne,ae,R=this,y=R.s;if(C=new H(C,F),F=C.s,!y||!F)return new H(NaN);if(y!=F)return C.s=-F,R.plus(C);var b=R.e/g,M=C.e/g,L=R.c,se=C.c;if(!b||!M){if(!L||!se)return L?(C.s=-F,C):new H(se?R:NaN);if(!L[0]||!se[0])return se[0]?(C.s=-F,C):new H(L[0]?R:T==3?-0:0)}if(b=j(b),M=j(M),L=L.slice(),y=b-M){for((ae=y<0)?(y=-y,ne=L):(M=b,ne=se),ne.reverse(),F=y;F--;ne.push(0));ne.reverse()}else for(J=(ae=(y=L.length)<(F=se.length))?y:F,y=F=0;F<J;F++)if(L[F]!=se[F]){ae=L[F]<se[F];break}if(ae&&(ne=L,L=se,se=ne,C.s=-C.s),F=(J=se.length)-(D=L.length),F>0)for(;F--;L[D++]=0);for(F=h-1;J>y;){if(L[--J]<se[J]){for(D=J;D&&!L[--D];L[D]=F);--L[D],L[J]+=h}L[J]-=se[J]}for(;L[0]==0;L.splice(0,1),--M);return L[0]?pe(C,L,M):(C.s=T==3?-1:1,C.c=[C.e=0],C)},W.modulo=W.mod=function(C,F){var D,J,ne=this;return C=new H(C,F),!ne.c||!C.s||C.c&&!C.c[0]?new H(NaN):!C.c||ne.c&&!ne.c[0]?new H(ne):(ge==9?(J=C.s,C.s=1,D=X(ne,C,0,3),C.s=J,D.s*=J):D=X(ne,C,0,ge),C=ne.minus(D.times(C)),!C.c[0]&&ge==1&&(C.s=ne.s),C)},W.multipliedBy=W.times=function(C,F){var D,J,ne,ae,R,y,b,M,L,se,xe,ke,Ie,Ue,Ze,B=this,N=B.c,k=(C=new H(C,F)).c;if(!N||!k||!N[0]||!k[0])return!B.s||!C.s||N&&!N[0]&&!k||k&&!k[0]&&!N?C.c=C.e=C.s=null:(C.s*=B.s,!N||!k?C.c=C.e=null:(C.c=[0],C.e=0)),C;for(J=j(B.e/g)+j(C.e/g),C.s*=B.s,b=N.length,se=k.length,b<se&&(Ie=N,N=k,k=Ie,ne=b,b=se,se=ne),ne=b+se,Ie=[];ne--;Ie.push(0));for(Ue=h,Ze=w,ne=se;--ne>=0;){for(D=0,xe=k[ne]%Ze,ke=k[ne]/Ze|0,R=b,ae=ne+R;ae>ne;)M=N[--R]%Ze,L=N[R]/Ze|0,y=ke*M+L*xe,M=xe*M+y%Ze*Ze+Ie[ae]+D,D=(M/Ue|0)+(y/Ze|0)+ke*L,Ie[ae--]=M%Ue;Ie[ae]=D}return D?++J:Ie.splice(0,1),pe(C,Ie,J)},W.negated=function(){var C=new H(this);return C.s=-C.s||null,C},W.plus=function(C,F){var D,J=this,ne=J.s;if(C=new H(C,F),F=C.s,!ne||!F)return new H(NaN);if(ne!=F)return C.s=-F,J.minus(C);var ae=J.e/g,R=C.e/g,y=J.c,b=C.c;if(!ae||!R){if(!y||!b)return new H(ne/0);if(!y[0]||!b[0])return b[0]?C:new H(y[0]?J:ne*0)}if(ae=j(ae),R=j(R),y=y.slice(),ne=ae-R){for(ne>0?(R=ae,D=b):(ne=-ne,D=y),D.reverse();ne--;D.push(0));D.reverse()}for(ne=y.length,F=b.length,ne-F<0&&(D=b,b=y,y=D,F=ne),ne=0;F;)ne=(y[--F]=y[F]+b[F]+ne)/h|0,y[F]=h===y[F]?0:y[F]%h;return ne&&(y=[ne].concat(y),++R),pe(C,y,R)},W.precision=W.sd=function(C,F){var D,J,ne,ae=this;if(C!=null&&C!==!!C)return I(C,1,_),F==null?F=T:I(F,0,8),de(new H(ae),C,F);if(!(D=ae.c))return null;if(ne=D.length-1,J=ne*g+1,ne=D[ne]){for(;ne%10==0;ne/=10,J--);for(ne=D[0];ne>=10;ne/=10,J++);}return C&&ae.e+1>J&&(J=ae.e+1),J},W.shiftedBy=function(C){return I(C,-p,p),this.times("1e"+C)},W.squareRoot=W.sqrt=function(){var C,F,D,J,ne,ae=this,R=ae.c,y=ae.s,b=ae.e,M=fe+4,L=new H("0.5");if(y!==1||!R||!R[0])return new H(!y||y<0&&(!R||R[0])?NaN:R?ae:1/0);if(y=Math.sqrt(+Ne(ae)),y==0||y==1/0?(F=E(R),(F.length+b)%2==0&&(F+="0"),y=Math.sqrt(+F),b=j((b+1)/2)-(b<0||b%2),y==1/0?F="5e"+b:(F=y.toExponential(),F=F.slice(0,F.indexOf("e")+1)+b),D=new H(F)):D=new H(y+""),D.c[0]){for(b=D.e,y=b+M,y<3&&(y=0);;)if(ne=D,D=L.times(ne.plus(X(ae,ne,M,1))),E(ne.c).slice(0,y)===(F=E(D.c)).slice(0,y))if(D.e<b&&--y,F=F.slice(y-3,y+1),F=="9999"||!J&&F=="4999"){if(!J&&(de(ne,ne.e+fe+2,0),ne.times(ne).eq(ae))){D=ne;break}M+=4,y+=4,J=1}else{(!+F||!+F.slice(1)&&F.charAt(0)=="5")&&(de(D,D.e+fe+2,1),C=!D.times(D).eq(ae));break}}return de(D,D.e+fe+1,T,C)},W.toExponential=function(C,F){return C!=null&&(I(C,0,_),C++),Pe(this,C,F,1)},W.toFixed=function(C,F){return C!=null&&(I(C,0,_),C=C+this.e+1),Pe(this,C,F)},W.toFormat=function(C,F,D){var J,ne=this;if(D==null)C!=null&&F&&typeof F=="object"?(D=F,F=null):C&&typeof C=="object"?(D=C,C=F=null):D=Y;else if(typeof D!="object")throw Error(d+"Argument not an object: "+D);if(J=ne.toFixed(C,F),ne.c){var ae,R=J.split("."),y=+D.groupSize,b=+D.secondaryGroupSize,M=D.groupSeparator||"",L=R[0],se=R[1],xe=ne.s<0,ke=xe?L.slice(1):L,Ie=ke.length;if(b&&(ae=y,y=b,b=ae,Ie-=ae),y>0&&Ie>0){for(ae=Ie%y||y,L=ke.substr(0,ae);ae<Ie;ae+=y)L+=M+ke.substr(ae,y);b>0&&(L+=M+ke.slice(ae)),xe&&(L="-"+L)}J=se?L+(D.decimalSeparator||"")+((b=+D.fractionGroupSize)?se.replace(new RegExp("\\d{"+b+"}\\B","g"),"$&"+(D.fractionGroupSeparator||"")):se):L}return(D.prefix||"")+J+(D.suffix||"")},W.toFraction=function(C){var F,D,J,ne,ae,R,y,b,M,L,se,xe,ke=this,Ie=ke.c;if(C!=null&&(y=new H(C),!y.isInteger()&&(y.c||y.s!==1)||y.lt(ie)))throw Error(d+"Argument "+(y.isInteger()?"out of range: ":"not an integer: ")+Ne(y));if(!Ie)return new H(ke);for(F=new H(ie),M=D=new H(ie),J=b=new H(ie),xe=E(Ie),ae=F.e=xe.length-ke.e-1,F.c[0]=m[(R=ae%g)<0?g+R:R],C=!C||y.comparedTo(F)>0?ae>0?F:M:y,R=le,le=1/0,y=new H(xe),b.c[0]=0;L=X(y,F,0,1),ne=D.plus(L.times(J)),ne.comparedTo(C)!=1;)D=J,J=ne,M=b.plus(L.times(ne=M)),b=ne,F=y.minus(L.times(ne=F)),y=ne;return ne=X(C.minus(D),J,0,1),b=b.plus(ne.times(M)),D=D.plus(ne.times(J)),b.s=M.s=ke.s,ae=ae*2,se=X(M,J,ae,T).minus(ke).abs().comparedTo(X(b,D,ae,T).minus(ke).abs())<1?[M,J]:[b,D],le=R,se},W.toNumber=function(){return+Ne(this)},W.toPrecision=function(C,F){return C!=null&&I(C,1,_),Pe(this,C,F,2)},W.toString=function(C){var F,D=this,J=D.s,ne=D.e;return ne===null?J?(F="Infinity",J<0&&(F="-"+F)):F="NaN":(C==null?F=ne<=V||ne>=G?q(E(D.c),ne):O(E(D.c),ne,"0"):C===10&&Be?(D=de(new H(D),fe+ne+1,T),F=O(E(D.c),D.e,"0")):(I(C,2,me.length,"Base"),F=z(O(E(D.c),ne,"0"),10,C,J,!0)),J<0&&D.c[0]&&(F="-"+F)),F},W.valueOf=W.toJSON=function(){return Ne(this)},W._isBigNumber=!0,Q!=null&&H.set(Q),H}function j(Q){var X=Q|0;return Q>0||Q===X?X:X-1}function E(Q){for(var X,z,K=1,W=Q.length,ie=Q[0]+"";K<W;){for(X=Q[K++]+"",z=g-X.length;z--;X="0"+X);ie+=X}for(W=ie.length;ie.charCodeAt(--W)===48;);return ie.slice(0,W+1||1)}function P(Q,X){var z,K,W=Q.c,ie=X.c,fe=Q.s,T=X.s,V=Q.e,G=X.e;if(!fe||!T)return null;if(z=W&&!W[0],K=ie&&!ie[0],z||K)return z?K?0:-T:fe;if(fe!=T)return fe;if(z=fe<0,K=V==G,!W||!ie)return K?0:!W^z?1:-1;if(!K)return V>G^z?1:-1;for(T=(V=W.length)<(G=ie.length)?V:G,fe=0;fe<T;fe++)if(W[fe]!=ie[fe])return W[fe]>ie[fe]^z?1:-1;return V==G?0:V>G^z?1:-1}function I(Q,X,z,K){if(Q<X||Q>z||Q!==c(Q))throw Error(d+(K||"Argument")+(typeof Q=="number"?Q<X||Q>z?" out of range: ":" not an integer: ":" not a primitive number: ")+String(Q))}function U(Q){var X=Q.c.length-1;return j(Q.e/g)==X&&Q.c[X]%2!=0}function q(Q,X){return(Q.length>1?Q.charAt(0)+"."+Q.slice(1):Q)+(X<0?"e":"e+")+X}function O(Q,X,z){var K,W;if(X<0){for(W=z+".";++X;W+=z);Q=W+Q}else if(K=Q.length,++X>K){for(W=z,X-=K;--X;W+=z);Q+=W}else X<K&&(Q=Q.slice(0,X)+"."+Q.slice(X));return Q}r=v(),r.default=r.BigNumber=r,e.exports?e.exports=r:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=r)})(B_)}(Xc)),Xc.exports}var bh,Hx;function M_(){return Hx||(Hx=1,bh=function(t,r,i){var o=new t.Uint8Array(i),c=r.pushInt,d=r.pushInt32,u=r.pushInt32Neg,h=r.pushInt64,g=r.pushInt64Neg,p=r.pushFloat,m=r.pushFloatSingle,w=r.pushFloatDouble,_=r.pushTrue,v=r.pushFalse,j=r.pushUndefined,E=r.pushNull,P=r.pushInfinity,I=r.pushInfinityNeg,U=r.pushNaN,q=r.pushNaNNeg,O=r.pushArrayStart,Q=r.pushArrayStartFixed,X=r.pushArrayStartFixed32,z=r.pushArrayStartFixed64,K=r.pushObjectStart,W=r.pushObjectStartFixed,ie=r.pushObjectStartFixed32,fe=r.pushObjectStartFixed64,T=r.pushByteString,V=r.pushByteStringStart,G=r.pushUtf8String,ee=r.pushUtf8StringStart,le=r.pushSimpleUnassigned,te=r.pushTagStart,ge=r.pushTagStart4,_e=r.pushTagStart8,Y=r.pushTagUnassigned,me=r.pushBreak,Be=t.Math.pow,H=0,Pe=0,Ae=0;function pe(oe){for(oe=oe|0,H=0,Pe=oe;(H|0)<(Pe|0)&&(Ae=Td[o[H]&255](o[H]|0)|0,!((Ae|0)>0)););return Ae|0}function de(oe){return oe=oe|0,((H|0)+(oe|0)|0)<(Pe|0)?0:1}function Ne(oe){return oe=oe|0,o[oe|0]<<8|o[oe+1|0]|0}function C(oe){return oe=oe|0,o[oe|0]<<24|o[oe+1|0]<<16|o[oe+2|0]<<8|o[oe+3|0]|0}function F(oe){return oe=oe|0,c(oe|0),H=H+1|0,0}function D(oe){return oe=oe|0,de(1)|0?1:(c(o[H+1|0]|0),H=H+2|0,0)}function J(oe){return oe=oe|0,de(2)|0?1:(c(Ne(H+1|0)|0),H=H+3|0,0)}function ne(oe){return oe=oe|0,de(4)|0?1:(d(Ne(H+1|0)|0,Ne(H+3|0)|0),H=H+5|0,0)}function ae(oe){return oe=oe|0,de(8)|0?1:(h(Ne(H+1|0)|0,Ne(H+3|0)|0,Ne(H+5|0)|0,Ne(H+7|0)|0),H=H+9|0,0)}function R(oe){return oe=oe|0,c(-1-(oe-32|0)|0),H=H+1|0,0}function y(oe){return oe=oe|0,de(1)|0?1:(c(-1-(o[H+1|0]|0)|0),H=H+2|0,0)}function b(oe){oe=oe|0;var He=0;return de(2)|0?1:(He=Ne(H+1|0)|0,c(-1-(He|0)|0),H=H+3|0,0)}function M(oe){return oe=oe|0,de(4)|0?1:(u(Ne(H+1|0)|0,Ne(H+3|0)|0),H=H+5|0,0)}function L(oe){return oe=oe|0,de(8)|0?1:(g(Ne(H+1|0)|0,Ne(H+3|0)|0,Ne(H+5|0)|0,Ne(H+7|0)|0),H=H+9|0,0)}function se(oe){oe=oe|0;var He=0,it=0,et=0;return et=oe-64|0,de(et|0)|0?1:(He=H+1|0,it=(H+1|0)+(et|0)|0,T(He|0,it|0),H=it|0,0)}function xe(oe){oe=oe|0;var He=0,it=0,et=0;return de(1)|0||(et=o[H+1|0]|0,He=H+2|0,it=(H+2|0)+(et|0)|0,de(et+1|0)|0)?1:(T(He|0,it|0),H=it|0,0)}function ke(oe){oe=oe|0;var He=0,it=0,et=0;return de(2)|0||(et=Ne(H+1|0)|0,He=H+3|0,it=(H+3|0)+(et|0)|0,de(et+2|0)|0)?1:(T(He|0,it|0),H=it|0,0)}function Ie(oe){oe=oe|0;var He=0,it=0,et=0;return de(4)|0||(et=C(H+1|0)|0,He=H+5|0,it=(H+5|0)+(et|0)|0,de(et+4|0)|0)?1:(T(He|0,it|0),H=it|0,0)}function Ue(oe){return oe=oe|0,1}function Ze(oe){return oe=oe|0,V(),H=H+1|0,0}function B(oe){oe=oe|0;var He=0,it=0,et=0;return et=oe-96|0,de(et|0)|0?1:(He=H+1|0,it=(H+1|0)+(et|0)|0,G(He|0,it|0),H=it|0,0)}function N(oe){oe=oe|0;var He=0,it=0,et=0;return de(1)|0||(et=o[H+1|0]|0,He=H+2|0,it=(H+2|0)+(et|0)|0,de(et+1|0)|0)?1:(G(He|0,it|0),H=it|0,0)}function k(oe){oe=oe|0;var He=0,it=0,et=0;return de(2)|0||(et=Ne(H+1|0)|0,He=H+3|0,it=(H+3|0)+(et|0)|0,de(et+2|0)|0)?1:(G(He|0,it|0),H=it|0,0)}function Z(oe){oe=oe|0;var He=0,it=0,et=0;return de(4)|0||(et=C(H+1|0)|0,He=H+5|0,it=(H+5|0)+(et|0)|0,de(et+4|0)|0)?1:(G(He|0,it|0),H=it|0,0)}function ue(oe){return oe=oe|0,1}function be(oe){return oe=oe|0,ee(),H=H+1|0,0}function ve(oe){return oe=oe|0,Q(oe-128|0),H=H+1|0,0}function Ke(oe){return oe=oe|0,de(1)|0?1:(Q(o[H+1|0]|0),H=H+2|0,0)}function Qe(oe){return oe=oe|0,de(2)|0?1:(Q(Ne(H+1|0)|0),H=H+3|0,0)}function De(oe){return oe=oe|0,de(4)|0?1:(X(Ne(H+1|0)|0,Ne(H+3|0)|0),H=H+5|0,0)}function We(oe){return oe=oe|0,de(8)|0?1:(z(Ne(H+1|0)|0,Ne(H+3|0)|0,Ne(H+5|0)|0,Ne(H+7|0)|0),H=H+9|0,0)}function ct(oe){return oe=oe|0,O(),H=H+1|0,0}function ft(oe){oe=oe|0;var He=0;return He=oe-160|0,de(He|0)|0?1:(W(He|0),H=H+1|0,0)}function ri(oe){return oe=oe|0,de(1)|0?1:(W(o[H+1|0]|0),H=H+2|0,0)}function fn(oe){return oe=oe|0,de(2)|0?1:(W(Ne(H+1|0)|0),H=H+3|0,0)}function hn(oe){return oe=oe|0,de(4)|0?1:(ie(Ne(H+1|0)|0,Ne(H+3|0)|0),H=H+5|0,0)}function Ui(oe){return oe=oe|0,de(8)|0?1:(fe(Ne(H+1|0)|0,Ne(H+3|0)|0,Ne(H+5|0)|0,Ne(H+7|0)|0),H=H+9|0,0)}function $i(oe){return oe=oe|0,K(),H=H+1|0,0}function Yr(oe){return oe=oe|0,te(oe-192|0|0),H=H+1|0,0}function _d(oe){return oe=oe|0,te(oe|0),H=H+1|0,0}function Sd(oe){return oe=oe|0,te(oe|0),H=H+1|0,0}function yl(oe){return oe=oe|0,te(oe|0),H=H+1|0,0}function jd(oe){return oe=oe|0,te(oe|0),H=H+1|0,0}function _t(oe){return oe=oe|0,te(oe-192|0|0),H=H+1|0,0}function wl(oe){return oe=oe|0,te(oe|0),H=H+1|0,0}function zi(oe){return oe=oe|0,te(oe|0),H=H+1|0,0}function zp(oe){return oe=oe|0,te(oe|0),H=H+1|0,0}function ni(oe){return oe=oe|0,de(1)|0?1:(te(o[H+1|0]|0),H=H+2|0,0)}function Vi(oe){return oe=oe|0,de(2)|0?1:(te(Ne(H+1|0)|0),H=H+3|0,0)}function Hi(oe){return oe=oe|0,de(4)|0?1:(ge(Ne(H+1|0)|0,Ne(H+3|0)|0),H=H+5|0,0)}function Xa(oe){return oe=oe|0,de(8)|0?1:(_e(Ne(H+1|0)|0,Ne(H+3|0)|0,Ne(H+5|0)|0,Ne(H+7|0)|0),H=H+9|0,0)}function At(oe){return oe=oe|0,le((oe|0)-224|0),H=H+1|0,0}function kd(oe){return oe=oe|0,v(),H=H+1|0,0}function Cd(oe){return oe=oe|0,_(),H=H+1|0,0}function On(oe){return oe=oe|0,E(),H=H+1|0,0}function vl(oe){return oe=oe|0,j(),H=H+1|0,0}function bl(oe){return oe=oe|0,de(1)|0?1:(le(o[H+1|0]|0),H=H+2|0,0)}function Ad(oe){oe=oe|0;var He=0,it=0,et=1,si=0,pn=0,Vp=0;return de(2)|0?1:(He=o[H+1|0]|0,it=o[H+2|0]|0,(He|0)&128&&(et=-1),si=+(((He|0)&124)>>2),pn=+(((He|0)&3)<<8|it),+si==0?p(+(+et*5960464477539063e-23*+pn)):+si==31?+et==1?+pn>0?U():P():+pn>0?q():I():p(+(+et*Be(2,+(+si-25))*+(1024+pn))),H=H+3|0,0)}function Nl(oe){return oe=oe|0,de(4)|0?1:(m(o[H+1|0]|0,o[H+2|0]|0,o[H+3|0]|0,o[H+4|0]|0),H=H+5|0,0)}function El(oe){return oe=oe|0,de(8)|0?1:(w(o[H+1|0]|0,o[H+2|0]|0,o[H+3|0]|0,o[H+4|0]|0,o[H+5|0]|0,o[H+6|0]|0,o[H+7|0]|0,o[H+8|0]|0),H=H+9|0,0)}function ht(oe){return oe=oe|0,1}function _l(oe){return oe=oe|0,me(),H=H+1|0,0}var Td=[F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,D,J,ne,ae,ht,ht,ht,ht,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,y,b,M,L,ht,ht,ht,ht,se,se,se,se,se,se,se,se,se,se,se,se,se,se,se,se,se,se,se,se,se,se,se,se,xe,ke,Ie,Ue,ht,ht,ht,Ze,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,N,k,Z,ue,ht,ht,ht,be,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,Ke,Qe,De,We,ht,ht,ht,ct,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ri,fn,hn,Ui,ht,ht,ht,$i,Yr,Yr,Yr,Yr,Yr,Yr,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,ni,Vi,Hi,Xa,ht,ht,ht,ht,At,At,At,At,At,At,At,At,At,At,At,At,At,At,At,At,At,At,At,At,kd,Cd,On,vl,bl,Ad,Nl,El,ht,ht,ht,_l];return{parse:pe}}),bh}var Nh={},_r={},Lx;function nd(){if(Lx)return _r;Lx=1;const e=rd().BigNumber;return _r.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},_r.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},_r.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},_r.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},_r.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},_r.SHIFT32=Math.pow(2,32),_r.SHIFT16=Math.pow(2,16),_r.MAX_SAFE_HIGH=2097151,_r.NEG_ONE=new e(-1),_r.TEN=new e(10),_r.TWO=new e(2),_r.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5},_r}var Wx;function lp(){return Wx||(Wx=1,function(e){const{Buffer:t}=td(),r=rd().BigNumber,i=nd(),o=i.SHIFT32,c=i.SHIFT16,d=2097151;e.parseHalf=function(g){var p,m,w;return w=g[0]&128?-1:1,p=(g[0]&124)>>2,m=(g[0]&3)<<8|g[1],p?p===31?w*(m?NaN:1/0):w*Math.pow(2,p-25)*(1024+m):w*5960464477539063e-23*m};function u(h){return h<16?"0"+h.toString(16):h.toString(16)}e.arrayBufferToBignumber=function(h){const g=h.byteLength;let p="";for(let m=0;m<g;m++)p+=u(h[m]);return new r(p,16)},e.buildMap=h=>{const g=new Map,p=Object.keys(h),m=p.length;for(let w=0;w<m;w++)g.set(p[w],h[p[w]]);return g},e.buildInt32=(h,g)=>h*c+g,e.buildInt64=(h,g,p,m)=>{const w=e.buildInt32(h,g),_=e.buildInt32(p,m);return w>d?new r(w).times(o).plus(_):w*o+_},e.writeHalf=function(g,p){const m=t.allocUnsafe(4);m.writeFloatBE(p,0);const w=m.readUInt32BE(0);if((w&8191)!==0)return!1;var _=w>>16&32768;const v=w>>23&255,j=w&8388607;if(v>=113&&v<=142)_+=(v-112<<10)+(j>>13);else if(v>=103&&v<113){if(j&(1<<126-v)-1)return!1;_+=j+8388608>>126-v}else return!1;return g.writeUInt16BE(_,0),!0},e.keySorter=function(h,g){var p=h[0].byteLength,m=g[0].byteLength;return p>m?1:m>p?-1:h[0].compare(g[0])},e.isNegativeZero=h=>h===0&&1/h<0,e.nextPowerOf2=h=>{let g=0;if(h&&!(h&h-1))return h;for(;h!==0;)h>>=1,g+=1;return 1<<g}}(Nh)),Nh}var Eh,qx;function bv(){if(qx)return Eh;qx=1;const e=nd(),t=e.MT,r=e.SIMPLE,i=e.SYMS;class o{constructor(d){if(typeof d!="number")throw new Error("Invalid Simple type: "+typeof d);if(d<0||d>255||(d|0)!==d)throw new Error("value must be a small positive integer: "+d);this.value=d}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(d){return d._pushInt(this.value,t.SIMPLE_FLOAT)}static isSimple(d){return d instanceof o}static decode(d,u){switch(u==null&&(u=!0),d){case r.FALSE:return!1;case r.TRUE:return!0;case r.NULL:return u?null:i.NULL;case r.UNDEFINED:return u?void 0:i.UNDEFINED;case-1:if(!u)throw new Error("Invalid BREAK");return i.BREAK;default:return new o(d)}}}return Eh=o,Eh}var _h,Gx;function Nv(){if(Gx)return _h;Gx=1;class e{constructor(r,i,o){if(this.tag=r,this.value=i,this.err=o,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(r){return r._pushTag(this.tag),r.pushAny(this.value)}convert(r){var i,o;if(o=r!=null?r[this.tag]:void 0,typeof o!="function"&&(o=e["_tag"+this.tag],typeof o!="function"))return this;try{return o.call(e,this.value)}catch(c){return i=c,this.err=i,this}}}return _h=e,_h}var Sh,Kx;function Ev(){if(Kx)return Sh;Kx=1;const e=self.location?self.location.protocol+"//"+self.location.host:"",t=self.URL;class r{constructor(c="",d=e){this.super=new t(c,d),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(c){this.super.hash=c}set host(c){this.super.host=c}set hostname(c){this.super.hostname=c}set href(c){this.super.href=c}set origin(c){this.super.origin=c}set password(c){this.super.password=c}set pathname(c){this.super.pathname=c}set port(c){this.super.port=c}set protocol(c){this.super.protocol=c}set search(c){this.super.search=c}set searchParams(c){this.super.searchParams=c}set username(c){this.super.username=c}createObjectURL(c){return this.super.createObjectURL(c)}revokeObjectURL(c){this.super.revokeObjectURL(c)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}}function i(o){if(typeof o=="string")return new t(o).toString();if(!(o instanceof t)){const c=o.username&&o.password?`${o.username}:${o.password}@`:"",d=o.auth?o.auth+"@":"",u=o.port?":"+o.port:"",h=o.protocol?o.protocol+"//":"",g=o.host||"",p=o.hostname||"",m=o.search||(o.query?"?"+o.query:""),w=o.hash||"",_=o.pathname||"",v=o.path||_+m;return`${h}${c||d}${g||p+u}${v}${w}`}}return Sh={URLWithLegacySupport:r,URLSearchParams:self.URLSearchParams,defaultBase:e,format:i},Sh}var jh,Dx;function I_(){if(Dx)return jh;Dx=1;const{URLWithLegacySupport:e,format:t}=Ev();return jh=(r,i={},o={},c)=>{let d=i.protocol?i.protocol.replace(":",""):"http";d=(o[d]||c||d)+":";let u;try{u=new e(r)}catch{u={}}const h=Object.assign({},i,{protocol:d||u.protocol,host:i.host||u.host});return new e(r,t(h)).toString()},jh}var kh,Yx;function _v(){if(Yx)return kh;Yx=1;const{URLWithLegacySupport:e,format:t,URLSearchParams:r,defaultBase:i}=Ev(),o=I_();return kh={URL:e,URLSearchParams:r,format:t,relative:o,defaultBase:i},kh}var Ch,Zx;function Sv(){if(Zx)return Ch;Zx=1;const{Buffer:e}=td(),t=tp(),r=rd().BigNumber,i=M_(),o=lp(),c=nd(),d=bv(),u=Nv(),{URL:h}=_v();class g{constructor(m){m=m||{},!m.size||m.size<65536?m.size=65536:m.size=o.nextPowerOf2(m.size),this._heap=new ArrayBuffer(m.size),this._heap8=new Uint8Array(this._heap),this._buffer=e.from(this._heap),this._reset(),this._knownTags=Object.assign({0:w=>new Date(w),1:w=>new Date(w*1e3),2:w=>o.arrayBufferToBignumber(w),3:w=>c.NEG_ONE.minus(o.arrayBufferToBignumber(w)),4:w=>c.TEN.pow(w[0]).times(w[1]),5:w=>c.TWO.pow(w[0]).times(w[1]),32:w=>new h(w),35:w=>new RegExp(w)},m.tags),this.parser=i(H3,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var m=this._parents.pop();if(m.length>0)throw new Error(`Missing ${m.length} elements`);switch(m.type){case c.PARENT.TAG:this._push(this.createTag(m.ref[0],m.ref[1]));break;case c.PARENT.BYTE_STRING:this._push(this.createByteString(m.ref,m.length));break;case c.PARENT.UTF8_STRING:this._push(this.createUtf8String(m.ref,m.length));break;case c.PARENT.MAP:if(m.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(m.ref,m.length));break;case c.PARENT.OBJECT:if(m.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(m.ref,m.length));break;case c.PARENT.ARRAY:this._push(this.createArray(m.ref,m.length));break}this._currentParent&&this._currentParent.type===c.PARENT.TAG&&this._dec()}_dec(){const m=this._currentParent;m.length<0||(m.length--,m.length===0&&this._closeParent())}_push(m,w){const _=this._currentParent;switch(_.values++,_.type){case c.PARENT.ARRAY:case c.PARENT.BYTE_STRING:case c.PARENT.UTF8_STRING:_.length>-1?this._ref[this._ref.length-_.length]=m:this._ref.push(m),this._dec();break;case c.PARENT.OBJECT:_.tmpKey!=null?(this._ref[_.tmpKey]=m,_.tmpKey=null,this._dec()):(_.tmpKey=m,typeof _.tmpKey!="string"&&(_.type=c.PARENT.MAP,_.ref=o.buildMap(_.ref)));break;case c.PARENT.MAP:_.tmpKey!=null?(this._ref.set(_.tmpKey,m),_.tmpKey=null,this._dec()):_.tmpKey=m;break;case c.PARENT.TAG:this._ref.push(m),w||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(m,w,_){this._parents[this._depth]={type:w,length:_,ref:m,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:c.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(m,w){const _=this._knownTags[m];return _?_(w):new u(m,w)}createMap(m,w){return m}createObject(m,w){return m}createArray(m,w){return m}createByteString(m,w){return e.concat(m)}createByteStringFromHeap(m,w){return m===w?e.alloc(0):e.from(this._heap.slice(m,w))}createInt(m){return m}createInt32(m,w){return o.buildInt32(m,w)}createInt64(m,w,_,v){return o.buildInt64(m,w,_,v)}createFloat(m){return m}createFloatSingle(m,w,_,v){return t.read([m,w,_,v],0,!1,23,4)}createFloatDouble(m,w,_,v,j,E,P,I){return t.read([m,w,_,v,j,E,P,I],0,!1,52,8)}createInt32Neg(m,w){return-1-o.buildInt32(m,w)}createInt64Neg(m,w,_,v){const j=o.buildInt32(m,w),E=o.buildInt32(_,v);return j>c.MAX_SAFE_HIGH?c.NEG_ONE.minus(new r(j).times(c.SHIFT32).plus(E)):-1-(j*c.SHIFT32+E)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(m,w){return m.join("")}createUtf8StringFromHeap(m,w){return m===w?"":this._buffer.toString("utf8",m,w)}createSimpleUnassigned(m){return new d(m)}pushInt(m){this._push(this.createInt(m))}pushInt32(m,w){this._push(this.createInt32(m,w))}pushInt64(m,w,_,v){this._push(this.createInt64(m,w,_,v))}pushFloat(m){this._push(this.createFloat(m))}pushFloatSingle(m,w,_,v){this._push(this.createFloatSingle(m,w,_,v))}pushFloatDouble(m,w,_,v,j,E,P,I){this._push(this.createFloatDouble(m,w,_,v,j,E,P,I))}pushInt32Neg(m,w){this._push(this.createInt32Neg(m,w))}pushInt64Neg(m,w,_,v){this._push(this.createInt64Neg(m,w,_,v))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],c.PARENT.ARRAY,-1)}pushArrayStartFixed(m){this._createArrayStartFixed(m)}pushArrayStartFixed32(m,w){const _=o.buildInt32(m,w);this._createArrayStartFixed(_)}pushArrayStartFixed64(m,w,_,v){const j=o.buildInt64(m,w,_,v);this._createArrayStartFixed(j)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(m){this._createObjectStartFixed(m)}pushObjectStartFixed32(m,w){const _=o.buildInt32(m,w);this._createObjectStartFixed(_)}pushObjectStartFixed64(m,w,_,v){const j=o.buildInt64(m,w,_,v);this._createObjectStartFixed(j)}pushByteStringStart(){this._parents[this._depth]={type:c.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(m,w){this._push(this.createByteStringFromHeap(m,w))}pushUtf8StringStart(){this._parents[this._depth]={type:c.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(m,w){this._push(this.createUtf8StringFromHeap(m,w))}pushSimpleUnassigned(m){this._push(this.createSimpleUnassigned(m))}pushTagStart(m){this._parents[this._depth]={type:c.PARENT.TAG,length:1,ref:[m]}}pushTagStart4(m,w){this.pushTagStart(o.buildInt32(m,w))}pushTagStart8(m,w,_,v){this.pushTagStart(o.buildInt64(m,w,_,v))}pushTagUnassigned(m){this._push(this.createTag(m))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(m){if(m===0){this._push(this.createObject({}));return}this._createParent({},c.PARENT.OBJECT,m)}_createArrayStartFixed(m){if(m===0){this._push(this.createArray([]));return}this._createParent(new Array(m),c.PARENT.ARRAY,m)}_decode(m){if(m.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(m);const w=this.parser.parse(m.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(w>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(m){return this._decode(m),this._res[0]}decodeAll(m){return this._decode(m),this._res}static decode(m,w){return typeof m=="string"&&(m=e.from(m,w||"hex")),new g({size:m.length}).decodeFirst(m)}static decodeAll(m,w){return typeof m=="string"&&(m=e.from(m,w||"hex")),new g({size:m.length}).decodeAll(m)}}return g.decodeFirst=g.decode,Ch=g,Ch}var Ah,Xx;function O_(){if(Xx)return Ah;Xx=1;const{Buffer:e}=td(),t=Sv(),r=lp();class i extends t{createTag(d,u){return`${d}(${u})`}createInt(d){return super.createInt(d).toString()}createInt32(d,u){return super.createInt32(d,u).toString()}createInt64(d,u,h,g){return super.createInt64(d,u,h,g).toString()}createInt32Neg(d,u){return super.createInt32Neg(d,u).toString()}createInt64Neg(d,u,h,g){return super.createInt64Neg(d,u,h,g).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(d){const u=super.createFloat(d);return r.isNegativeZero(d)?"-0_1":`${u}_1`}createFloatSingle(d,u,h,g){return`${super.createFloatSingle(d,u,h,g)}_2`}createFloatDouble(d,u,h,g,p,m,w,_){return`${super.createFloatDouble(d,u,h,g,p,m,w,_)}_3`}createByteString(d,u){const h=d.join(", ");return u===-1?`(_ ${h})`:`h'${h}`}createByteStringFromHeap(d,u){return`h'${e.from(super.createByteStringFromHeap(d,u)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(d){return`simple(${d})`}createArray(d,u){const h=super.createArray(d,u);return u===-1?`[_ ${h.join(", ")}]`:`[${h.join(", ")}]`}createMap(d,u){const h=super.createMap(d),g=Array.from(h.keys()).reduce(o(h),"");return u===-1?`{_ ${g}}`:`{${g}}`}createObject(d,u){const h=super.createObject(d),g=Object.keys(h).reduce(o(h),"");return u===-1?`{_ ${g}}`:`{${g}}`}createUtf8String(d,u){const h=d.join(", ");return u===-1?`(_ ${h})`:`"${h}"`}createUtf8StringFromHeap(d,u){return`"${e.from(super.createUtf8StringFromHeap(d,u)).toString("utf8")}"`}static diagnose(d,u){return typeof d=="string"&&(d=e.from(d,u||"hex")),new i().decodeFirst(d)}}Ah=i;function o(c){return(d,u)=>d?`${d}, ${u}: ${c[u]}`:`${u}: ${c[u]}`}return Ah}var Th,Qx;function F_(){if(Qx)return Th;Qx=1;const{Buffer:e}=td(),{URL:t}=_v(),r=rd().BigNumber,i=lp(),o=nd(),c=o.MT,d=o.NUMBYTES,u=o.SHIFT32,h=o.SYMS,g=o.TAG,p=o.MT.SIMPLE_FLOAT<<5|o.NUMBYTES.TWO,m=o.MT.SIMPLE_FLOAT<<5|o.NUMBYTES.FOUR,w=o.MT.SIMPLE_FLOAT<<5|o.NUMBYTES.EIGHT,_=o.MT.SIMPLE_FLOAT<<5|o.SIMPLE.TRUE,v=o.MT.SIMPLE_FLOAT<<5|o.SIMPLE.FALSE,j=o.MT.SIMPLE_FLOAT<<5|o.SIMPLE.UNDEFINED,E=o.MT.SIMPLE_FLOAT<<5|o.SIMPLE.NULL,P=new r("0x20000000000000"),I=e.from("f97e00","hex"),U=e.from("f9fc00","hex"),q=e.from("f97c00","hex");function O(X){return{}.toString.call(X).slice(8,-1)}class Q{constructor(z){z=z||{},this.streaming=typeof z.stream=="function",this.onData=z.stream,this.semanticTypes=[[t,this._pushUrl],[r,this._pushBigNumber]];const K=z.genTypes||[],W=K.length;for(let ie=0;ie<W;ie++)this.addSemanticType(K[ie][0],K[ie][1]);this._reset()}addSemanticType(z,K){const W=this.semanticTypes.length;for(let ie=0;ie<W;ie++)if(this.semanticTypes[ie][0]===z){const T=this.semanticTypes[ie][1];return this.semanticTypes[ie][1]=K,T}return this.semanticTypes.push([z,K]),null}push(z){return z&&(this.result[this.offset]=z,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=z.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(z,K,W){return this.result[this.offset]=z,this.resultMethod[this.offset]=K,this.resultLength[this.offset]=W,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(z){return this.pushWrite(z,1,1)}_pushUInt16BE(z){return this.pushWrite(z,2,2)}_pushUInt32BE(z){return this.pushWrite(z,3,4)}_pushDoubleBE(z){return this.pushWrite(z,4,8)}_pushNaN(){return this.push(I)}_pushInfinity(z){const K=z<0?U:q;return this.push(K)}_pushFloat(z){const K=e.allocUnsafe(2);if(i.writeHalf(K,z)&&i.parseHalf(K)===z)return this._pushUInt8(p)&&this.push(K);const W=e.allocUnsafe(4);return W.writeFloatBE(z,0),W.readFloatBE(0)===z?this._pushUInt8(m)&&this.push(W):this._pushUInt8(w)&&this._pushDoubleBE(z)}_pushInt(z,K,W){const ie=K<<5;return z<24?this._pushUInt8(ie|z):z<=255?this._pushUInt8(ie|d.ONE)&&this._pushUInt8(z):z<=65535?this._pushUInt8(ie|d.TWO)&&this._pushUInt16BE(z):z<=4294967295?this._pushUInt8(ie|d.FOUR)&&this._pushUInt32BE(z):z<=Number.MAX_SAFE_INTEGER?this._pushUInt8(ie|d.EIGHT)&&this._pushUInt32BE(Math.floor(z/u))&&this._pushUInt32BE(z%u):K===c.NEG_INT?this._pushFloat(W):this._pushFloat(z)}_pushIntNum(z){return z<0?this._pushInt(-z-1,c.NEG_INT,z):this._pushInt(z,c.POS_INT)}_pushNumber(z){switch(!1){case z===z:return this._pushNaN(z);case isFinite(z):return this._pushInfinity(z);case z%1!==0:return this._pushIntNum(z);default:return this._pushFloat(z)}}_pushString(z){const K=e.byteLength(z,"utf8");return this._pushInt(K,c.UTF8_STRING)&&this.pushWrite(z,5,K)}_pushBoolean(z){return this._pushUInt8(z?_:v)}_pushUndefined(z){return this._pushUInt8(j)}_pushArray(z,K){const W=K.length;if(!z._pushInt(W,c.ARRAY))return!1;for(let ie=0;ie<W;ie++)if(!z.pushAny(K[ie]))return!1;return!0}_pushTag(z){return this._pushInt(z,c.TAG)}_pushDate(z,K){return z._pushTag(g.DATE_EPOCH)&&z.pushAny(Math.round(K/1e3))}_pushBuffer(z,K){return z._pushInt(K.length,c.BYTE_STRING)&&z.push(K)}_pushNoFilter(z,K){return z._pushBuffer(z,K.slice())}_pushRegexp(z,K){return z._pushTag(g.REGEXP)&&z.pushAny(K.source)}_pushSet(z,K){if(!z._pushInt(K.size,c.ARRAY))return!1;for(const W of K)if(!z.pushAny(W))return!1;return!0}_pushUrl(z,K){return z._pushTag(g.URI)&&z.pushAny(K.format())}_pushBigint(z){let K=g.POS_BIGINT;z.isNegative()&&(z=z.negated().minus(1),K=g.NEG_BIGINT);let W=z.toString(16);W.length%2&&(W="0"+W);const ie=e.from(W,"hex");return this._pushTag(K)&&this._pushBuffer(this,ie)}_pushBigNumber(z,K){if(K.isNaN())return z._pushNaN();if(!K.isFinite())return z._pushInfinity(K.isNegative()?-1/0:1/0);if(K.isInteger())return z._pushBigint(K);if(!(z._pushTag(g.DECIMAL_FRAC)&&z._pushInt(2,c.ARRAY)))return!1;const W=K.decimalPlaces(),ie=K.multipliedBy(new r(10).pow(W));return z._pushIntNum(-W)?ie.abs().isLessThan(P)?z._pushIntNum(ie.toNumber()):z._pushBigint(ie):!1}_pushMap(z,K){return z._pushInt(K.size,c.MAP)?this._pushRawMap(K.size,Array.from(K)):!1}_pushObject(z){if(!z)return this._pushUInt8(E);for(var K=this.semanticTypes.length,W=0;W<K;W++)if(z instanceof this.semanticTypes[W][0])return this.semanticTypes[W][1].call(z,this,z);var ie=z.encodeCBOR;if(typeof ie=="function")return ie.call(z,this);var fe=Object.keys(z),T=fe.length;return this._pushInt(T,c.MAP)?this._pushRawMap(T,fe.map(V=>[V,z[V]])):!1}_pushRawMap(z,K){K=K.map(function(ie){return ie[0]=Q.encode(ie[0]),ie}).sort(i.keySorter);for(var W=0;W<z;W++)if(!this.push(K[W][0])||!this.pushAny(K[W][1]))return!1;return!0}write(z){return this.pushAny(z)}pushAny(z){var K=O(z);switch(K){case"Number":return this._pushNumber(z);case"String":return this._pushString(z);case"Boolean":return this._pushBoolean(z);case"Object":return this._pushObject(z);case"Array":return this._pushArray(this,z);case"Uint8Array":return this._pushBuffer(this,e.isBuffer(z)?z:e.from(z));case"Null":return this._pushUInt8(E);case"Undefined":return this._pushUndefined(z);case"Map":return this._pushMap(this,z);case"Set":return this._pushSet(this,z);case"URL":return this._pushUrl(this,z);case"BigNumber":return this._pushBigNumber(this,z);case"Date":return this._pushDate(this,z);case"RegExp":return this._pushRegexp(this,z);case"Symbol":switch(z){case h.NULL:return this._pushObject(null);case h.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+z.toString())}default:throw new Error("Unknown type: "+typeof z+", "+(z?z.toString():""))}}finalize(){if(this.offset===0)return null;for(var z=this.result,K=this.resultLength,W=this.resultMethod,ie=this.offset,fe=0,T=0;T<ie;T++)fe+=K[T];var V=e.allocUnsafe(fe),G=0,ee=0;for(T=0;T<ie;T++){switch(ee=K[T],W[T]){case 0:z[T].copy(V,G);break;case 1:V.writeUInt8(z[T],G,!0);break;case 2:V.writeUInt16BE(z[T],G,!0);break;case 3:V.writeUInt32BE(z[T],G,!0);break;case 4:V.writeDoubleBE(z[T],G,!0);break;case 5:V.write(z[T],G,ee,"utf8");break;default:throw new Error("unkown method")}G+=ee}var le=V;return this._reset(),le}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(z){const K=new Q;if(!K.pushAny(z))throw new Error("Failed to encode input");return K.finalize()}}return Th=Q,Th}var Jx;function U_(){return Jx||(Jx=1,function(e){e.Diagnose=O_(),e.Decoder=Sv(),e.Encoder=F_(),e.Simple=bv(),e.Tagged=Nv(),e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.decode=e.Decoder.decode,e.leveldb={decode:e.Decoder.decodeAll,encode:e.Encoder.encode,buffer:!0,name:"cbor"}}(wh)),wh}var $_=U_();const jv=Gu($_);function ln(e){return Go(y_.create().update(new Uint8Array(e)).digest())}function Qc(e){if(e instanceof jv.Tagged)return Qc(e.value);if(typeof e=="string")return kv(e);if(typeof e=="number")return ln(Pt(e));if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return ln(e);if(Array.isArray(e)){const t=e.map(Qc);return ln(cn(...t))}else{if(e&&typeof e=="object"&&e._isPrincipal)return ln(e.toUint8Array());if(typeof e=="object"&&e!==null&&typeof e.toHash=="function")return Qc(e.toHash());if(typeof e=="object")return Cu(e);if(typeof e=="bigint")return ln(Pt(e))}throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${e}`),{value:e})}const kv=e=>{const t=new TextEncoder().encode(e);return ln(t)};function Qo(e){return Cu(e)}function Cu(e){const i=Object.entries(e).filter(([,d])=>d!==void 0).map(([d,u])=>{const h=kv(d),g=Qc(u);return[h,g]}).sort(([d],[u])=>Ow(d,u)),o=cn(...i.map(d=>cn(...d)));return ln(o)}var z_=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};const V_=new TextEncoder().encode(`
ic-request`);class cp{getPrincipal(){return this._principal||(this._principal=rt.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(t){const{body:r}=t,i=z_(t,["body"]),o=Qo(r);return Object.assign(Object.assign({},i),{body:{content:r,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign(cn(V_,o))}})}}class Jo{getPrincipal(){return rt.anonymous()}async transformRequest(t){return Object.assign(Object.assign({},t),{body:{content:t.body}})}}var Mo={},Kn={},gt={},ey;function Cv(){if(ey)return gt;ey=1,Object.defineProperty(gt,"__esModule",{value:!0});const e=9007199254740992;function t(T,...V){const G=new Uint8Array(T.byteLength+V.reduce((le,te)=>le+te.byteLength,0));G.set(new Uint8Array(T),0);let ee=T.byteLength;for(const le of V)G.set(new Uint8Array(le),ee),ee+=le.byteLength;return G.buffer}function r(T,V,G){G=G.replace(/[^0-9a-fA-F]/g,"");const ee=2**(V-24);G=G.slice(-ee*2).padStart(ee*2,"0");const le=[(T<<5)+V].concat(G.match(/../g).map(te=>parseInt(te,16)));return new Uint8Array(le).buffer}function i(T,V){if(V<24)return new Uint8Array([(T<<5)+V]).buffer;{const G=V<=255?24:V<=65535?25:V<=4294967295?26:27;return r(T,G,V.toString(16))}}function o(T){const V=[];for(let G=0;G<T.length;G++){let ee=T.charCodeAt(G);ee<128?V.push(ee):ee<2048?V.push(192|ee>>6,128|ee&63):ee<55296||ee>=57344?V.push(224|ee>>12,128|ee>>6&63,128|ee&63):(G++,ee=(ee&1023)<<10|T.charCodeAt(G)&1023,V.push(240|ee>>18,128|ee>>12&63,128|ee>>6&63,128|ee&63))}return t(new Uint8Array(i(3,T.length)),new Uint8Array(V))}function c(T,V){if(T==14277111)return t(new Uint8Array([217,217,247]),V);if(T<24)return t(new Uint8Array([192+T]),V);{const G=T<=255?24:T<=65535?25:T<=4294967295?26:27,ee=2**(G-24),le=T.toString(16).slice(-ee*2).padStart(ee*2,"0"),te=[192+G].concat(le.match(/../g).map(ge=>parseInt(ge,16)));return new Uint8Array(te).buffer}}gt.tagged=c;function d(T){return new Uint8Array(T).buffer}gt.raw=d;function u(T){if(isNaN(T))throw new RangeError("Invalid number.");T=Math.min(Math.max(0,T),23);const V=[0+T];return new Uint8Array(V).buffer}gt.uSmall=u;function h(T,V){if(T=parseInt(""+T,V),isNaN(T))throw new RangeError("Invalid number.");return T=Math.min(Math.max(0,T),255),T=T.toString(16),r(0,24,T)}gt.u8=h;function g(T,V){if(T=parseInt(""+T,V),isNaN(T))throw new RangeError("Invalid number.");return T=Math.min(Math.max(0,T),65535),T=T.toString(16),r(0,25,T)}gt.u16=g;function p(T,V){if(T=parseInt(""+T,V),isNaN(T))throw new RangeError("Invalid number.");return T=Math.min(Math.max(0,T),4294967295),T=T.toString(16),r(0,26,T)}gt.u32=p;function m(T,V){if(typeof T=="string"&&V==16){if(T.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return r(0,27,T)}if(T=parseInt(""+T,V),isNaN(T))throw new RangeError("Invalid number.");return T=Math.min(Math.max(0,T),e),T=T.toString(16),r(0,27,T)}gt.u64=m;function w(T){if(isNaN(T))throw new RangeError("Invalid number.");if(T===0)return u(0);T=Math.min(Math.max(0,-T),24)-1;const V=[32+T];return new Uint8Array(V).buffer}gt.iSmall=w;function _(T,V){if(T=parseInt(""+T,V),isNaN(T))throw new RangeError("Invalid number.");return T=Math.min(Math.max(0,-T-1),255),T=T.toString(16),r(1,24,T)}gt.i8=_;function v(T,V){if(T=parseInt(""+T,V),isNaN(T))throw new RangeError("Invalid number.");return T=Math.min(Math.max(0,-T-1),65535),T=T.toString(16),r(1,25,T)}gt.i16=v;function j(T,V){if(T=parseInt(""+T,V),isNaN(T))throw new RangeError("Invalid number.");return T=Math.min(Math.max(0,-T-1),4294967295),T=T.toString(16),r(1,26,T)}gt.i32=j;function E(T,V){if(typeof T=="string"&&V==16){if(T.startsWith("-")?T=T.slice(1):T="0",T.match(/[^0-9a-fA-F]/)||T.length>16)throw new RangeError("Invalid number.");let G=!1,ee=T.split("").reduceRight((le,te)=>{if(G)return te+le;let ge=parseInt(te,16)-1;return ge>=0?(G=!0,ge.toString(16)+le):"f"+le},"");return G?r(1,27,ee):m(0)}if(T=parseInt(""+T,V),isNaN(T))throw new RangeError("Invalid number.");return T=Math.min(Math.max(0,-T-1),9007199254740992),T=T.toString(16),r(1,27,T)}gt.i64=E;function P(T){return T>=0?T<24?u(T):T<=255?h(T):T<=65535?g(T):T<=4294967295?p(T):m(T):T>=-24?w(T):T>=-255?_(T):T>=-65535?v(T):T>=-4294967295?j(T):E(T)}gt.number=P;function I(T){return t(i(2,T.byteLength),T)}gt.bytes=I;function U(T){return o(T)}gt.string=U;function q(T){return t(i(4,T.length),...T)}gt.array=q;function O(T,V=!1){T instanceof Map||(T=new Map(Object.entries(T)));let G=Array.from(T.entries());return V&&(G=G.sort(([ee],[le])=>ee.localeCompare(le))),t(i(5,T.size),...G.map(([ee,le])=>t(o(ee),le)))}gt.map=O;function Q(T){const V=new Float32Array([T]);return t(new Uint8Array([250]),new Uint8Array(V.buffer))}gt.singleFloat=Q;function X(T){const V=new Float64Array([T]);return t(new Uint8Array([251]),new Uint8Array(V.buffer))}gt.doubleFloat=X;function z(T){return T?K():W()}gt.bool=z;function K(){return d(new Uint8Array([245]))}gt.true_=K;function W(){return d(new Uint8Array([244]))}gt.false_=W;function ie(){return d(new Uint8Array([246]))}gt.null_=ie;function fe(){return d(new Uint8Array([247]))}return gt.undefined_=fe,gt}var ty;function H_(){if(ty)return Kn;ty=1;var e=Kn&&Kn.__importStar||function(u){if(u&&u.__esModule)return u;var h={};if(u!=null)for(var g in u)Object.hasOwnProperty.call(u,g)&&(h[g]=u[g]);return h.default=u,h};Object.defineProperty(Kn,"__esModule",{value:!0});const t=e(Cv()),r=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class i{constructor(h,g=!1){this._serializer=h,this._stable=g,this.name="jsonDefault",this.priority=-100}match(h){return["undefined","boolean","number","string","object"].indexOf(typeof h)!=-1}encode(h){switch(typeof h){case"undefined":return t.undefined_();case"boolean":return t.bool(h);case"number":return Math.floor(h)===h?t.number(h):t.doubleFloat(h);case"string":return t.string(h);case"object":if(h===null)return t.null_();if(Array.isArray(h))return t.array(h.map(g=>this._serializer.serializeValue(g)));if(r.find(g=>h instanceof g))return t.bytes(h.buffer);if(Object.getOwnPropertyNames(h).indexOf("toJSON")!==-1)return this.encode(h.toJSON());if(h instanceof Map){const g=new Map;for(const[p,m]of h.entries())g.set(p,this._serializer.serializeValue(m));return t.map(g,this._stable)}else{const g=new Map;for(const[p,m]of Object.entries(h))g.set(p,this._serializer.serializeValue(m));return t.map(g,this._stable)}default:throw new Error("Invalid value.")}}}Kn.JsonDefaultCborEncoder=i;class o{constructor(){this.name="cborEncoder",this.priority=-90}match(h){return typeof h=="object"&&typeof h.toCBOR=="function"}encode(h){return h.toCBOR()}}Kn.ToCborEncoder=o;class c{constructor(){this._encoders=new Set}static withDefaultEncoders(h=!1){const g=new this;return g.addEncoder(new i(g,h)),g.addEncoder(new o),g}removeEncoder(h){for(const g of this._encoders.values())g.name==h&&this._encoders.delete(g)}addEncoder(h){this._encoders.add(h)}getEncoderFor(h){let g=null;for(const p of this._encoders)(!g||p.priority>g.priority)&&p.match(h)&&(g=p);if(g===null)throw new Error("Could not find an encoder for value.");return g}serializeValue(h){return this.getEncoderFor(h).encode(h)}serialize(h){return this.serializeValue(h)}}Kn.CborSerializer=c;class d extends c{serialize(h){return t.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(h))]))}}return Kn.SelfDescribeCborSerializer=d,Kn}var ry;function L_(){return ry||(ry=1,function(e){function t(o){for(var c in o)e.hasOwnProperty(c)||(e[c]=o[c])}var r=Mo&&Mo.__importStar||function(o){if(o&&o.__esModule)return o;var c={};if(o!=null)for(var d in o)Object.hasOwnProperty.call(o,d)&&(c[d]=o[d]);return c.default=o,c};Object.defineProperty(e,"__esModule",{value:!0}),t(H_());const i=r(Cv());e.value=i}(Mo)),Mo}var Br=L_();class W_{get name(){return"Principal"}get priority(){return 0}match(t){return t&&t._isPrincipal===!0}encode(t){return Br.value.bytes(t.toUint8Array())}}class q_{get name(){return"Buffer"}get priority(){return 1}match(t){return t instanceof ArrayBuffer||ArrayBuffer.isView(t)}encode(t){return Br.value.bytes(new Uint8Array(t))}}class G_{get name(){return"BigInt"}get priority(){return 1}match(t){return typeof t=="bigint"}encode(t){return t>BigInt(0)?Br.value.tagged(2,Br.value.bytes(os(t.toString(16)))):Br.value.tagged(3,Br.value.bytes(os((BigInt("-1")*t).toString(16))))}}const sd=Br.SelfDescribeCborSerializer.withDefaultEncoders(!0);sd.addEncoder(new W_);sd.addEncoder(new q_);sd.addEncoder(new G_);var w0;(function(e){e[e.Uint64LittleEndian=71]="Uint64LittleEndian",e[e.Semantic=55799]="Semantic"})(w0||(w0={}));function Rh(e){return sd.serialize(e)}function ny(e){const t=e.byteLength;let r=BigInt(0);for(let i=0;i<t;i++)r=r*BigInt(256)+BigInt(e[i]);return r}class K_ extends jv.Decoder{createByteString(t){return cn(...t)}createByteStringFromHeap(t,r){return t===r?new ArrayBuffer(0):new Uint8Array(this._heap.slice(t,r))}}function rs(e){const t=new Uint8Array(e),r=new K_({size:t.byteLength,tags:{2:i=>ny(i),3:i=>-ny(i),[w0.Semantic]:i=>i}});try{return r.decodeFirst(t)}catch(i){throw new Error(`Failed to decode CBOR: ${i}, input: ${jt(t)}`)}}const Ic=()=>{if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){const e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0]}if(typeof crypto<"u"&&crypto.getRandomValues){const e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}return typeof crypto<"u"&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(Math.random()*4294967295)};var v0;(function(e){e.Call="call"})(v0||(v0={}));function b0(){const e=new ArrayBuffer(16),t=new DataView(e),r=Ic(),i=Ic(),o=Ic(),c=Ic();return t.setUint32(0,r),t.setUint32(4,i),t.setUint32(8,o),t.setUint32(12,c),e}const sy=BigInt(1e6),D_=60*1e3;class Oc{constructor(t){if(t<90*1e3){const u=BigInt(Date.now()+t)*sy/BigInt(1e9);this._value=u*BigInt(1e9);return}const c=BigInt(Math.floor(Date.now()+t-D_))*sy/BigInt(1e9)/BigInt(60)*BigInt(60)*BigInt(1e9);this._value=c}toCBOR(){return Br.value.u64(this._value.toString(16),16)}toHash(){return Pt(this._value)}}function iy(e=b0){return async t=>{const r=t.request.headers;t.request.headers=r,t.endpoint==="call"&&(t.body.nonce=e())}}function Uo(e){const t=[];return e.forEach((r,i)=>{t.push([i,r])}),t}class Ph extends Rt{constructor(t,r){super(t),this.response=r,this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}class Y_ extends Rt{constructor(t,r,i,o,c,d){super(t),this.response=r,this.requestId=i,this.senderPubkey=o,this.senderSig=c,this.ingressExpiry=d,this.name="AgentCallError",Object.setPrototypeOf(this,new.target.prototype)}}class Z_ extends Rt{constructor(t,r,i,o,c,d){super(t),this.response=r,this.requestId=i,this.senderPubkey=o,this.senderSig=c,this.ingressExpiry=d,this.name="AgentQueryError",Object.setPrototypeOf(this,new.target.prototype)}}class X_ extends Rt{constructor(t,r,i,o,c,d){super(t),this.response=r,this.requestId=i,this.senderPubkey=o,this.senderSig=c,this.ingressExpiry=d,this.name="AgentReadStateError",Object.setPrototypeOf(this,new.target.prototype)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const up=BigInt(0),Au=BigInt(1);function el(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Av(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?up:BigInt("0x"+e)}function Pn(e){return Av($a(e))}function tl(e){return tr(e),Av($a(Uint8Array.from(e).reverse()))}function Jt(e,t){return Tw(e.toString(16).padStart(t*2,"0"))}function id(e,t){return Jt(e,t).reverse()}function xr(e,t,r){let i;if(typeof t=="string")try{i=Tw(t)}catch(c){throw new Error(e+" must be hex string or Uint8Array, cause: "+c)}else if(rp(t))i=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const o=i.length;if(typeof r=="number"&&o!==r)throw new Error(e+" of length "+r+" expected, got "+o);return i}const Bh=e=>typeof e=="bigint"&&up<=e;function Tv(e,t,r){return Bh(e)&&Bh(t)&&Bh(r)&&t<=e&&e<r}function $o(e,t,r,i){if(!Tv(t,r,i))throw new Error("expected valid "+e+": "+r+" <= n < "+i+", got "+t)}function Ko(e){let t;for(t=0;e>up;e>>=Au,t+=1);return t}function Q_(e,t){return e>>BigInt(t)&Au}const Pa=e=>(Au<<BigInt(e))-Au;function J_(e){return typeof e=="function"&&Number.isSafeInteger(e.outputLen)}function fl(e,t,r={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function i(o,c,d){const u=e[o];if(d&&u===void 0)return;const h=typeof u;if(h!==c||u===null)throw new Error(`param "${o}" is invalid: expected ${c}, got ${h}`)}Object.entries(t).forEach(([o,c])=>i(o,c,!1)),Object.entries(r).forEach(([o,c])=>i(o,c,!0))}const ay=()=>{throw new Error("not implemented")};function rl(e){const t=new WeakMap;return(r,...i)=>{const o=t.get(r);if(o!==void 0)return o;const c=e(r,...i);return t.set(r,c),c}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jr=BigInt(0),er=BigInt(1),Ei=BigInt(2),e5=BigInt(3),Rv=BigInt(4),Pv=BigInt(5),Bv=BigInt(8);function Ft(e,t){const r=e%t;return r>=jr?r:t+r}function bn(e,t,r){let i=e;for(;t-- >jr;)i*=i,i%=r;return i}function oy(e,t){if(e===jr)throw new Error("invert: expected non-zero number");if(t<=jr)throw new Error("invert: expected positive modulus, got "+t);let r=Ft(e,t),i=t,o=jr,c=er;for(;r!==jr;){const u=i/r,h=i%r,g=o-c*u;i=r,r=h,o=c,c=g}if(i!==er)throw new Error("invert: does not exist");return Ft(o,t)}function Mv(e,t){const r=(e.ORDER+er)/Rv,i=e.pow(t,r);if(!e.eql(e.sqr(i),t))throw new Error("Cannot find square root");return i}function t5(e,t){const r=(e.ORDER-Pv)/Bv,i=e.mul(t,Ei),o=e.pow(i,r),c=e.mul(t,o),d=e.mul(e.mul(c,Ei),o),u=e.mul(c,e.sub(d,e.ONE));if(!e.eql(e.sqr(u),t))throw new Error("Cannot find square root");return u}function r5(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-er,r=0;for(;t%Ei===jr;)t/=Ei,r++;let i=Ei;const o=Oi(e);for(;Tu(o,i)===1;)if(i++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return Mv;let c=o.pow(i,t);const d=(t+er)/Ei;return function(h,g){if(h.is0(g))return g;if(Tu(h,g)!==1)throw new Error("Cannot find square root");let p=r,m=h.mul(h.ONE,c),w=h.pow(g,t),_=h.pow(g,d);for(;!h.eql(w,h.ONE);){if(h.is0(w))return h.ZERO;let v=1,j=h.sqr(w);for(;!h.eql(j,h.ONE);)if(v++,j=h.sqr(j),v===p)throw new Error("Cannot find square root");const E=er<<BigInt(p-v-1),P=h.pow(m,E);p=v,m=h.sqr(P),w=h.mul(w,m),_=h.mul(_,P)}return _}}function n5(e){return e%Rv===e5?Mv:e%Bv===Pv?t5:r5(e)}const s5=(e,t)=>(Ft(e,t)&er)===er,i5=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Iv(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=i5.reduce((i,o)=>(i[o]="function",i),t);return fl(e,r),e}function Jc(e,t,r){if(r<jr)throw new Error("invalid exponent, negatives unsupported");if(r===jr)return e.ONE;if(r===er)return t;let i=e.ONE,o=t;for(;r>jr;)r&er&&(i=e.mul(i,o)),o=e.sqr(o),r>>=er;return i}function Si(e,t,r=!1){const i=new Array(t.length).fill(r?e.ZERO:void 0),o=t.reduce((d,u,h)=>e.is0(u)?d:(i[h]=d,e.mul(d,u)),e.ONE),c=e.inv(o);return t.reduceRight((d,u,h)=>e.is0(u)?d:(i[h]=e.mul(d,i[h]),e.mul(d,u)),c),i}function Tu(e,t){const r=(e.ORDER-er)/Ei,i=e.pow(t,r),o=e.eql(i,e.ONE),c=e.eql(i,e.ZERO),d=e.eql(i,e.neg(e.ONE));if(!o&&!c&&!d)throw new Error("invalid Legendre symbol result");return o?1:c?0:-1}function a5(e,t){t!==void 0&&ZE(t);const r=t!==void 0?t:e.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function Oi(e,t,r=!1,i={}){if(e<=jr)throw new Error("invalid field: expected ORDER > 0, got "+e);let o,c;if(typeof t=="object"&&t!=null){if(i.sqrt||r)throw new Error("cannot specify opts in two arguments");const p=t;p.BITS&&(o=p.BITS),p.sqrt&&(c=p.sqrt),typeof p.isLE=="boolean"&&(r=p.isLE)}else typeof t=="number"&&(o=t),i.sqrt&&(c=i.sqrt);const{nBitLength:d,nByteLength:u}=a5(e,o);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let h;const g=Object.freeze({ORDER:e,isLE:r,BITS:d,BYTES:u,MASK:Pa(d),ZERO:jr,ONE:er,create:p=>Ft(p,e),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return jr<=p&&p<e},is0:p=>p===jr,isValidNot0:p=>!g.is0(p)&&g.isValid(p),isOdd:p=>(p&er)===er,neg:p=>Ft(-p,e),eql:(p,m)=>p===m,sqr:p=>Ft(p*p,e),add:(p,m)=>Ft(p+m,e),sub:(p,m)=>Ft(p-m,e),mul:(p,m)=>Ft(p*m,e),pow:(p,m)=>Jc(g,p,m),div:(p,m)=>Ft(p*oy(m,e),e),sqrN:p=>p*p,addN:(p,m)=>p+m,subN:(p,m)=>p-m,mulN:(p,m)=>p*m,inv:p=>oy(p,e),sqrt:c||(p=>(h||(h=n5(e)),h(g,p))),toBytes:p=>r?id(p,u):Jt(p,u),fromBytes:p=>{if(p.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+p.length);return r?tl(p):Pn(p)},invertBatch:p=>Si(g,p),cmov:(p,m,w)=>w?m:p});return Object.freeze(g)}function Ov(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Fv(e){const t=Ov(e);return t+Math.ceil(t/2)}function o5(e,t,r=!1){const i=e.length,o=Ov(t),c=Fv(t);if(i<16||i<c||i>1024)throw new Error("expected "+c+"-1024 bytes of input, got "+i);const d=r?tl(e):Pn(e),u=Ft(d,t-er)+er;return r?id(u,o):Jt(u,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Va=BigInt(0),_i=BigInt(1);function Do(e,t){const r=t.negate();return e?r:t}function Ru(e,t,r){const i=t==="pz"?d=>d.pz:d=>d.ez,o=Si(e.Fp,r.map(i));return r.map((d,u)=>d.toAffine(o[u])).map(e.fromAffine)}function Uv(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Mh(e,t){Uv(e,t);const r=Math.ceil(t/e)+1,i=2**(e-1),o=2**e,c=Pa(e),d=BigInt(e);return{windows:r,windowSize:i,mask:c,maxNumber:o,shiftBy:d}}function ly(e,t,r){const{windowSize:i,mask:o,maxNumber:c,shiftBy:d}=r;let u=Number(e&o),h=e>>d;u>i&&(u-=c,h+=_i);const g=t*i,p=g+Math.abs(u)-1,m=u===0,w=u<0,_=t%2!==0;return{nextN:h,offset:p,isZero:m,isNeg:w,isNegF:_,offsetF:g}}function l5(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,i)=>{if(!(r instanceof t))throw new Error("invalid point at index "+i)})}function c5(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,i)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+i)})}const Ih=new WeakMap,$v=new WeakMap;function Oh(e){return $v.get(e)||1}function cy(e){if(e!==Va)throw new Error("invalid wNAF")}function zv(e,t){return{constTimeNegate:Do,hasPrecomputes(r){return Oh(r)!==1},unsafeLadder(r,i,o=e.ZERO){let c=r;for(;i>Va;)i&_i&&(o=o.add(c)),c=c.double(),i>>=_i;return o},precomputeWindow(r,i){const{windows:o,windowSize:c}=Mh(i,t),d=[];let u=r,h=u;for(let g=0;g<o;g++){h=u,d.push(h);for(let p=1;p<c;p++)h=h.add(u),d.push(h);u=h.double()}return d},wNAF(r,i,o){let c=e.ZERO,d=e.BASE;const u=Mh(r,t);for(let h=0;h<u.windows;h++){const{nextN:g,offset:p,isZero:m,isNeg:w,isNegF:_,offsetF:v}=ly(o,h,u);o=g,m?d=d.add(Do(_,i[v])):c=c.add(Do(w,i[p]))}return cy(o),{p:c,f:d}},wNAFUnsafe(r,i,o,c=e.ZERO){const d=Mh(r,t);for(let u=0;u<d.windows&&o!==Va;u++){const{nextN:h,offset:g,isZero:p,isNeg:m}=ly(o,u,d);if(o=h,!p){const w=i[g];c=c.add(m?w.negate():w)}}return cy(o),c},getPrecomputes(r,i,o){let c=Ih.get(i);return c||(c=this.precomputeWindow(i,r),r!==1&&(typeof o=="function"&&(c=o(c)),Ih.set(i,c))),c},wNAFCached(r,i,o){const c=Oh(r);return this.wNAF(c,this.getPrecomputes(c,r,o),i)},wNAFCachedUnsafe(r,i,o,c){const d=Oh(r);return d===1?this.unsafeLadder(r,i,c):this.wNAFUnsafe(d,this.getPrecomputes(d,r,o),i,c)},setWindowSize(r,i){Uv(i,t),$v.set(r,i),Ih.delete(r)}}}function u5(e,t,r,i){let o=t,c=e.ZERO,d=e.ZERO;for(;r>Va||i>Va;)r&_i&&(c=c.add(o)),i&_i&&(d=d.add(o)),o=o.double(),r>>=_i,i>>=_i;return{p1:c,p2:d}}function Vv(e,t,r,i){l5(r,e),c5(i,t);const o=r.length,c=i.length;if(o!==c)throw new Error("arrays of points and scalars must have equal length");const d=e.ZERO,u=Ko(BigInt(o));let h=1;u>12?h=u-3:u>4?h=u-2:u>0&&(h=2);const g=Pa(h),p=new Array(Number(g)+1).fill(d),m=Math.floor((t.BITS-1)/h)*h;let w=d;for(let _=m;_>=0;_-=h){p.fill(d);for(let j=0;j<c;j++){const E=i[j],P=Number(E>>BigInt(_)&g);p[P]=p[P].add(r[j])}let v=d;for(let j=p.length-1,E=d;j>0;j--)E=E.add(p[j]),v=v.add(E);if(w=w.add(v),_!==0)for(let j=0;j<h;j++)w=w.double()}return w}function uy(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Iv(t),t}else return Oi(e)}function Hv(e,t,r={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const u of["p","n","h"]){const h=t[u];if(!(typeof h=="bigint"&&h>Va))throw new Error(`CURVE.${u} must be positive bigint`)}const i=uy(t.p,r.Fp),o=uy(t.n,r.Fn),d=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const u of d)if(!i.isValid(t[u]))throw new Error(`CURVE.${u} must be valid field element of CURVE.Fp`);return{Fp:i,Fn:o}}const d5=Pn;function zs(e,t){if(nl(e),nl(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const r=Array.from({length:t}).fill(0);for(let i=t-1;i>=0;i--)r[i]=e&255,e>>>=8;return new Uint8Array(r)}function f5(e,t){const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e[i]^t[i];return r}function nl(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function h5(e,t,r,i){tr(e),tr(t),nl(r),t.length>255&&(t=i(Mt(Zu("H2C-OVERSIZE-DST-"),t)));const{outputLen:o,blockLen:c}=i,d=Math.ceil(r/o);if(r>65535||d>255)throw new Error("expand_message_xmd: invalid lenInBytes");const u=Mt(t,zs(t.length,1)),h=zs(0,c),g=zs(r,2),p=new Array(d),m=i(Mt(h,e,g,zs(0,1),u));p[0]=i(Mt(m,zs(1,1),u));for(let _=1;_<=d;_++){const v=[f5(m,p[_-1]),zs(_+1,1),u];p[_]=i(Mt(...v))}return Mt(...p).slice(0,r)}function p5(e,t,r,i,o){if(tr(e),tr(t),nl(r),t.length>255){const c=Math.ceil(2*i/8);t=o.create({dkLen:c}).update(Zu("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return o.create({dkLen:r}).update(e).update(zs(r,2)).update(t).update(zs(t.length,1)).digest()}function dy(e,t,r){fl(r,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:i,k:o,m:c,hash:d,expand:u,DST:h}=r;if(!rp(h)&&typeof h!="string")throw new Error("DST must be string or uint8array");if(!J_(r.hash))throw new Error("expected valid hash");tr(e),nl(t);const g=typeof h=="string"?Zu(h):h,p=i.toString(2).length,m=Math.ceil((p+o)/8),w=t*c*m;let _;if(u==="xmd")_=h5(e,g,w,d);else if(u==="xof")_=p5(e,g,w,o,d);else if(u==="_internal_pass")_=e;else throw new Error('expand must be "xmd" or "xof"');const v=new Array(t);for(let j=0;j<t;j++){const E=new Array(c);for(let P=0;P<c;P++){const I=m*(P+j*c),U=_.subarray(I,I+m);E[P]=Ft(d5(U),i)}v[j]=E}return v}function Lv(e,t){const r=t.map(i=>Array.from(i).reverse());return(i,o)=>{const[c,d,u,h]=r.map(m=>m.reduce((w,_)=>e.add(e.mul(w,i),_))),[g,p]=Si(e,[d,h],!0);return i=e.mul(c,g),o=e.mul(o,e.mul(u,p)),{x:i,y:o}}}function fy(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");function i(c){return e.fromAffine(t(c))}function o(c){const d=c.clearCofactor();return d.equals(e.ZERO)?e.ZERO:(d.assertValidity(),d)}return{defaults:r,hashToCurve(c,d){const u=r.DST?r.DST:{},h=Object.assign({},r,u,d),g=dy(c,2,h),p=i(g[0]),m=i(g[1]);return o(p.add(m))},encodeToCurve(c,d){const u=r.encodeDST?r.encodeDST:{},h=Object.assign({},r,u,d),g=dy(c,1,h);return o(i(g[0]))},mapToCurve(c){if(!Array.isArray(c))throw new Error("expected array of bigints");for(const d of c)if(typeof d!="bigint")throw new Error("expected array of bigints");return o(i(c))}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const N0=BigInt(0),Sr=BigInt(1),Is=BigInt(2),ka=BigInt(3),E0=BigInt(4);function Wv(e,t,r){function i(o){const c=e.sqr(o),d=e.mul(c,o);return e.add(e.add(d,e.mul(o,t)),r)}return i}function qv(e,t,r){const{BYTES:i}=e;function o(c){let d;if(typeof c=="bigint")d=c;else{let u=xr("private key",c);if(t){if(!t.includes(u.length*2))throw new Error("invalid private key");const h=new Uint8Array(i);h.set(u,h.length-u.length),u=h}try{d=e.fromBytes(u)}catch{throw new Error(`invalid private key: expected ui8a of size ${i}, got ${typeof c}`)}}if(r&&(d=e.create(d)),!e.isValidNot0(d))throw new Error("invalid private key: out of range [1..N-1]");return d}return o}function m5(e,t={}){const{Fp:r,Fn:i}=Hv("weierstrass",e,t),{h:o,n:c}=e;fl(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:d}=t;if(d&&(!r.is0(e.a)||typeof d.beta!="bigint"||typeof d.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function h(z,K,W){const{x:ie,y:fe}=K.toAffine(),T=r.toBytes(ie);if(el("isCompressed",W),W){u();const V=!r.isOdd(fe);return Mt(g5(V),T)}else return Mt(Uint8Array.of(4),T,r.toBytes(fe))}function g(z){tr(z);const K=r.BYTES,W=K+1,ie=2*K+1,fe=z.length,T=z[0],V=z.subarray(1);if(fe===W&&(T===2||T===3)){const G=r.fromBytes(V);if(!r.isValid(G))throw new Error("bad point: is not on curve, wrong x");const ee=w(G);let le;try{le=r.sqrt(ee)}catch(_e){const Y=_e instanceof Error?": "+_e.message:"";throw new Error("bad point: is not on curve, sqrt error"+Y)}u();const te=r.isOdd(le);return(T&1)===1!==te&&(le=r.neg(le)),{x:G,y:le}}else if(fe===ie&&T===4){const G=r.fromBytes(V.subarray(K*0,K*1)),ee=r.fromBytes(V.subarray(K*1,K*2));if(!_(G,ee))throw new Error("bad point: is not on curve");return{x:G,y:ee}}else throw new Error(`bad point: got length ${fe}, expected compressed=${W} or uncompressed=${ie}`)}const p=t.toBytes||h,m=t.fromBytes||g,w=Wv(r,e.a,e.b);function _(z,K){const W=r.sqr(K),ie=w(z);return r.eql(W,ie)}if(!_(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const v=r.mul(r.pow(e.a,ka),E0),j=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(v,j)))throw new Error("bad curve params: a or b");function E(z,K,W=!1){if(!r.isValid(K)||W&&r.is0(K))throw new Error(`bad point coordinate ${z}`);return K}function P(z){if(!(z instanceof O))throw new Error("ProjectivePoint expected")}const I=rl((z,K)=>{const{px:W,py:ie,pz:fe}=z;if(r.eql(fe,r.ONE))return{x:W,y:ie};const T=z.is0();K==null&&(K=T?r.ONE:r.inv(fe));const V=r.mul(W,K),G=r.mul(ie,K),ee=r.mul(fe,K);if(T)return{x:r.ZERO,y:r.ZERO};if(!r.eql(ee,r.ONE))throw new Error("invZ was invalid");return{x:V,y:G}}),U=rl(z=>{if(z.is0()){if(t.allowInfinityPoint&&!r.is0(z.py))return;throw new Error("bad point: ZERO")}const{x:K,y:W}=z.toAffine();if(!r.isValid(K)||!r.isValid(W))throw new Error("bad point: x or y not field elements");if(!_(K,W))throw new Error("bad point: equation left != right");if(!z.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function q(z,K,W,ie,fe){return W=new O(r.mul(W.px,z),W.py,W.pz),K=Do(ie,K),W=Do(fe,W),K.add(W)}class O{constructor(K,W,ie){this.px=E("x",K),this.py=E("y",W,!0),this.pz=E("z",ie),Object.freeze(this)}static fromAffine(K){const{x:W,y:ie}=K||{};if(!K||!r.isValid(W)||!r.isValid(ie))throw new Error("invalid affine point");if(K instanceof O)throw new Error("projective point not allowed");return r.is0(W)&&r.is0(ie)?O.ZERO:new O(W,ie,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(K){return Ru(O,"pz",K)}static fromBytes(K){return tr(K),O.fromHex(K)}static fromHex(K){const W=O.fromAffine(m(xr("pointHex",K)));return W.assertValidity(),W}static fromPrivateKey(K){const W=qv(i,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return O.BASE.multiply(W(K))}static msm(K,W){return Vv(O,i,K,W)}precompute(K=8,W=!0){return X.setWindowSize(this,K),W||this.multiply(ka),this}_setWindowSize(K){this.precompute(K)}assertValidity(){U(this)}hasEvenY(){const{y:K}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(K)}equals(K){P(K);const{px:W,py:ie,pz:fe}=this,{px:T,py:V,pz:G}=K,ee=r.eql(r.mul(W,G),r.mul(T,fe)),le=r.eql(r.mul(ie,G),r.mul(V,fe));return ee&&le}negate(){return new O(this.px,r.neg(this.py),this.pz)}double(){const{a:K,b:W}=e,ie=r.mul(W,ka),{px:fe,py:T,pz:V}=this;let G=r.ZERO,ee=r.ZERO,le=r.ZERO,te=r.mul(fe,fe),ge=r.mul(T,T),_e=r.mul(V,V),Y=r.mul(fe,T);return Y=r.add(Y,Y),le=r.mul(fe,V),le=r.add(le,le),G=r.mul(K,le),ee=r.mul(ie,_e),ee=r.add(G,ee),G=r.sub(ge,ee),ee=r.add(ge,ee),ee=r.mul(G,ee),G=r.mul(Y,G),le=r.mul(ie,le),_e=r.mul(K,_e),Y=r.sub(te,_e),Y=r.mul(K,Y),Y=r.add(Y,le),le=r.add(te,te),te=r.add(le,te),te=r.add(te,_e),te=r.mul(te,Y),ee=r.add(ee,te),_e=r.mul(T,V),_e=r.add(_e,_e),te=r.mul(_e,Y),G=r.sub(G,te),le=r.mul(_e,ge),le=r.add(le,le),le=r.add(le,le),new O(G,ee,le)}add(K){P(K);const{px:W,py:ie,pz:fe}=this,{px:T,py:V,pz:G}=K;let ee=r.ZERO,le=r.ZERO,te=r.ZERO;const ge=e.a,_e=r.mul(e.b,ka);let Y=r.mul(W,T),me=r.mul(ie,V),Be=r.mul(fe,G),H=r.add(W,ie),Pe=r.add(T,V);H=r.mul(H,Pe),Pe=r.add(Y,me),H=r.sub(H,Pe),Pe=r.add(W,fe);let Ae=r.add(T,G);return Pe=r.mul(Pe,Ae),Ae=r.add(Y,Be),Pe=r.sub(Pe,Ae),Ae=r.add(ie,fe),ee=r.add(V,G),Ae=r.mul(Ae,ee),ee=r.add(me,Be),Ae=r.sub(Ae,ee),te=r.mul(ge,Pe),ee=r.mul(_e,Be),te=r.add(ee,te),ee=r.sub(me,te),te=r.add(me,te),le=r.mul(ee,te),me=r.add(Y,Y),me=r.add(me,Y),Be=r.mul(ge,Be),Pe=r.mul(_e,Pe),me=r.add(me,Be),Be=r.sub(Y,Be),Be=r.mul(ge,Be),Pe=r.add(Pe,Be),Y=r.mul(me,Pe),le=r.add(le,Y),Y=r.mul(Ae,Pe),ee=r.mul(H,ee),ee=r.sub(ee,Y),Y=r.mul(H,me),te=r.mul(Ae,te),te=r.add(te,Y),new O(ee,le,te)}subtract(K){return this.add(K.negate())}is0(){return this.equals(O.ZERO)}multiply(K){const{endo:W}=t;if(!i.isValidNot0(K))throw new Error("invalid scalar: out of range");let ie,fe;const T=V=>X.wNAFCached(this,V,O.normalizeZ);if(W){const{k1neg:V,k1:G,k2neg:ee,k2:le}=W.splitScalar(K),{p:te,f:ge}=T(G),{p:_e,f:Y}=T(le);fe=ge.add(Y),ie=q(W.beta,te,_e,V,ee)}else{const{p:V,f:G}=T(K);ie=V,fe=G}return O.normalizeZ([ie,fe])[0]}multiplyUnsafe(K){const{endo:W}=t,ie=this;if(!i.isValid(K))throw new Error("invalid scalar: out of range");if(K===N0||ie.is0())return O.ZERO;if(K===Sr)return ie;if(X.hasPrecomputes(this))return this.multiply(K);if(W){const{k1neg:fe,k1:T,k2neg:V,k2:G}=W.splitScalar(K),{p1:ee,p2:le}=u5(O,ie,T,G);return q(W.beta,ee,le,fe,V)}else return X.wNAFCachedUnsafe(ie,K)}multiplyAndAddUnsafe(K,W,ie){const fe=this.multiplyUnsafe(W).add(K.multiplyUnsafe(ie));return fe.is0()?void 0:fe}toAffine(K){return I(this,K)}isTorsionFree(){const{isTorsionFree:K}=t;return o===Sr?!0:K?K(O,this):X.wNAFCachedUnsafe(this,c).is0()}clearCofactor(){const{clearCofactor:K}=t;return o===Sr?this:K?K(O,this):this.multiplyUnsafe(o)}toBytes(K=!0){return el("isCompressed",K),this.assertValidity(),p(O,this,K)}toRawBytes(K=!0){return this.toBytes(K)}toHex(K=!0){return $a(this.toBytes(K))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}O.BASE=new O(e.Gx,e.Gy,r.ONE),O.ZERO=new O(r.ZERO,r.ONE,r.ZERO),O.Fp=r,O.Fn=i;const Q=i.BITS,X=zv(O,t.endo?Math.ceil(Q/2):Q);return O}function hy(e){const{CURVE:t,curveOpts:r}=x5(e),i=m5(t,r);return y5(e,i)}function g5(e){return Uint8Array.of(e?2:3)}function x5(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,i=Oi(t.n,e.nBitLength),o={Fp:r,Fn:i,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:o}}function y5(e,t){const{Fp:r,Fn:i}=t;function o(u){return Tv(u,Sr,i.ORDER)}const c=Wv(r,e.a,e.b),d=qv(i,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return Object.assign({},{CURVE:e,Point:t,ProjectivePoint:t,normPrivateKeyToScalar:d,weierstrassEquation:c,isWithinCurveOrder:o})}function w5(e,t){const r=e.ORDER;let i=N0;for(let v=r-Sr;v%Is===N0;v/=Is)i+=Sr;const o=i,c=Is<<o-Sr-Sr,d=c*Is,u=(r-Sr)/d,h=(u-Sr)/Is,g=d-Sr,p=c,m=e.pow(t,u),w=e.pow(t,(u+Sr)/Is);let _=(v,j)=>{let E=m,P=e.pow(j,g),I=e.sqr(P);I=e.mul(I,j);let U=e.mul(v,I);U=e.pow(U,h),U=e.mul(U,P),P=e.mul(U,j),I=e.mul(U,v);let q=e.mul(I,P);U=e.pow(q,p);let O=e.eql(U,e.ONE);P=e.mul(I,w),U=e.mul(q,E),I=e.cmov(P,I,O),q=e.cmov(U,q,O);for(let Q=o;Q>Sr;Q--){let X=Q-Is;X=Is<<X-Sr;let z=e.pow(q,X);const K=e.eql(z,e.ONE);P=e.mul(I,E),E=e.mul(E,E),z=e.mul(q,E),I=e.cmov(P,I,K),q=e.cmov(z,q,K)}return{isValid:O,value:I}};if(e.ORDER%E0===ka){const v=(e.ORDER-ka)/E0,j=e.sqrt(e.neg(t));_=(E,P)=>{let I=e.sqr(P);const U=e.mul(E,P);I=e.mul(I,U);let q=e.pow(I,v);q=e.mul(q,U);const O=e.mul(q,j),Q=e.mul(e.sqr(q),P),X=e.eql(Q,E);let z=e.cmov(O,q,X);return{isValid:X,value:z}}}return _}function Gv(e,t){Iv(e);const{A:r,B:i,Z:o}=t;if(!e.isValid(r)||!e.isValid(i)||!e.isValid(o))throw new Error("mapToCurveSimpleSWU: invalid opts");const c=w5(e,o);if(!e.isOdd)throw new Error("Field does not have .isOdd()");return d=>{let u,h,g,p,m,w,_,v;u=e.sqr(d),u=e.mul(u,o),h=e.sqr(u),h=e.add(h,u),g=e.add(h,e.ONE),g=e.mul(g,i),p=e.cmov(o,e.neg(h),!e.eql(h,e.ZERO)),p=e.mul(p,r),h=e.sqr(g),w=e.sqr(p),m=e.mul(w,r),h=e.add(h,m),h=e.mul(h,g),w=e.mul(w,p),m=e.mul(w,i),h=e.add(h,m),_=e.mul(u,g);const{isValid:j,value:E}=c(h,w);v=e.mul(u,d),v=e.mul(v,E),_=e.cmov(_,g,j),v=e.cmov(v,E,j);const P=e.isOdd(d)===e.isOdd(v);v=e.cmov(e.neg(v),v,P);const I=Si(e,[p],!0)[0];return _=e.mul(_,I),{x:_,y:v}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const v5=BigInt(0),Fc=BigInt(1),py=BigInt(2),Ca=BigInt(3);function b5(e){const t=[];for(;e>Fc;e>>=Fc)(e&Fc)===v5?t.unshift(0):(e&Ca)===Ca?(t.unshift(-1),e+=Fc):t.unshift(1);return t}function N5(e){const{Fp:t,Fr:r,Fp2:i,Fp6:o,Fp12:c}=e.fields,d=e.params.xNegative,u=e.params.twistType,h=hy(e.G1),g=Object.assign(h,fy(h.Point,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults})),p=hy(e.G2),m=Object.assign(p,fy(p.Point,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults}));let w;if(u==="multiplicative")w=(pe,de,Ne,C,F,D)=>c.mul014(C,pe,i.mul(de,F),i.mul(Ne,D));else if(u==="divisive")w=(pe,de,Ne,C,F,D)=>c.mul034(C,i.mul(Ne,D),i.mul(de,F),pe);else throw new Error("bls: unknown twist type");const _=i.div(i.ONE,i.mul(i.ONE,py));function v(pe,de,Ne,C){const F=i.sqr(Ne),D=i.sqr(C),J=i.mulByB(i.mul(D,Ca)),ne=i.mul(J,Ca),ae=i.sub(i.sub(i.sqr(i.add(Ne,C)),D),F),R=i.sub(J,F),y=i.mul(i.sqr(de),Ca),b=i.neg(ae);return pe.push([R,y,b]),de=i.mul(i.mul(i.mul(i.sub(F,ne),de),Ne),_),Ne=i.sub(i.sqr(i.mul(i.add(F,ne),_)),i.mul(i.sqr(J),Ca)),C=i.mul(F,ae),{Rx:de,Ry:Ne,Rz:C}}function j(pe,de,Ne,C,F,D){const J=i.sub(Ne,i.mul(D,C)),ne=i.sub(de,i.mul(F,C)),ae=i.sub(i.mul(J,F),i.mul(ne,D)),R=i.neg(J),y=ne;pe.push([ae,R,y]);const b=i.sqr(ne),M=i.mul(b,ne),L=i.mul(b,de),se=i.add(i.sub(M,i.mul(L,py)),i.mul(i.sqr(J),C));return de=i.mul(ne,se),Ne=i.sub(i.mul(i.sub(L,se),J),i.mul(M,Ne)),C=i.mul(C,M),{Rx:de,Ry:Ne,Rz:C}}const E=b5(e.params.ateLoopSize),P=rl(pe=>{const de=pe,{x:Ne,y:C}=de.toAffine(),F=Ne,D=C,J=i.neg(C);let ne=F,ae=D,R=i.ONE;const y=[];for(const b of E){const M=[];({Rx:ne,Ry:ae,Rz:R}=v(M,ne,ae,R)),b&&({Rx:ne,Ry:ae,Rz:R}=j(M,ne,ae,R,F,b===-1?J:D)),y.push(M)}if(e.postPrecompute){const b=y[y.length-1];e.postPrecompute(ne,ae,R,F,D,j.bind(null,b))}return y});function I(pe,de=!1){let Ne=c.ONE;if(pe.length){const C=pe[0][0].length;for(let F=0;F<C;F++){Ne=c.sqr(Ne);for(const[D,J,ne]of pe)for(const[ae,R,y]of D[F])Ne=w(ae,R,y,Ne,J,ne)}}return d&&(Ne=c.conjugate(Ne)),de?c.finalExponentiate(Ne):Ne}function U(pe,de=!0){const Ne=[];Ru(g.Point,"pz",pe.map(({g1:C})=>C)),Ru(m.Point,"pz",pe.map(({g2:C})=>C));for(const{g1:C,g2:F}of pe){if(C.is0()||F.is0())throw new Error("pairing is not available for ZERO point");C.assertValidity(),F.assertValidity();const D=C.toAffine();Ne.push([P(F),D.x,D.y])}return I(Ne,de)}function q(pe,de,Ne=!0){return U([{g1:pe,g2:de}],Ne)}const O=e.randomBytes||Pw,Q={randomPrivateKey:()=>{const pe=Fv(r.ORDER);return o5(O(pe),r.ORDER)},calcPairingPrecomputes:P};function X(pe){if(!Array.isArray(pe)||pe.length===0)throw new Error("expected non-empty array")}function z(pe){return pe instanceof g.Point?pe:g.Point.fromHex(pe)}function K(pe){return pe instanceof m.Point?pe:V.fromHex(pe)}function W(pe,de){function Ne(J){return J instanceof pe.Point?J:pe.Point.fromHex(J)}function C(J){return J instanceof de.Point?J:de.Point.fromHex(J)}function F(J){if(!(J instanceof de.Point))throw new Error(`expected valid message hashed to ${D?"G2":"G1"} curve`);return J}const D=de.Point.Fp.BYTES>pe.Point.Fp.BYTES;return{getPublicKey(J){return pe.Point.fromPrivateKey(J)},sign(J,ne,ae){if(ae!=null)throw new Error("sign() expects 2 arguments");return F(J).assertValidity(),J.multiply(pe.normPrivateKeyToScalar(ne))},verify(J,ne,ae,R){if(R!=null)throw new Error("verify() expects 3 arguments");J=C(J),ae=Ne(ae);const y=ae.negate(),b=pe.Point.BASE,M=F(ne),L=J,xe=U(D?[{g1:y,g2:M},{g1:b,g2:L}]:[{g1:M,g2:y},{g1:L,g2:b}]);return c.eql(xe,c.ONE)},aggregatePublicKeys(J){X(J),J=J.map(ae=>Ne(ae));const ne=J.reduce((ae,R)=>ae.add(R),pe.Point.ZERO);return ne.assertValidity(),ne},aggregateSignatures(J){X(J),J=J.map(ae=>C(ae));const ne=J.reduce((ae,R)=>ae.add(R),de.Point.ZERO);return ne.assertValidity(),ne},hash(J,ne){tr(J);const ae=ne?{DST:ne}:void 0;return de.hashToCurve(J,ae)},Signature:D?e.G2.Signature:e.G1.ShortSignature}}const ie=W(g,m),fe=W(m,g),{ShortSignature:T}=e.G1,{Signature:V}=e.G2;function G(pe,de){return pe instanceof g.Point?pe:fe.hash(xr("point",pe),de==null?void 0:de.DST)}function ee(pe,de){return pe instanceof m.Point?pe:ie.hash(xr("point",pe),de==null?void 0:de.DST)}function le(pe){return ie.getPublicKey(pe).toBytes(!0)}function te(pe){return fe.getPublicKey(pe).toBytes(!0)}function ge(pe,de,Ne){const C=ee(pe,Ne),F=ie.sign(C,de);return pe instanceof m.Point?F:V.toBytes(F)}function _e(pe,de,Ne){const C=G(pe,Ne),F=fe.sign(C,de);return pe instanceof g.Point?F:T.toBytes(F)}function Y(pe,de,Ne,C){const F=ee(de,C);return ie.verify(pe,F,Ne)}function me(pe,de,Ne,C){const F=G(de,C);return fe.verify(pe,F,Ne)}function Be(pe){const de=ie.aggregatePublicKeys(pe);return pe[0]instanceof g.Point?de:de.toBytes(!0)}function H(pe){const de=ie.aggregateSignatures(pe);return pe[0]instanceof m.Point?de:V.toBytes(de)}function Pe(pe){const de=fe.aggregateSignatures(pe);return pe[0]instanceof g.Point?de:T.toBytes(de)}function Ae(pe,de,Ne,C){if(X(de),Ne.length!==de.length)throw new Error("amount of public keys and messages should be equal");const F=K(pe),D=de.map(R=>ee(R,C)),J=Ne.map(z),ne=new Map;for(let R=0;R<J.length;R++){const y=J[R],b=D[R];let M=ne.get(b);M===void 0&&(M=[],ne.set(b,M)),M.push(y)}const ae=[];try{for(const[R,y]of ne){const b=y.reduce((M,L)=>M.add(L));ae.push({g1:b,g2:R})}return ae.push({g1:g.Point.BASE.negate(),g2:F}),c.eql(U(ae),c.ONE)}catch{return!1}}return g.Point.BASE.precompute(4),{longSignatures:ie,shortSignatures:fe,millerLoopBatch:I,pairing:q,pairingBatch:U,verifyBatch:Ae,curves:{G1:h.Point,G2:p.Point},fields:{Fr:r,Fp:t,Fp2:i,Fp6:o,Fp12:c},params:{ateLoopSize:e.params.ateLoopSize,twistType:e.params.twistType,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:Q,getPublicKey:le,getPublicKeyForShortSignatures:te,sign:ge,signShortSignature:_e,verify:Y,verifyShortSignature:me,aggregatePublicKeys:Be,aggregateSignatures:H,aggregateShortSignatures:Pe,G1:g,G2:m,Signature:V,ShortSignature:T}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const my=BigInt(0),Aa=BigInt(1),Jn=BigInt(2),gy=BigInt(3);function Fh(e,t,r,i,o=1,c){const d=BigInt(c===void 0?i:c),u=r**BigInt(i),h=[];for(let g=0;g<o;g++){const p=BigInt(g+1),m=[];for(let w=0,_=Aa;w<i;w++){const v=(p*_-p)/d%u;m.push(e.pow(t,v)),_*=r}h.push(m)}return h}function E5(e,t,r){const i=t.pow(r,(e.ORDER-Aa)/gy),o=t.pow(r,(e.ORDER-Aa)/Jn);function c(w,_){const v=t.mul(t.frobeniusMap(w,1),i),j=t.mul(t.frobeniusMap(_,1),o);return[v,j]}const d=t.pow(r,(e.ORDER**Jn-Aa)/gy),u=t.pow(r,(e.ORDER**Jn-Aa)/Jn);if(!t.eql(u,t.neg(t.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function h(w,_){return[t.mul(w,d),t.neg(_)]}const g=w=>(_,v)=>{const j=v.toAffine(),E=w(j.x,j.y);return _.fromAffine({x:E[0],y:E[1]})},p=g(c),m=g(h);return{psi:c,psi2:h,G2psi:p,G2psi2:m,PSI_X:i,PSI_Y:o,PSI2_X:d,PSI2_Y:u}}function _5(e){const{ORDER:t}=e,r=Oi(t),i=r.create(e.NONRESIDUE||BigInt(-1)),o=r.div(r.ONE,Jn),c=Fh(r,i,r.ORDER,2)[0],d=({c0:T,c1:V},{c0:G,c1:ee})=>({c0:r.add(T,G),c1:r.add(V,ee)}),u=({c0:T,c1:V},{c0:G,c1:ee})=>({c0:r.sub(T,G),c1:r.sub(V,ee)}),h=({c0:T,c1:V},G)=>{if(typeof G=="bigint")return{c0:r.mul(T,G),c1:r.mul(V,G)};const{c0:ee,c1:le}=G;let te=r.mul(T,ee),ge=r.mul(V,le);const _e=r.sub(te,ge),Y=r.sub(r.mul(r.add(T,V),r.add(ee,le)),r.add(te,ge));return{c0:_e,c1:Y}},g=({c0:T,c1:V})=>{const G=r.add(T,V),ee=r.sub(T,V),le=r.add(T,T);return{c0:r.mul(G,ee),c1:r.mul(le,V)}},p=T=>{if(T.length!==2)throw new Error("invalid tuple");const V=T.map(G=>r.create(G));return{c0:V[0],c1:V[1]}};function m(T,V){return typeof T=="bigint"&&my<=T&&T<V}const w=t*t,_=p(e.FP2_NONRESIDUE),v={ORDER:w,isLE:r.isLE,NONRESIDUE:_,BITS:Ko(w),BYTES:Math.ceil(Ko(w)/8),MASK:Pa(Ko(w)),ZERO:{c0:r.ZERO,c1:r.ZERO},ONE:{c0:r.ONE,c1:r.ZERO},create:T=>T,isValid:({c0:T,c1:V})=>m(T,w)&&m(V,w),is0:({c0:T,c1:V})=>r.is0(T)&&r.is0(V),isValidNot0:T=>!v.is0(T)&&v.isValid(T),eql:({c0:T,c1:V},{c0:G,c1:ee})=>r.eql(T,G)&&r.eql(V,ee),neg:({c0:T,c1:V})=>({c0:r.neg(T),c1:r.neg(V)}),pow:(T,V)=>Jc(v,T,V),invertBatch:T=>Si(v,T),add:d,sub:u,mul:h,sqr:g,addN:d,subN:u,mulN:h,sqrN:g,div:(T,V)=>v.mul(T,typeof V=="bigint"?r.inv(r.create(V)):v.inv(V)),inv:({c0:T,c1:V})=>{const G=r.inv(r.create(T*T+V*V));return{c0:r.mul(G,r.create(T)),c1:r.mul(G,r.create(-V))}},sqrt:T=>{if(e.Fp2sqrt)return e.Fp2sqrt(T);const{c0:V,c1:G}=T;if(r.is0(G))return Tu(r,V)===1?v.create({c0:r.sqrt(V),c1:r.ZERO}):v.create({c0:r.ZERO,c1:r.sqrt(r.div(V,i))});const ee=r.sqrt(r.sub(r.sqr(V),r.mul(r.sqr(G),i)));let le=r.mul(r.add(ee,V),o);Tu(r,le)===-1&&(le=r.sub(le,ee));const ge=r.sqrt(le),_e=v.create({c0:ge,c1:r.div(r.mul(G,o),ge)});if(!v.eql(v.sqr(_e),T))throw new Error("Cannot find square root");const Y=_e,me=v.neg(Y),{re:Be,im:H}=v.reim(Y),{re:Pe,im:Ae}=v.reim(me);return H>Ae||H===Ae&&Be>Pe?Y:me},isOdd:T=>{const{re:V,im:G}=v.reim(T),ee=V%Jn,le=V===my,te=G%Jn;return BigInt(ee||le&&te)==Aa},fromBytes(T){if(T.length!==v.BYTES)throw new Error("fromBytes invalid length="+T.length);return{c0:r.fromBytes(T.subarray(0,r.BYTES)),c1:r.fromBytes(T.subarray(r.BYTES))}},toBytes:({c0:T,c1:V})=>Mt(r.toBytes(T),r.toBytes(V)),cmov:({c0:T,c1:V},{c0:G,c1:ee},le)=>({c0:r.cmov(T,G,le),c1:r.cmov(V,ee,le)}),reim:({c0:T,c1:V})=>({re:T,im:V}),mulByNonresidue:({c0:T,c1:V})=>v.mul({c0:T,c1:V},_),mulByB:e.Fp2mulByB,fromBigTuple:p,frobeniusMap:({c0:T,c1:V},G)=>({c0:T,c1:r.mul(V,c[G%2])})},j=({c0:T,c1:V,c2:G},{c0:ee,c1:le,c2:te})=>({c0:v.add(T,ee),c1:v.add(V,le),c2:v.add(G,te)}),E=({c0:T,c1:V,c2:G},{c0:ee,c1:le,c2:te})=>({c0:v.sub(T,ee),c1:v.sub(V,le),c2:v.sub(G,te)}),P=({c0:T,c1:V,c2:G},ee)=>{if(typeof ee=="bigint")return{c0:v.mul(T,ee),c1:v.mul(V,ee),c2:v.mul(G,ee)};const{c0:le,c1:te,c2:ge}=ee,_e=v.mul(T,le),Y=v.mul(V,te),me=v.mul(G,ge);return{c0:v.add(_e,v.mulByNonresidue(v.sub(v.mul(v.add(V,G),v.add(te,ge)),v.add(Y,me)))),c1:v.add(v.sub(v.mul(v.add(T,V),v.add(le,te)),v.add(_e,Y)),v.mulByNonresidue(me)),c2:v.sub(v.add(Y,v.mul(v.add(T,G),v.add(le,ge))),v.add(_e,me))}},I=({c0:T,c1:V,c2:G})=>{let ee=v.sqr(T),le=v.mul(v.mul(T,V),Jn),te=v.mul(v.mul(V,G),Jn),ge=v.sqr(G);return{c0:v.add(v.mulByNonresidue(te),ee),c1:v.add(v.mulByNonresidue(ge),le),c2:v.sub(v.sub(v.add(v.add(le,v.sqr(v.add(v.sub(T,V),G))),te),ee),ge)}},[U,q]=Fh(v,_,r.ORDER,6,2,3),O={ORDER:v.ORDER,isLE:v.isLE,BITS:3*v.BITS,BYTES:3*v.BYTES,MASK:Pa(3*v.BITS),ZERO:{c0:v.ZERO,c1:v.ZERO,c2:v.ZERO},ONE:{c0:v.ONE,c1:v.ZERO,c2:v.ZERO},create:T=>T,isValid:({c0:T,c1:V,c2:G})=>v.isValid(T)&&v.isValid(V)&&v.isValid(G),is0:({c0:T,c1:V,c2:G})=>v.is0(T)&&v.is0(V)&&v.is0(G),isValidNot0:T=>!O.is0(T)&&O.isValid(T),neg:({c0:T,c1:V,c2:G})=>({c0:v.neg(T),c1:v.neg(V),c2:v.neg(G)}),eql:({c0:T,c1:V,c2:G},{c0:ee,c1:le,c2:te})=>v.eql(T,ee)&&v.eql(V,le)&&v.eql(G,te),sqrt:ay,div:(T,V)=>O.mul(T,typeof V=="bigint"?r.inv(r.create(V)):O.inv(V)),pow:(T,V)=>Jc(O,T,V),invertBatch:T=>Si(O,T),add:j,sub:E,mul:P,sqr:I,addN:j,subN:E,mulN:P,sqrN:I,inv:({c0:T,c1:V,c2:G})=>{let ee=v.sub(v.sqr(T),v.mulByNonresidue(v.mul(G,V))),le=v.sub(v.mulByNonresidue(v.sqr(G)),v.mul(T,V)),te=v.sub(v.sqr(V),v.mul(T,G)),ge=v.inv(v.add(v.mulByNonresidue(v.add(v.mul(G,le),v.mul(V,te))),v.mul(T,ee)));return{c0:v.mul(ge,ee),c1:v.mul(ge,le),c2:v.mul(ge,te)}},fromBytes:T=>{if(T.length!==O.BYTES)throw new Error("fromBytes invalid length="+T.length);return{c0:v.fromBytes(T.subarray(0,v.BYTES)),c1:v.fromBytes(T.subarray(v.BYTES,2*v.BYTES)),c2:v.fromBytes(T.subarray(2*v.BYTES))}},toBytes:({c0:T,c1:V,c2:G})=>Mt(v.toBytes(T),v.toBytes(V),v.toBytes(G)),cmov:({c0:T,c1:V,c2:G},{c0:ee,c1:le,c2:te},ge)=>({c0:v.cmov(T,ee,ge),c1:v.cmov(V,le,ge),c2:v.cmov(G,te,ge)}),fromBigSix:T=>{if(!Array.isArray(T)||T.length!==6)throw new Error("invalid Fp6 usage");return{c0:v.fromBigTuple(T.slice(0,2)),c1:v.fromBigTuple(T.slice(2,4)),c2:v.fromBigTuple(T.slice(4,6))}},frobeniusMap:({c0:T,c1:V,c2:G},ee)=>({c0:v.frobeniusMap(T,ee),c1:v.mul(v.frobeniusMap(V,ee),U[ee%6]),c2:v.mul(v.frobeniusMap(G,ee),q[ee%6])}),mulByFp2:({c0:T,c1:V,c2:G},ee)=>({c0:v.mul(T,ee),c1:v.mul(V,ee),c2:v.mul(G,ee)}),mulByNonresidue:({c0:T,c1:V,c2:G})=>({c0:v.mulByNonresidue(G),c1:T,c2:V}),mul1:({c0:T,c1:V,c2:G},ee)=>({c0:v.mulByNonresidue(v.mul(G,ee)),c1:v.mul(T,ee),c2:v.mul(V,ee)}),mul01({c0:T,c1:V,c2:G},ee,le){let te=v.mul(T,ee),ge=v.mul(V,le);return{c0:v.add(v.mulByNonresidue(v.sub(v.mul(v.add(V,G),le),ge)),te),c1:v.sub(v.sub(v.mul(v.add(ee,le),v.add(T,V)),te),ge),c2:v.add(v.sub(v.mul(v.add(T,G),ee),te),ge)}}},Q=Fh(v,_,r.ORDER,12,1,6)[0],X=({c0:T,c1:V},{c0:G,c1:ee})=>({c0:O.add(T,G),c1:O.add(V,ee)}),z=({c0:T,c1:V},{c0:G,c1:ee})=>({c0:O.sub(T,G),c1:O.sub(V,ee)}),K=({c0:T,c1:V},G)=>{if(typeof G=="bigint")return{c0:O.mul(T,G),c1:O.mul(V,G)};let{c0:ee,c1:le}=G,te=O.mul(T,ee),ge=O.mul(V,le);return{c0:O.add(te,O.mulByNonresidue(ge)),c1:O.sub(O.mul(O.add(T,V),O.add(ee,le)),O.add(te,ge))}},W=({c0:T,c1:V})=>{let G=O.mul(T,V);return{c0:O.sub(O.sub(O.mul(O.add(O.mulByNonresidue(V),T),O.add(T,V)),G),O.mulByNonresidue(G)),c1:O.add(G,G)}};function ie(T,V){const G=v.sqr(T),ee=v.sqr(V);return{first:v.add(v.mulByNonresidue(ee),G),second:v.sub(v.sub(v.sqr(v.add(T,V)),G),ee)}}const fe={ORDER:v.ORDER,isLE:O.isLE,BITS:2*O.BITS,BYTES:2*O.BYTES,MASK:Pa(2*O.BITS),ZERO:{c0:O.ZERO,c1:O.ZERO},ONE:{c0:O.ONE,c1:O.ZERO},create:T=>T,isValid:({c0:T,c1:V})=>O.isValid(T)&&O.isValid(V),is0:({c0:T,c1:V})=>O.is0(T)&&O.is0(V),isValidNot0:T=>!fe.is0(T)&&fe.isValid(T),neg:({c0:T,c1:V})=>({c0:O.neg(T),c1:O.neg(V)}),eql:({c0:T,c1:V},{c0:G,c1:ee})=>O.eql(T,G)&&O.eql(V,ee),sqrt:ay,inv:({c0:T,c1:V})=>{let G=O.inv(O.sub(O.sqr(T),O.mulByNonresidue(O.sqr(V))));return{c0:O.mul(T,G),c1:O.neg(O.mul(V,G))}},div:(T,V)=>fe.mul(T,typeof V=="bigint"?r.inv(r.create(V)):fe.inv(V)),pow:(T,V)=>Jc(fe,T,V),invertBatch:T=>Si(fe,T),add:X,sub:z,mul:K,sqr:W,addN:X,subN:z,mulN:K,sqrN:W,fromBytes:T=>{if(T.length!==fe.BYTES)throw new Error("fromBytes invalid length="+T.length);return{c0:O.fromBytes(T.subarray(0,O.BYTES)),c1:O.fromBytes(T.subarray(O.BYTES))}},toBytes:({c0:T,c1:V})=>Mt(O.toBytes(T),O.toBytes(V)),cmov:({c0:T,c1:V},{c0:G,c1:ee},le)=>({c0:O.cmov(T,G,le),c1:O.cmov(V,ee,le)}),fromBigTwelve:T=>({c0:O.fromBigSix(T.slice(0,6)),c1:O.fromBigSix(T.slice(6,12))}),frobeniusMap(T,V){const{c0:G,c1:ee,c2:le}=O.frobeniusMap(T.c1,V),te=Q[V%12];return{c0:O.frobeniusMap(T.c0,V),c1:O.create({c0:v.mul(G,te),c1:v.mul(ee,te),c2:v.mul(le,te)})}},mulByFp2:({c0:T,c1:V},G)=>({c0:O.mulByFp2(T,G),c1:O.mulByFp2(V,G)}),conjugate:({c0:T,c1:V})=>({c0:T,c1:O.neg(V)}),mul014:({c0:T,c1:V},G,ee,le)=>{let te=O.mul01(T,G,ee),ge=O.mul1(V,le);return{c0:O.add(O.mulByNonresidue(ge),te),c1:O.sub(O.sub(O.mul01(O.add(V,T),G,v.add(ee,le)),te),ge)}},mul034:({c0:T,c1:V},G,ee,le)=>{const te=O.create({c0:v.mul(T.c0,G),c1:v.mul(T.c1,G),c2:v.mul(T.c2,G)}),ge=O.mul01(V,ee,le),_e=O.mul01(O.add(T,V),v.add(G,ee),le);return{c0:O.add(O.mulByNonresidue(ge),te),c1:O.sub(_e,O.add(te,ge))}},_cyclotomicSquare:e.Fp12cyclotomicSquare,_cyclotomicExp:e.Fp12cyclotomicExp,finalExponentiate:e.Fp12finalExponentiate};return{Fp:r,Fp2:v,Fp6:O,Fp12:fe,Fp4Square:ie}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ur=BigInt(0),Pu=BigInt(1),Yt=BigInt(2),ad=BigInt(3),sl=BigInt(4),Vs=BigInt("0xd201000000010000"),S5=Ko(Vs),Pi={p:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),n:BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001"),h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),a:ur,b:sl,Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1")},j5=Oi(Pi.n),{Fp:Le,Fp2:Ve,Fp6:_0,Fp4Square:Uh,Fp12:at}=_5({ORDER:Pi.p,FP2_NONRESIDUE:[Pu,Pu],Fp2mulByB:({c0:e,c1:t})=>{const r=Le.mul(e,sl),i=Le.mul(t,sl);return{c0:Le.sub(r,i),c1:Le.add(r,i)}},Fp12cyclotomicSquare:({c0:e,c1:t})=>{const{c0:r,c1:i,c2:o}=e,{c0:c,c1:d,c2:u}=t,{first:h,second:g}=Uh(r,d),{first:p,second:m}=Uh(c,o),{first:w,second:_}=Uh(i,u),v=Ve.mulByNonresidue(_);return{c0:_0.create({c0:Ve.add(Ve.mul(Ve.sub(h,r),Yt),h),c1:Ve.add(Ve.mul(Ve.sub(p,i),Yt),p),c2:Ve.add(Ve.mul(Ve.sub(w,o),Yt),w)}),c1:_0.create({c0:Ve.add(Ve.mul(Ve.add(v,c),Yt),v),c1:Ve.add(Ve.mul(Ve.add(g,d),Yt),g),c2:Ve.add(Ve.mul(Ve.add(m,u),Yt),m)})}},Fp12cyclotomicExp(e,t){let r=at.ONE;for(let i=S5-1;i>=0;i--)r=at._cyclotomicSquare(r),Q_(t,i)&&(r=at.mul(r,e));return r},Fp12finalExponentiate:e=>{const t=Vs,r=at.div(at.frobeniusMap(e,6),e),i=at.mul(at.frobeniusMap(r,2),r),o=at.conjugate(at._cyclotomicExp(i,t)),c=at.mul(at.conjugate(at._cyclotomicSquare(i)),o),d=at.conjugate(at._cyclotomicExp(c,t)),u=at.conjugate(at._cyclotomicExp(d,t)),h=at.mul(at.conjugate(at._cyclotomicExp(u,t)),at._cyclotomicSquare(o)),g=at.conjugate(at._cyclotomicExp(h,t)),p=at.frobeniusMap(at.mul(o,u),2),m=at.frobeniusMap(at.mul(d,i),3),w=at.frobeniusMap(at.mul(h,at.conjugate(i)),1),_=at.mul(at.mul(g,at.conjugate(c)),i);return at.mul(at.mul(at.mul(p,m),w),_)}}),{G2psi:xy,G2psi2:k5}=E5(Le,Ve,Ve.div(Ve.ONE,Ve.NONRESIDUE)),$h=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:Le.ORDER,m:2,k:128,expand:"xmd",hash:sp}),dp={p:Ve.ORDER,n:Pi.n,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),a:Ve.ZERO,b:Ve.fromBigTuple([sl,sl]),Gx:Ve.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:Ve.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")])},od=hl(Le.toBytes(ur),{infinity:!0,compressed:!0});function ld(e){e=e.slice();const t=e[0]&224,r=!!(t>>7&1),i=!!(t>>6&1),o=!!(t>>5&1);return e[0]&=31,{compressed:r,infinity:i,sort:o,value:e}}function hl(e,t){if(e[0]&224)throw new Error("setMask: non-empty mask");return t.compressed&&(e[0]|=128),t.infinity&&(e[0]|=64),t.sort&&(e[0]|=32),e}function C5(e,t,r){const{BYTES:i,ORDER:o}=Le,c=t.is0(),{x:d,y:u}=t.toAffine();if(r){if(c)return od.slice();const h=!!(u*Yt/o);return hl(Jt(d,i),{compressed:!0,sort:h})}else return c?Mt(Uint8Array.of(64),new Uint8Array(2*i-1)):Mt(Jt(d,i),Jt(u,i))}function zh(e){e.assertValidity();const{BYTES:t,ORDER:r}=Le,{x:i,y:o}=e.toAffine();if(e.is0())return od.slice();const c=!!(o*Yt/r);return hl(Jt(i,t),{compressed:!0,sort:c})}function A5(e){const{compressed:t,infinity:r,sort:i,value:o}=ld(e),{BYTES:c,ORDER:d}=Le;if(o.length===48&&t){const u=Pn(o),h=Le.create(u&Le.MASK);if(r){if(h!==ur)throw new Error("invalid G1 point: non-empty, at infinity, with compression");return{x:ur,y:ur}}const g=Le.add(Le.pow(h,ad),Le.create(Pi.b));let p=Le.sqrt(g);if(!p)throw new Error("invalid G1 point: compressed point");return p*Yt/d!==BigInt(i)&&(p=Le.neg(p)),{x:Le.create(h),y:Le.create(p)}}else if(o.length===96&&!t){const u=Pn(o.subarray(0,c)),h=Pn(o.subarray(c));if(r){if(u!==ur||h!==ur)throw new Error("G1: non-empty point at infinity");return cd.G1.Point.ZERO.toAffine()}return{x:Le.create(u),y:Le.create(h)}}else throw new Error("invalid G1 point: expected 48/96 bytes")}function yy(e){const{infinity:t,sort:r,value:i}=ld(xr("signatureHex",e,48)),o=Le.ORDER,c=cd.G1.Point,d=Pn(i);if(t)return c.ZERO;const u=Le.create(d&Le.MASK),h=Le.add(Le.pow(u,ad),Le.create(Pi.b));let g=Le.sqrt(h);if(!g)throw new Error("invalid G1 point: compressed");const p=BigInt(r);g*Yt/o!==p&&(g=Le.neg(g));const m=c.fromAffine({x:u,y:g});return m.assertValidity(),m}function T5(e,t,r){const{BYTES:i,ORDER:o}=Le,c=t.is0(),{x:d,y:u}=t.toAffine();if(r){if(c)return Mt(od,Jt(ur,i));const h=!!(u.c1===ur?u.c0*Yt/o:u.c1*Yt/o);return Mt(hl(Jt(d.c1,i),{compressed:!0,sort:h}),Jt(d.c0,i))}else{if(c)return Mt(Uint8Array.of(64),new Uint8Array(4*i-1));const{re:h,im:g}=Ve.reim(d),{re:p,im:m}=Ve.reim(u);return Mt(Jt(g,i),Jt(h,i),Jt(m,i),Jt(p,i))}}function Vh(e){e.assertValidity();const{BYTES:t}=Le;if(e.is0())return Mt(od,Jt(ur,t));const{x:r,y:i}=e.toAffine(),{re:o,im:c}=Ve.reim(r),{re:d,im:u}=Ve.reim(i),g=!!((u>ur?u*Yt:d*Yt)/Le.ORDER&Pu),p=o;return Mt(hl(Jt(c,t),{sort:g,compressed:!0}),Jt(p,t))}function R5(e){const{BYTES:t,ORDER:r}=Le,{compressed:i,infinity:o,sort:c,value:d}=ld(e);if(!i&&!o&&c||!i&&o&&c||c&&o&&i)throw new Error("invalid encoding flag: "+(e[0]&224));const u=(h,g,p)=>Pn(h.slice(g,p));if(d.length===96&&i){if(o){if(d.reduce((v,j)=>v!==0?j+1:j,0)>0)throw new Error("invalid G2 point: compressed");return{x:Ve.ZERO,y:Ve.ZERO}}const h=u(d,0,t),g=u(d,t,2*t),p=Ve.create({c0:Le.create(g),c1:Le.create(h)}),m=Ve.add(Ve.pow(p,ad),dp.b);let w=Ve.sqrt(m);const _=w.c1===ur?w.c0*Yt/r:w.c1*Yt/r?Pu:ur;return w=c&&_>0?w:Ve.neg(w),{x:p,y:w}}else if(d.length===192&&!i){if(o){if(d.reduce((w,_)=>w!==0?_+1:_,0)>0)throw new Error("invalid G2 point: uncompressed");return{x:Ve.ZERO,y:Ve.ZERO}}const h=u(d,0*t,1*t),g=u(d,1*t,2*t),p=u(d,2*t,3*t),m=u(d,3*t,4*t);return{x:Ve.fromBigTuple([g,h]),y:Ve.fromBigTuple([m,p])}}else throw new Error("invalid G2 point: expected 96/192 bytes")}function wy(e){const{ORDER:t}=Le,{infinity:r,sort:i,value:o}=ld(xr("signatureHex",e)),c=cd.G2.Point,d=o.length/2;if(d!==48&&d!==96)throw new Error("invalid compressed signature length, expected 96/192 bytes");const u=Pn(o.slice(0,d)),h=Pn(o.slice(d));if(r)return c.ZERO;const g=Le.create(u&Le.MASK),p=Le.create(h),m=Ve.create({c0:p,c1:g}),w=Ve.add(Ve.pow(m,ad),dp.b);let _=Ve.sqrt(w);if(!_)throw new Error("Failed to find a square root");const{re:v,im:j}=Ve.reim(_),E=BigInt(i),P=j>ur&&j*Yt/t!==E,I=j===ur&&v*Yt/t!==E;(P||I)&&(_=Ve.neg(_));const U=c.fromAffine({x:m,y:_});return U.assertValidity(),U}const cd=N5({fields:{Fp:Le,Fp2:Ve,Fp6:_0,Fp12:at,Fr:j5},G1:{...Pi,Fp:Le,htfDefaults:{...$h,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,t)=>{const r=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),i=new e(Le.mul(t.px,r),t.py,t.pz);return t.multiplyUnsafe(Vs).negate().multiplyUnsafe(Vs).equals(i)},clearCofactor:(e,t)=>t.multiplyUnsafe(Vs).add(t),mapToCurve:O5,fromBytes:A5,toBytes:C5,ShortSignature:{fromBytes(e){return tr(e),yy(e)},fromHex(e){return yy(e)},toBytes(e){return zh(e)},toRawBytes(e){return zh(e)},toHex(e){return $a(zh(e))}}},G2:{...dp,Fp:Ve,hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...$h},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:F5,isTorsionFree:(e,t)=>t.multiplyUnsafe(Vs).negate().equals(xy(e,t)),clearCofactor:(e,t)=>{const r=Vs;let i=t.multiplyUnsafe(r).negate(),o=xy(e,t),c=t.double();return c=k5(e,c),c=c.subtract(o),o=i.add(o),o=o.multiplyUnsafe(r).negate(),c=c.add(o),c=c.subtract(i),c.subtract(t)},fromBytes:R5,toBytes:T5,Signature:{fromBytes(e){return tr(e),wy(e)},fromHex(e){return wy(e)},toBytes(e){return Vh(e)},toRawBytes(e){return Vh(e)},toHex(e){return $a(Vh(e))}}},params:{ateLoopSize:Vs,r:Pi.n,xNegative:!0,twistType:"multiplicative"},htfDefaults:$h,hash:sp}),P5=Lv(Ve,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(e=>e.map(t=>Ve.fromBigTuple(t.map(BigInt))))),B5=Lv(Le,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),M5=Gv(Le,{A:Le.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:Le.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:Le.create(BigInt(11))}),I5=Gv(Ve,{A:Ve.create({c0:Le.create(ur),c1:Le.create(BigInt(240))}),B:Ve.create({c0:Le.create(BigInt(1012)),c1:Le.create(BigInt(1012))}),Z:Ve.create({c0:Le.create(BigInt(-2)),c1:Le.create(BigInt(-1))})});function O5(e){const{x:t,y:r}=M5(Le.create(e[0]));return B5(t,r)}function F5(e){const{x:t,y:r}=I5(Ve.fromBigTuple(e));return P5(t,r)}function U5(e,t,r){const i=typeof e=="string"?e:jt(e),o=typeof t=="string"?t:jt(t),c=typeof r=="string"?r:jt(r);return cd.verifyShortSignature(o,c,i)}const Kv=e=>Dt(new qa(e)),fp=e=>{const t=Kv(e);return new Date(Number(t)/1e6)};var $5=function(e,t,r,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},z5=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},eu;class jn extends Rt{constructor(t){super(`Invalid certificate: ${t}`)}}var Mr;(function(e){e[e.Empty=0]="Empty",e[e.Fork=1]="Fork",e[e.Labeled=2]="Labeled",e[e.Leaf=3]="Leaf",e[e.Pruned=4]="Pruned"})(Mr||(Mr={}));function V5(e,t){const r=new Uint8Array(e),i=new Uint8Array(t);for(let o=0;o<r.length;o++)if(r[o]>i[o])return!0;return!1}class ji{constructor(t,r,i,o,c=5,d=!1){this._rootKey=r,this._canisterId=i,this._blsVerify=o,this._maxAgeInMinutes=c,eu.set(this,!1),$5(this,eu,d,"f"),this.cert=rs(new Uint8Array(t))}static async create(t){const r=ji.createUnverified(t);return await r.verify(),r}static createUnverified(t){let r=t.blsVerify;return r||(r=U5),new ji(t.certificate,t.rootKey,t.canisterId,r,t.maxAgeInMinutes,t.disableTimeVerification)}lookup(t){return Ha(t,this.cert.tree)}lookup_label(t){return this.lookup([t])}async verify(){const t=await tu(this.cert.tree),r=await this._checkDelegationAndGetKey(this.cert.delegation),i=this.cert.signature,o=L5(r),c=cn(zo("ic-state-root"),t);let d=!1;const u=Kr(this.lookup(["time"]));if(!u)throw new jn("Certificate does not contain a time");if(!z5(this,eu,"f")){const g=this._maxAgeInMinutes*60*1e3,p=Date.now(),m=p-g,w=p+3e5,_=fp(u);if(_.getTime()<m)throw new jn(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: `+_.toISOString()+" Current time: "+new Date(p).toISOString());if(_.getTime()>w)throw new jn("Certificate is signed more than 5 minutes in the future. Certificate time: "+_.toISOString()+" Current time: "+new Date(p).toISOString())}try{d=await this._blsVerify(new Uint8Array(o),new Uint8Array(i),new Uint8Array(c))}catch{d=!1}if(!d)throw new jn("Signature verification failed")}async _checkDelegationAndGetKey(t){if(!t)return this._rootKey;const r=await ji.createUnverified({certificate:t.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,maxAgeInMinutes:1/0});if(r.cert.delegation)throw new jn("Delegation certificates cannot be nested");if(await r.verify(),this._canisterId.toString()!==mS&&!Dv({canisterId:this._canisterId,subnetId:rt.fromUint8Array(new Uint8Array(t.subnet_id)),tree:r.cert.tree}))throw new jn(`Canister ${this._canisterId} not in range of delegations for subnet 0x${jt(t.subnet_id)}`);const i=Kr(r.lookup(["subnet",t.subnet_id,"public_key"]));if(!i)throw new Error(`Could not find subnet key for subnet 0x${jt(t.subnet_id)}`);return i}}eu=new WeakMap;const Io=os("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),H5=96;function L5(e){const t=Io.byteLength+H5;if(e.byteLength!==t)throw new TypeError(`BLS DER-encoded public key must be ${t} bytes long`);const r=e.slice(0,Io.byteLength);if(!ul(r,Io))throw new TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${Io}, but get ${r}`);return e.slice(Io.byteLength)}function Kr(e){if(e.status===Vt.Found){if(e.value instanceof ArrayBuffer)return e.value;if(e.value instanceof Uint8Array)return e.value.buffer}}async function tu(e){switch(e[0]){case Mr.Empty:return ln(zo("ic-hashtree-empty"));case Mr.Pruned:return e[1];case Mr.Leaf:return ln(cn(zo("ic-hashtree-leaf"),e[1]));case Mr.Labeled:return ln(cn(zo("ic-hashtree-labeled"),e[1],await tu(e[2])));case Mr.Fork:return ln(cn(zo("ic-hashtree-fork"),await tu(e[1]),await tu(e[2])));default:throw new Error("unreachable")}}function zo(e){const t=new Uint8Array([e.length]),r=new TextEncoder().encode(e);return cn(t,r)}var Vt;(function(e){e.Unknown="unknown",e.Absent="absent",e.Found="found"})(Vt||(Vt={}));var es;(function(e){e.Less="less",e.Greater="greater"})(es||(es={}));function Ha(e,t){if(e.length===0)switch(t[0]){case Mr.Leaf:{if(!t[1])throw new Error("Invalid tree structure for leaf");return t[1]instanceof ArrayBuffer?{status:Vt.Found,value:t[1]}:t[1]instanceof Uint8Array?{status:Vt.Found,value:t[1].buffer}:{status:Vt.Found,value:t[1]}}default:return{status:Vt.Found,value:t}}const r=typeof e[0]=="string"?new TextEncoder().encode(e[0]):e[0],i=ru(r,t);switch(i.status){case Vt.Found:return Ha(e.slice(1),i.value);case es.Greater:case es.Less:return{status:Vt.Absent};default:return i}}function S0(e){switch(e[0]){case Mr.Empty:return[];case Mr.Fork:return S0(e[1]).concat(S0(e[2]));default:return[e]}}function ru(e,t){switch(t[0]){case Mr.Labeled:return V5(e,t[1])?{status:es.Greater}:ul(e,t[1])?{status:Vt.Found,value:t[2]}:{status:es.Less};case Mr.Fork:const r=ru(e,t[1]);switch(r.status){case es.Greater:{const i=ru(e,t[2]);return i.status===es.Less?{status:Vt.Absent}:i}case Vt.Unknown:{let i=ru(e,t[2]);return i.status===es.Less?{status:Vt.Unknown}:i}default:return r}case Mr.Pruned:return{status:Vt.Unknown};default:return{status:Vt.Absent}}}function Dv(e){const{canisterId:t,subnetId:r,tree:i}=e,o=Ha(["subnet",r.toUint8Array(),"canister_ranges"],i);if(o.status!==Vt.Found||!(o.value instanceof ArrayBuffer))throw new Error(`Could not find canister ranges for subnet ${r}`);return rs(o.value).map(h=>[rt.fromUint8Array(h[0]),rt.fromUint8Array(h[1])]).some(h=>h[0].ltEq(t)&&h[1].gtEq(t))}class W5{constructor(t,r,i){this.key=t,this.path=r,this.decodeStrategy=i}}const Yv=async e=>{const{agent:t,paths:r}=e,i=rt.from(e.canisterId),o=[...new Set(r)],c=o.map(h=>j0(h,i)),d=new Map,u=o.map((h,g)=>(async()=>{var p;try{const m=await t.readState(i,{paths:[c[g]]});if(t.rootKey==null)throw new Error("Agent is missing root key");const w=await ji.create({certificate:m.certificate,rootKey:t.rootKey,canisterId:i,disableTimeVerification:!0}),_=(E,P)=>{if(P==="subnet"){if(t.rootKey==null)throw new Error("Agent is missing root key");const I=Zv(m.certificate,i,t.rootKey);return{path:P,data:I}}else return{path:P,data:Kr(E.lookup(j0(P,i)))}},{path:v,data:j}=_(w,o[g]);if(!j)console.warn(`Expected to find result for path ${v}, but instead found nothing.`),typeof v=="string"?d.set(v,null):d.set(v.key,null);else switch(v){case"time":{d.set(v,fp(j));break}case"controllers":{d.set(v,G5(j));break}case"module_hash":{d.set(v,vy(j));break}case"subnet":{d.set(v,j);break}case"candid":{d.set(v,new TextDecoder().decode(j));break}default:if(typeof v!="string"&&"key"in v&&"path"in v)switch(v.decodeStrategy){case"raw":d.set(v.key,j);break;case"leb128":{d.set(v.key,Kv(j));break}case"cbor":{d.set(v.key,Xv(j));break}case"hex":{d.set(v.key,vy(j));break}case"utf-8":d.set(v.key,q5(j))}}}catch(m){if(!((p=m==null?void 0:m.message)===null||p===void 0)&&p.includes("Invalid certificate"))throw new Rt(m.message);typeof h!="string"&&"key"in h&&"path"in h?d.set(h.key,null):d.set(h,null),console.group(),console.warn(`Expected to find result for path ${h}, but instead found nothing.`),console.warn(m),console.groupEnd()}})());return await Promise.all(u),d},Zv=(e,t,r)=>{if(!t._isPrincipal)throw new Error("Invalid canisterId");const i=rs(new Uint8Array(e)),o=i.tree;let c=i.delegation,d;if(c&&c.subnet_id?d=rt.fromUint8Array(new Uint8Array(c.subnet_id)):!c&&typeof r<"u"?(d=rt.selfAuthenticating(new Uint8Array(r)),c={subnet_id:d.toUint8Array(),certificate:new ArrayBuffer(0)}):(d=rt.selfAuthenticating(rt.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),c={subnet_id:d.toUint8Array(),certificate:new ArrayBuffer(0)}),!Dv({canisterId:t,subnetId:d,tree:o}))throw new Error("Canister not in range");const h=Ha(["subnet",c.subnet_id,"node"],o);if(h.status!==Vt.Found)throw new Error("Node not found");if(h.value instanceof ArrayBuffer)throw new Error("Invalid node tree");const g=S0(h.value),p=new Map;return g.forEach(m=>{const w=rt.from(new Uint8Array(m[1])).toText(),_=Ha(["public_key"],m[2]);if(_.status!==Vt.Found)throw new Error("Public key not found");const v=_.value;if(v.byteLength!==44)throw new Error("Invalid public key length");p.set(w,v)}),{subnetId:rt.fromUint8Array(new Uint8Array(c.subnet_id)).toText(),nodeKeys:p}},j0=(e,t)=>{const r=new TextEncoder,i=c=>new DataView(r.encode(c).buffer).buffer,o=new DataView(t.toUint8Array().buffer).buffer;switch(e){case"time":return[i("time")];case"controllers":return[i("canister"),o,i("controllers")];case"module_hash":return[i("canister"),o,i("module_hash")];case"subnet":return[i("subnet")];case"candid":return[i("canister"),o,i("metadata"),i("candid:service")];default:if("key"in e&&"path"in e)if(typeof e.path=="string"||e.path instanceof ArrayBuffer){const c=e.path,d=typeof c=="string"?i(c):c;return[i("canister"),o,i("metadata"),d]}else return e.path}throw new Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${e} was formatted correctly.`)},vy=e=>jt(e),Xv=e=>rs(e),q5=e=>new TextDecoder().decode(e),G5=e=>Xv(e).map(r=>rt.fromUint8Array(new Uint8Array(r))),K5=Object.freeze(Object.defineProperty({__proto__:null,CustomPath:W5,encodePath:j0,fetchNodeKeys:Zv,request:Yv},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const En=BigInt(0),pr=BigInt(1),Hh=BigInt(2),D5=BigInt(8),Y5={zip215:!0};function Z5(e,t,r,i){const o=e.sqr(r),c=e.sqr(i),d=e.add(e.mul(t.a,o),c),u=e.add(e.ONE,e.mul(t.d,e.mul(o,c)));return e.eql(d,u)}function X5(e,t={}){const{Fp:r,Fn:i}=Hv("edwards",e,t),{h:o,n:c}=e;fl(t,{},{uvRatio:"function"});const d=Hh<<BigInt(i.BYTES*8)-pr,u=j=>r.create(j),h=t.uvRatio||((j,E)=>{try{return{isValid:!0,value:r.sqrt(r.div(j,E))}}catch{return{isValid:!1,value:En}}});if(!Z5(r,e,e.Gx,e.Gy))throw new Error("bad curve params: generator point");function g(j,E,P=!1){const I=P?pr:En;return $o("coordinate "+j,E,I,d),E}function p(j){if(!(j instanceof _))throw new Error("ExtendedPoint expected")}const m=rl((j,E)=>{const{ex:P,ey:I,ez:U}=j,q=j.is0();E==null&&(E=q?D5:r.inv(U));const O=u(P*E),Q=u(I*E),X=u(U*E);if(q)return{x:En,y:pr};if(X!==pr)throw new Error("invZ was invalid");return{x:O,y:Q}}),w=rl(j=>{const{a:E,d:P}=e;if(j.is0())throw new Error("bad point: ZERO");const{ex:I,ey:U,ez:q,et:O}=j,Q=u(I*I),X=u(U*U),z=u(q*q),K=u(z*z),W=u(Q*E),ie=u(z*u(W+X)),fe=u(K+u(P*u(Q*X)));if(ie!==fe)throw new Error("bad point: equation left != right (1)");const T=u(I*U),V=u(q*O);if(T!==V)throw new Error("bad point: equation left != right (2)");return!0});class _{constructor(E,P,I,U){this.ex=g("x",E),this.ey=g("y",P),this.ez=g("z",I,!0),this.et=g("t",U),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(E){if(E instanceof _)throw new Error("extended point not allowed");const{x:P,y:I}=E||{};return g("x",P),g("y",I),new _(P,I,pr,u(P*I))}static normalizeZ(E){return Ru(_,"ez",E)}static msm(E,P){return Vv(_,i,E,P)}_setWindowSize(E){this.precompute(E)}precompute(E=8,P=!0){return v.setWindowSize(this,E),P||this.multiply(Hh),this}assertValidity(){w(this)}equals(E){p(E);const{ex:P,ey:I,ez:U}=this,{ex:q,ey:O,ez:Q}=E,X=u(P*Q),z=u(q*U),K=u(I*Q),W=u(O*U);return X===z&&K===W}is0(){return this.equals(_.ZERO)}negate(){return new _(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:E}=e,{ex:P,ey:I,ez:U}=this,q=u(P*P),O=u(I*I),Q=u(Hh*u(U*U)),X=u(E*q),z=P+I,K=u(u(z*z)-q-O),W=X+O,ie=W-Q,fe=X-O,T=u(K*ie),V=u(W*fe),G=u(K*fe),ee=u(ie*W);return new _(T,V,ee,G)}add(E){p(E);const{a:P,d:I}=e,{ex:U,ey:q,ez:O,et:Q}=this,{ex:X,ey:z,ez:K,et:W}=E,ie=u(U*X),fe=u(q*z),T=u(Q*I*W),V=u(O*K),G=u((U+q)*(X+z)-ie-fe),ee=V-T,le=V+T,te=u(fe-P*ie),ge=u(G*ee),_e=u(le*te),Y=u(G*te),me=u(ee*le);return new _(ge,_e,me,Y)}subtract(E){return this.add(E.negate())}multiply(E){const P=E;$o("scalar",P,pr,c);const{p:I,f:U}=v.wNAFCached(this,P,_.normalizeZ);return _.normalizeZ([I,U])[0]}multiplyUnsafe(E,P=_.ZERO){const I=E;return $o("scalar",I,En,c),I===En?_.ZERO:this.is0()||I===pr?this:v.wNAFCachedUnsafe(this,I,_.normalizeZ,P)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return v.wNAFCachedUnsafe(this,c).is0()}toAffine(E){return m(this,E)}clearCofactor(){return o===pr?this:this.multiplyUnsafe(o)}static fromBytes(E,P=!1){return tr(E),this.fromHex(E,P)}static fromHex(E,P=!1){const{d:I,a:U}=e,q=r.BYTES;E=xr("pointHex",E,q),el("zip215",P);const O=E.slice(),Q=E[q-1];O[q-1]=Q&-129;const X=tl(O),z=P?d:r.ORDER;$o("pointHex.y",X,En,z);const K=u(X*X),W=u(K-pr),ie=u(I*K-U);let{isValid:fe,value:T}=h(W,ie);if(!fe)throw new Error("Point.fromHex: invalid y coordinate");const V=(T&pr)===pr,G=(Q&128)!==0;if(!P&&T===En&&G)throw new Error("Point.fromHex: x=0 and x_0=1");return G!==V&&(T=u(-T)),_.fromAffine({x:T,y:X})}static fromPrivateScalar(E){return _.BASE.multiply(E)}toBytes(){const{x:E,y:P}=this.toAffine(),I=id(P,r.BYTES);return I[I.length-1]|=E&pr?128:0,I}toRawBytes(){return this.toBytes()}toHex(){return $a(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}_.BASE=new _(e.Gx,e.Gy,pr,u(e.Gx*e.Gy)),_.ZERO=new _(En,pr,pr,En),_.Fp=r,_.Fn=i;const v=zv(_,i.BYTES*8);return _}function Q5(e,t){fl(t,{hash:"function"},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r,hash:i}=t,{BASE:o,Fp:c,Fn:d}=e,u=d.ORDER,h=t.randomBytes||Pw,g=t.adjustScalarBytes||(O=>O),p=t.domain||((O,Q,X)=>{if(el("phflag",X),Q.length||X)throw new Error("Contexts/pre-hash are not supported");return O});function m(O){return d.create(O)}function w(O){return m(tl(O))}function _(O){const Q=c.BYTES;O=xr("private key",O,Q);const X=xr("hashed private key",i(O),2*Q),z=g(X.slice(0,Q)),K=X.slice(Q,2*Q),W=w(z);return{head:z,prefix:K,scalar:W}}function v(O){const{head:Q,prefix:X,scalar:z}=_(O),K=o.multiply(z),W=K.toBytes();return{head:Q,prefix:X,scalar:z,point:K,pointBytes:W}}function j(O){return v(O).pointBytes}function E(O=Uint8Array.of(),...Q){const X=Mt(...Q);return w(i(p(X,xr("context",O),!!r)))}function P(O,Q,X={}){O=xr("message",O),r&&(O=r(O));const{prefix:z,scalar:K,pointBytes:W}=v(Q),ie=E(X.context,z,O),fe=o.multiply(ie).toBytes(),T=E(X.context,fe,W,O),V=m(ie+T*K);$o("signature.s",V,En,u);const G=c.BYTES,ee=Mt(fe,id(V,G));return xr("result",ee,G*2)}const I=Y5;function U(O,Q,X,z=I){const{context:K,zip215:W}=z,ie=c.BYTES;O=xr("signature",O,2*ie),Q=xr("message",Q),X=xr("publicKey",X,ie),W!==void 0&&el("zip215",W),r&&(Q=r(Q));const fe=tl(O.slice(ie,2*ie));let T,V,G;try{T=e.fromHex(X,W),V=e.fromHex(O.slice(0,ie),W),G=o.multiplyUnsafe(fe)}catch{return!1}if(!W&&T.isSmallOrder())return!1;const ee=E(K,V.toBytes(),T.toBytes(),Q);return V.add(T.multiplyUnsafe(ee)).subtract(G).clearCofactor().is0()}return o.precompute(8),{getPublicKey:j,sign:P,verify:U,utils:{getExtendedPublicKey:v,randomPrivateKey:()=>h(c.BYTES),precompute(O=8,Q=e.BASE){return Q.precompute(O,!1)}},Point:e}}function J5(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,i=Oi(t.n,e.nBitLength,!0),o={Fp:r,Fn:i,uvRatio:e.uvRatio},c={hash:e.hash,randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:o,eddsaOpts:c}}function eS(e,t){return Object.assign({},t,{ExtendedPoint:t.Point,CURVE:e})}function tS(e){const{CURVE:t,curveOpts:r,eddsaOpts:i}=J5(e),o=X5(t,r),c=Q5(o,i);return eS(e,c)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const rS=BigInt(1),by=BigInt(2);BigInt(3);const nS=BigInt(5),sS=BigInt(8),ud={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:sS,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function iS(e){const t=BigInt(10),r=BigInt(20),i=BigInt(40),o=BigInt(80),c=ud.p,u=e*e%c*e%c,h=bn(u,by,c)*u%c,g=bn(h,rS,c)*e%c,p=bn(g,nS,c)*g%c,m=bn(p,t,c)*p%c,w=bn(m,r,c)*m%c,_=bn(w,i,c)*w%c,v=bn(_,o,c)*_%c,j=bn(v,o,c)*_%c,E=bn(j,t,c)*p%c;return{pow_p_5_8:bn(E,by,c)*e%c,b2:u}}function aS(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const Ny=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function oS(e,t){const r=ud.p,i=Ft(t*t*t,r),o=Ft(i*i*t,r),c=iS(e*o).pow_p_5_8;let d=Ft(e*i*c,r);const u=Ft(t*d*d,r),h=d,g=Ft(d*Ny,r),p=u===e,m=u===Ft(-e,r),w=u===Ft(-e*Ny,r);return p&&(d=h),(m||w)&&(d=g),s5(d,r)&&(d=Ft(-d,r)),{isValid:p||m,value:d}}const lS=Oi(ud.p,void 0,!0),cS={...ud,Fp:lS,hash:x_,adjustScalarBytes:aS,uvRatio:oS},wa=tS(cS);var Ey=function(e,t,r,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},mr=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},lr,Vo,Qv,Jv;class uS{constructor(t={}){lr.set(this,void 0),Vo.set(this,void 0),this[Qv]=this.entries.bind(this),this[Jv]="ExpirableMap";const{source:r=[],expirationTime:i=10*60*1e3}=t,o=Date.now();Ey(this,lr,new Map([...r].map(([c,d])=>[c,{value:d,timestamp:o}])),"f"),Ey(this,Vo,i,"f")}prune(){const t=Date.now();for(const[r,i]of mr(this,lr,"f").entries())t-i.timestamp>mr(this,Vo,"f")&&mr(this,lr,"f").delete(r);return this}set(t,r){this.prune();const i={value:r,timestamp:Date.now()};return mr(this,lr,"f").set(t,i),this}get(t){const r=mr(this,lr,"f").get(t);if(r!==void 0){if(Date.now()-r.timestamp>mr(this,Vo,"f")){mr(this,lr,"f").delete(t);return}return r.value}}clear(){mr(this,lr,"f").clear()}entries(){const t=mr(this,lr,"f").entries();return function*(){for(const[i,o]of t)yield[i,o.value]}()}values(){const t=mr(this,lr,"f").values();return function*(){for(const i of t)yield i.value}()}keys(){return mr(this,lr,"f").keys()}forEach(t,r){for(const[i,o]of mr(this,lr,"f").entries())t.call(r,o.value,i,this)}has(t){return mr(this,lr,"f").has(t)}delete(t){return mr(this,lr,"f").delete(t)}get size(){return mr(this,lr,"f").size}}lr=new WeakMap,Vo=new WeakMap,Qv=Symbol.iterator,Jv=Symbol.toStringTag;const _y=e=>{if(e<=127)return 1;if(e<=255)return 2;if(e<=65535)return 3;if(e<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},Sy=(e,t,r)=>{if(r<=127)return e[t]=r,1;if(r<=255)return e[t]=129,e[t+1]=r,2;if(r<=65535)return e[t]=130,e[t+1]=r>>8,e[t+2]=r,3;if(r<=16777215)return e[t]=131,e[t+1]=r>>16,e[t+2]=r>>8,e[t+3]=r,4;throw new Error("Length too long (> 4 bytes)")},k0=(e,t)=>{if(e[t]<128)return 1;if(e[t]===128)throw new Error("Invalid length 0");if(e[t]===129)return 2;if(e[t]===130)return 3;if(e[t]===131)return 4;throw new Error("Length too long (> 4 bytes)")},dS=(e,t)=>{const r=k0(e,t);if(r===1)return e[t];if(r===2)return e[t+1];if(r===3)return(e[t+1]<<8)+e[t+2];if(r===4)return(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];throw new Error("Length too long (> 4 bytes)")};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);const Bu=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function e1(e,t){const r=2+_y(e.byteLength+1),i=t.byteLength+r+e.byteLength;let o=0;const c=new Uint8Array(1+_y(i)+i);return c[o++]=48,o+=Sy(c,o,i),c.set(t,o),o+=t.byteLength,c[o++]=3,o+=Sy(c,o,e.byteLength+1),c[o++]=0,c.set(new Uint8Array(e),o),c}const t1=(e,t)=>{let r=0;const i=(u,h)=>{if(o[r++]!==u)throw new Error("Expected: "+h)},o=new Uint8Array(e);if(i(48,"sequence"),r+=k0(o,r),!ul(o.slice(r,r+t.byteLength),t))throw new Error("Not the expected OID.");r+=t.byteLength,i(3,"bit string");const c=dS(o,r)-1;r+=k0(o,r),i(0,"0 padding");const d=o.slice(r);if(c!==d.length)throw new Error(`DER payload mismatch: Expected length ${c} actual length ${d.length}`);return d};var jy=function(e,t,r,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},ky=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},nu,su;let r1=class Ho{constructor(t){if(nu.set(this,void 0),su.set(this,void 0),t.byteLength!==Ho.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");jy(this,nu,t,"f"),jy(this,su,Ho.derEncode(t),"f")}static from(t){return this.fromDer(t.toDer())}static fromRaw(t){return new Ho(t)}static fromDer(t){return new Ho(this.derDecode(t))}static derEncode(t){return e1(t,Bu).buffer}static derDecode(t){const r=t1(t,Bu);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return r}get rawKey(){return ky(this,nu,"f")}get derKey(){return ky(this,su,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}};nu=new WeakMap,su=new WeakMap;r1.RAW_KEY_LENGTH=32;class fS{constructor(){this.observers=[]}subscribe(t){this.observers.push(t)}unsubscribe(t){this.observers=this.observers.filter(r=>r!==t)}notify(t,...r){this.observers.forEach(i=>i(t,...r))}}class hS extends fS{constructor(){super()}print(t,...r){this.notify({message:t,level:"info"},...r)}warn(t,...r){this.notify({message:t,level:"warn"},...r)}error(t,r,...i){this.notify({message:t,level:"error",error:r},...i)}}var Nn=function(e,t,r,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},or=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},_n,iu,au,ou,lu,cu,uu,du,va;const n1=.5,s1=1.5,i1=500,a1=6e4,o1=9e5,l1=10;class dd{constructor(t=dd.default){_n.set(this,void 0),iu.set(this,void 0),au.set(this,void 0),ou.set(this,void 0),lu.set(this,void 0),cu.set(this,void 0),uu.set(this,void 0),du.set(this,void 0),va.set(this,0);const{initialInterval:r=i1,randomizationFactor:i=n1,multiplier:o=s1,maxInterval:c=a1,maxElapsedTime:d=o1,maxIterations:u=l1,date:h=Date}=t;Nn(this,_n,r,"f"),Nn(this,iu,i,"f"),Nn(this,au,o,"f"),Nn(this,ou,c,"f"),Nn(this,du,h,"f"),Nn(this,lu,h.now(),"f"),Nn(this,cu,d,"f"),Nn(this,uu,u,"f")}get ellapsedTimeInMsec(){return or(this,du,"f").now()-or(this,lu,"f")}get currentInterval(){return or(this,_n,"f")}get count(){return or(this,va,"f")}get randomValueFromInterval(){const t=or(this,iu,"f")*or(this,_n,"f"),r=or(this,_n,"f")-t,i=or(this,_n,"f")+t;return Math.random()*(i-r)+r}incrementCurrentInterval(){var t;return Nn(this,_n,Math.min(or(this,_n,"f")*or(this,au,"f"),or(this,ou,"f")),"f"),Nn(this,va,(t=or(this,va,"f"),t++,t),"f"),or(this,_n,"f")}next(){return this.ellapsedTimeInMsec>=or(this,cu,"f")||or(this,va,"f")>=or(this,uu,"f")?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}}_n=new WeakMap,iu=new WeakMap,au=new WeakMap,ou=new WeakMap,lu=new WeakMap,cu=new WeakMap,uu=new WeakMap,du=new WeakMap,va=new WeakMap;dd.default={initialInterval:i1,randomizationFactor:n1,multiplier:s1,maxInterval:a1,maxElapsedTime:o1,maxIterations:l1,date:Date};var Qt=function(e,t,r,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},Re=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},cr,xi,Ba,Sn,Xn,Ta,Lo,ba,sn,on,yi,wi,Wo,Na,Ea,vi,Ni,c1,fu,hu,bi,Qn;(function(e){e.Received="received",e.Processing="processing",e.Replied="replied",e.Rejected="rejected",e.Unknown="unknown",e.Done="done"})(Qn||(Qn={}));const Uc=60*1e3,pS="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",mS="aaaaa-aa",gS="ic0.app",xS=".ic0.app",yS="icp0.io",wS=".icp0.io",vS="icp-api.io",bS=".icp-api.io";class Lh extends Rt{constructor(t){super(t),this.message=t}}class $c extends Rt{constructor(t){super(t),this.message=t}}function NS(){let e;if(typeof window<"u")if(window.fetch)e=window.fetch.bind(window);else throw new Lh("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.");else if(typeof global<"u")if(global.fetch)e=global.fetch.bind(global);else throw new Lh("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.");else typeof self<"u"&&self.fetch&&(e=self.fetch.bind(self));if(e)return e;throw new Lh("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.")}function ES(e){let t;if(e!==void 0)!e.match(/^[a-z]+:/)&&typeof window<"u"?t=new URL(window.location.protocol+"//"+e):t=new URL(e);else{const r=["ic0.app","icp0.io","127.0.0.1","localhost"],i=[".github.dev",".gitpod.io"],o=typeof window<"u"?window.location:void 0,c=o==null?void 0:o.hostname;let d;c&&typeof c=="string"&&(i.some(u=>c.endsWith(u))?d=c:d=r.find(u=>c.endsWith(u))),o&&d?t=new URL(`${o.protocol}//${d}${o.port?":"+o.port:""}`):t=new URL("https://icp-api.io")}return t.toString()}class ns{constructor(t={}){var r,i;cr.add(this),xi.set(this,null),Ba.set(this,!1),Sn.set(this,void 0),Xn.set(this,void 0),Ta.set(this,void 0),Lo.set(this,void 0),ba.set(this,0),sn.set(this,void 0),on.set(this,void 0),yi.set(this,void 0),wi.set(this,void 0),this._isAgent=!0,this.config={},Wo.set(this,0),this.log=new hS,Na.set(this,[]),Ea.set(this,[]),vi.set(this,new uS({expirationTime:5*60*1e3})),Ni.set(this,!0),hu.set(this,(d,u)=>{if(Re(this,Ni,"f")===!1)return d;if(!u)throw new jn("Invalid signature from replica signed query: no matching node key found.");const{status:h,signatures:g=[],requestId:p}=d,m=ts(new TextEncoder().encode("\vic-response"));for(const w of g){const{timestamp:_,identity:v}=w,j=rt.fromUint8Array(v).toText();let E;if(h==="replied"){const{reply:O}=d;E=Cu({status:h,reply:O,timestamp:BigInt(_),request_id:p})}else if(h==="rejected"){const{reject_code:O,reject_message:Q,error_code:X}=d;E=Cu({status:h,reject_code:O,reject_message:Q,error_code:X,timestamp:BigInt(_),request_id:p})}else throw new Error(`Unknown status: ${h}`);const P=cn(m,ts(new Uint8Array(E))),I=u==null?void 0:u.nodeKeys.get(j);if(!I)throw new jn("Invalid signature from replica signed query: no matching node key found.");const U=r1.fromDer(I).rawKey;if(wa.verify(w.signature,new Uint8Array(P),new Uint8Array(U)))return d;throw new jn(`Invalid signature from replica ${j} signed query.`)}return d}),this.config=t,Qt(this,Xn,t.fetch||NS()||fetch.bind(global),"f"),Qt(this,Ta,t.fetchOptions,"f"),Qt(this,Lo,t.callOptions,"f"),Qt(this,Ba,(r=t.shouldFetchRootKey)!==null&&r!==void 0?r:!1,"f"),t.rootKey?this.rootKey=t.rootKey:Re(this,Ba,"f")?this.rootKey=null:this.rootKey=os(pS);const o=ES(t.host);this.host=new URL(o),t.verifyQuerySignatures!==void 0&&Qt(this,Ni,t.verifyQuerySignatures,"f"),Qt(this,on,(i=t.retryTimes)!==null&&i!==void 0?i:3,"f");const c=()=>new dd({maxIterations:Re(this,on,"f")});if(Qt(this,yi,t.backoffStrategy||c,"f"),this.host.hostname.endsWith(xS)?this.host.hostname=gS:this.host.hostname.endsWith(wS)?this.host.hostname=yS:this.host.hostname.endsWith(bS)&&(this.host.hostname=vS),t.credentials){const{name:d,password:u}=t.credentials;Qt(this,sn,`${d}${u?":"+u:""}`,"f")}if(Qt(this,Sn,Promise.resolve(t.identity||new Jo),"f"),t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes>5)throw new Rt(`The maximum ingress expiry time is 5 minutes. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);if(t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes<=0)throw new Rt(`Ingress expiry time must be greater than 0. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);Qt(this,wi,t.ingressExpiryInMinutes||5,"f"),this.addTransform("update",iy(b0)),t.useQueryNonces&&this.addTransform("query",iy(b0)),t.logToConsole&&this.log.subscribe(d=>{d.level==="error"?console.error(d.message):d.level==="warn"?console.warn(d.message):console.log(d.message)})}get waterMark(){return Re(this,Wo,"f")}static createSync(t={}){return new this(Object.assign({},t))}static async create(t={shouldFetchRootKey:!1}){const r=ns.createSync(t),i=[r.syncTime()];return r.host.toString()!=="https://icp-api.io"&&t.shouldFetchRootKey&&i.push(r.fetchRootKey()),await Promise.all(i),r}static async from(t){var r;try{return"config"in t?await ns.create(t.config):await ns.create({fetch:t._fetch,fetchOptions:t._fetchOptions,callOptions:t._callOptions,host:t._host.toString(),identity:(r=t._identity)!==null&&r!==void 0?r:void 0})}catch{throw new Rt("Failed to create agent from provided agent")}}isLocal(){const t=this.host.hostname;return t==="127.0.0.1"||t.endsWith("127.0.0.1")}addTransform(t,r,i=r.priority||0){if(t==="update"){const o=Re(this,Ea,"f").findIndex(c=>(c.priority||0)<i);Re(this,Ea,"f").splice(o>=0?o:Re(this,Ea,"f").length,0,Object.assign(r,{priority:i}))}else if(t==="query"){const o=Re(this,Na,"f").findIndex(c=>(c.priority||0)<i);Re(this,Na,"f").splice(o>=0?o:Re(this,Na,"f").length,0,Object.assign(r,{priority:i}))}}async getPrincipal(){if(!Re(this,Sn,"f"))throw new $c("This identity has expired due this application's security policy. Please refresh your authentication.");return(await Re(this,Sn,"f")).getPrincipal()}async call(t,r,i){var o,c;await Re(this,cr,"m",bi).call(this);const d=(o=r.callSync)!==null&&o!==void 0?o:!0,u=await(i!==void 0?await i:await Re(this,Sn,"f"));if(!u)throw new $c("This identity has expired due this application's security policy. Please refresh your authentication.");const h=rt.from(t),g=r.effectiveCanisterId?rt.from(r.effectiveCanisterId):h,p=u.getPrincipal()||rt.anonymous();let m=new Oc(Re(this,wi,"f")*Uc);Math.abs(Re(this,ba,"f"))>1e3*30&&(m=new Oc(Re(this,wi,"f")*Uc+Re(this,ba,"f")));const w={request_type:v0.Call,canister_id:h,method_name:r.methodName,arg:r.arg,sender:p,ingress_expiry:m};let _=await this._transform({request:{body:null,method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},Re(this,sn,"f")?{Authorization:"Basic "+btoa(Re(this,sn,"f"))}:{})},endpoint:"call",body:w}),v;r!=null&&r.nonce?v=j(r.nonce):_.body.nonce?v=j(_.body.nonce):v=void 0,w.nonce=v;function j(U){return new Uint8Array(U)}_=await u.transformRequest(_);const E=Rh(_.body),P=Re(this,yi,"f").call(this),I=Qo(w);try{const U=()=>(this.log.print(`fetching "/api/v3/canister/${g.toText()}/call" with request:`,_),Re(this,Xn,"f").call(this,""+new URL(`/api/v3/canister/${g.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},Re(this,Lo,"f")),_.request),{body:E}))),q=()=>(this.log.print(`fetching "/api/v2/canister/${g.toText()}/call" with request:`,_),Re(this,Xn,"f").call(this,""+new URL(`/api/v2/canister/${g.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},Re(this,Lo,"f")),_.request),{body:E}))),Q=await Re(this,cr,"m",fu).call(this,{request:d?U:q,backoff:P,tries:0}),X=await Q.arrayBuffer(),z=Q.status===200&&X.byteLength>0?rs(X):null;if(z&&"certificate"in z){const K=await this.parseTimeFromResponse({certificate:z.certificate});Qt(this,Wo,K,"f")}return{requestId:I,response:{ok:Q.ok,status:Q.status,statusText:Q.statusText,body:z,headers:Uo(Q.headers)},requestDetails:w}}catch(U){if(U.message.includes("v3 api not supported."))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(t,Object.assign(Object.assign({},r),{callSync:!1}),i);const q=`Error while making call: ${(c=U.message)!==null&&c!==void 0?c:String(U)}`,O=new Y_(q,U,jt(I),jt(_.body.sender_pubkey),jt(_.body.sender_sig),String(_.body.content.ingress_expiry._value));throw this.log.error(q,O),O}}async query(t,r,i){var o,c,d,u;await Re(this,cr,"m",bi).call(this);const h=Re(this,yi,"f").call(this),g=r.effectiveCanisterId?rt.from(r.effectiveCanisterId):rt.from(t);this.log.print(`ecid ${g.toString()}`),this.log.print(`canisterId ${t.toString()}`);let p,m;const w=await(i!==void 0?i:Re(this,Sn,"f"));if(!w)throw new $c("This identity has expired due this application's security policy. Please refresh your authentication.");const _=rt.from(t),v=(w==null?void 0:w.getPrincipal())||rt.anonymous(),j={request_type:"query",canister_id:_,method_name:r.methodName,arg:r.arg,sender:v,ingress_expiry:new Oc(Re(this,wi,"f")*Uc)},E=Qo(j);p=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},Re(this,sn,"f")?{Authorization:"Basic "+btoa(Re(this,sn,"f"))}:{})},endpoint:"read",body:j}),p=await(w==null?void 0:w.transformRequest(p));const P=Rh(p.body),I={canister:_.toText(),ecid:g,transformedRequest:p,body:P,requestId:E,backoff:h,tries:0},U=async()=>({requestDetails:j,query:await Re(this,cr,"m",c1).call(this,I)}),q=async()=>{if(!Re(this,Ni,"f"))return;const O=Re(this,vi,"f").get(g.toString());return O||(await this.fetchSubnetKeys(g.toString()),Re(this,vi,"f").get(g.toString()))};try{const[O,Q]=await Promise.all([U(),q()]);m=O;const{requestDetails:X,query:z}=m,K=Object.assign(Object.assign({},z),{requestDetails:X});if(this.log.print("Query response:",K),!Re(this,Ni,"f"))return K;try{return Re(this,hu,"f").call(this,K,Q)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),Re(this,vi,"f").delete(t.toString()),await this.fetchSubnetKeys(g.toString());const ie=Re(this,vi,"f").get(t.toString());if(!ie)throw new jn("Invalid signature from replica signed query: no matching node key found.");return Re(this,hu,"f").call(this,K,ie)}}catch(O){const Q=`Error while making call: ${(o=O.message)!==null&&o!==void 0?o:String(O)}`,X=new Z_(Q,O,String(E),jt((c=p==null?void 0:p.body)===null||c===void 0?void 0:c.sender_pubkey),jt((d=p==null?void 0:p.body)===null||d===void 0?void 0:d.sender_sig),String((u=p==null?void 0:p.body)===null||u===void 0?void 0:u.content.ingress_expiry._value));throw this.log.error(Q,X),X}}async createReadStateRequest(t,r){await Re(this,cr,"m",bi).call(this);const i=await(r!==void 0?await r:await Re(this,Sn,"f"));if(!i)throw new $c("This identity has expired due this application's security policy. Please refresh your authentication.");const o=(i==null?void 0:i.getPrincipal())||rt.anonymous(),c=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},Re(this,sn,"f")?{Authorization:"Basic "+btoa(Re(this,sn,"f"))}:{})},endpoint:"read_state",body:{request_type:"read_state",paths:t.paths,sender:o,ingress_expiry:new Oc(Re(this,wi,"f")*Uc)}});return i==null?void 0:i.transformRequest(c)}async readState(t,r,i,o){var c,d,u,h;function g(j){for(const E of j.paths){const[P,I]=E,U=ts(new TextEncoder().encode("request_status"));if(ul(P,U))return I}}const p=g(r);await Re(this,cr,"m",bi).call(this);const m=typeof t=="string"?rt.fromText(t):t,w=o??await this.createReadStateRequest(r,i),_=Rh(w.body);this.log.print(`fetching "/api/v2/canister/${m}/read_state" with request:`,w);const v=Re(this,yi,"f").call(this);try{const j=await Re(this,cr,"m",fu).call(this,{request:()=>Re(this,Xn,"f").call(this,""+new URL(`/api/v2/canister/${m.toString()}/read_state`,this.host),Object.assign(Object.assign(Object.assign({},Re(this,Ta,"f")),w.request),{body:_})),backoff:v,tries:0});if(!j.ok)throw new Error(`Server returned an error:
  Code: ${j.status} (${j.statusText})
  Body: ${await j.text()}
`);const E=rs(await j.arrayBuffer());this.log.print("Read state response:",E);const P=await this.parseTimeFromResponse(E);return P>0&&(this.log.print("Read state response time:",P),Qt(this,Wo,P,"f")),E}catch(j){const E=`Caught exception while attempting to read state: ${(c=j.message)!==null&&c!==void 0?c:String(j)}`,P=new X_(E,j,String(p),jt((d=w==null?void 0:w.body)===null||d===void 0?void 0:d.sender_pubkey),jt((u=w==null?void 0:w.body)===null||u===void 0?void 0:u.sender_sig),String((h=w==null?void 0:w.body)===null||h===void 0?void 0:h.content.ingress_expiry._value));throw this.log.error(E,P),P}}async parseTimeFromResponse(t){let r;if(t.certificate){const i=rs(t.certificate);if(i&&"tree"in i)r=i.tree;else throw new Error("Could not decode time from response");const o=Ha(["time"],r);if(o.status!==Vt.Found)throw new Error("Time was not found in the response or was not in its expected format.");if(!(o.value instanceof ArrayBuffer)&&!ArrayBuffer.isView(o))throw new Error("Time was not found in the response or was not in its expected format.");const c=fp(ts(o.value));return this.log.print("Time from response:",c),this.log.print("Time from response in milliseconds:",Number(c)),Number(c)}else this.log.warn("No certificate found in response");return 0}async syncTime(t){await Re(this,cr,"m",bi).call(this);const r=await qE(()=>Promise.resolve().then(()=>K5),void 0),i=Date.now();try{t||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");const o=ns.createSync({identity:new Jo,host:this.host.toString(),fetch:Re(this,Xn,"f"),retryTimes:0}),d=(await r.request({canisterId:t??rt.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),agent:o,paths:["time"]})).get("time");d&&(Qt(this,ba,Number(d)-Number(i),"f"),this.log.notify({message:`Syncing time: offset of ${Re(this,ba,"f")}`,level:"info"}))}catch(o){this.log.error("Caught exception while attempting to sync time",o)}}async status(){const t=Re(this,sn,"f")?{Authorization:"Basic "+btoa(Re(this,sn,"f"))}:{};this.log.print('fetching "/api/v2/status"');const r=Re(this,yi,"f").call(this),i=await Re(this,cr,"m",fu).call(this,{backoff:r,request:()=>Re(this,Xn,"f").call(this,""+new URL("/api/v2/status",this.host),Object.assign({headers:t},Re(this,Ta,"f"))),tries:0});return rs(await i.arrayBuffer())}async fetchRootKey(){let t;return Re(this,xi,"f")?t=await Re(this,xi,"f"):(Qt(this,xi,new Promise((r,i)=>{this.status().then(o=>{const c=o.root_key;this.rootKey=c,r(c)}).catch(i)}),"f"),t=await Re(this,xi,"f")),Qt(this,xi,null,"f"),t}invalidateIdentity(){Qt(this,Sn,null,"f")}replaceIdentity(t){Qt(this,Sn,Promise.resolve(t),"f")}async fetchSubnetKeys(t){await Re(this,cr,"m",bi).call(this);const r=rt.from(t),o=(await Yv({canisterId:r,paths:["subnet"],agent:this})).get("subnet");if(o&&typeof o=="object"&&"nodeKeys"in o)return Re(this,vi,"f").set(r.toText(),o),o}_transform(t){let r=Promise.resolve(t);if(t.endpoint==="call")for(const i of Re(this,Ea,"f"))r=r.then(o=>i(o).then(c=>c||o));else for(const i of Re(this,Na,"f"))r=r.then(o=>i(o).then(c=>c||o));return r}}xi=new WeakMap,Ba=new WeakMap,Sn=new WeakMap,Xn=new WeakMap,Ta=new WeakMap,Lo=new WeakMap,ba=new WeakMap,sn=new WeakMap,on=new WeakMap,yi=new WeakMap,wi=new WeakMap,Wo=new WeakMap,Na=new WeakMap,Ea=new WeakMap,vi=new WeakMap,Ni=new WeakMap,hu=new WeakMap,cr=new WeakSet,c1=async function e(t){var r,i;const{ecid:o,transformedRequest:c,body:d,requestId:u,backoff:h,tries:g}=t,p=g===0?0:h.next();if(this.log.print(`fetching "/api/v2/canister/${o.toString()}/query" with tries:`,{tries:g,backoff:h,delay:p}),p===null)throw new Rt(`Timestamp failed to pass the watermark after retrying the configured ${Re(this,on,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);p>0&&await new Promise(v=>setTimeout(v,p));let m;try{this.log.print(`fetching "/api/v2/canister/${o.toString()}/query" with request:`,c);const v=await Re(this,Xn,"f").call(this,""+new URL(`/api/v2/canister/${o.toString()}/query`,this.host),Object.assign(Object.assign(Object.assign({},Re(this,Ta,"f")),c.request),{body:d}));if(v.status===200){const j=rs(await v.arrayBuffer());m=Object.assign(Object.assign({},j),{httpDetails:{ok:v.ok,status:v.status,statusText:v.statusText,headers:Uo(v.headers)},requestId:u})}else throw new Ph(`Gateway returned an error:
  Code: ${v.status} (${v.statusText})
  Body: ${await v.text()}
`,{ok:v.ok,status:v.status,statusText:v.statusText,headers:Uo(v.headers)})}catch(v){if(g<Re(this,on,"f"))return this.log.warn(`Caught exception while attempting to make query:
  ${v}
  Retrying query.`),await Re(this,cr,"m",e).call(this,Object.assign(Object.assign({},t),{tries:g+1}));throw v}const w=(i=(r=m.signatures)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.timestamp;if(!Re(this,Ni,"f"))return m;if(!w)throw new Error("Timestamp not found in query response. This suggests a malformed or malicious response.");const _=Number(BigInt(w)/BigInt(1e6));if(this.log.print("watermark and timestamp",{waterMark:this.waterMark,timestamp:_}),Number(this.waterMark)>_){const v=new Rt("Timestamp is below the watermark. Retrying query.");if(this.log.error("Timestamp is below",v,{timestamp:w,waterMark:this.waterMark}),g<Re(this,on,"f"))return await Re(this,cr,"m",e).call(this,Object.assign(Object.assign({},t),{tries:g+1}));throw new Rt(`Timestamp failed to pass the watermark after retrying the configured ${Re(this,on,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`)}return m},fu=async function e(t){const{request:r,backoff:i,tries:o}=t,c=o===0?0:i.next();if(c===null)throw new Rt(`Timestamp failed to pass the watermark after retrying the configured ${Re(this,on,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);c>0&&await new Promise(g=>setTimeout(g,c));let d;try{d=await r()}catch(g){if(Re(this,on,"f")>o)return this.log.warn(`Caught exception while attempting to make request:
  ${g}
  Retrying request.`),await Re(this,cr,"m",e).call(this,{request:r,backoff:i,tries:o+1});throw g}if(d.ok)return d;const u=await d.clone().text(),h=`Server returned an error:
  Code: ${d.status} (${d.statusText})
  Body: ${u}
`;if(d.status===404&&d.url.includes("api/v3"))throw new Ph("v3 api not supported. Fall back to v2",{ok:d.ok,status:d.status,statusText:d.statusText,headers:Uo(d.headers)});if(o<Re(this,on,"f"))return await Re(this,cr,"m",e).call(this,{request:r,backoff:i,tries:o+1});throw new Ph(h,{ok:d.ok,status:d.status,statusText:d.statusText,headers:Uo(d.headers)})},bi=async function(){if(!this.rootKey)if(this.rootKey===null&&Re(this,Ba,"f"))await this.fetchRootKey();else throw new Rt(`Invalid root key detected. The root key for this agent is ${this.rootKey} and the shouldFetchRootKey value is set to ${Re(this,Ba,"f")}. The root key should only be unknown if you are in local development. Otherwise you should avoid fetching and use the default IC Root Key or the known root key of your environment.`)};var Cy;(function(e){e.Error="err",e.GetPrincipal="gp",e.GetPrincipalResponse="gpr",e.Query="q",e.QueryResponse="qr",e.Call="c",e.CallResponse="cr",e.ReadState="rs",e.ReadStateResponse="rsr",e.Status="s",e.StatusResponse="sr"})(Cy||(Cy={}));function Ay(){const e=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.ic.agent:global.ic.agent:window.ic.agent;if(!e)throw new Error("No Agent could be found.");return e}const _S=5*60*1e3;function u1(){return AS(jS(SS(),1e3),CS(1e3,1.2),kS(_S))}function SS(){let e=!0;return async()=>e?(e=!1,!0):!1}function jS(e,t){return async(r,i,o)=>{if(await e(r,i,o))return new Promise(c=>setTimeout(c,t))}}function kS(e){const t=Date.now()+e;return async(r,i,o)=>{if(Date.now()>t)throw new Error(`Request timed out after ${e} msec:
  Request ID: ${jt(i)}
  Request status: ${o}
`)}}function CS(e,t){let r=e;return()=>new Promise(i=>setTimeout(()=>{r*=t,i()},r))}function AS(...e){return async(t,r,i)=>{for(const o of e)await o(t,r,i)}}async function d1(e,t,r,i=u1(),o,c){var d;const u=[new TextEncoder().encode("request_status"),r],h=o??await((d=e.createReadStateRequest)===null||d===void 0?void 0:d.call(e,{paths:[u]})),g=await e.readState(t,{paths:[u]},void 0,h);if(e.rootKey==null)throw new Error("Agent root key not initialized before polling");const p=await ji.create({certificate:g.certificate,rootKey:e.rootKey,canisterId:t,blsVerify:c}),m=Kr(p.lookup([...u,new TextEncoder().encode("status")]));let w;switch(typeof m>"u"?w=Qn.Unknown:w=new TextDecoder().decode(m),w){case Qn.Replied:return{reply:Kr(p.lookup([...u,"reply"])),certificate:p};case Qn.Received:case Qn.Unknown:case Qn.Processing:return await i(t,r,w),d1(e,t,r,i,h,c);case Qn.Rejected:{const _=new Uint8Array(Kr(p.lookup([...u,"reject_code"])))[0],v=new TextDecoder().decode(Kr(p.lookup([...u,"reject_message"])));throw new Error(`Call was rejected:
  Request ID: ${jt(r)}
  Reject code: ${_}
  Reject text: ${v}
`)}case Qn.Done:throw new Error(`Call was marked as done but we never saw the reply:
  Request ID: ${jt(r)}
`)}throw new Error("unreachable")}const TS=({IDL:e})=>{const t=e.Variant({mainnet:e.Null,testnet:e.Null}),r=e.Text,i=e.Record({network:t,address:r,min_confirmations:e.Opt(e.Nat32)}),o=e.Nat64,c=o,d=e.Nat32,u=e.Record({start_height:d,end_height:e.Opt(d),network:t}),h=e.Vec(e.Nat8),g=e.Record({tip_height:d,block_headers:e.Vec(h)}),p=e.Record({network:t}),m=e.Nat64,w=e.Vec(m),_=e.Record({network:t,filter:e.Opt(e.Variant({page:e.Vec(e.Nat8),min_confirmations:e.Nat32})),address:r}),v=e.Vec(e.Nat8),j=e.Record({txid:e.Vec(e.Nat8),vout:e.Nat32}),E=e.Record({height:e.Nat32,value:o,outpoint:j}),P=e.Record({next_page:e.Opt(e.Vec(e.Nat8)),tip_height:d,tip_block_hash:v,utxos:e.Vec(E)}),I=e.Record({transaction:e.Vec(e.Nat8),network:t}),U=e.Principal,q=e.Record({canister_id:U,num_requested_changes:e.Opt(e.Nat64)}),O=e.Variant({from_user:e.Record({user_id:e.Principal}),from_canister:e.Record({canister_version:e.Opt(e.Nat64),canister_id:e.Principal})}),Q=e.Vec(e.Nat8),X=e.Variant({creation:e.Record({controllers:e.Vec(e.Principal)}),code_deployment:e.Record({mode:e.Variant({reinstall:e.Null,upgrade:e.Null,install:e.Null}),module_hash:e.Vec(e.Nat8)}),load_snapshot:e.Record({canister_version:e.Nat64,taken_at_timestamp:e.Nat64,snapshot_id:Q}),controllers_change:e.Record({controllers:e.Vec(e.Principal)}),code_uninstall:e.Null}),z=e.Record({timestamp_nanos:e.Nat64,canister_version:e.Nat64,origin:O,details:X}),K=e.Record({controllers:e.Vec(e.Principal),module_hash:e.Opt(e.Vec(e.Nat8)),recent_changes:e.Vec(z),total_num_changes:e.Nat64}),W=e.Record({canister_id:U}),ie=e.Variant({controllers:e.Null,public:e.Null,allowed_viewers:e.Vec(e.Principal)}),fe=e.Record({freezing_threshold:e.Nat,controllers:e.Vec(e.Principal),reserved_cycles_limit:e.Nat,log_visibility:ie,wasm_memory_limit:e.Nat,memory_allocation:e.Nat,compute_allocation:e.Nat}),T=e.Record({status:e.Variant({stopped:e.Null,stopping:e.Null,running:e.Null}),memory_size:e.Nat,cycles:e.Nat,settings:fe,query_stats:e.Record({response_payload_bytes_total:e.Nat,num_instructions_total:e.Nat,num_calls_total:e.Nat,request_payload_bytes_total:e.Nat}),idle_cycles_burned_per_day:e.Nat,module_hash:e.Opt(e.Vec(e.Nat8)),reserved_cycles:e.Nat}),V=e.Record({canister_id:U}),G=e.Record({freezing_threshold:e.Opt(e.Nat),controllers:e.Opt(e.Vec(e.Principal)),reserved_cycles_limit:e.Opt(e.Nat),log_visibility:e.Opt(ie),wasm_memory_limit:e.Opt(e.Nat),memory_allocation:e.Opt(e.Nat),compute_allocation:e.Opt(e.Nat)}),ee=e.Record({settings:e.Opt(G),sender_canister_version:e.Opt(e.Nat64)}),le=e.Record({canister_id:U}),te=e.Record({canister_id:U}),ge=e.Record({canister_id:U,snapshot_id:Q}),_e=e.Record({canister_id:U}),Y=e.Variant({secp256k1:e.Null}),me=e.Record({key_id:e.Record({name:e.Text,curve:Y}),canister_id:e.Opt(U),derivation_path:e.Vec(e.Vec(e.Nat8))}),Be=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),H=e.Record({canister_id:U}),Pe=e.Record({idx:e.Nat64,timestamp_nanos:e.Nat64,content:e.Vec(e.Nat8)}),Ae=e.Record({canister_log_records:e.Vec(Pe)}),pe=e.Record({value:e.Text,name:e.Text}),de=e.Record({status:e.Nat,body:e.Vec(e.Nat8),headers:e.Vec(pe)}),Ne=e.Record({url:e.Text,method:e.Variant({get:e.Null,head:e.Null,post:e.Null}),max_response_bytes:e.Opt(e.Nat64),body:e.Opt(e.Vec(e.Nat8)),transform:e.Opt(e.Record({function:e.Func([e.Record({context:e.Vec(e.Nat8),response:de})],[de],["query"]),context:e.Vec(e.Nat8)})),headers:e.Vec(pe)}),C=e.Variant({reinstall:e.Null,upgrade:e.Opt(e.Record({wasm_memory_persistence:e.Opt(e.Variant({keep:e.Null,replace:e.Null})),skip_pre_upgrade:e.Opt(e.Bool)})),install:e.Null}),F=e.Record({hash:e.Vec(e.Nat8)}),D=e.Record({arg:e.Vec(e.Nat8),wasm_module_hash:e.Vec(e.Nat8),mode:C,chunk_hashes_list:e.Vec(F),target_canister:U,store_canister:e.Opt(U),sender_canister_version:e.Opt(e.Nat64)}),J=e.Vec(e.Nat8),ne=e.Record({arg:e.Vec(e.Nat8),wasm_module:J,mode:C,canister_id:U,sender_canister_version:e.Opt(e.Nat64)}),ae=e.Record({canister_id:U}),R=e.Record({id:Q,total_size:e.Nat64,taken_at_timestamp:e.Nat64}),y=e.Vec(R),b=e.Record({canister_id:U,sender_canister_version:e.Opt(e.Nat64),snapshot_id:Q}),M=e.Record({start_at_timestamp_nanos:e.Nat64,subnet_id:e.Principal}),L=e.Record({num_block_failures_total:e.Nat64,node_id:e.Principal,num_blocks_proposed_total:e.Nat64}),se=e.Vec(e.Record({timestamp_nanos:e.Nat64,node_metrics:e.Vec(L)})),xe=e.Record({settings:e.Opt(G),specified_id:e.Opt(U),amount:e.Opt(e.Nat),sender_canister_version:e.Opt(e.Nat64)}),ke=e.Record({canister_id:U}),Ie=e.Record({canister_id:U,amount:e.Nat}),Ue=e.Vec(e.Nat8),Ze=e.Variant({ed25519:e.Null,bip340secp256k1:e.Null}),B=e.Record({key_id:e.Record({algorithm:Ze,name:e.Text}),canister_id:e.Opt(U),derivation_path:e.Vec(e.Vec(e.Nat8))}),N=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),k=e.Record({key_id:e.Record({name:e.Text,curve:Y}),derivation_path:e.Vec(e.Vec(e.Nat8)),message_hash:e.Vec(e.Nat8)}),Z=e.Record({signature:e.Vec(e.Nat8)}),ue=e.Variant({bip341:e.Record({merkle_root_hash:e.Vec(e.Nat8)})}),be=e.Record({aux:e.Opt(ue),key_id:e.Record({algorithm:Ze,name:e.Text}),derivation_path:e.Vec(e.Vec(e.Nat8)),message:e.Vec(e.Nat8)}),ve=e.Record({signature:e.Vec(e.Nat8)}),Ke=e.Record({canister_id:U}),Qe=e.Record({canister_id:U}),De=e.Record({canister_id:U}),We=e.Vec(F),ct=e.Record({subnet_id:e.Principal}),ft=e.Record({replica_version:e.Text}),ri=e.Record({replace_snapshot:e.Opt(Q),canister_id:U}),fn=R,hn=e.Record({canister_id:U,sender_canister_version:e.Opt(e.Nat64)}),Ui=e.Record({canister_id:e.Principal,settings:G,sender_canister_version:e.Opt(e.Nat64)}),$i=e.Record({chunk:e.Vec(e.Nat8),canister_id:e.Principal}),Yr=F;return e.Service({bitcoin_get_balance:e.Func([i],[c],[]),bitcoin_get_block_headers:e.Func([u],[g],[]),bitcoin_get_current_fee_percentiles:e.Func([p],[w],[]),bitcoin_get_utxos:e.Func([_],[P],[]),bitcoin_send_transaction:e.Func([I],[],[]),canister_info:e.Func([q],[K],[]),canister_status:e.Func([W],[T],[]),clear_chunk_store:e.Func([V],[],[]),create_canister:e.Func([ee],[le],[]),delete_canister:e.Func([te],[],[]),delete_canister_snapshot:e.Func([ge],[],[]),deposit_cycles:e.Func([_e],[],[]),ecdsa_public_key:e.Func([me],[Be],[]),fetch_canister_logs:e.Func([H],[Ae],["query"]),http_request:e.Func([Ne],[de],[]),install_chunked_code:e.Func([D],[],[]),install_code:e.Func([ne],[],[]),list_canister_snapshots:e.Func([ae],[y],[]),load_canister_snapshot:e.Func([b],[],[]),node_metrics_history:e.Func([M],[se],[]),provisional_create_canister_with_cycles:e.Func([xe],[ke],[]),provisional_top_up_canister:e.Func([Ie],[],[]),raw_rand:e.Func([],[Ue],[]),schnorr_public_key:e.Func([B],[N],[]),sign_with_ecdsa:e.Func([k],[Z],[]),sign_with_schnorr:e.Func([be],[ve],[]),start_canister:e.Func([Ke],[],[]),stop_canister:e.Func([Qe],[],[]),stored_chunks:e.Func([De],[We],[]),subnet_info:e.Func([ct],[ft],[]),take_canister_snapshot:e.Func([ri],[fn],[]),uninstall_code:e.Func([hn],[],[]),update_settings:e.Func([Ui],[],[]),upload_chunk:e.Func([$i],[Yr],[])})};class f1 extends Rt{constructor(t,r,i,o){super(["Call failed:",`  Canister: ${t.toText()}`,`  Method: ${r} (${i})`,...Object.getOwnPropertyNames(o).map(c=>`  "${c}": ${JSON.stringify(o[c])}`)].join(`
`)),this.canisterId=t,this.methodName=r,this.type=i,this.props=o}}class RS extends f1{constructor(t,r,i){var o;super(t,r,"query",{Status:i.status,Code:(o=g0[i.reject_code])!==null&&o!==void 0?o:`Unknown Code "${i.reject_code}"`,Message:i.reject_message}),this.result=i}}class Ty extends f1{constructor(t,r,i,o,c,d,u){super(t,r,"update",Object.assign({"Request ID":jt(i)},o.body?Object.assign(Object.assign({},u?{"Error code":u}:{}),{"Reject code":String(c),"Reject message":d}):{"HTTP status code":o.status.toString(),"HTTP status text":o.statusText})),this.requestId=i,this.response=o,this.reject_code=c,this.reject_message=d,this.error_code=u}}const qr=Symbol.for("ic-agent-metadata");class gr{constructor(t){this[qr]=Object.freeze(t)}static agentOf(t){return t[qr].config.agent}static interfaceOf(t){return t[qr].service}static canisterIdOf(t){return rt.from(t[qr].config.canisterId)}static async install(t,r){const i=t.mode===void 0?{install:null}:t.mode,o=t.arg?[...new Uint8Array(t.arg)]:[],c=[...new Uint8Array(t.module)],d=typeof r.canisterId=="string"?rt.fromText(r.canisterId):r.canisterId;await Ry(r).install_code({mode:i,arg:o,wasm_module:c,canister_id:d,sender_canister_version:[]})}static async createCanister(t,r){function i(c){return[{controllers:c.controllers?[c.controllers]:[],compute_allocation:c.compute_allocation?[c.compute_allocation]:[],freezing_threshold:c.freezing_threshold?[c.freezing_threshold]:[],memory_allocation:c.memory_allocation?[c.memory_allocation]:[],reserved_cycles_limit:[],log_visibility:[],wasm_memory_limit:[]}]}const{canister_id:o}=await Ry(t||{}).provisional_create_canister_with_cycles({amount:[],settings:i(r||{}),specified_id:[],sender_canister_version:[]});return o}static async createAndInstallCanister(t,r,i){const o=await this.createCanister(i);return await this.install(Object.assign({},r),Object.assign(Object.assign({},i),{canisterId:o})),this.createActor(t,Object.assign(Object.assign({},i),{canisterId:o}))}static createActorClass(t,r){const i=t({IDL:P_});class o extends gr{constructor(d){if(!d.canisterId)throw new Rt(`Canister ID is required, but received ${typeof d.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);const u=typeof d.canisterId=="string"?rt.fromText(d.canisterId):d.canisterId;super({config:Object.assign(Object.assign(Object.assign({},h1),d),{canisterId:u}),service:i});for(const[h,g]of i._fields)r!=null&&r.httpDetails&&g.annotations.push(C0),r!=null&&r.certificate&&g.annotations.push(p1),this[h]=PS(this,h,g,d.blsVerify)}}return o}static createActor(t,r){if(!r.canisterId)throw new Rt(`Canister ID is required, but received ${typeof r.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);return new(this.createActorClass(t))(r)}static createActorWithHttpDetails(t,r){return new(this.createActorClass(t,{httpDetails:!0}))(r)}static createActorWithExtendedDetails(t,r,i={httpDetails:!0,certificate:!0}){return new(this.createActorClass(t,i))(r)}}function pa(e,t){const r=Dw(e,HE.Buffer.from(t));switch(r.length){case 0:return;case 1:return r[0];default:return r}}const h1={pollingStrategyFactory:u1},C0="http-details",p1="certificate";function PS(e,t,r,i){let o;r.annotations.includes("query")||r.annotations.includes("composite_query")?o=async(d,...u)=>{var h,g;d=Object.assign(Object.assign({},d),(g=(h=e[qr].config).queryTransform)===null||g===void 0?void 0:g.call(h,t,u,Object.assign(Object.assign({},e[qr].config),d)));const p=d.agent||e[qr].config.agent||Ay(),m=rt.from(d.canisterId||e[qr].config.canisterId),w=y0(r.argTypes,u),_=await p.query(m,{methodName:t,arg:w,effectiveCanisterId:d.effectiveCanisterId}),v=Object.assign(Object.assign({},_.httpDetails),{requestDetails:_.requestDetails});switch(_.status){case"rejected":throw new RS(m,t,_);case"replied":return r.annotations.includes(C0)?{httpDetails:v,result:pa(r.retTypes,_.reply.arg)}:pa(r.retTypes,_.reply.arg)}}:o=async(d,...u)=>{var h,g;d=Object.assign(Object.assign({},d),(g=(h=e[qr].config).callTransform)===null||g===void 0?void 0:g.call(h,t,u,Object.assign(Object.assign({},e[qr].config),d)));const p=d.agent||e[qr].config.agent||Ay(),{canisterId:m,effectiveCanisterId:w,pollingStrategyFactory:_}=Object.assign(Object.assign(Object.assign({},h1),e[qr].config),d),v=rt.from(m),j=w!==void 0?rt.from(w):v,E=y0(r.argTypes,u),{requestId:P,response:I,requestDetails:U}=await p.call(v,{methodName:t,arg:E,effectiveCanisterId:j});let q,O;if(I.body&&I.body.certificate){if(p.rootKey==null)throw new Error("Agent is missing root key");const K=I.body.certificate;O=await ji.create({certificate:ki(K),rootKey:p.rootKey,canisterId:rt.from(m),blsVerify:i});const W=[new TextEncoder().encode("request_status"),P];switch(new TextDecoder().decode(Kr(O.lookup([...W,"status"])))){case"replied":q=Kr(O.lookup([...W,"reply"]));break;case"rejected":{const fe=new Uint8Array(Kr(O.lookup([...W,"reject_code"])))[0],T=new TextDecoder().decode(Kr(O.lookup([...W,"reject_message"]))),V=Kr(O.lookup([...W,"error_code"])),G=V?new TextDecoder().decode(V):void 0;throw new Ty(v,t,P,I,fe,T,G)}}}else if(I.body&&"reject_message"in I.body){const{reject_code:K,reject_message:W,error_code:ie}=I.body;throw new Ty(v,t,P,I,K,W,ie)}if(I.status===202){const K=_(),W=await d1(p,j,P,K,i);O=W.certificate,q=W.reply}const Q=r.annotations.includes(C0),X=r.annotations.includes(p1),z=Object.assign(Object.assign({},I),{requestDetails:U});if(q!==void 0)return Q&&X?{httpDetails:z,certificate:O,result:pa(r.retTypes,q)}:X?{certificate:O,result:pa(r.retTypes,q)}:Q?{httpDetails:z,result:pa(r.retTypes,q)}:pa(r.retTypes,q);if(r.retTypes.length===0)return Q?{httpDetails:I,result:void 0}:void 0;throw new Error(`Call was returned undefined, but type [${r.retTypes.join(",")}].`)};const c=(...d)=>o({},...d);return c.withOptions=d=>(...u)=>o(d,...u),c}function Ry(e){function t(r,i){if(e.effectiveCanisterId)return{effectiveCanisterId:rt.from(e.effectiveCanisterId)};const o=i[0];let c=rt.fromHex("");return o&&typeof o=="object"&&o.target_canister&&r==="install_chunked_code"&&(c=rt.from(o.target_canister)),o&&typeof o=="object"&&o.canister_id&&(c=rt.from(o.canister_id)),{effectiveCanisterId:c}}return gr.createActor(TS,Object.assign(Object.assign(Object.assign({},e),{canisterId:rt.fromHex("")}),{callTransform:t,queryTransform:t}))}var Mu=function(e,t,r,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},Hs=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},pu,mu,_a,Sa;function Py(e){return e!==null&&typeof e=="object"}class ss{constructor(t){if(pu.set(this,void 0),mu.set(this,void 0),t.byteLength!==ss.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");Mu(this,pu,ts(t),"f"),Mu(this,mu,ss.derEncode(t),"f")}static from(t){if(typeof t=="string"){const r=os(t);return this.fromRaw(r)}else if(Py(t)){const r=t;if(Py(r)&&Object.hasOwnProperty.call(r,"__derEncodedPublicKey__"))return this.fromDer(r);if(ArrayBuffer.isView(r)){const i=r;return this.fromRaw(ts(i.buffer))}else{if(r instanceof ArrayBuffer)return this.fromRaw(r);if("rawKey"in r)return this.fromRaw(r.rawKey);if("derKey"in r)return this.fromDer(r.derKey);if("toDer"in r)return this.fromDer(r.toDer())}}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(t){return new ss(t)}static fromDer(t){return new ss(this.derDecode(t))}static derEncode(t){const r=e1(t,Bu).buffer;return r.__derEncodedPublicKey__=void 0,r}static derDecode(t){const r=t1(t,Bu);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return ts(r)}get rawKey(){return Hs(this,pu,"f")}get derKey(){return Hs(this,mu,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}pu=new WeakMap,mu=new WeakMap;ss.RAW_KEY_LENGTH=32;class Gs extends cp{constructor(t,r){super(),_a.set(this,void 0),Sa.set(this,void 0),Mu(this,_a,ss.from(t),"f"),Mu(this,Sa,new Uint8Array(r),"f")}static generate(t){if(t&&t.length!==32)throw new Error("Ed25519 Seed needs to be 32 bytes long.");t||(t=wa.utils.randomPrivateKey()),ul(t,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");const r=new Uint8Array(32);for(let o=0;o<32;o++)r[o]=new Uint8Array(t)[o];const i=wa.getPublicKey(r);return Gs.fromKeyPair(i,r)}static fromParsedJson(t){const[r,i]=t;return new Gs(ss.fromDer(os(r)),os(i))}static fromJSON(t){const r=JSON.parse(t);if(Array.isArray(r)){if(typeof r[0]=="string"&&typeof r[1]=="string")return this.fromParsedJson([r[0],r[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(t)}`)}static fromKeyPair(t,r){return new Gs(ss.fromRaw(t),r)}static fromSecretKey(t){const r=wa.getPublicKey(new Uint8Array(t));return Gs.fromKeyPair(r,t)}toJSON(){return[jt(Hs(this,_a,"f").toDer()),jt(Hs(this,Sa,"f"))]}getKeyPair(){return{secretKey:Hs(this,Sa,"f"),publicKey:Hs(this,_a,"f")}}getPublicKey(){return Hs(this,_a,"f")}async sign(t){const r=new Uint8Array(t),i=Go(wa.sign(r,Hs(this,Sa,"f").slice(0,32)));return Object.defineProperty(i,"__signature__",{enumerable:!1,value:void 0}),i}static verify(t,r,i){const[o,c,d]=[t,r,i].map(u=>(typeof u=="string"&&(u=os(u)),u instanceof Uint8Array&&(u=ts(u.buffer)),new Uint8Array(u)));return wa.verify(o,c,d)}}_a=new WeakMap,Sa=new WeakMap;class hp extends Error{constructor(t){super(t),this.message=t,Object.setPrototypeOf(this,hp.prototype)}}function By(e){if(typeof global<"u"&&global.crypto&&global.crypto.subtle)return global.crypto.subtle;if(e)return e;if(typeof crypto<"u"&&crypto.subtle)return crypto.subtle;throw new hp("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class Iu extends cp{constructor(t,r,i){super(),this._keyPair=t,this._derKey=r,this._subtleCrypto=i}static async generate(t){const{extractable:r=!1,keyUsages:i=["sign","verify"],subtleCrypto:o}=t??{},c=By(o),d=await c.generateKey({name:"ECDSA",namedCurve:"P-256"},r,i),u=await c.exportKey("spki",d.publicKey);return new this(d,u,c)}static async fromKeyPair(t,r){const i=By(r),o=await i.exportKey("spki",t.publicKey);return new Iu(t,o,i)}getKeyPair(){return this._keyPair}getPublicKey(){const t=this._derKey,r=Object.create(this._keyPair.publicKey);return r.toDer=function(){return t},r}async sign(t){const r={name:"ECDSA",hash:{name:"SHA-256"}};return await this._subtleCrypto.sign(r,this._keyPair.privateKey,t)}}var BS=function(e,t,r,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},ma=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},Yn;class MS{constructor(t){Yn.set(this,void 0),BS(this,Yn,t,"f")}get rawKey(){return ma(this,Yn,"f").rawKey}get derKey(){return ma(this,Yn,"f").derKey}toDer(){return ma(this,Yn,"f").toDer()}getPublicKey(){return ma(this,Yn,"f")}getPrincipal(){if(!ma(this,Yn,"f").rawKey)throw new Error("Cannot get principal from a public key without a raw key.");return rt.fromUint8Array(new Uint8Array(ma(this,Yn,"f").rawKey))}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}}Yn=new WeakMap;var IS=function(e,t,r,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},OS=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},FS=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r},gu;const US=new TextEncoder().encode("ic-request-auth-delegation"),$S=new TextEncoder().encode(`
ic-request`);function Wh(e){if(typeof e!="string"||e.length<64)throw new Error("Invalid public key.");return os(e)}class pp{constructor(t,r,i){this.pubkey=t,this.expiration=r,this.targets=i}toCBOR(){return Br.value.map(Object.assign({pubkey:Br.value.bytes(this.pubkey),expiration:Br.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:Br.value.array(this.targets.map(t=>Br.value.bytes(ki(t.toUint8Array()))))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:jt(this.pubkey)},this.targets&&{targets:this.targets.map(t=>t.toHex())})}}async function zS(e,t,r,i){const o=new pp(t.toDer(),BigInt(+r)*BigInt(1e6),i),c=new Uint8Array([...US,...new Uint8Array(Qo(Object.assign({},o)))]),d=await e.sign(ki(c));return{delegation:o,signature:d}}class Ou{constructor(t,r){this.delegations=t,this.publicKey=r}static async create(t,r,i=new Date(Date.now()+15*60*1e3),o={}){var c,d;const u=await zS(t,r,i,o.targets);return new Ou([...((c=o.previous)===null||c===void 0?void 0:c.delegations)||[],u],((d=o.previous)===null||d===void 0?void 0:d.publicKey)||t.getPublicKey().toDer())}static fromJSON(t){const{publicKey:r,delegations:i}=typeof t=="string"?JSON.parse(t):t;if(!Array.isArray(i))throw new Error("Invalid delegations.");const o=i.map(c=>{const{delegation:d,signature:u}=c,{pubkey:h,expiration:g,targets:p}=d;if(p!==void 0&&!Array.isArray(p))throw new Error("Invalid targets.");return{delegation:new pp(Wh(h),BigInt("0x"+g),p&&p.map(m=>{if(typeof m!="string")throw new Error("Invalid target.");return rt.fromHex(m)})),signature:Wh(u)}});return new this(o,Wh(r))}static fromDelegations(t,r){return new this(t,r)}toJSON(){return{delegations:this.delegations.map(t=>{const{delegation:r,signature:i}=t,{targets:o}=r;return{delegation:Object.assign({expiration:r.expiration.toString(16),pubkey:jt(r.pubkey)},o&&{targets:o.map(c=>c.toHex())}),signature:jt(i)}}),publicKey:jt(this.publicKey)}}}class My extends cp{constructor(t,r){super(),this._inner=t,this._delegation=r}static fromDelegation(t,r){return new this(t,r)}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(t){return this._inner.sign(t)}async transformRequest(t){const{body:r}=t,i=FS(t,["body"]),o=await Qo(r);return Object.assign(Object.assign({},i),{body:{content:r,sender_sig:await this.sign(ki(new Uint8Array([...$S,...new Uint8Array(o)]))),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}}class Fu extends MS{constructor(t,r){super(t),gu.set(this,void 0),IS(this,gu,r,"f")}get delegation(){return OS(this,gu,"f")}static fromDelegation(t,r){return new Fu(t,r)}}gu=new WeakMap;function VS(e,t){for(const{delegation:i}of e.delegations)if(+new Date(Number(i.expiration/BigInt(1e6)))<=+Date.now())return!1;const r=[];for(const i of r){const o=i.toText();for(const{delegation:c}of e.delegations){if(c.targets===void 0)continue;let d=!0;for(const u of c.targets)if(u.toText()===o){d=!1;break}if(d)return!1}}return!0}var Iy;(function(e){e[e.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256"})(Iy||(Iy={}));const Oy=["mousedown","mousemove","keydown","touchstart","wheel"];class Fy{constructor(t={}){var r;this.callbacks=[],this.idleTimeout=10*60*1e3,this.timeoutID=void 0;const{onIdle:i,idleTimeout:o=10*60*1e3}=t||{};this.callbacks=i?[i]:[],this.idleTimeout=o;const c=this._resetTimer.bind(this);window.addEventListener("load",c,!0),Oy.forEach(function(u){document.addEventListener(u,c,!0)});const d=(u,h)=>{let g;return(...p)=>{const m=this,w=function(){g=void 0,u.apply(m,p)};clearTimeout(g),g=window.setTimeout(w,h)}};if(t!=null&&t.captureScroll){const u=d(c,(r=t==null?void 0:t.scrollDebounce)!==null&&r!==void 0?r:100);window.addEventListener("scroll",u,!0)}c()}static create(t={}){return new this(t)}registerCallback(t){this.callbacks.push(t)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);const t=this._resetTimer.bind(this);Oy.forEach(function(r){document.removeEventListener(r,t,!0)}),this.callbacks.forEach(r=>r())}_resetTimer(){const t=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(t,this.idleTimeout)}}const HS=(e,t)=>t.some(r=>e instanceof r);let Uy,$y;function LS(){return Uy||(Uy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WS(){return $y||($y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m1=new WeakMap,A0=new WeakMap,g1=new WeakMap,qh=new WeakMap,mp=new WeakMap;function qS(e){const t=new Promise((r,i)=>{const o=()=>{e.removeEventListener("success",c),e.removeEventListener("error",d)},c=()=>{r(Ds(e.result)),o()},d=()=>{i(e.error),o()};e.addEventListener("success",c),e.addEventListener("error",d)});return t.then(r=>{r instanceof IDBCursor&&m1.set(r,e)}).catch(()=>{}),mp.set(t,e),t}function GS(e){if(A0.has(e))return;const t=new Promise((r,i)=>{const o=()=>{e.removeEventListener("complete",c),e.removeEventListener("error",d),e.removeEventListener("abort",d)},c=()=>{r(),o()},d=()=>{i(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",c),e.addEventListener("error",d),e.addEventListener("abort",d)});A0.set(e,t)}let T0={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return A0.get(e);if(t==="objectStoreNames")return e.objectStoreNames||g1.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ds(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function KS(e){T0=e(T0)}function DS(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const i=e.call(Gh(this),t,...r);return g1.set(i,t.sort?t.sort():[t]),Ds(i)}:WS().includes(e)?function(...t){return e.apply(Gh(this),t),Ds(m1.get(this))}:function(...t){return Ds(e.apply(Gh(this),t))}}function YS(e){return typeof e=="function"?DS(e):(e instanceof IDBTransaction&&GS(e),HS(e,LS())?new Proxy(e,T0):e)}function Ds(e){if(e instanceof IDBRequest)return qS(e);if(qh.has(e))return qh.get(e);const t=YS(e);return t!==e&&(qh.set(e,t),mp.set(t,e)),t}const Gh=e=>mp.get(e);function ZS(e,t,{blocked:r,upgrade:i,blocking:o,terminated:c}={}){const d=indexedDB.open(e,t),u=Ds(d);return i&&d.addEventListener("upgradeneeded",h=>{i(Ds(d.result),h.oldVersion,h.newVersion,Ds(d.transaction),h)}),r&&d.addEventListener("blocked",h=>r(h.oldVersion,h.newVersion,h)),u.then(h=>{c&&h.addEventListener("close",()=>c()),o&&h.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),u}const XS=["get","getKey","getAll","getAllKeys","count"],QS=["put","add","delete","clear"],Kh=new Map;function zy(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Kh.get(t))return Kh.get(t);const r=t.replace(/FromIndex$/,""),i=t!==r,o=QS.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!(o||XS.includes(r)))return;const c=async function(d,...u){const h=this.transaction(d,o?"readwrite":"readonly");let g=h.store;return i&&(g=g.index(u.shift())),(await Promise.all([g[r](...u),o&&h.done]))[0]};return Kh.set(t,c),c}KS(e=>({...e,get:(t,r,i)=>zy(t,r)||e.get(t,r,i),has:(t,r)=>!!zy(t,r)||e.has(t,r)}));const x1="auth-client-db",y1="ic-keyval",JS=async(e=x1,t=y1,r)=>(w1&&(localStorage!=null&&localStorage.getItem(Ws))&&(localStorage.removeItem(Ws),localStorage.removeItem(Ls)),await ZS(e,r,{upgrade:i=>{i.objectStoreNames.contains(t)&&i.clear(t),i.createObjectStore(t)}}));async function e6(e,t,r){return await e.get(t,r)}async function t6(e,t,r,i){return await e.put(t,i,r)}async function r6(e,t,r){return await e.delete(t,r)}class gp{constructor(t,r){this._db=t,this._storeName=r}static async create(t){const{dbName:r=x1,storeName:i=y1,version:o=a6}=t??{},c=await JS(r,i,o);return new gp(c,i)}async set(t,r){return await t6(this._db,this._storeName,t,r)}async get(t){var r;return(r=await e6(this._db,this._storeName,t))!==null&&r!==void 0?r:null}async remove(t){return await r6(this._db,this._storeName,t)}}var n6=function(e,t,r,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},s6=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},xu;const Ls="identity",Ws="delegation",i6="iv",a6=1,w1=typeof window<"u";class o6{constructor(t="ic-",r){this.prefix=t,this._localStorage=r}get(t){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+t))}set(t,r){return this._getLocalStorage().setItem(this.prefix+t,r),Promise.resolve()}remove(t){return this._getLocalStorage().removeItem(this.prefix+t),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;const t=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.localStorage:global.localStorage:window.localStorage;if(!t)throw new Error("Could not find local storage.");return t}}class l6{constructor(t){xu.set(this,void 0),n6(this,xu,t??{},"f")}get _db(){return new Promise(t=>{if(this.initializedDb){t(this.initializedDb);return}gp.create(s6(this,xu,"f")).then(r=>{this.initializedDb=r,t(r)})})}async get(t){return await(await this._db).get(t)}async set(t,r){await(await this._db).set(t,r)}async remove(t){await(await this._db).remove(t)}}xu=new WeakMap;const c6="https://identity.internetcomputer.org",u6="#authorize",Dh="ECDSA",Yh="Ed25519",d6=500,f6="UserInterrupt";class h6{constructor(t,r,i,o,c,d,u,h){this._identity=t,this._key=r,this._chain=i,this._storage=o,this.idleManager=c,this._createOptions=d,this._idpWindow=u,this._eventHandler=h,this._registerDefaultIdleCallback()}static async create(t={}){var r,i,o;const c=(r=t.storage)!==null&&r!==void 0?r:new l6,d=(i=t.keyType)!==null&&i!==void 0?i:Dh;let u=null;if(t.identity)u=t.identity;else{let m=await c.get(Ls);if(!m&&w1)try{const w=new o6,_=await w.get(Ws),v=await w.get(Ls);_&&v&&d===Dh&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await c.set(Ws,_),await c.set(Ls,v),m=_,await w.remove(Ws),await w.remove(Ls))}catch(w){console.error("error while attempting to recover localstorage: "+w)}if(m)try{typeof m=="object"?d===Yh&&typeof m=="string"?u=await Gs.fromJSON(m):u=await Iu.fromKeyPair(m):typeof m=="string"&&(u=Gs.fromJSON(m))}catch{}}let h=new Jo,g=null;if(u)try{const m=await c.get(Ws);if(typeof m=="object"&&m!==null)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");t.identity?h=t.identity:m&&(g=Ou.fromJSON(m),VS(g)?"toDer"in u?h=Fu.fromDelegation(u,g):h=My.fromDelegation(u,g):(await Zh(c),u=null))}catch(m){console.error(m),await Zh(c),u=null}let p;return!((o=t.idleOptions)===null||o===void 0)&&o.disableIdle?p=void 0:(g||t.identity)&&(p=Fy.create(t.idleOptions)),u||(d===Yh?(u=await Gs.generate(),await c.set(Ls,JSON.stringify(u.toJSON()))):(t.storage&&d===Dh&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${Yh}' as the key type, as it can serialize to a string`),u=await Iu.generate(),await c.set(Ls,u.getKeyPair()))),new this(h,u,g,c,p,t)}_registerDefaultIdleCallback(){var t,r;const i=(t=this._createOptions)===null||t===void 0?void 0:t.idleOptions;!(i!=null&&i.onIdle)&&!(i!=null&&i.disableDefaultIdleCallback)&&((r=this.idleManager)===null||r===void 0||r.registerCallback(()=>{this.logout(),location.reload()}))}async _handleSuccess(t,r){var i,o;const c=t.delegations.map(g=>({delegation:new pp(g.delegation.pubkey,g.delegation.expiration,g.delegation.targets),signature:g.signature.buffer})),d=Ou.fromDelegations(c,t.userPublicKey.buffer),u=this._key;if(!u)return;this._chain=d,"toDer"in u?this._identity=Fu.fromDelegation(u,this._chain):this._identity=My.fromDelegation(u,this._chain),(i=this._idpWindow)===null||i===void 0||i.close();const h=(o=this._createOptions)===null||o===void 0?void 0:o.idleOptions;!this.idleManager&&!(h!=null&&h.disableIdle)&&(this.idleManager=Fy.create(h),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(Ws,JSON.stringify(this._chain.toJSON())),r==null||r(t)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&this._chain!==null}async login(t){var r,i,o,c;const d=BigInt(8)*BigInt(36e11),u=new URL(((r=t==null?void 0:t.identityProvider)===null||r===void 0?void 0:r.toString())||c6);u.hash=u6,(i=this._idpWindow)===null||i===void 0||i.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(u,Object.assign({maxTimeToLive:(o=t==null?void 0:t.maxTimeToLive)!==null&&o!==void 0?o:d},t)),window.addEventListener("message",this._eventHandler),this._idpWindow=(c=window.open(u.toString(),"idpWindow",t==null?void 0:t.windowOpenerFeatures))!==null&&c!==void 0?c:void 0;const h=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure(f6,t==null?void 0:t.onError):setTimeout(h,d6))};h()}_getEventHandler(t,r){return async i=>{var o,c,d;if(i.origin!==t.origin)return;const u=i.data;switch(u.kind){case"authorize-ready":{const h=Object.assign({kind:"authorize-client",sessionPublicKey:new Uint8Array((o=this._key)===null||o===void 0?void 0:o.getPublicKey().toDer()),maxTimeToLive:r==null?void 0:r.maxTimeToLive,allowPinAuthentication:r==null?void 0:r.allowPinAuthentication,derivationOrigin:(c=r==null?void 0:r.derivationOrigin)===null||c===void 0?void 0:c.toString()},r==null?void 0:r.customValues);(d=this._idpWindow)===null||d===void 0||d.postMessage(h,t.origin);break}case"authorize-client-success":try{await this._handleSuccess(u,r==null?void 0:r.onSuccess)}catch(h){this._handleFailure(h.message,r==null?void 0:r.onError)}break;case"authorize-client-failure":this._handleFailure(u.text,r==null?void 0:r.onError);break}}}_handleFailure(t,r){var i;(i=this._idpWindow)===null||i===void 0||i.close(),r==null||r(t),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(t={}){if(await Zh(this._storage),this._identity=new Jo,this._chain=null,t.returnTo)try{window.history.pushState({},"",t.returnTo)}catch{window.location.href=t.returnTo}}}async function Zh(e){await e.remove(Ls),await e.remove(Ws),await e.remove(i6)}function p6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}const m6=A.forwardRef(p6);function g6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const x6=A.forwardRef(g6);function y6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const w6=A.forwardRef(y6);function v6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const Xh=A.forwardRef(v6);function b6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const R0=A.forwardRef(b6);function N6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Vy=A.forwardRef(N6);function E6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const P0=A.forwardRef(E6);function _6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const v1=A.forwardRef(_6);function S6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const j6=A.forwardRef(S6);function k6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"}))}const C6=A.forwardRef(k6);function A6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const T6=A.forwardRef(A6);function R6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const P6=A.forwardRef(R6);function B6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const Uu=A.forwardRef(B6);function M6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const I6=A.forwardRef(M6);function O6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const F6=A.forwardRef(O6);function U6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const $6=A.forwardRef(U6);function z6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Ma=A.forwardRef(z6);function V6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const $u=A.forwardRef(V6);function H6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const b1=A.forwardRef(H6);function L6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const W6=A.forwardRef(L6);function q6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const G6=A.forwardRef(q6);function K6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const D6=A.forwardRef(K6);function Y6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))}const Z6=A.forwardRef(Y6);function X6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Q6=A.forwardRef(X6);function J6({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const B0=A.forwardRef(J6);function ej({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const N1=A.forwardRef(ej);function tj({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const Hy=A.forwardRef(tj);function rj({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const E1=A.forwardRef(rj);function nj({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Ly=A.forwardRef(nj);function sj({title:e,titleId:t,...r},i){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?A.createElement("title",{id:t},e):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Yo=A.forwardRef(sj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aj=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,i)=>i?i.toUpperCase():r.toLowerCase()),Wy=e=>{const t=aj(e);return t.charAt(0).toUpperCase()+t.slice(1)},_1=(...e)=>e.filter((t,r,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===r).join(" ").trim(),oj=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:d,...u},h)=>A.createElement("svg",{ref:h,...lj,width:t,height:t,stroke:e,strokeWidth:i?Number(r)*24/Number(t):r,className:_1("lucide",o),...!c&&!oj(u)&&{"aria-hidden":"true"},...u},[...d.map(([g,p])=>A.createElement(g,p)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(e,t)=>{const r=A.forwardRef(({className:i,...o},c)=>A.createElement(cj,{ref:c,iconNode:t,className:_1(`lucide-${ij(Wy(e))}`,`lucide-${e}`,i),...o}));return r.displayName=Wy(e),r};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],dj=ot("activity",uj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],qy=ot("arrow-left",fj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],xp=ot("arrow-right",hj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],pl=ot("bot",pj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],M0=ot("chart-column",mj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],yp=ot("check",gj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],S1=ot("chevron-down",xj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],wj=ot("chevron-up",yj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],j1=ot("code",vj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Nj=ot("credit-card",bj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],_j=ot("database",Ej);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jj=ot("eye",Sj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Cj=ot("file-text",kj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],Tj=ot("github",Aj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Pj=ot("globe",Rj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Mj=ot("lock",Bj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Oj=ot("log-out",Ij);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Uj=ot("menu",Fj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],zj=ot("message-circle",$j);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],fd=ot("message-square",Vj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Lj=ot("moon",Hj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],qj=ot("palette",Wj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],il=ot("plus",Gj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Dj=ot("rocket",Kj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zj=ot("search",Yj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],k1=ot("settings",Xj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Jj=ot("shield",Qj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],I0=ot("sparkles",e4);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],r4=ot("sun",t4);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],C1=ot("trending-up",n4);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],i4=ot("twitter",s4);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],o4=ot("upload",a4);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],A1=ot("user",l4);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],wp=ot("users",c4);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],T1=ot("x",u4);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],R1=ot("zap",d4);function Gy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function P1(...e){return t=>{let r=!1;const i=e.map(o=>{const c=Gy(o,t);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let o=0;o<i.length;o++){const c=i[o];typeof c=="function"?c():Gy(e[o],null)}}}}function xt(...e){return A.useCallback(P1(...e),e)}function al(e){const t=h4(e),r=A.forwardRef((i,o)=>{const{children:c,...d}=i,u=A.Children.toArray(c),h=u.find(m4);if(h){const g=h.props.children,p=u.map(m=>m===h?A.Children.count(g)>1?A.Children.only(null):A.isValidElement(g)?g.props.children:null:m);return a.jsx(t,{...d,ref:o,children:A.isValidElement(g)?A.cloneElement(g,void 0,p):null})}return a.jsx(t,{...d,ref:o,children:c})});return r.displayName=`${e}.Slot`,r}var f4=al("Slot");function h4(e){const t=A.forwardRef((r,i)=>{const{children:o,...c}=r;if(A.isValidElement(o)){const d=x4(o),u=g4(c,o.props);return o.type!==A.Fragment&&(u.ref=i?P1(i,d):d),A.cloneElement(o,u)}return A.Children.count(o)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var p4=Symbol("radix.slottable");function m4(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===p4}function g4(e,t){const r={...t};for(const i in t){const o=e[i],c=t[i];/^on[A-Z]/.test(i)?o&&c?r[i]=(...u)=>{const h=c(...u);return o(...u),h}:o&&(r[i]=o):i==="style"?r[i]={...o,...c}:i==="className"&&(r[i]=[o,c].filter(Boolean).join(" "))}return{...e,...r}}function x4(e){var i,o;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function B1(e){var t,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=B1(e[t]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function M1(){for(var e,t,r=0,i="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=B1(e))&&(i&&(i+=" "),i+=t);return i}const Ky=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Dy=M1,vp=(e,t)=>r=>{var i;if((t==null?void 0:t.variants)==null)return Dy(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:c}=t,d=Object.keys(o).map(g=>{const p=r==null?void 0:r[g],m=c==null?void 0:c[g];if(p===null)return null;const w=Ky(p)||Ky(m);return o[g][w]}),u=r&&Object.entries(r).reduce((g,p)=>{let[m,w]=p;return w===void 0||(g[m]=w),g},{}),h=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((g,p)=>{let{class:m,className:w,..._}=p;return Object.entries(_).every(v=>{let[j,E]=v;return Array.isArray(E)?E.includes({...c,...u}[j]):{...c,...u}[j]===E})?[...g,m,w]:g},[]);return Dy(e,d,h,r==null?void 0:r.class,r==null?void 0:r.className)},bp="-",y4=e=>{const t=v4(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:d=>{const u=d.split(bp);return u[0]===""&&u.length!==1&&u.shift(),I1(u,t)||w4(d)},getConflictingClassGroupIds:(d,u)=>{const h=r[d]||[];return u&&i[d]?[...h,...i[d]]:h}}},I1=(e,t)=>{var d;if(e.length===0)return t.classGroupId;const r=e[0],i=t.nextPart.get(r),o=i?I1(e.slice(1),i):void 0;if(o)return o;if(t.validators.length===0)return;const c=e.join(bp);return(d=t.validators.find(({validator:u})=>u(c)))==null?void 0:d.classGroupId},Yy=/^\[(.+)\]$/,w4=e=>{if(Yy.test(e)){const t=Yy.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},v4=e=>{const{theme:t,prefix:r}=e,i={nextPart:new Map,validators:[]};return N4(Object.entries(e.classGroups),r).forEach(([c,d])=>{O0(d,i,c,t)}),i},O0=(e,t,r,i)=>{e.forEach(o=>{if(typeof o=="string"){const c=o===""?t:Zy(t,o);c.classGroupId=r;return}if(typeof o=="function"){if(b4(o)){O0(o(i),t,r,i);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([c,d])=>{O0(d,Zy(t,c),r,i)})})},Zy=(e,t)=>{let r=e;return t.split(bp).forEach(i=>{r.nextPart.has(i)||r.nextPart.set(i,{nextPart:new Map,validators:[]}),r=r.nextPart.get(i)}),r},b4=e=>e.isThemeGetter,N4=(e,t)=>t?e.map(([r,i])=>{const o=i.map(c=>typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([d,u])=>[t+d,u])):c);return[r,o]}):e,E4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,i=new Map;const o=(c,d)=>{r.set(c,d),t++,t>e&&(t=0,i=r,r=new Map)};return{get(c){let d=r.get(c);if(d!==void 0)return d;if((d=i.get(c))!==void 0)return o(c,d),d},set(c,d){r.has(c)?r.set(c,d):o(c,d)}}},O1="!",_4=e=>{const{separator:t,experimentalParseClassName:r}=e,i=t.length===1,o=t[0],c=t.length,d=u=>{const h=[];let g=0,p=0,m;for(let E=0;E<u.length;E++){let P=u[E];if(g===0){if(P===o&&(i||u.slice(E,E+c)===t)){h.push(u.slice(p,E)),p=E+c;continue}if(P==="/"){m=E;continue}}P==="["?g++:P==="]"&&g--}const w=h.length===0?u:u.substring(p),_=w.startsWith(O1),v=_?w.substring(1):w,j=m&&m>p?m-p:void 0;return{modifiers:h,hasImportantModifier:_,baseClassName:v,maybePostfixModifierPosition:j}};return r?u=>r({className:u,parseClassName:d}):d},S4=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(i=>{i[0]==="["?(t.push(...r.sort(),i),r=[]):r.push(i)}),t.push(...r.sort()),t},j4=e=>({cache:E4(e.cacheSize),parseClassName:_4(e),...y4(e)}),k4=/\s+/,C4=(e,t)=>{const{parseClassName:r,getClassGroupId:i,getConflictingClassGroupIds:o}=t,c=[],d=e.trim().split(k4);let u="";for(let h=d.length-1;h>=0;h-=1){const g=d[h],{modifiers:p,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:_}=r(g);let v=!!_,j=i(v?w.substring(0,_):w);if(!j){if(!v){u=g+(u.length>0?" "+u:u);continue}if(j=i(w),!j){u=g+(u.length>0?" "+u:u);continue}v=!1}const E=S4(p).join(":"),P=m?E+O1:E,I=P+j;if(c.includes(I))continue;c.push(I);const U=o(j,v);for(let q=0;q<U.length;++q){const O=U[q];c.push(P+O)}u=g+(u.length>0?" "+u:u)}return u};function A4(){let e=0,t,r,i="";for(;e<arguments.length;)(t=arguments[e++])&&(r=F1(t))&&(i&&(i+=" "),i+=r);return i}const F1=e=>{if(typeof e=="string")return e;let t,r="";for(let i=0;i<e.length;i++)e[i]&&(t=F1(e[i]))&&(r&&(r+=" "),r+=t);return r};function T4(e,...t){let r,i,o,c=d;function d(h){const g=t.reduce((p,m)=>m(p),e());return r=j4(g),i=r.cache.get,o=r.cache.set,c=u,u(h)}function u(h){const g=i(h);if(g)return g;const p=C4(h,r);return o(h,p),p}return function(){return c(A4.apply(null,arguments))}}const bt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},U1=/^\[(?:([a-z-]+):)?(.+)\]$/i,R4=/^\d+\/\d+$/,P4=new Set(["px","full","screen"]),B4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,M4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,I4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,O4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,F4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dn=e=>Ia(e)||P4.has(e)||R4.test(e),Os=e=>Ga(e,"length",q4),Ia=e=>!!e&&!Number.isNaN(Number(e)),Qh=e=>Ga(e,"number",Ia),Oo=e=>!!e&&Number.isInteger(Number(e)),U4=e=>e.endsWith("%")&&Ia(e.slice(0,-1)),Je=e=>U1.test(e),Fs=e=>B4.test(e),$4=new Set(["length","size","percentage"]),z4=e=>Ga(e,$4,$1),V4=e=>Ga(e,"position",$1),H4=new Set(["image","url"]),L4=e=>Ga(e,H4,K4),W4=e=>Ga(e,"",G4),Fo=()=>!0,Ga=(e,t,r)=>{const i=U1.exec(e);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):r(i[2]):!1},q4=e=>M4.test(e)&&!I4.test(e),$1=()=>!1,G4=e=>O4.test(e),K4=e=>F4.test(e),D4=()=>{const e=bt("colors"),t=bt("spacing"),r=bt("blur"),i=bt("brightness"),o=bt("borderColor"),c=bt("borderRadius"),d=bt("borderSpacing"),u=bt("borderWidth"),h=bt("contrast"),g=bt("grayscale"),p=bt("hueRotate"),m=bt("invert"),w=bt("gap"),_=bt("gradientColorStops"),v=bt("gradientColorStopPositions"),j=bt("inset"),E=bt("margin"),P=bt("opacity"),I=bt("padding"),U=bt("saturate"),q=bt("scale"),O=bt("sepia"),Q=bt("skew"),X=bt("space"),z=bt("translate"),K=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],ie=()=>["auto",Je,t],fe=()=>[Je,t],T=()=>["",Dn,Os],V=()=>["auto",Ia,Je],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ee=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>["start","end","center","between","around","evenly","stretch"],ge=()=>["","0",Je],_e=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[Ia,Je];return{cacheSize:500,separator:":",theme:{colors:[Fo],spacing:[Dn,Os],blur:["none","",Fs,Je],brightness:Y(),borderColor:[e],borderRadius:["none","","full",Fs,Je],borderSpacing:fe(),borderWidth:T(),contrast:Y(),grayscale:ge(),hueRotate:Y(),invert:ge(),gap:fe(),gradientColorStops:[e],gradientColorStopPositions:[U4,Os],inset:ie(),margin:ie(),opacity:Y(),padding:fe(),saturate:Y(),scale:Y(),sepia:ge(),skew:Y(),space:fe(),translate:fe()},classGroups:{aspect:[{aspect:["auto","square","video",Je]}],container:["container"],columns:[{columns:[Fs]}],"break-after":[{"break-after":_e()}],"break-before":[{"break-before":_e()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),Je]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:K()}],"overscroll-x":[{"overscroll-x":K()}],"overscroll-y":[{"overscroll-y":K()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Oo,Je]}],basis:[{basis:ie()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Je]}],grow:[{grow:ge()}],shrink:[{shrink:ge()}],order:[{order:["first","last","none",Oo,Je]}],"grid-cols":[{"grid-cols":[Fo]}],"col-start-end":[{col:["auto",{span:["full",Oo,Je]},Je]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Fo]}],"row-start-end":[{row:["auto",{span:[Oo,Je]},Je]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Je]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[I]}],px:[{px:[I]}],py:[{py:[I]}],ps:[{ps:[I]}],pe:[{pe:[I]}],pt:[{pt:[I]}],pr:[{pr:[I]}],pb:[{pb:[I]}],pl:[{pl:[I]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[X]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[X]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Je,t]}],"min-w":[{"min-w":[Je,t,"min","max","fit"]}],"max-w":[{"max-w":[Je,t,"none","full","min","max","fit","prose",{screen:[Fs]},Fs]}],h:[{h:[Je,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Je,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Je,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Je,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Fs,Os]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qh]}],"font-family":[{font:[Fo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Je]}],"line-clamp":[{"line-clamp":["none",Ia,Qh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Dn,Je]}],"list-image":[{"list-image":["none",Je]}],"list-style-type":[{list:["none","disc","decimal",Je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[P]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[P]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Dn,Os]}],"underline-offset":[{"underline-offset":["auto",Dn,Je]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:fe()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[P]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),V4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",z4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},L4]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[P]}],"border-style":[{border:[...ee(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[P]}],"divide-style":[{divide:ee()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...ee()]}],"outline-offset":[{"outline-offset":[Dn,Je]}],"outline-w":[{outline:[Dn,Os]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[P]}],"ring-offset-w":[{"ring-offset":[Dn,Os]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Fs,W4]}],"shadow-color":[{shadow:[Fo]}],opacity:[{opacity:[P]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[i]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Fs,Je]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[m]}],saturate:[{saturate:[U]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[P]}],"backdrop-saturate":[{"backdrop-saturate":[U]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Je]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",Je]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",Je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[q]}],"scale-x":[{"scale-x":[q]}],"scale-y":[{"scale-y":[q]}],rotate:[{rotate:[Oo,Je]}],"translate-x":[{"translate-x":[z]}],"translate-y":[{"translate-y":[z]}],"skew-x":[{"skew-x":[Q]}],"skew-y":[{"skew-y":[Q]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Je]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":fe()}],"scroll-mx":[{"scroll-mx":fe()}],"scroll-my":[{"scroll-my":fe()}],"scroll-ms":[{"scroll-ms":fe()}],"scroll-me":[{"scroll-me":fe()}],"scroll-mt":[{"scroll-mt":fe()}],"scroll-mr":[{"scroll-mr":fe()}],"scroll-mb":[{"scroll-mb":fe()}],"scroll-ml":[{"scroll-ml":fe()}],"scroll-p":[{"scroll-p":fe()}],"scroll-px":[{"scroll-px":fe()}],"scroll-py":[{"scroll-py":fe()}],"scroll-ps":[{"scroll-ps":fe()}],"scroll-pe":[{"scroll-pe":fe()}],"scroll-pt":[{"scroll-pt":fe()}],"scroll-pr":[{"scroll-pr":fe()}],"scroll-pb":[{"scroll-pb":fe()}],"scroll-pl":[{"scroll-pl":fe()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Dn,Os,Qh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Y4=T4(D4);function Et(...e){return Y4(M1(e))}const Z4=vp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ut=A.forwardRef(({className:e,variant:t,size:r,asChild:i=!1,...o},c)=>{const d=i?f4:"button";return a.jsx(d,{className:Et(Z4({variant:t,size:r,className:e})),ref:c,...o})});Ut.displayName="Button";const Ir=A.forwardRef(({className:e,type:t,...r},i)=>a.jsx("input",{type:t,className:Et("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...r}));Ir.displayName="Input";const z1=A.createContext(void 0);function X4({children:e,defaultTheme:t="system",storageKey:r="neochat-theme"}){const[i,o]=A.useState(()=>localStorage.getItem(r)||t);A.useEffect(()=>{const d=window.document.documentElement;if(d.classList.remove("light","dark"),i==="system"){const u=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";d.classList.add(u);return}d.classList.add(i)},[i]);const c={theme:i,setTheme:d=>{localStorage.setItem(r,d),o(d)}};return a.jsx(z1.Provider,{value:c,children:e})}const Q4=()=>{const e=A.useContext(z1);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},F0=()=>{const{theme:e,setTheme:t}=Q4();return a.jsxs(Ut,{variant:"ghost",size:"icon",onClick:()=>t(e==="light"?"dark":"light"),className:"relative overflow-hidden backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10 hover:bg-white/30 dark:hover:bg-white/10 transition-all duration-300",children:[a.jsx(r4,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),a.jsx(Lj,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})},Jh=({identity:e,sessionToken:t,onLogout:r,searchQuery:i="",onSearchChange:o,notifications:c=0})=>{var p;const d=(p=e==null?void 0:e.getPrincipal())==null?void 0:p.toText(),u=d?d.length>12?`${d.slice(0,6)}...${d.slice(-3)}`:d:"Anonymous",h=m=>{o&&o(m.target.value)},g=()=>{r&&r()};return a.jsx("header",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border-b border-white/20 dark:border-gray-700/50 px-8 py-4 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(Zj,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(Ir,{placeholder:"Search agents, chats, analytics...",value:i,onChange:h,className:"pl-12 w-96 bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30 focus:border-blue-500/50 dark:focus:border-blue-400/50 focus:ring-blue-500/20 dark:focus:ring-blue-400/20 rounded-xl"})]})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(F0,{}),a.jsxs("div",{className:"flex items-center space-x-3 pl-4 border-l border-white/30 dark:border-gray-600/30",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(A1,{className:"w-5 h-5 text-white"})}),a.jsx("div",{className:"hidden md:block",children:a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:u})}),a.jsxs(Ut,{variant:"outline",size:"sm",onClick:g,className:"bg-white/50 dark:bg-gray-700/50 hover:bg-white/80 dark:hover:bg-gray-700/80 border-white/30 dark:border-gray-600/30 rounded-xl flex items-center space-x-2",children:[a.jsx(Oj,{className:"w-4 h-4"}),a.jsx("span",{children:"Logout"})]})]})]})]})})},e0=({onNavigate:e,activeView:t="dashboard",selectedAgent:r})=>{const i=[{id:"dashboard",icon:M0,label:"Dashboard",path:"/dashboard",disabled:!1},{id:"agents",icon:wp,label:"My Agents",path:"/my-agents",disabled:!1},{id:"create",icon:il,label:"Create Agent",path:"/create-agent",disabled:!1},{id:"chat",icon:fd,label:"Chat",path:"/chat",disabled:!r},{id:"analytics",icon:M0,label:"Analytics",path:"/analytics",disabled:!1},{id:"billing",icon:Nj,label:"Billing & Payments",path:"/billing",disabled:!1},{id:"embed",icon:j1,label:"Embed Widget",path:"/embed",disabled:!r},{id:"profile",icon:A1,label:"Profile",path:"/profile",disabled:!1}];return a.jsx("aside",{className:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 h-screen fixed left-0 top-0 z-40",children:a.jsxs("div",{className:"p-6 h-full overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-8",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:a.jsx(pl,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"NeoChat"})]}),a.jsx("nav",{className:"space-y-2",children:i.map(o=>{const c=t===o.id;return a.jsxs(Ut,{variant:c?"default":"ghost",disabled:o.disabled,className:`w-full justify-start transition-all duration-200 ${c?"bg-blue-600 text-white hover:bg-blue-700":o.disabled?"text-gray-400 cursor-not-allowed opacity-50":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-blue-50 dark:hover:bg-gray-700"}`,onClick:()=>{o.disabled||e(o.id)},children:[a.jsx(o.icon,{className:`w-4 h-4 mr-3 ${c?"text-white":o.disabled?"text-gray-400":"text-gray-500 group-hover:text-blue-600"}`}),o.label,o.disabled&&o.id==="chat"&&a.jsx("span",{className:"ml-auto text-xs text-gray-400",children:"Select Agent"}),o.disabled&&o.id==="embed"&&a.jsx("span",{className:"ml-auto text-xs text-gray-400",children:"Select Agent"})]},o.id)})}),r&&a.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsx("div",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Active Agent"}),a.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300 truncate",children:r.name}),a.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:r.status==="Active"?"🟢 Active":"🔴 Inactive"})]})]})})},Ht=A.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Et("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ht.displayName="Card";const Or=A.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Et("flex flex-col space-y-1.5 p-6",e),...t}));Or.displayName="CardHeader";const Fr=A.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:Et("text-2xl font-semibold leading-none tracking-tight",e),...t}));Fr.displayName="CardTitle";const J4=A.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:Et("text-sm text-muted-foreground",e),...t}));J4.displayName="CardDescription";const Lt=A.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Et("p-6 pt-0",e),...t}));Lt.displayName="CardContent";const ek=A.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Et("flex items-center p-6 pt-0",e),...t}));ek.displayName="CardFooter";const tk=({metrics:e,systemStatus:t})=>{const r=o=>o>=1e3?(o/1e3).toFixed(1)+"K":o.toString(),i=[{title:"Total Agents",value:e.totalAgents.toString(),change:e.monthlyGrowth.agents>0?`+${e.monthlyGrowth.agents}`:"0",icon:wp,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-gradient-to-br from-blue-50 to-blue-100/50 dark:from-blue-900/20 dark:to-blue-800/10",borderColor:"border-blue-200/50 dark:border-blue-800/30"},{title:"Active Agents",value:e.activeAgents.toString(),change:`${Math.round(e.activeAgents/Math.max(e.totalAgents,1)*100)}%`,icon:dj,color:"text-emerald-600 dark:text-emerald-400",bgColor:"bg-gradient-to-br from-emerald-50 to-emerald-100/50 dark:from-emerald-900/20 dark:to-emerald-800/10",borderColor:"border-emerald-200/50 dark:border-emerald-800/30"},{title:"Conversations",value:r(e.totalConversations),change:e.monthlyGrowth.conversations>0?`+${e.monthlyGrowth.conversations}`:"0",icon:fd,color:"text-purple-600 dark:text-purple-400",bgColor:"bg-gradient-to-br from-purple-50 to-purple-100/50 dark:from-purple-900/20 dark:to-purple-800/10",borderColor:"border-purple-200/50 dark:border-purple-800/30"},{title:"Total Messages",value:r(e.totalMessages),change:e.monthlyGrowth.messages>0?`+${e.monthlyGrowth.messages}`:"0",icon:Cj,color:"text-orange-600 dark:text-orange-400",bgColor:"bg-gradient-to-br from-orange-50 to-orange-100/50 dark:from-orange-900/20 dark:to-orange-800/10",borderColor:"border-orange-200/50 dark:border-orange-800/30"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:i.map((o,c)=>a.jsx(Ht,{className:`${o.bgColor} ${o.borderColor} border backdrop-blur-sm hover:shadow-lg transition-all duration-300 hover:scale-105`,children:a.jsxs(Lt,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-3 rounded-xl ${o.bgColor} ${o.borderColor} border`,children:a.jsx(o.icon,{className:`w-6 h-6 ${o.color}`})}),a.jsxs("div",{className:"flex items-center space-x-1 text-emerald-600 dark:text-emerald-400",children:[a.jsx(C1,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:o.change})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:o.title}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.value})]})]})},c))}),a.jsx(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:a.jsxs(Lt,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"System Status"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`h-2 w-2 rounded-full animate-pulse mr-3 ${t.agentManager==="Operational"?"bg-green-500":"bg-red-500"}`}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Agent Manager: ",t.agentManager]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`h-2 w-2 rounded-full animate-pulse mr-3 ${t.llmProcessor==="Operational"?"bg-green-500":"bg-red-500"}`}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["LLM Processor: ",t.llmProcessor]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`h-2 w-2 rounded-full animate-pulse mr-3 ${t.contextManager==="Operational"?"bg-green-500":"bg-red-500"}`}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Context Manager: ",t.contextManager]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`h-2 w-2 rounded-full animate-pulse mr-3 ${t.productionAPIs==="Ready"?"bg-green-500":"bg-yellow-500"}`}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Production APIs: ",t.productionAPIs]})]})]})]})})]})},rk=({onNavigate:e,selectedAgent:t})=>{const r=[{title:"Create New Agent",description:"Build a custom AI agent with personality and knowledge",icon:il,color:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",iconBg:"bg-blue-100 dark:bg-blue-900/30",iconColor:"text-blue-600 dark:text-blue-400",onClick:()=>e("create"),disabled:!1},{title:"Start Conversation",description:"Chat with your existing agents instantly",icon:fd,color:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700",iconBg:"bg-emerald-100 dark:bg-emerald-900/30",iconColor:"text-emerald-600 dark:text-emerald-400",onClick:()=>e("chat"),disabled:!t},{title:"View Analytics",description:"Analyze performance and usage metrics",icon:M0,color:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700",iconBg:"bg-purple-100 dark:bg-purple-900/30",iconColor:"text-purple-600 dark:text-purple-400",onClick:()=>e("analytics"),disabled:!1},{title:"Manage Agents",description:"Configure and organize your AI agents",icon:k1,color:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700",iconBg:"bg-orange-100 dark:bg-orange-900/30",iconColor:"text-orange-600 dark:text-orange-400",onClick:()=>e("agents"),disabled:!1}];return a.jsxs(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:[a.jsx(Or,{className:"pb-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg",children:a.jsx(I0,{className:"w-5 h-5 text-white"})}),a.jsx(Fr,{className:"text-xl text-gray-900 dark:text-white",children:"Quick Actions"})]}),a.jsx(R1,{className:"w-5 h-5 text-yellow-500"})]})}),a.jsx(Lt,{children:a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:r.map((i,o)=>a.jsx("div",{className:`group p-5 bg-gradient-to-br from-white/80 to-white/40 dark:from-gray-800/80 dark:to-gray-800/40 backdrop-blur-sm border border-white/30 dark:border-gray-600/30 rounded-xl hover:shadow-lg transition-all duration-300 cursor-pointer hover:scale-105 ${i.disabled?"opacity-50 cursor-not-allowed":""}`,onClick:i.disabled?void 0:i.onClick,children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:`p-3 rounded-lg ${i.iconBg} group-hover:scale-110 transition-transform duration-300`,children:a.jsx(i.icon,{className:`w-6 h-6 ${i.iconColor}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:i.title}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 leading-relaxed",children:i.description}),a.jsx(Ut,{size:"sm",className:`${i.color} text-white shadow-md hover:shadow-lg transition-all duration-300`,disabled:i.disabled,onClick:c=>{c.stopPropagation(),i.disabled||i.onClick()},children:"Get Started"})]})]})},o))})})]})},nk=({agents:e,onSelectAgent:t,onNavigate:r})=>{const i=o=>{var c;return{...o,status:"Active"in o.status?"Active":"Inactive"in o.status?"Inactive":"Draft",created:o.created.toString(),lastUpdated:o.updated.toString(),config:{...o.config,personality:{...o.config.personality,responseStyle:o.config.personality.style},knowledgeBase:{documents:[],sources:[],context:""},behavior:{...o.config.behavior,maxResponseLength:Number(o.config.behavior.maxTokens),conversationMemory:o.config.contextSettings.enableMemory,escalationRules:[]},appearance:{...o.config.appearance,avatar:((c=o.config.appearance.avatar)==null?void 0:c[0])||"",theme:"Light"in o.config.appearance.theme?"Light":"Dark",welcomeMessage:"Hello! How can I help you today?"}}}};return a.jsxs(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl h-fit",children:[a.jsx(Or,{className:"pb-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-600 rounded-lg",children:a.jsx(wp,{className:"w-5 h-5 text-white"})}),a.jsx(Fr,{className:"text-xl text-gray-900 dark:text-white",children:"Recent Agents"})]}),a.jsxs(Ut,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-900/20",onClick:()=>r("agents"),children:["View all",a.jsx(xp,{className:"w-4 h-4 ml-1"})]})]})}),a.jsx(Lt,{children:e.length>0?a.jsx("div",{className:"space-y-3",children:e.map(o=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-white/80 to-white/40 dark:from-gray-800/80 dark:to-gray-800/40 backdrop-blur-sm border border-white/30 dark:border-gray-600/30 rounded-lg cursor-pointer hover:shadow-md transition-all duration-300 hover:scale-105",onClick:()=>{const c=i(o);t(c),r("chat")},children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 rounded-lg flex items-center justify-center border border-blue-200/50 dark:border-blue-800/30",children:a.jsx(fd,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:o.name}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[o.description.slice(0,50),"..."]})]})]}),a.jsx("div",{className:"flex items-center",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${"Active"in o.status?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-800/30 dark:text-gray-400"}`,children:"Active"in o.status?"Active":"Inactive"in o.status?"Inactive":"Suspended"in o.status?"Suspended":"Archived"in o.status?"Archived":"Unknown"})})]},o.id))}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 rounded-full flex items-center justify-center border-2 border-blue-200/50 dark:border-blue-800/30",children:a.jsx(pl,{className:"w-10 h-10 text-blue-600 dark:text-blue-400"})}),a.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:a.jsx(il,{className:"w-3 h-3 text-white"})})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Ready to get started?"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-sm leading-relaxed",children:"Create your first AI agent and start building intelligent conversations that engage your users."}),a.jsxs(Ut,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",onClick:()=>r("create"),children:[a.jsx(il,{className:"w-4 h-4 mr-2"}),"Create Your First Agent"]})]})})]})},yu=({IDL:e})=>{const t=e.Text,r=e.Variant({NotFound:e.Null,ValidationError:e.Text,Unauthorized:e.Null,RateLimitExceeded:e.Null,ConfigurationError:e.Text,InternalError:e.Text,QuotaExceeded:e.Null}),i=e.Variant({ok:e.Null,err:r}),o=e.Text,c=e.Record({traits:e.Vec(e.Text),tone:e.Text,style:e.Text,communicationStyle:e.Variant({Creative:e.Null,Technical:e.Null,Conversational:e.Null,Educational:e.Null,Professional:e.Null}),responsePattern:e.Variant({Structured:e.Null,Detailed:e.Null,Narrative:e.Null,Concise:e.Null})}),d=e.Record({responseLength:e.Variant({Short:e.Null,Long:e.Null,Medium:e.Null,Variable:e.Null}),temperature:e.Float64,topP:e.Float64,contextWindow:e.Nat,frequencyPenalty:e.Float64,presencePenalty:e.Float64,systemPromptTemplate:e.Text,maxTokens:e.Nat,creativity:e.Float64}),u=e.Record({borderRadius:e.Text,theme:e.Variant({Light:e.Null,Auto:e.Null,Dark:e.Null}),primaryColor:e.Text,accentColor:e.Text,fontFamily:e.Text,secondaryColor:e.Text,fontSize:e.Text,customCSS:e.Opt(e.Text),avatar:e.Opt(e.Text)}),h=e.Nat,g=e.Int,p=e.Record({id:e.Text,content:e.Text,metadata:e.Vec(e.Tuple(e.Text,e.Text)),lastUpdated:g,isActive:e.Bool,sourceType:e.Variant({API:e.Null,URL:e.Null,Database:e.Null,Document:e.Null,Manual:e.Null}),version:h,priority:e.Nat}),m=e.Record({personality:c,integrationSettings:e.Record({webhooks:e.Vec(e.Record({url:e.Text,enabled:e.Bool,events:e.Vec(e.Text)})),rateLimiting:e.Record({maxTokensPerHour:e.Nat,enabled:e.Bool,maxRequestsPerHour:e.Nat}),allowedOrigins:e.Vec(e.Text)}),behavior:d,appearance:u,version:h,contextSettings:e.Record({enableLearning:e.Bool,memoryDuration:e.Nat,maxContextMessages:e.Nat,enableMemory:e.Bool}),knowledgeBase:e.Vec(p)}),w=e.Record({name:e.Text,tags:e.Vec(e.Text),description:e.Text,category:e.Text,isPublic:e.Bool,config:m}),_=e.Variant({ok:o,err:r}),v=e.Variant({ok:e.Text,err:e.Text}),j=e.Variant({ok:t,err:r}),E=e.Variant({Inactive:e.Null,Active:e.Null,Suspended:e.Null,Archived:e.Null}),P=e.Principal,I=e.Record({id:o,status:E,permissions:e.Record({accessLevel:e.Variant({Viewer:e.Null,Editor:e.Null,Owner:e.Null}),allowedUsers:e.Vec(P),isPublic:e.Bool}),created:g,configHistory:e.Vec(m),ownerId:P,name:e.Text,tags:e.Vec(e.Text),description:e.Text,analytics:e.Record({totalTokensUsed:e.Nat,totalMessages:e.Nat,averageRating:e.Opt(e.Float64),totalConversations:e.Nat}),updated:g,category:e.Text,config:m,lastUsed:e.Opt(g)}),U=e.Variant({ok:I,err:r}),q=e.Variant({ok:e.Record({totalTokensUsed:e.Nat,totalMessages:e.Nat,averageRating:e.Opt(e.Float64),totalConversations:e.Nat}),err:r}),O=e.Variant({ok:I,err:e.Text}),Q=e.Variant({ok:e.Vec(m),err:r}),X=e.Record({content:e.Text,metadata:e.Vec(e.Tuple(e.Text,e.Text)),role:e.Variant({System:e.Null,User:e.Null,Assistant:e.Null}),timestamp:g,tokenCount:e.Opt(e.Nat)}),z=e.Record({created:g,contextId:t,lastAccessed:g,messages:e.Vec(X),metadata:e.Vec(e.Tuple(e.Text,e.Text)),userId:P,agentId:o,compressionEnabled:e.Bool,maxSize:e.Nat}),K=e.Variant({ok:e.Vec(z),err:r}),W=e.Variant({ok:z,err:r}),ie=e.Variant({ok:e.Vec(I),err:e.Text}),fe=e.Variant({ok:e.Record({contextId:t,tokensUsed:e.Nat,processingTime:e.Nat,response:e.Text,confidence:e.Float64}),err:r}),T=e.Variant({ok:h,err:r}),V=e.Record({errors:e.Vec(e.Text),score:e.Float64,warnings:e.Vec(e.Text),isValid:e.Bool});return e.Service({addContextMessage:e.Func([t,e.Variant({System:e.Null,User:e.Null,Assistant:e.Null}),e.Text],[i],[]),clearAgentContext:e.Func([o,t],[i],[]),createAgent:e.Func([w],[_],[]),createAgentAdvanced:e.Func([w],[_],[]),createAgentIntegrated:e.Func([e.Text,w],[v],[]),createAgentWithContextSettings:e.Func([w,e.Record({enableLearning:e.Bool,memoryDuration:e.Nat,maxContextMessages:e.Nat,enableMemory:e.Bool})],[_],[]),createConversationContext:e.Func([o],[j],[]),deleteAgent:e.Func([o],[i],[]),getAgent:e.Func([o],[U],["query"]),getAgentAnalytics:e.Func([o],[q],["query"]),getAgentAuthorized:e.Func([e.Text,e.Text],[O],[]),getAgentConfigHistory:e.Func([o],[Q],["query"]),getAgentContexts:e.Func([o],[K],[]),getConversationContext:e.Func([t],[W],["query"]),getUserAgents:e.Func([P],[e.Vec(I)],["query"]),getUserAgentsAuthorized:e.Func([e.Text],[ie],[]),healthCheck:e.Func([],[e.Record({status:e.Text,services:e.Vec(e.Text)})],[]),processAgentChat:e.Func([e.Text,e.Text,e.Text],[v],[]),processAgentChatAdvanced:e.Func([o,e.Text,e.Opt(t),e.Opt(e.Bool),e.Opt(e.Float64)],[fe],[]),revertAgentConfig:e.Func([o,h],[i],[]),test:e.Func([],[e.Text],[]),updateAgent:e.Func([o,m],[i],[]),updateAgentAdvanced:e.Func([o,m,e.Opt(e.Text)],[T],[]),updateAgentAnalytics:e.Func([o,e.Nat,e.Nat,e.Nat],[i],[]),updateAgentStatus:e.Func([o,E],[i],[]),validateAgentConfiguration:e.Func([m],[V],[])})},sk="bkyz2-fmaaa-aaaaa-qaaaq-cai",ik=(e,t={})=>{const r=t.agent||new ns({...t.agentOptions});return t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),r.fetchRootKey().catch(i=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(i)}),gr.createActor(yu,{agent:r,canisterId:e,...t.actorOptions})};ik(sk);const wu=({IDL:e})=>{const t=e.Principal,r=e.Variant({InvalidUsage:e.Null,InsufficientBalance:e.Null,InternalError:e.Text,UserNotFound:e.Null}),i=e.Variant({ok:e.Null,err:r}),o=e.Text,c=e.Text,d=e.Variant({AdvancedPrompts:e.Null,ChainFusion:e.Null,BasicChat:e.Null,DocumentIntegration:e.Null}),u=e.Variant({AgentCreation:e.Null,CustomPromptTraining:e.Null,AddBalance:e.Null,DocumentUpload:e.Null,MessageProcessing:d}),h=e.Int,g=e.Record({id:o,cost:e.Float64,userId:t,agentId:c,tokens:e.Nat,operation:u,timestamp:h}),p=e.Variant({Enterprise:e.Null,Base:e.Null,Professional:e.Null,Standard:e.Null}),m=e.Record({balance:e.Float64,userId:t,lastUpdated:h,monthlyUsage:e.Nat,currentTier:p}),w=e.Variant({ok:m,err:r}),_=e.Variant({ok:o,err:r});return e.Service({addBalance:e.Func([t,e.Float64],[i],[]),getUsageHistory:e.Func([t,e.Opt(e.Nat)],[e.Vec(g)],["query"]),getUserBalance:e.Func([t],[w],["query"]),healthCheck:e.Func([],[e.Record({status:e.Text,totalUsers:e.Nat,totalTransactions:e.Nat})],[]),recordUsage:e.Func([t,c,e.Nat,u],[_],[]),test:e.Func([],[e.Text],[])})},ak="b77ix-eeaaa-aaaaa-qaada-cai",ok=(e,t={})=>{const r=t.agent||new ns({...t.agentOptions});return t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),r.fetchRootKey().catch(i=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(i)}),gr.createActor(wu,{agent:r,canisterId:e,...t.actorOptions})};ok(ak);const vu=({IDL:e})=>{const t=e.Text,r=e.Int,i=e.Record({id:t,content:e.Text,metadata:e.Vec(e.Tuple(e.Text,e.Text)),role:e.Variant({System:e.Null,User:e.Null,Agent:e.Null}),tokens:e.Nat,timestamp:r}),o=e.Text,c=e.Text,d=e.Record({context:e.Opt(e.Vec(i)),temperature:e.Opt(e.Float64),userMessage:e.Text,agentId:o,conversationId:c,systemPrompt:e.Opt(e.Text),enableStreaming:e.Opt(e.Bool),maxTokens:e.Opt(e.Nat),agentPersonality:e.Opt(e.Text),routingStrategy:e.Opt(e.Text)}),u=e.Record({messageId:t,metadata:e.Vec(e.Tuple(e.Text,e.Text)),agentResponse:e.Text,processingTime:e.Nat,tokens:e.Nat,modelUsed:e.Text,cached:e.Bool,confidence:e.Float64,providerId:e.Text}),h=e.Variant({InvalidInput:e.Text,ProcessingError:e.Text,ServiceUnavailable:e.Null,RateLimited:e.Null}),g=e.Variant({ok:u,err:h}),p=e.Variant({ok:e.Text,err:h});return e.Service({getProcessorStatus:e.Func([],[e.Record({provider:e.Text,healthy:e.Bool,version:e.Text})],["query"]),healthCheck:e.Func([],[e.Record({status:e.Text,providers:e.Nat,activeProviders:e.Nat})],[]),processMessage:e.Func([d],[g],[]),processPrompt:e.Func([e.Text],[p],[]),processWithLLM:e.Func([e.Text],[p],[]),test:e.Func([],[e.Text],[])})},lk="bw4dl-smaaa-aaaaa-qaacq-cai",ck=(e,t={})=>{const r=t.agent||new ns({...t.agentOptions});return t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),r.fetchRootKey().catch(i=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(i)}),gr.createActor(vu,{agent:r,canisterId:e,...t.actorOptions})};ck(lk);const zc="bkyz2-fmaaa-aaaaa-qaaaq-cai",Vc="b77ix-eeaaa-aaaaa-qaada-cai",Hc="bw4dl-smaaa-aaaaa-qaacq-cai",t0="local";class uk{constructor(){nn(this,"agent",null);nn(this,"agentManagerActor",null);nn(this,"metricsCollectorActor",null);nn(this,"llmProcessorActor",null);nn(this,"identity",null);nn(this,"isInitialized",!1);nn(this,"healthCheckCache",new Map);nn(this,"CACHE_DURATION",3e4);nn(this,"HEALTH_CHECK_TIMEOUT",8e3);nn(this,"pendingHealthChecks",new Map);this.initializeAgent()}async initializeAgent(){try{if(console.log("Initializing canister service..."),console.log("Agent Manager Canister ID:",zc),console.log("Metrics Collector Canister ID:",Vc),console.log("LLM Processor Canister ID:",Hc),console.log("DFX Network:",t0),this.agent=new ns({host:t0==="local"?"http://localhost:4943":"https://ic0.app"}),t0==="local"){console.log("Fetching root key for local development...");try{await this.agent.fetchRootKey(),console.log("Root key fetched successfully")}catch(t){throw console.error("Failed to fetch root key:",t),new Error("Failed to initialize local development environment")}}this.agentManagerActor=gr.createActor(yu,{agent:this.agent,canisterId:zc}),this.metricsCollectorActor=gr.createActor(wu,{agent:this.agent,canisterId:Vc}),this.llmProcessorActor=gr.createActor(vu,{agent:this.agent,canisterId:Hc}),this.isInitialized=!0,console.log("Canister service initialized successfully")}catch(t){console.error("Failed to initialize canister service:",t),this.isInitialized=!1}}async setIdentity(t){console.log("Setting identity for canister service...",t?"with identity":"clearing identity"),this.identity=t,this.agent&&(t?(this.agent.replaceIdentity(t),this.agentManagerActor=gr.createActor(yu,{agent:this.agent,canisterId:zc}),this.metricsCollectorActor=gr.createActor(wu,{agent:this.agent,canisterId:Vc}),this.llmProcessorActor=gr.createActor(vu,{agent:this.agent,canisterId:Hc}),console.log("Identity set successfully")):(this.agent.replaceIdentity(new Jo),this.agentManagerActor=gr.createActor(yu,{agent:this.agent,canisterId:zc}),this.metricsCollectorActor=gr.createActor(wu,{agent:this.agent,canisterId:Vc}),this.llmProcessorActor=gr.createActor(vu,{agent:this.agent,canisterId:Hc}),console.log("Identity cleared successfully")))}isAuthenticated(){if(!this.isInitialized||!this.identity)return!1;const r=this.identity.getPrincipal().toText(),i=r==="2vxsx-fae";return console.log("CanisterService.isAuthenticated() - Principal:",r,"Is anonymous:",i),!i}isReady(){return this.isInitialized&&this.agentManagerActor!==null}async createAgent(t,r=1){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for agent creation");try{console.log("Creating agent with data:",t);const i=await this.agentManagerActor.createAgent(t);if("ok"in i)return await this.addBalance(-r),i.ok;throw new Error(`Agent creation failed: ${JSON.stringify(i.err)}`)}catch(i){throw console.error("Error creating agent:",i),i}}async getUserAgents(){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.isAuthenticated())return console.log("Not authenticated, returning empty agent list"),[];try{const t=this.identity.getPrincipal();console.log("Fetching agents for principal:",t.toString());const r=await this.agentManagerActor.getUserAgents(t);return console.log("Raw agents from canister:",r),r.map(i=>({id:i.id,name:i.name,description:i.description,status:i.status,created:i.created,updated:i.updated,ownerId:i.ownerId.toString(),config:i.config,analytics:i.analytics?{averageRating:i.analytics.averageRating?Number(i.analytics.averageRating):void 0,totalConversations:Number(i.analytics.totalConversations),totalMessages:Number(i.analytics.totalMessages),totalTokensUsed:Number(i.analytics.totalTokensUsed)}:void 0}))}catch(t){if(console.error("Error fetching user agents:",t),t instanceof Error&&t.message&&t.message.includes("IDL error"))return console.warn("IDL type mismatch during getUserAgents, returning empty list"),[];throw t}}async getAgent(t){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for getAgent");try{const r=await this.agentManagerActor.getAgent(t);if("ok"in r)return{...r.ok,ownerId:r.ok.ownerId.toString(),analytics:r.ok.analytics?{averageRating:r.ok.analytics.averageRating.length>0?r.ok.analytics.averageRating[0]:void 0,totalConversations:Number(r.ok.analytics.totalConversations),totalMessages:Number(r.ok.analytics.totalMessages),totalTokensUsed:Number(r.ok.analytics.totalTokensUsed)}:void 0};throw new Error(`Failed to get agent: ${JSON.stringify(r.err)}`)}catch(r){throw console.error("Error fetching agent:",r),r}}async getAgentPublic(t){if(!this.agentManagerActor)throw new Error("Canister service not initialized");try{const r=await this.agentManagerActor.getAgent(t);if("ok"in r)return{...r.ok,ownerId:r.ok.ownerId.toString(),analytics:r.ok.analytics?{averageRating:r.ok.analytics.averageRating.length>0?r.ok.analytics.averageRating[0]:void 0,totalConversations:Number(r.ok.analytics.totalConversations),totalMessages:Number(r.ok.analytics.totalMessages),totalTokensUsed:Number(r.ok.analytics.totalTokensUsed)}:void 0};throw new Error(`Failed to get agent: ${JSON.stringify(r.err)}`)}catch(r){throw console.error("Error fetching agent:",r),r}}async getAgentAnalytics(t){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for getAgentAnalytics");try{const r=await this.agentManagerActor.getAgentAnalytics(t);if("ok"in r)return{totalConversations:Number(r.ok.totalConversations),totalMessages:Number(r.ok.totalMessages),totalTokensUsed:Number(r.ok.totalTokensUsed),averageRating:r.ok.averageRating.length>0?r.ok.averageRating[0]:void 0};throw new Error(`Failed to get agent analytics: ${JSON.stringify(r.err)}`)}catch(r){return console.error("Error fetching agent analytics:",r),null}}async getUserBalance(){if(!this.metricsCollectorActor)throw new Error("Canister service not initialized");if(!this.identity)return console.log("No identity available, returning null balance"),null;try{const t=this.identity.getPrincipal();console.log("Fetching balance for principal:",t.toString());const r=await this.metricsCollectorActor.getUserBalance(t);if("ok"in r)return{balance:Number(r.ok.balance),currentTier:"Base"in r.ok.currentTier?"Base":"Standard"in r.ok.currentTier?"Standard":"Professional"in r.ok.currentTier?"Professional":"Enterprise",lastUpdated:Number(r.ok.lastUpdated),monthlyUsage:Number(r.ok.monthlyUsage),userId:r.ok.userId.toString()};if("UserNotFound"in r.err){console.log("User not found in metrics collector, creating default balance");try{await this.metricsCollectorActor.addBalance(t,0);const i=await this.metricsCollectorActor.getUserBalance(t);if("ok"in i)return{balance:Number(i.ok.balance),currentTier:"Base"in i.ok.currentTier?"Base":"Standard"in i.ok.currentTier?"Standard":"Professional"in i.ok.currentTier?"Professional":"Enterprise",lastUpdated:Number(i.ok.lastUpdated),monthlyUsage:Number(i.ok.monthlyUsage),userId:i.ok.userId.toString()}}catch(i){console.error("Error creating default balance:",i)}return{balance:0,currentTier:"Base",lastUpdated:Date.now(),monthlyUsage:0,userId:t.toString()}}throw new Error(`Failed to get user balance: ${JSON.stringify(r.err)}`)}catch(t){return console.error("Error fetching user balance:",t),this.identity?{balance:0,currentTier:"Base",lastUpdated:Date.now(),monthlyUsage:0,userId:this.identity.getPrincipal().toString()}:null}}async getUsageHistory(t){if(!this.metricsCollectorActor)throw new Error("Canister service not initialized");if(!this.identity)return console.log("No identity available, returning empty usage history"),[];try{const r=this.identity.getPrincipal();return console.log("Fetching usage history for principal:",r.toString()),(await this.metricsCollectorActor.getUsageHistory(r,t?[BigInt(t)]:[])).map(o=>({id:o.id,userId:o.userId.toString(),agentId:o.agentId,operation:o.operation,tokens:Number(o.tokens),cost:Number(o.cost),timestamp:Number(o.timestamp)}))}catch(r){return console.error("Error fetching usage history:",r),[]}}async processChat(t,r,i){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for processChat");try{const o=await this.agentManagerActor.processAgentChatAdvanced(t,r,[],[],[]);if("ok"in o)return o.ok.response;{let c;throw typeof o.err=="object"&&o.err!==null?"NotFound"in o.err?c="Agent not found. Please select a valid agent to chat with.":"Unauthorized"in o.err?c="You are not authorized to chat with this agent.":"ConfigurationError"in o.err?c=`Agent configuration error: ${o.err.ConfigurationError}`:"ValidationError"in o.err?c=`Validation error: ${o.err.ValidationError}`:"InternalError"in o.err?c=`Internal error: ${o.err.InternalError}`:"RateLimitExceeded"in o.err?c="Rate limit exceeded. Please try again later.":"QuotaExceeded"in o.err?c="Quota exceeded. Please upgrade your plan or try again later.":c=JSON.stringify(o.err):c=String(o.err),new Error(`Chat processing failed: ${c}`)}}catch(o){throw console.error("Error processing chat:",o),o}}async withTimeout(t,r=5e3){return Promise.race([t,new Promise((i,o)=>setTimeout(()=>o(new Error("Operation timed out")),r))])}getCachedResult(t){const r=this.healthCheckCache.get(t);return r&&Date.now()-r.timestamp<this.CACHE_DURATION?(console.log(`Using cached result for ${t}:`,r.result),r.result):null}setCachedResult(t,r,i=!0){this.healthCheckCache.set(t,{result:r,timestamp:Date.now(),isHealthy:i})}async executeWithDebounce(t,r){if(this.pendingHealthChecks.has(t))return console.log(`Debouncing health check for ${t}, using pending operation`),this.pendingHealthChecks.get(t);const i=this.getCachedResult(t);if(i)return i;const o=r();this.pendingHealthChecks.set(t,o);try{const c=await o;return this.setCachedResult(t,c,!0),c}catch(c){const d=this.getErrorFallback(t);throw this.setCachedResult(t,d,!1),c}finally{this.pendingHealthChecks.delete(t)}}getErrorFallback(t){switch(t){case"agentManager":return{status:"Error",services:["AgentManager: Error"]};case"llmProcessor":return{status:"Error",providers:0,activeProviders:0};case"contextManager":return{status:"Error",totalContexts:0,activeContexts:0,totalMessages:0};default:return{status:"Error"}}}async healthCheck(){return this.executeWithDebounce("agentManager",async()=>{try{if(!this.agentManagerActor)return{status:"Not initialized",services:["AgentManager: Not Available"]};const t=await this.withTimeout(this.agentManagerActor.healthCheck(),this.HEALTH_CHECK_TIMEOUT);return console.log("Agent Manager health check result:",t),t}catch(t){return console.error("Error checking health:",t),{status:"Error",services:["AgentManager: Error"]}}})}async getLLMProcessorHealth(){return this.executeWithDebounce("llmProcessor",async()=>{try{if(!this.llmProcessorActor)return console.warn("LLM Processor actor not initialized, returning fallback status"),{status:"Not Available",providers:0,activeProviders:0};const t=await this.withTimeout(this.llmProcessorActor.healthCheck(),this.HEALTH_CHECK_TIMEOUT);return console.log("LLM Processor health check result:",t),{status:(()=>{const i=t.status;return i.includes("Operational")?"Operational":i.includes("Degraded")?"Degraded":i.includes("Timeout")?"Timeout":"Error"})(),providers:Number(t.providers),activeProviders:Number(t.activeProviders)}}catch(t){return console.error("Error checking LLM processor health:",t),{status:(t instanceof Error?t.message:"Unknown error").includes("timed out")?"Timeout":"Error",providers:0,activeProviders:0}}})}async getContextManagerHealth(){return this.executeWithDebounce("contextManager",async()=>{try{return{status:"Operational",totalContexts:0,activeContexts:0,totalMessages:0}}catch(t){return console.error("Error checking context manager health:",t),{status:"Error",totalContexts:0,activeContexts:0,totalMessages:0}}})}async getSystemStatus(){try{console.log("Getting system status...");const t=await Promise.allSettled([this.healthCheck(),this.getLLMProcessorHealth(),this.getContextManagerHealth()]),[r,i,o]=t;console.log("Health check results:",{agentHealth:r.status==="fulfilled"?r.value:r.reason,llmHealth:i.status==="fulfilled"?i.value:i.reason,contextHealth:o.status==="fulfilled"?o.value:o.reason});const c=r.status==="fulfilled"?(()=>{const p=r.value.services.find(m=>m.includes("AgentManager"));return p&&p.includes("OK")?"Operational":p&&p.includes("DEGRADED")?"Degraded":"Error"})():"Error",d=i.status==="fulfilled"?i.value.status:"Error",u=r.status==="fulfilled"?(()=>{const p=r.value.services.find(m=>m.includes("ContextManager"));return p&&p.includes("OK")?"Operational":p&&p.includes("DEGRADED")?"Degraded":"Error"})():"Error",g={agentManager:c,llmProcessor:d,contextManager:u,productionAPIs:c==="Operational"?"Ready":"Error"};return console.log("Final system status:",g),g}catch(t){return console.error("Error getting system status:",t),{agentManager:"Error",llmProcessor:"Error",contextManager:"Error",productionAPIs:"Error"}}}async getAnalyticsData(){try{const t=await this.getUserAgents();let r=0;for(const i of t)i.analytics&&(r+=i.analytics.totalMessages);return{totalAgents:t.length,totalMessages:r,activeUsers:1,systemUptime:"99.9%"}}catch(t){return console.error("Error getting analytics data:",t),{totalAgents:0,totalMessages:0,activeUsers:0,systemUptime:"0%"}}}async getComprehensiveAnalytics(){try{const t=await this.getUserAgents(),[r,i]=await Promise.allSettled([this.getUsageHistory(50),this.getUserBalance()]);let o=0,c=0,d=0,u=0,h=0;const g=t.map(m=>{const w=m.analytics||{totalMessages:0,totalConversations:0,totalTokensUsed:0,averageRating:void 0};return o+=w.totalMessages,c+=w.totalConversations,d+=w.totalTokensUsed,w.averageRating!==void 0&&(u+=w.averageRating,h++),{agentId:m.id,agentName:m.name,messages:w.totalMessages,conversations:w.totalConversations,avgResponseTime:1.2,satisfaction:w.averageRating||4.5,tokensUsed:w.totalTokensUsed,status:"Active"in m.status?"Active":"Inactive"in m.status?"Inactive":"Suspended"in m.status?"Suspended":"Archived"in m.status?"Archived":"Unknown"}});return{overview:{totalMessages:o,totalConversations:c,averageResponseTime:1.2,successRate:o>0?98.5:100,totalTokensUsed:d},agentPerformance:g,usageHistory:r.status==="fulfilled"?r.value:[],userBalance:i.status==="fulfilled"?i.value:null}}catch(t){return console.error("Error getting comprehensive analytics:",t),{overview:{totalMessages:0,totalConversations:0,averageResponseTime:0,successRate:0,totalTokensUsed:0},agentPerformance:[],usageHistory:[],userBalance:null}}}async addBalance(t){if(!this.metricsCollectorActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for addBalance");try{const r=this.identity.getPrincipal();console.log(`Adding balance: ${t} for principal:`,r.toString());const i=await this.metricsCollectorActor.addBalance(r,t);if("err"in i)throw new Error(`Failed to add balance: ${JSON.stringify(i.err)}`);console.log("Balance added successfully")}catch(r){throw console.error("Error adding balance:",r),r}}async getMetricsCollectorHealth(){if(!this.metricsCollectorActor)throw new Error("Canister service not initialized");try{const t=await this.metricsCollectorActor.healthCheck();return{status:t.status,totalUsers:Number(t.totalUsers),totalTransactions:Number(t.totalTransactions)}}catch(t){throw console.error("Error getting metrics collector health:",t),t}}async testCanisterAccess(){if(!this.isAuthenticated())return console.log("Not authenticated, canister access test will fail"),{agentManager:!1,metricsCollector:!1};const t={agentManager:!1,metricsCollector:!1};return this.agentManagerActor&&(t.agentManager=!0),this.metricsCollectorActor&&(t.metricsCollector=!0),t}async updateAgent(t,r){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for updateAgent");try{const i=await this.agentManagerActor.updateAgent(t,r);if("err"in i)throw new Error(`Agent update failed: ${JSON.stringify(i.err)}`)}catch(i){throw console.error("Error updating agent:",i),i}}async updateAgentStatus(t,r){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for updateAgentStatus");try{const i=r==="Active"?{Active:null}:r==="Inactive"?{Inactive:null}:r==="Suspended"?{Suspended:null}:{Archived:null},o=await this.agentManagerActor.updateAgentStatus(t,i);if("err"in o)throw new Error(`Agent status update failed: ${JSON.stringify(o.err)}`)}catch(i){throw console.error("Error updating agent status:",i),i}}async deleteAgent(t){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for deleteAgent");try{const r=await this.agentManagerActor.deleteAgent(t);if("err"in r)throw new Error(`Agent deletion failed: ${JSON.stringify(r.err)}`)}catch(r){throw console.error("Error deleting agent:",r),r}}async waitForReady(t=1e4){const r=Date.now();for(;!this.isReady()&&Date.now()-r<t;)await new Promise(i=>setTimeout(i,100));if(!this.isReady())throw new Error("Canister service failed to initialize within timeout")}clearHealthCheckCache(){console.log("Clearing health check cache..."),this.healthCheckCache.clear(),this.pendingHealthChecks.clear()}async recordAgentCreationUsage(t){if(!this.metricsCollectorActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required");const r=this.identity.getPrincipal(),i=await this.metricsCollectorActor.recordUsage(r,t,BigInt(0),{AgentCreation:null});if("err"in i)throw new Error("Failed to record usage: "+JSON.stringify(i.err))}}const Nt=new uk,dk=({sessionToken:e,onAgentCreated:t})=>{const[r,i]=A.useState("basic"),[o,c]=A.useState(!1),[d,u]=A.useState(!1),[h,g]=A.useState(null),[p,m]=A.useState({name:"",description:"",personality:{traits:[],tone:"professional",responseStyle:"helpful",communicationStyle:"Professional",responsePattern:"Detailed"},knowledgeBase:{documents:[],sources:[],context:""},behavior:{maxResponseLength:500,conversationMemory:!0,escalationRules:[],temperature:.7,creativity:.8,topP:.9,contextWindow:4096,maxTokens:1e3,frequencyPenalty:0,presencePenalty:0,systemPromptTemplate:"You are a helpful AI assistant."},appearance:{avatar:"default",theme:"blue",welcomeMessage:"Hello! How can I help you today?",primaryColor:"#3B82F6",secondaryColor:"#EFF6FF",accentColor:"#3B82F6",borderRadius:"8px",customCSS:"",fontFamily:"Inter",fontSize:"14px"},contextSettings:{enableLearning:!0,enableMemory:!0,maxContextMessages:10,memoryDuration:3600},integrationSettings:{allowedOrigins:[],rateLimiting:{enabled:!1,maxRequestsPerHour:1e3,maxTokensPerHour:1e5},webhooks:[]},category:"General",isPublic:!1}),[w,_]=A.useState(""),[v,j]=A.useState(""),[E,P]=A.useState("Manual"),[I,U]=A.useState(null),[q,O]=A.useState(""),[Q,X]=A.useState(""),[z,K]=A.useState(""),[W,ie]=A.useState(""),fe=[{id:"basic",name:"Basic Info",required:!0},{id:"personality",name:"Personality",required:!0},{id:"knowledge",name:"Knowledge",required:!1},{id:"behavior",name:"Behavior",required:!1},{id:"appearance",name:"Appearance",required:!1}],T=["helpful","professional","friendly","enthusiastic","patient","knowledgeable","empathetic","concise"],V=[{id:"blue",name:"Professional Blue",color:"bg-blue-500"},{id:"green",name:"Success Green",color:"bg-green-500"},{id:"purple",name:"Creative Purple",color:"bg-purple-500"},{id:"orange",name:"Energetic Orange",color:"bg-orange-500"}],G=(C,F,D)=>{m(J=>{if(C==="name"||C==="description"||C==="category"||C==="isPublic")return{...J,[C]:C==="isPublic"?!!D:String(D||"")};const ne=J[C];return{...J,[C]:{...ne,[F]:D}}})},ee=C=>{m(F=>({...F,personality:{...F.personality,traits:F.personality.traits.includes(C)?F.personality.traits.filter(D=>D!==C):[...F.personality.traits,C]}}))},le=async()=>{let C=v,F=w;switch(E){case"Document":if(!I){alert("Please select a file for document source");return}C=`Document: ${I.name}`;break;case"API":if(!q.trim()){alert("Please enter API endpoint");return}C=`API Endpoint: ${q}`,F=q;break;case"Database":if(!z.trim()||!W.trim()){alert("Please enter database connection and query");return}C=`Database: ${z} | Query: ${W}`;break;case"URL":if(!w.trim()){alert("Please enter URL");return}if(!v.trim()){alert("Please enter content for URL source");return}break;case"Manual":default:if(!v.trim()){alert("Please enter content for manual source");return}break}const D={type:E,content:C,url:F,metadata:{...E==="Document"&&I&&{fileName:I.name,fileSize:I.size,fileType:I.type},...E==="API"&&{apiEndpoint:q,hasApiKey:!!Q},...E==="Database"&&{database:z,query:W}}};m(J=>({...J,knowledgeBase:{...J.knowledgeBase,sources:[...J.knowledgeBase.sources,D]}})),j(""),_(""),P("Manual"),U(null),O(""),X(""),K(""),ie("")},te=C=>{m(F=>({...F,knowledgeBase:{...F.knowledgeBase,sources:F.knowledgeBase.sources.filter((D,J)=>J!==C)}}))},ge=C=>{if(U(C),C.type==="text/plain"||C.name.endsWith(".txt")||C.name.endsWith(".md")){const F=new FileReader;F.onload=D=>{var ne;const J=(ne=D.target)==null?void 0:ne.result;j(J.substring(0,500)+(J.length>500?"...":""))},F.readAsText(C)}else j(`Document: ${C.name}`)},_e=async()=>{try{c(!0),g(null);const C={name:p.name,description:p.description,category:p.category,isPublic:p.isPublic,tags:p.personality.traits,config:{personality:{traits:p.personality.traits,tone:p.personality.tone,style:p.personality.responseStyle,communicationStyle:p.personality.communicationStyle==="Conversational"?{Conversational:null}:p.personality.communicationStyle==="Creative"?{Creative:null}:p.personality.communicationStyle==="Educational"?{Educational:null}:p.personality.communicationStyle==="Technical"?{Technical:null}:{Professional:null},responsePattern:p.personality.responsePattern==="Concise"?{Concise:null}:p.personality.responsePattern==="Narrative"?{Narrative:null}:p.personality.responsePattern==="Structured"?{Structured:null}:{Detailed:null}},behavior:{responseLength:p.behavior.maxResponseLength<=300?{Short:null}:p.behavior.maxResponseLength<=700?{Medium:null}:{Long:null},temperature:p.behavior.temperature,creativity:p.behavior.creativity,topP:p.behavior.topP,contextWindow:BigInt(p.behavior.contextWindow),maxTokens:BigInt(p.behavior.maxTokens),frequencyPenalty:p.behavior.frequencyPenalty,presencePenalty:p.behavior.presencePenalty,systemPromptTemplate:p.behavior.systemPromptTemplate},appearance:{primaryColor:p.appearance.primaryColor,secondaryColor:p.appearance.secondaryColor,accentColor:p.appearance.accentColor,borderRadius:p.appearance.borderRadius,avatar:p.appearance.avatar?[p.appearance.avatar]:[],customCSS:p.appearance.customCSS?[p.appearance.customCSS]:[],fontFamily:p.appearance.fontFamily,fontSize:p.appearance.fontSize,theme:{Auto:null}},contextSettings:{enableLearning:p.contextSettings.enableLearning,enableMemory:p.contextSettings.enableMemory,maxContextMessages:BigInt(p.contextSettings.maxContextMessages),memoryDuration:BigInt(p.contextSettings.memoryDuration)},integrationSettings:{allowedOrigins:p.integrationSettings.allowedOrigins,rateLimiting:{enabled:p.integrationSettings.rateLimiting.enabled,maxRequestsPerHour:BigInt(p.integrationSettings.rateLimiting.maxRequestsPerHour),maxTokensPerHour:BigInt(p.integrationSettings.rateLimiting.maxTokensPerHour)},webhooks:p.integrationSettings.webhooks},knowledgeBase:[{id:"main-context",content:p.knowledgeBase.context||"General knowledge assistant",sourceType:{Manual:null},metadata:[["type","main-context"]],isActive:!0,lastUpdated:BigInt(Date.now()),priority:BigInt(1),version:BigInt(1)},...p.knowledgeBase.sources.map((J,ne)=>({id:`source-${ne}`,content:J.content,sourceType:J.type==="Manual"?{Manual:null}:J.type==="URL"?{URL:null}:J.type==="Document"?{Document:null}:J.type==="API"?{API:null}:{Database:null},metadata:[["type",J.type.toLowerCase()],...J.url?[["url",J.url]]:[],...J.metadata?Object.entries(J.metadata).map(([ae,R])=>[ae,String(R)]):[]],isActive:!0,lastUpdated:BigInt(Date.now()),priority:BigInt(ne+2),version:BigInt(1)}))],version:BigInt(1)}};console.log("Creating agent with canister:",C);const F=await Nt.createAgent(C,1);console.log("Agent created successfully with ID:",F);try{await Nt.recordAgentCreationUsage(F)}catch(J){console.error("Gagal mencatat usage agent creation:",J)}const D={id:F,name:p.name,description:p.description,status:"Active",created:new Date().toISOString(),config:{personality:{traits:p.personality.traits,tone:p.personality.tone,responseStyle:p.personality.responseStyle},knowledgeBase:{documents:p.knowledgeBase.documents,sources:p.knowledgeBase.sources,context:p.knowledgeBase.context},behavior:{maxResponseLength:p.behavior.maxResponseLength,conversationMemory:p.behavior.conversationMemory,escalationRules:p.behavior.escalationRules},appearance:{avatar:p.appearance.avatar,theme:p.appearance.theme,welcomeMessage:p.appearance.welcomeMessage}},avatar:p.appearance.avatar,lastUpdated:new Date().toISOString()};m({name:"",description:"",personality:{traits:[],tone:"professional",responseStyle:"helpful",communicationStyle:"Professional",responsePattern:"Detailed"},knowledgeBase:{documents:[],sources:[],context:""},behavior:{maxResponseLength:500,conversationMemory:!0,escalationRules:[],temperature:.7,creativity:.8,topP:.9,contextWindow:4096,maxTokens:1e3,frequencyPenalty:0,presencePenalty:0,systemPromptTemplate:"You are a helpful AI assistant."},appearance:{avatar:"default",theme:"blue",welcomeMessage:"Hello! How can I help you today?",primaryColor:"#3B82F6",secondaryColor:"#EFF6FF",accentColor:"#3B82F6",borderRadius:"8px",customCSS:"",fontFamily:"Inter",fontSize:"14px"},contextSettings:{enableLearning:!0,enableMemory:!0,maxContextMessages:10,memoryDuration:3600},integrationSettings:{allowedOrigins:[],rateLimiting:{enabled:!1,maxRequestsPerHour:1e3,maxTokensPerHour:1e5},webhooks:[]},category:"General",isPublic:!1}),t(D)}catch(C){console.error("Failed to create agent:",C),g(C instanceof Error?C.message:"Failed to create agent")}finally{c(!1)}},Y=C=>{const F={blue:"#3B82F6",green:"#10B981",purple:"#8B5CF6",orange:"#F59E0B"};return F[C]||F.blue},me=C=>{const F={blue:"#EFF6FF",green:"#ECFDF5",purple:"#F3E8FF",orange:"#FFFBEB"};return F[C]||F.blue},Be=()=>typeof p.name=="string"&&p.name.trim()&&typeof p.description=="string"&&p.description.trim()&&p.personality.traits.length>0,H=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Agent Name *"}),a.jsx("input",{type:"text",value:p.name,onChange:C=>G("name","name",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g. Customer Support Assistant"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),a.jsx("textarea",{value:p.description,onChange:C=>G("description","description",C.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Describe what your agent does and how it helps users..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),a.jsxs("select",{value:p.category||"General",onChange:C=>G("category","category",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[a.jsx("option",{value:"General",children:"General"}),a.jsx("option",{value:"Customer Support",children:"Customer Support"}),a.jsx("option",{value:"Sales",children:"Sales"}),a.jsx("option",{value:"Education",children:"Education"}),a.jsx("option",{value:"Technical",children:"Technical"}),a.jsx("option",{value:"Creative",children:"Creative"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Visibility"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"isPublic",value:"false",checked:!p.isPublic,onChange:C=>G("isPublic","isPublic",C.target.value==="true"),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Private (Only you can access)"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"isPublic",value:"true",checked:p.isPublic,onChange:C=>G("isPublic","isPublic",C.target.value==="true"),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Public (Anyone can access)"})]})]})]})]}),Pe=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Personality Traits *"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:T.map(C=>a.jsx("button",{onClick:()=>ee(C),className:`px-3 py-2 rounded-lg border text-sm transition-colors ${p.personality.traits.includes(C)?"bg-primary-100 border-primary-300 text-primary-800":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:C},C))})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tone"}),a.jsxs("select",{value:p.personality.tone,onChange:C=>G("personality","tone",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"professional",children:"Professional"}),a.jsx("option",{value:"casual",children:"Casual"}),a.jsx("option",{value:"formal",children:"Formal"}),a.jsx("option",{value:"playful",children:"Playful"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Response Style"}),a.jsxs("select",{value:p.personality.responseStyle,onChange:C=>G("personality","responseStyle",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"helpful",children:"Helpful"}),a.jsx("option",{value:"detailed",children:"Detailed"}),a.jsx("option",{value:"concise",children:"Concise"}),a.jsx("option",{value:"conversational",children:"Conversational"})]})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Communication Style"}),a.jsxs("select",{value:p.personality.communicationStyle,onChange:C=>G("personality","communicationStyle",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"Professional",children:"Professional"}),a.jsx("option",{value:"Conversational",children:"Conversational"}),a.jsx("option",{value:"Creative",children:"Creative"}),a.jsx("option",{value:"Educational",children:"Educational"}),a.jsx("option",{value:"Technical",children:"Technical"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Response Pattern"}),a.jsxs("select",{value:p.personality.responsePattern,onChange:C=>G("personality","responsePattern",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"Detailed",children:"Detailed"}),a.jsx("option",{value:"Concise",children:"Concise"}),a.jsx("option",{value:"Narrative",children:"Narrative"}),a.jsx("option",{value:"Structured",children:"Structured"})]})]})]})]}),Ae=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:V.map(C=>a.jsxs("button",{onClick:()=>{G("appearance","theme",C.id),G("appearance","primaryColor",Y(C.id)),G("appearance","secondaryColor",me(C.id)),G("appearance","accentColor",Y(C.id))},className:`p-4 rounded-lg border-2 transition-colors ${p.appearance.theme===C.id?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"}`,children:[a.jsx("div",{className:`w-6 h-6 ${C.color} rounded-full mx-auto mb-2`}),a.jsx("span",{className:"text-xs text-gray-700",children:C.name})]},C.id))})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"color",value:p.appearance.primaryColor,onChange:C=>G("appearance","primaryColor",C.target.value),className:"w-12 h-8 border border-gray-300 rounded"}),a.jsx("input",{type:"text",value:p.appearance.primaryColor,onChange:C=>G("appearance","primaryColor",C.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Color"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"color",value:p.appearance.secondaryColor,onChange:C=>G("appearance","secondaryColor",C.target.value),className:"w-12 h-8 border border-gray-300 rounded"}),a.jsx("input",{type:"text",value:p.appearance.secondaryColor,onChange:C=>G("appearance","secondaryColor",C.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accent Color"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"color",value:p.appearance.accentColor,onChange:C=>G("appearance","accentColor",C.target.value),className:"w-12 h-8 border border-gray-300 rounded"}),a.jsx("input",{type:"text",value:p.appearance.accentColor,onChange:C=>G("appearance","accentColor",C.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Border Radius"}),a.jsxs("select",{value:p.appearance.borderRadius,onChange:C=>G("appearance","borderRadius",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"0px",children:"Sharp (0px)"}),a.jsx("option",{value:"4px",children:"Slightly Rounded (4px)"}),a.jsx("option",{value:"8px",children:"Rounded (8px)"}),a.jsx("option",{value:"12px",children:"More Rounded (12px)"}),a.jsx("option",{value:"16px",children:"Very Rounded (16px)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Family"}),a.jsxs("select",{value:p.appearance.fontFamily,onChange:C=>G("appearance","fontFamily",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"Inter",children:"Inter (Modern)"}),a.jsx("option",{value:"Roboto",children:"Roboto (Clean)"}),a.jsx("option",{value:"Open Sans",children:"Open Sans (Readable)"}),a.jsx("option",{value:"Lato",children:"Lato (Friendly)"}),a.jsx("option",{value:"Poppins",children:"Poppins (Professional)"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Size"}),a.jsxs("select",{value:p.appearance.fontSize,onChange:C=>G("appearance","fontSize",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"12px",children:"Small (12px)"}),a.jsx("option",{value:"14px",children:"Medium (14px)"}),a.jsx("option",{value:"16px",children:"Large (16px)"}),a.jsx("option",{value:"18px",children:"Extra Large (18px)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Welcome Message"}),a.jsx("textarea",{value:p.appearance.welcomeMessage,onChange:C=>G("appearance","welcomeMessage",C.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"What should your agent say when starting a conversation?"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom CSS"}),a.jsx("textarea",{value:p.appearance.customCSS,onChange:C=>G("appearance","customCSS",C.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 font-mono text-sm",placeholder:"Add custom CSS styles for your agent interface..."}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add custom CSS to further customize the appearance"})]})]}),pe=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Context"}),a.jsx("textarea",{value:p.knowledgeBase.context,onChange:C=>G("knowledgeBase","context",C.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Provide background context for your agent..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Knowledge Sources"}),p.knowledgeBase.sources.length>0&&a.jsx("div",{className:"mb-4 space-y-2",children:p.knowledgeBase.sources.map((C,F)=>{var D,J,ne;return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:C.type}),C.url&&a.jsx("span",{className:"text-sm text-gray-600",children:C.url}),((D=C.metadata)==null?void 0:D.fileName)&&a.jsxs("span",{className:"text-sm text-gray-600",children:["📄 ",C.metadata.fileName]}),((J=C.metadata)==null?void 0:J.apiEndpoint)&&a.jsx("span",{className:"text-sm text-gray-600",children:"🔗 API"}),((ne=C.metadata)==null?void 0:ne.database)&&a.jsx("span",{className:"text-sm text-gray-600",children:"🗄️ DB"})]}),a.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:C.content}),C.metadata&&a.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:[C.metadata.fileSize&&a.jsxs("span",{className:"mr-2",children:["Size: ",Math.round(C.metadata.fileSize/1024),"KB"]}),C.metadata.hasApiKey&&a.jsx("span",{className:"mr-2",children:"🔑 API Key"}),C.metadata.query&&a.jsxs("span",{className:"mr-2",children:["Query: ",C.metadata.query.substring(0,30),"..."]})]})]}),a.jsx("button",{onClick:()=>te(F),className:"ml-2 text-red-600 hover:text-red-800",children:a.jsx(Yo,{className:"h-4 w-4"})})]},F)})}),a.jsxs("div",{className:"space-y-3 p-4 border border-gray-200 rounded-lg",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Source Type"}),a.jsxs("select",{value:E,onChange:C=>P(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",children:[a.jsx("option",{value:"Manual",children:"Manual Text"}),a.jsx("option",{value:"URL",children:"Web URL"}),a.jsx("option",{value:"Document",children:"Document Upload"}),a.jsx("option",{value:"API",children:"API Integration"}),a.jsx("option",{value:"Database",children:"Database Query"})]})]})}),E==="Manual"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Knowledge Content"}),a.jsx("textarea",{value:v,onChange:C=>j(C.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Enter your knowledge content here..."})]}),E==="URL"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Website URL"}),a.jsx("input",{type:"url",value:w,onChange:C=>_(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"https://example.com/article"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Content Summary"}),a.jsx("textarea",{value:v,onChange:C=>j(C.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Summarize the key information from this URL..."})]})]}),E==="Document"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Upload Document"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[a.jsx("input",{type:"file",onChange:C=>{var D;const F=(D=C.target.files)==null?void 0:D[0];F&&ge(F)},accept:".pdf,.txt,.doc,.docx,.md",className:"hidden",id:"file-upload"}),a.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("svg",{className:"mx-auto h-8 w-8 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:a.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium text-primary-600 hover:text-primary-500",children:"Click to upload"})," or drag and drop"]}),a.jsx("div",{className:"text-xs text-gray-500",children:"PDF, TXT, DOC, DOCX, MD up to 10MB"})]})})]}),I&&a.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-sm",children:a.jsxs("span",{className:"text-green-800",children:["✓ ",I.name," selected"]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Document Description (Optional)"}),a.jsx("textarea",{value:v,onChange:C=>j(C.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Brief description of the document content..."})]})]}),E==="API"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"API Endpoint"}),a.jsx("input",{type:"url",value:q,onChange:C=>O(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"https://api.example.com/data"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"API Key (Optional)"}),a.jsx("input",{type:"password",value:Q,onChange:C=>X(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Enter API key if required"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"API Description"}),a.jsx("textarea",{value:v,onChange:C=>j(C.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Describe what data this API provides..."})]})]}),E==="Database"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Database Connection"}),a.jsx("input",{type:"text",value:z,onChange:C=>K(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Database name or connection string"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Query or Table"}),a.jsx("textarea",{value:W,onChange:C=>ie(C.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"SQL query or table name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:v,onChange:C=>j(C.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",placeholder:"Describe the data structure and content..."})]})]}),a.jsx("button",{onClick:le,disabled:E==="Manual"&&!v.trim()||E==="URL"&&(!w.trim()||!v.trim())||E==="Document"&&!I||E==="API"&&!q.trim()||E==="Database"&&(!z.trim()||!W.trim()),className:"w-full px-3 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Add Knowledge Source"})]})]})]}),de=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Response Length"}),a.jsx("input",{type:"number",value:p.behavior.maxResponseLength,onChange:C=>G("behavior","maxResponseLength",parseInt(C.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",min:"100",max:"2000"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"conversationMemory",checked:p.behavior.conversationMemory,onChange:C=>G("behavior","conversationMemory",C.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"conversationMemory",className:"ml-2 block text-sm text-gray-900",children:"Remember conversation history"})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Advanced Settings"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Temperature"}),a.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:p.behavior.temperature,onChange:C=>G("behavior","temperature",parseFloat(C.target.value)),className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"Focused (0.0)"}),a.jsx("span",{children:p.behavior.temperature}),a.jsx("span",{children:"Creative (2.0)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Creativity"}),a.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:p.behavior.creativity,onChange:C=>G("behavior","creativity",parseFloat(C.target.value)),className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"Conservative (0.0)"}),a.jsx("span",{children:p.behavior.creativity}),a.jsx("span",{children:"Creative (1.0)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Top P"}),a.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:p.behavior.topP,onChange:C=>G("behavior","topP",parseFloat(C.target.value)),className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"0.0"}),a.jsx("span",{children:p.behavior.topP}),a.jsx("span",{children:"1.0"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Context Window"}),a.jsx("input",{type:"number",value:p.behavior.contextWindow,onChange:C=>G("behavior","contextWindow",parseInt(C.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",min:"1000",max:"32000"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Tokens"}),a.jsx("input",{type:"number",value:p.behavior.maxTokens,onChange:C=>G("behavior","maxTokens",parseInt(C.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",min:"100",max:"4000"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequency Penalty"}),a.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:p.behavior.frequencyPenalty,onChange:C=>G("behavior","frequencyPenalty",parseFloat(C.target.value)),className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"-2.0"}),a.jsx("span",{children:p.behavior.frequencyPenalty}),a.jsx("span",{children:"2.0"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Presence Penalty"}),a.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:p.behavior.presencePenalty,onChange:C=>G("behavior","presencePenalty",parseFloat(C.target.value)),className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"-2.0"}),a.jsx("span",{children:p.behavior.presencePenalty}),a.jsx("span",{children:"2.0"})]})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"System Prompt Template"}),a.jsx("textarea",{value:p.behavior.systemPromptTemplate,onChange:C=>G("behavior","systemPromptTemplate",C.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Define the base personality and behavior for your agent..."})]})]})]}),Ne=()=>{switch(r){case"basic":return H();case"personality":return Pe();case"knowledge":return pe();case"behavior":return de();case"appearance":return Ae();default:return H()}};return a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[h&&a.jsxs("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded-md flex items-center",children:[a.jsx(Yo,{className:"h-5 w-5 mr-2"}),a.jsx("span",{children:h}),a.jsx("button",{onClick:()=>g(null),className:"ml-auto text-red-500 hover:text-red-700",children:a.jsx(Yo,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Agent"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>u(!d),className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:d?"Edit Mode":"Preview"}),a.jsx("button",{onClick:_e,disabled:!Be()||o,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Creating..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(v1,{className:"h-4 w-4"}),a.jsx("span",{children:"Create Agent"})]})})]})]})]}),a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"w-64 border-r border-gray-200",children:a.jsx("nav",{className:"p-4",children:a.jsx("ul",{className:"space-y-1",children:fe.map(C=>a.jsx("li",{children:a.jsx("button",{onClick:()=>i(C.id),className:`w-full text-left px-3 py-2 rounded-md text-sm transition-colors ${r===C.id?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:C.name}),C.required&&a.jsx("span",{className:"text-red-500 text-xs",children:"*"})]})})},C.id))})})}),a.jsx("div",{className:"flex-1 p-6",children:d?a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:p.name||"Agent Name"}),a.jsx("p",{className:"text-gray-600 mb-4",children:p.description||"Agent description will appear here..."}),p.personality.traits.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Personality Traits:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:p.personality.traits.map(C=>a.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-800 text-xs rounded-full",children:C},C))})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Tone: ",p.personality.tone," | Style: ",p.personality.responseStyle]})]})}):Ne()})]})]})})},fk=({agent:e,onClose:t,onEdit:r,onUpdate:i})=>{const[o,c]=A.useState(!1),[d,u]=A.useState(null);if(!e)return null;const h=()=>{u({...e}),c(!0)},g=async()=>{d&&(await i(e.id,d),c(!1),u(null))},p=()=>{c(!1),u(null)},m=(E,P)=>{d&&u({...d,[E]:P})},w=(E,P,I)=>{d&&u({...d,config:{...d.config,[E]:{...d.config[E],[P]:I}}})},_=E=>{if(d&&E.trim()){const P=d.config.personality.traits;P.includes(E.trim())||w("personality","traits",[...P,E.trim()])}},v=E=>{if(d){const P=d.config.personality.traits;w("personality","traits",P.filter((I,U)=>U!==E))}},j=o?d:e;return j?a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-11/12 max-w-6xl shadow-lg rounded-md bg-white max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:o?"Edit Agent":"Agent Details"}),a.jsxs("div",{className:"flex space-x-2",children:[o?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:g,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[a.jsx(v1,{className:"h-4 w-4 mr-1"}),"Save"]}),a.jsx("button",{onClick:p,className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"})]}):a.jsxs("button",{onClick:h,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(Q6,{className:"h-4 w-4 mr-1"}),"Edit"]}),a.jsx("button",{onClick:t,className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:a.jsx(Yo,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),o?a.jsx("input",{type:"text",value:j.name,onChange:E=>m("name",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):a.jsx("p",{className:"text-lg font-medium text-gray-900",children:j.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o?a.jsx("textarea",{value:j.description,onChange:E=>m("description",E.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):a.jsx("p",{className:"text-gray-600",children:j.description})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j.status==="Active"?"bg-green-100 text-green-800":j.status==="Inactive"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:j.status})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created"}),a.jsxs("p",{className:"text-gray-600",children:[new Date(j.created).toLocaleDateString()," at"," ",new Date(j.created).toLocaleTimeString()]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Personality"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Personality Traits"}),o?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",placeholder:"Add a trait...",onKeyPress:E=>{E.key==="Enter"&&(_(E.target.value),E.target.value="")},className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{onClick:()=>{const E=document.querySelector('input[placeholder="Add a trait..."]');E&&(_(E.value),E.value="")},className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:a.jsx(N1,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:j.config.personality.traits.map((E,P)=>a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[E,a.jsx("button",{onClick:()=>v(P),className:"ml-1 text-blue-600 hover:text-blue-800",children:a.jsx(E1,{className:"h-3 w-3"})})]},P))})]}):a.jsx("div",{className:"flex flex-wrap gap-1",children:j.config.personality.traits.map((E,P)=>a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:E},P))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tone"}),o?a.jsx("input",{type:"text",value:j.config.personality.tone,onChange:E=>w("personality","tone",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):a.jsx("p",{className:"text-gray-600",children:j.config.personality.tone})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Response Style"}),o?a.jsx("input",{type:"text",value:j.config.personality.responseStyle,onChange:E=>w("personality","responseStyle",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):a.jsx("p",{className:"text-gray-600",children:j.config.personality.responseStyle})]})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Appearance"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Theme Color"}),o?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"color",value:j.config.appearance.theme,onChange:E=>w("appearance","theme",E.target.value),className:"w-12 h-8 border border-gray-300 rounded"}),a.jsx("input",{type:"text",value:j.config.appearance.theme,onChange:E=>w("appearance","theme",E.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}):a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:j.config.appearance.theme}}),a.jsx("span",{className:"text-sm text-gray-600",children:j.config.appearance.theme})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Avatar"}),o?a.jsx("input",{type:"text",value:j.config.appearance.avatar,onChange:E=>w("appearance","avatar",E.target.value),placeholder:"Enter avatar URL or identifier",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):a.jsx("p",{className:"text-sm text-gray-600",children:j.config.appearance.avatar})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Welcome Message"}),o?a.jsx("textarea",{value:j.config.appearance.welcomeMessage,onChange:E=>w("appearance","welcomeMessage",E.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):a.jsx("p",{className:"text-sm text-gray-600",children:j.config.appearance.welcomeMessage})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Behavior"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Response Length"}),o?a.jsx("input",{type:"number",value:j.config.behavior.maxResponseLength,onChange:E=>w("behavior","maxResponseLength",parseInt(E.target.value)),min:"100",max:"2000",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):a.jsxs("p",{className:"text-gray-600",children:[j.config.behavior.maxResponseLength," characters"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conversation Memory"}),o?a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:j.config.behavior.conversationMemory,onChange:E=>w("behavior","conversationMemory",E.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Enable conversation memory"})]}):a.jsx("p",{className:"text-gray-600",children:j.config.behavior.conversationMemory?"Enabled":"Disabled"})]})]})]})]})]}),j.config.knowledgeBase.sources&&j.config.knowledgeBase.sources.length>0&&a.jsx("div",{className:"mt-8",children:a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Knowledge Sources"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:j.config.knowledgeBase.sources.map((E,P)=>{var I;return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:E.type}),a.jsx("span",{className:"text-xs text-gray-500",children:(I=E.metadata)!=null&&I.fileSize?`${E.metadata.fileSize} bytes`:"N/A"})]}),a.jsx("p",{className:"text-sm text-gray-600 truncate",children:E.content}),E.metadata&&Object.keys(E.metadata).length>0&&a.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:Object.entries(E.metadata).map(([U,q],O)=>a.jsxs("span",{className:"text-xs text-gray-500",children:[U,": ",q]},O))})]},P)})})]})}),a.jsx("div",{className:"mt-8",children:a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Knowledge Base Context"}),o?a.jsx("textarea",{value:j.config.knowledgeBase.context,onChange:E=>w("knowledgeBase","context",E.target.value),rows:4,placeholder:"Enter additional context or instructions for the agent...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):a.jsx("p",{className:"text-gray-600 text-sm",children:j.config.knowledgeBase.context||"No knowledge base context configured"})]})})]})}):null},hk=({sessionToken:e,onSelectAgent:t,selectedAgent:r})=>{const[i,o]=A.useState([]),[c,d]=A.useState(!0),[u,h]=A.useState(null),[g,p]=A.useState(null);A.useEffect(()=>{(async()=>{if(e)try{d(!0),h(null);const U=(await Nt.getUserAgents()).map(q=>({id:q.id,name:q.name,description:q.description,status:"Active"in q.status?"Active":"Inactive"in q.status?"Inactive":"Draft",created:new Date(Number(q.created)/1e6).toISOString(),config:{personality:{traits:q.config.personality.traits,tone:q.config.personality.tone,responseStyle:q.config.personality.style},knowledgeBase:{documents:[],sources:q.config.knowledgeBase.map(O=>({type:"Manual"in O.sourceType?"Manual":"URL"in O.sourceType?"URL":"Document"in O.sourceType?"Document":"API"in O.sourceType?"API":"Database",content:O.content,metadata:O.metadata.reduce((Q,[X,z])=>(Q[X]=z,Q),{})})),context:q.config.knowledgeBase.map(O=>O.content).join(" ")},behavior:{maxResponseLength:500,conversationMemory:!0,escalationRules:[]},appearance:{avatar:Array.isArray(q.config.appearance.avatar)&&q.config.appearance.avatar.length>0?q.config.appearance.avatar[0]:"default",theme:q.config.appearance.primaryColor,welcomeMessage:"Hello! How can I help you today?"}},avatar:Array.isArray(q.config.appearance.avatar)&&q.config.appearance.avatar.length>0?q.config.appearance.avatar[0]:"",lastUpdated:new Date().toISOString()}));o(U)}catch(I){console.error("Error loading agents:",I),h("Failed to load agents. Please try again."),o([])}finally{d(!1)}})()},[e]);const m=P=>{t(P)},w=P=>{p(P)},_=()=>{p(null)},v=async(P,I)=>{try{const U=i.find(Q=>Q.id===P);if(!U)return;const q={...U,...I},O={personality:{traits:q.config.personality.traits,tone:q.config.personality.tone,style:q.config.personality.responseStyle,communicationStyle:{Conversational:null},responsePattern:{Detailed:null}},behavior:{responseLength:{Medium:null},temperature:.7,creativity:.5,topP:.9,contextWindow:BigInt(4e3),maxTokens:BigInt(1e3),frequencyPenalty:0,presencePenalty:0,systemPromptTemplate:"You are a helpful AI assistant."},appearance:{primaryColor:q.config.appearance.theme,secondaryColor:"#ffffff",accentColor:"#3b82f6",borderRadius:"8px",avatar:q.config.appearance.avatar?[q.config.appearance.avatar]:[],customCSS:[],fontFamily:"Inter",fontSize:"14px",theme:{Auto:null}},contextSettings:{enableLearning:!0,enableMemory:!0,maxContextMessages:BigInt(10),memoryDuration:BigInt(3600)},integrationSettings:{allowedOrigins:[],rateLimiting:{enabled:!1,maxRequestsPerHour:BigInt(100),maxTokensPerHour:BigInt(1e4)},webhooks:[]},knowledgeBase:q.config.knowledgeBase.sources.map(Q=>({id:Math.random().toString(36).substr(2,9),content:Q.content,sourceType:Q.type==="Manual"?{Manual:null}:Q.type==="URL"?{URL:null}:Q.type==="Document"?{Document:null}:Q.type==="API"?{API:null}:{Database:null},metadata:Q.metadata?Object.entries(Q.metadata).filter(([X,z])=>X&&z!==void 0).map(([X,z])=>[X,String(z)]):[],isActive:!0,lastUpdated:BigInt(Date.now()),priority:BigInt(1),version:BigInt(1)})),version:BigInt(1)};await Nt.updateAgent(P,O),o(Q=>Q.map(X=>X.id===P?q:X)),(g==null?void 0:g.id)===P&&p(q),(r==null?void 0:r.id)===P&&t(q)}catch(U){console.error("Error updating agent:",U),h("Failed to update agent")}},j=async(P,I)=>{try{const U=I==="Active"?"Inactive":"Active";console.log(`Toggling status for agent ${P} from ${I} to ${U}`),await Nt.updateAgentStatus(P,U);const O=(await Nt.getUserAgents()).map(Q=>({id:Q.id,name:Q.name,description:Q.description,status:"Active"in Q.status?"Active":"Inactive"in Q.status?"Inactive":"Draft",created:new Date(Number(Q.created)/1e6).toISOString(),config:{personality:{traits:Q.config.personality.traits,tone:Q.config.personality.tone,responseStyle:Q.config.personality.style},knowledgeBase:{documents:[],sources:Q.config.knowledgeBase.map(X=>({type:"Manual"in X.sourceType?"Manual":"URL"in X.sourceType?"URL":"Document"in X.sourceType?"Document":"API"in X.sourceType?"API":"Database",content:X.content,metadata:X.metadata.reduce((z,[K,W])=>(z[K]=W,z),{})})),context:Q.config.knowledgeBase.map(X=>X.content).join(" ")},behavior:{maxResponseLength:500,conversationMemory:!0,escalationRules:[]},appearance:{avatar:Q.config.appearance.avatar.length>0?Q.config.appearance.avatar[0]:"",theme:Q.config.appearance.primaryColor,welcomeMessage:"Hello! How can I help you today?"}},avatar:Q.config.appearance.avatar.length>0?Q.config.appearance.avatar[0]:"",lastUpdated:new Date(Number(Q.updated)/1e6).toISOString()}));o(O)}catch(U){console.error("Error toggling agent status:",U),h("Failed to update agent status")}},E=async P=>{try{await Nt.deleteAgent(P),console.log(`Agent ${P} deleted successfully`),o(I=>I.filter(U=>U.id!==P)),(r==null?void 0:r.id)===P&&t(null)}catch(I){console.error("Error deleting agent:",I),h("Failed to delete agent")}};return c?a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded-md w-1/4 mb-6"}),a.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((P,I)=>a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-4"}),a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"})]},I))})]})}):u?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-red-600 mb-4",children:u}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Retry"})]}):i.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-500 mb-4",children:"No agents found"}),a.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Create your first AI agent to get started"}),a.jsx("button",{onClick:()=>window.location.href="/create",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Create Agent"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"My Agents"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage and configure your AI agents."})]}),a.jsx("div",{className:"mt-4 flex md:ml-4 md:mt-0",children:a.jsx("button",{onClick:()=>window.location.href="/create",className:"inline-flex items-center gap-x-2 rounded-md bg-blue-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600",children:"Create New Agent"})})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:i.map(P=>a.jsxs("div",{className:`bg-white rounded-lg shadow border border-gray-200 p-6 cursor-pointer transition-all duration-200 hover:shadow-md ${(r==null?void 0:r.id)===P.id?"ring-2 ring-blue-500":""}`,onClick:()=>m(P),children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:P.name}),a.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:P.description})]}),a.jsx("span",{className:`ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P.status==="Active"?"bg-green-100 text-green-800":P.status==="Inactive"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:P.status})]}),a.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:a.jsxs("span",{children:["Created: ",new Date(P.created).toLocaleDateString()]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:I=>{I.stopPropagation(),w(P)},className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(b1,{className:"h-3 w-3 mr-1"}),"View"]}),a.jsx("button",{onClick:I=>{I.stopPropagation(),j(P.id,P.status)},className:`inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded focus:outline-none focus:ring-2 focus:ring-offset-2 ${P.status==="Active"?"text-orange-700 bg-orange-100 hover:bg-orange-200 focus:ring-orange-500":"text-green-700 bg-green-100 hover:bg-green-200 focus:ring-green-500"}`,children:P.status==="Active"?a.jsxs(a.Fragment,{children:[a.jsx(Z6,{className:"h-3 w-3 mr-1"}),"Pause"]}):a.jsxs(a.Fragment,{children:[a.jsx(B0,{className:"h-3 w-3 mr-1"}),"Activate"]})})]}),a.jsxs("button",{onClick:I=>{I.stopPropagation(),E(P.id)},className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[a.jsx(E1,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]},P.id))}),i.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-500 mb-4",children:"No agents found"}),a.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Create your first AI agent to get started"}),a.jsx("button",{onClick:()=>window.location.href="/create",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Create Agent"})]}),g&&a.jsx(fk,{agent:g,onClose:_,onEdit:P=>p(P),onUpdate:v})]})},V1=({sessionToken:e,agent:t})=>{const[r,i]=A.useState([]),[o,c]=A.useState(""),[d,u]=A.useState(!1),h=A.useRef(null);A.useEffect(()=>{i([{id:"welcome",content:t.config.appearance.welcomeMessage,sender:"agent",timestamp:new Date,agentName:t.name}])},[t]),A.useEffect(()=>{var w;(w=h.current)==null||w.scrollIntoView({behavior:"smooth"})},[r]);const g=async w=>{if(w.preventDefault(),!o.trim()||d)return;const _={id:Date.now().toString(),content:o,sender:"user",timestamp:new Date};i(v=>[...v,_]),c(""),u(!0);try{let v;if(t.name.includes("Demo Agent")||t.id==="demo"||t.id.startsWith("agent_")){const P=[`Thanks for your message: "${o}". This is a demo response from ${t.name}.`,`I understand you're asking about "${o}". In demo mode, I can show you how the chat interface works!`,`Hello! You said: "${o}". This embed widget is working correctly in demo mode.`,`Great question about "${o}"! This demonstrates the chat functionality of the embed widget.`,`I received your message: "${o}". The embed widget is functioning properly with customizable themes and responses.`];await new Promise(I=>setTimeout(I,1e3+Math.random()*1e3)),v=P[Math.floor(Math.random()*P.length)]}else v=await Nt.processChat(t.id,o,e||"");const E={id:(Date.now()+1).toString(),content:v,sender:"agent",timestamp:new Date,agentName:t.name};i(P=>[...P,E])}catch(v){console.error("Failed to get response:",v);const j={id:(Date.now()+1).toString(),content:`I'm currently in demo mode. Your message "${o}" was received, but I can't connect to the full AI service right now. This shows how error handling works in the embed widget!`,sender:"agent",timestamp:new Date,agentName:t.name,isError:!1};i(E=>[...E,j])}finally{u(!1)}},p=w=>w.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),m=w=>{const _={blue:"bg-blue-500",green:"bg-green-500",purple:"bg-purple-500",orange:"bg-orange-500"};return _[w]||_.blue};return a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 h-[600px] flex flex-col",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-10 h-10 ${m(t.config.appearance.theme)} rounded-full flex items-center justify-center`,children:a.jsx("span",{className:"text-white font-medium text-sm",children:t.name.charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t.name}),a.jsx("p",{className:"text-sm text-gray-500",children:t.description})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[r.map(w=>a.jsx("div",{className:`flex ${w.sender==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${w.sender==="user"?"bg-primary-600 text-white":w.isError?"bg-red-100 text-red-800":"bg-gray-100 text-gray-900"}`,children:[a.jsx("p",{className:"text-sm",children:w.content}),a.jsxs("div",{className:`flex items-center justify-between mt-2 text-xs ${w.sender==="user"?"text-primary-100":w.isError?"text-red-600":"text-gray-500"}`,children:[w.sender==="agent"&&w.agentName&&a.jsx("span",{className:"mr-2",children:w.agentName}),p(w.timestamp)]})]})},w.id)),d&&a.jsx("div",{className:"flex justify-start",children:a.jsx("div",{className:"bg-gray-100 text-gray-900 px-4 py-2 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"animate-bounce space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),a.jsx("span",{className:"text-sm",children:"Agent is typing..."})]})})}),a.jsx("div",{ref:h})]}),a.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:a.jsxs("form",{onSubmit:g,className:"flex space-x-3",children:[a.jsx("input",{type:"text",value:o,onChange:w=>c(w.target.value),placeholder:"Type your message...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:d}),a.jsx("button",{type:"submit",disabled:!o.trim()||d,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a.jsx(D6,{className:"h-5 w-5"})})]})})]})})},pk=({sessionToken:e,identity:t})=>{const[r,i]=A.useState(null),[o,c]=A.useState(null),[d,u]=A.useState(!0),[h,g]=A.useState(null),[p,m]=A.useState(!1),[w,_]=A.useState(""),[v,j]=A.useState(!1),[E,P]=A.useState(!1),[I,U]=A.useState(null);A.useEffect(()=>{q(),O()},[t]);const q=async()=>{try{u(!0),g(null);const[W,ie,fe]=await Promise.allSettled([Nt.getUserBalance(),Nt.getUsageHistory(50),Nt.getUserAgents()]),T=W.status==="fulfilled"?W.value:null,V=ie.status==="fulfilled"?ie.value:[],G=fe.status==="fulfilled"?fe.value:[],ee=new Date,le=new Date;le.setMonth(le.getMonth()-1);const te=V.filter(Ae=>{const pe=new Date(Ae.timestamp);return pe.getMonth()===ee.getMonth()&&pe.getFullYear()===ee.getFullYear()}),ge=V.filter(Ae=>{const pe=new Date(Ae.timestamp);return pe.getMonth()===le.getMonth()&&pe.getFullYear()===le.getFullYear()}),_e=te.reduce((Ae,pe)=>Ae+pe.tokens,0),Y=ge.reduce((Ae,pe)=>Ae+pe.tokens,0),me=te.reduce((Ae,pe)=>Ae+pe.cost,0),Be=ge.reduce((Ae,pe)=>Ae+pe.cost,0),H={userId:t!=null&&t.getPrincipal()&&typeof t.getPrincipal().toString=="function"?t.getPrincipal().toString():"unknown",tier:(T==null?void 0:T.currentTier)||"Base",balance:(T==null?void 0:T.balance)||0,currency:"USD",joinDate:new Date().toISOString(),totalAgents:G.length,totalConversations:G.reduce((Ae,pe)=>{var de;return Ae+(((de=pe.analytics)==null?void 0:de.totalConversations)||0)},0),totalMessages:G.reduce((Ae,pe)=>{var de;return Ae+(((de=pe.analytics)==null?void 0:de.totalMessages)||0)},0)},Pe={currentMonth:{messages:te.length,tokensUsed:_e,cost:me},lastMonth:{messages:ge.length,tokensUsed:Y,cost:Be},billing:[]};i(H),c(Pe)}catch(W){console.error("Failed to load profile:",W),g("Failed to load profile data. Please try again.");const ie={userId:t!=null&&t.getPrincipal()&&typeof t.getPrincipal().toString=="function"?t.getPrincipal().toString():"unknown",tier:"Base",balance:0,currency:"USD",joinDate:new Date().toISOString(),totalAgents:0,totalConversations:0,totalMessages:0};i(ie),c({currentMonth:{messages:0,tokensUsed:0,cost:0},lastMonth:{messages:0,tokensUsed:0,cost:0},billing:[]})}finally{u(!1)}},O=async()=>{try{const W=await Nt.getMetricsCollectorHealth();U(W)}catch(W){console.error("Failed to load system health:",W)}},Q=async()=>{if(!w||isNaN(Number(w))){g("Please enter a valid amount");return}const W=Number(w);if(W<=0){g("Amount must be greater than 0");return}try{j(!0),g(null),await Nt.addBalance(W),P(!0),_(""),await q(),setTimeout(()=>{P(!1),m(!1)},3e3)}catch(ie){console.error("Failed to add balance:",ie),g(ie instanceof Error?ie.message:"Failed to add balance")}finally{j(!1)}},X=W=>!W||typeof W!="string"?"Unknown":W.length>20?W.slice(0,10)+"..."+W.slice(-10):W,z=W=>{const ie={Base:"bg-gray-100 text-gray-800",Standard:"bg-blue-100 text-blue-800",Professional:"bg-purple-100 text-purple-800",Enterprise:"bg-green-100 text-green-800"};return ie[W]||ie.Base},K=W=>{const ie={Base:["Basic chat functionality","Up to 1,000 messages/month","Standard support"],Standard:["Advanced chat features","Up to 10,000 messages/month","Priority support","Custom agents"],Professional:["All Standard features","Up to 100,000 messages/month","API access","Advanced analytics"],Enterprise:["All Professional features","Unlimited messages","Dedicated support","Custom integrations"]};return ie[W]||ie.Base};return d?a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded-md w-1/4 mb-6"}),a.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((W,ie)=>a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),a.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"})]},ie))})]})}):r?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"User Profile"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your account, balance, and view detailed usage statistics."})]}),a.jsx("div",{className:"mt-4 flex space-x-3 md:ml-4 md:mt-0",children:a.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(N1,{className:"h-4 w-4 mr-2"}),"Add Balance"]})})]}),h&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx($u,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-red-800",children:h})})]})}),E&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(P0,{className:"h-5 w-5 text-green-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-green-800",children:"Balance added successfully!"})})]})}),a.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Account Information"}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"User ID"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900 font-mono break-all",children:X(r.userId)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Account Tier"}),a.jsx("div",{className:"mt-1",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${z(r.tier)}`,children:r.tier})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Balance"}),a.jsxs("p",{className:"mt-1 text-lg font-semibold text-green-600",children:["$",r.balance.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Member Since"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(r.joinDate).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Agents"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.totalAgents})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Messages"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.totalMessages.toLocaleString()})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsx("div",{className:"bg-white px-4 py-6 shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 bg-blue-50 p-3 rounded-lg",children:a.jsx(Ly,{className:"h-6 w-6 text-blue-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Agents"}),a.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:r.totalAgents})]})})]})}),a.jsx("div",{className:"bg-white px-4 py-6 shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 bg-green-50 p-3 rounded-lg",children:a.jsx(R0,{className:"h-6 w-6 text-green-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Conversations"}),a.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:r.totalConversations.toLocaleString()})]})})]})}),a.jsx("div",{className:"bg-white px-4 py-6 shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 bg-purple-50 p-3 rounded-lg",children:a.jsx(Ma,{className:"h-6 w-6 text-purple-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Messages"}),a.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:r.totalMessages.toLocaleString()})]})})]})}),a.jsx("div",{className:"bg-white px-4 py-6 shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 bg-green-50 p-3 rounded-lg",children:a.jsx(Xh,{className:"h-6 w-6 text-green-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Balance"}),a.jsxs("dd",{className:"text-2xl font-semibold text-gray-900",children:["$",r.balance.toFixed(2)]})]})})]})})]}),a.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:[r.tier," Tier Benefits"]}),a.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:K(r.tier).map((W,ie)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx(P0,{className:"h-5 w-5 text-green-500 mt-0.5 mr-3 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-gray-700",children:W})]},ie))})]})}),o&&a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[a.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Current Month Usage"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ma,{className:"h-5 w-5 text-gray-400 mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Messages"})]}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.currentMonth.messages.toLocaleString()})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Uu,{className:"h-5 w-5 text-gray-400 mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Tokens Used"})]}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.currentMonth.tokensUsed.toLocaleString()})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Xh,{className:"h-5 w-5 text-gray-400 mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Cost"})]}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",o.currentMonth.cost.toFixed(4)]})]})]})]})}),a.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Last Month Usage"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ma,{className:"h-5 w-5 text-gray-400 mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Messages"})]}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.lastMonth.messages.toLocaleString()})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Uu,{className:"h-5 w-5 text-gray-400 mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Tokens Used"})]}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.lastMonth.tokensUsed.toLocaleString()})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Xh,{className:"h-5 w-5 text-gray-400 mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Cost"})]}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",o.lastMonth.cost.toFixed(4)]})]})]})]})})]}),I&&a.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Status"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-700",children:"System Status"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${I.status==="healthy"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:I.status})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-700",children:"Total Users"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:I.totalUsers.toLocaleString()})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-700",children:"Total Transactions"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:I.totalTransactions.toLocaleString()})]})]})]})}),p&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add Balance"}),a.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Yo,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (USD)"}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:w,onChange:W=>_(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter amount"})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[a.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),a.jsx("button",{onClick:Q,disabled:v,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Adding...":"Add Balance"})]})]})})})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ly,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Profile not available"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Unable to load user profile data."})]})},mk=({agent:e,canisterId:t})=>{const[r,i]=A.useState(""),[o,c]=A.useState("generator"),[d,u]=A.useState(null),[h,g]=A.useState("preview"),[p,m]=A.useState({width:"400px",height:"600px",theme:"light",position:"bottom-right",primaryColor:"#4F46E5",borderRadius:"12px",showHeader:!0,showPoweredBy:!0,minimizable:!0,autoOpen:!1,welcomeMessage:"",placeholder:"Type your message..."});A.useEffect(()=>{e&&w()},[e,p]);const w=()=>{if(!e)return;const P=`
<!-- CanistChat Embed Widget -->
<div id="canistchat-widget-${e.id}"></div>
<script>
(function() {
  // CanistChat Widget Configuration
  const config = {
    agentId: '${e.id}',
    canisterId: '${t}',
    theme: '${p.theme}',
    width: '${p.width}',
    height: '${p.height}',
    position: '${p.position}',
    primaryColor: '${p.primaryColor}',
    borderRadius: '${p.borderRadius}',
    showHeader: ${p.showHeader},
    showPoweredBy: ${p.showPoweredBy},
    minimizable: ${p.minimizable},
    autoOpen: ${p.autoOpen},
    title: '${e.name}',
    subtitle: 'AI Assistant',
    welcomeMessage: '${p.welcomeMessage||`Hello! I'm ${e.name}. How can I help you today?`}',
    placeholder: '${p.placeholder}'
  };

  // Create widget container
  const container = document.getElementById('canistchat-widget-' + config.agentId);
  if (!container) {
    console.error('CanistChat: Widget container not found');
    return;
  }

  // Create main widget wrapper
  const widgetWrapper = document.createElement('div');
  widgetWrapper.style.position = config.position === 'inline' ? 'relative' : 'fixed';
  widgetWrapper.style.zIndex = '9999';
  widgetWrapper.style.fontFamily = '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif';

  // Position widget if floating
  if (config.position !== 'inline') {
    switch(config.position) {
      case 'bottom-right':
        widgetWrapper.style.bottom = '20px';
        widgetWrapper.style.right = '20px';
        break;
      case 'bottom-left':
        widgetWrapper.style.bottom = '20px';
        widgetWrapper.style.left = '20px';
        break;
      case 'top-right':
        widgetWrapper.style.top = '20px';
        widgetWrapper.style.right = '20px';
        break;
      case 'top-left':
        widgetWrapper.style.top = '20px';
        widgetWrapper.style.left = '20px';
        break;
    }
  }

  // Create iframe for secure embedding
  const iframe = document.createElement('iframe');
  const embedUrl = new URL('https://${t}.ic0.app/embed');
  embedUrl.searchParams.set('agent', config.agentId);
  embedUrl.searchParams.set('theme', config.theme);
  embedUrl.searchParams.set('color', encodeURIComponent(config.primaryColor));
  embedUrl.searchParams.set('welcome', encodeURIComponent(config.welcomeMessage));
  embedUrl.searchParams.set('placeholder', encodeURIComponent(config.placeholder));
  
  iframe.src = embedUrl.toString();
  iframe.style.width = config.width;
  iframe.style.height = config.height;
  iframe.style.border = 'none';
  iframe.style.borderRadius = config.borderRadius;
  iframe.style.boxShadow = '0 4px 20px rgba(0,0,0,0.15)';
  iframe.style.transition = 'all 0.3s ease';
  iframe.allow = 'encrypted-media';
  iframe.title = config.title + ' - AI Assistant';
  iframe.loading = 'lazy';

  // Add minimize/maximize functionality
  let isMinimized = !config.autoOpen;
  if (config.minimizable && config.position !== 'inline') {
    const toggleBtn = document.createElement('button');
    toggleBtn.innerHTML = isMinimized ? '💬' : '−';
    toggleBtn.style.position = 'absolute';
    toggleBtn.style.top = '10px';
    toggleBtn.style.right = '10px';
    toggleBtn.style.background = config.primaryColor;
    toggleBtn.style.color = 'white';
    toggleBtn.style.border = 'none';
    toggleBtn.style.borderRadius = '50%';
    toggleBtn.style.width = '40px';
    toggleBtn.style.height = '40px';
    toggleBtn.style.cursor = 'pointer';
    toggleBtn.style.fontSize = '16px';
    toggleBtn.style.zIndex = '10000';
    toggleBtn.style.boxShadow = '0 2px 10px rgba(0,0,0,0.2)';
    toggleBtn.style.transition = 'all 0.3s ease';
    
    toggleBtn.onmouseover = function() {
      toggleBtn.style.transform = 'scale(1.1)';
    };
    toggleBtn.onmouseout = function() {
      toggleBtn.style.transform = 'scale(1)';
    };
    
    toggleBtn.onclick = function() {
      if (isMinimized) {
        iframe.style.height = config.height;
        iframe.style.opacity = '1';
        iframe.style.transform = 'scale(1)';
        toggleBtn.innerHTML = '−';
        widgetWrapper.appendChild(iframe);
      } else {
        iframe.style.height = '0px';
        iframe.style.opacity = '0';
        iframe.style.transform = 'scale(0.8)';
        toggleBtn.innerHTML = '💬';
        if (iframe.parentNode) {
          iframe.parentNode.removeChild(iframe);
        }
      }
      isMinimized = !isMinimized;
    };
    
    widgetWrapper.appendChild(toggleBtn);
    
    // Start minimized if autoOpen is false
    if (!config.autoOpen) {
      iframe.style.height = '0px';
      iframe.style.opacity = '0';
      iframe.style.transform = 'scale(0.8)';
    } else {
      widgetWrapper.appendChild(iframe);
    }
  } else {
    widgetWrapper.appendChild(iframe);
  }

  container.appendChild(widgetWrapper);

  // Add responsive behavior
  const handleResize = () => {
    if (window.innerWidth < 768 && config.position !== 'inline') {
      iframe.style.width = 'calc(100vw - 40px)';
      iframe.style.height = 'calc(100vh - 100px)';
      widgetWrapper.style.bottom = '10px';
      widgetWrapper.style.right = '10px';
      widgetWrapper.style.left = '10px';
    } else {
      iframe.style.width = config.width;
      iframe.style.height = config.height;
    }
  };
  
  window.addEventListener('resize', handleResize);
  handleResize();

  console.log('CanistChat widget loaded successfully');
})();
<\/script>`.trim();i(P)},_=async(P,I)=>{try{await navigator.clipboard.writeText(P),u(I),setTimeout(()=>u(null),2e3)}catch(U){console.error("Failed to copy to clipboard:",U);const q=document.createElement("textarea");q.value=P,document.body.appendChild(q),q.select(),document.execCommand("copy"),document.body.removeChild(q),u(I),setTimeout(()=>u(null),2e3)}},v=()=>e?`import React from 'react';

const CanistChatWidget = () => {
  return (
    <iframe
      src="https://${t}.ic0.app/embed?agent=${encodeURIComponent(e.id)}&theme=${p.theme}&color=${encodeURIComponent(p.primaryColor)}"
      width="${p.width}"
      height="${p.height}"
      style={{
        border: 'none',
        borderRadius: '${p.borderRadius}',
        boxShadow: '0 4px 20px rgba(0,0,0,0.15)'
      }}
      allow="encrypted-media"
      title="${e.name} - AI Assistant"
    />
  );
};

export default CanistChatWidget;`:"",j=()=>e?`<!-- Add this shortcode to any page or post -->
[canistchat agent="${e.id}" theme="${p.theme}" color="${p.primaryColor}" width="${p.width}" height="${p.height}"]

<!-- Or add this to your theme's functions.php file -->
function canistchat_shortcode($atts) {
    $atts = shortcode_atts(array(
        'agent' => '${e.id}',
        'theme' => '${p.theme}',
        'color' => '${p.primaryColor}',
        'width' => '${p.width}',
        'height' => '${p.height}'
    ), $atts);
    
    return '<iframe src="https://${t}.ic0.app/embed?agent=' . esc_attr($atts['agent']) . '&theme=' . esc_attr($atts['theme']) . '&color=' . urlencode($atts['color']) . '" width="' . esc_attr($atts['width']) . '" height="' . esc_attr($atts['height']) . '" style="border: none; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.15);" allow="encrypted-media" title="AI Assistant"></iframe>';
    }
add_shortcode('canistchat', 'canistchat_shortcode');`:"",E=()=>{if(!e)return;const P=`https://${t}.ic0.app/embed?agent=${encodeURIComponent(e.id)}&theme=${p.theme}&color=${encodeURIComponent(p.primaryColor)}`;window.open(P,"_blank","width=500,height=700,scrollbars=yes,resizable=yes")};return e?a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Embed Widget Generator"}),a.jsxs("p",{className:"text-gray-600",children:["Generate embed code and integration instructions for ",a.jsx("strong",{children:e.name})]})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex",children:[a.jsxs("button",{onClick:()=>c("generator"),className:`px-6 py-3 text-sm font-medium border-b-2 ${o==="generator"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(T6,{className:"w-4 h-4 inline mr-2"}),"Generator"]}),a.jsxs("button",{onClick:()=>c("instructions"),className:`px-6 py-3 text-sm font-medium border-b-2 ${o==="instructions"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(G6,{className:"w-4 h-4 inline mr-2"}),"Instructions"]}),a.jsxs("button",{onClick:()=>c("testing"),className:`px-6 py-3 text-sm font-medium border-b-2 ${o==="testing"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(B0,{className:"w-4 h-4 inline mr-2"}),"Testing"]})]})}),a.jsxs("div",{className:"p-6",children:[o==="generator"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Customization Options"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Width"}),a.jsx("input",{type:"text",value:p.width,onChange:P=>m({...p,width:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"400px"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Height"}),a.jsx("input",{type:"text",value:p.height,onChange:P=>m({...p,height:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"600px"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),a.jsxs("select",{value:p.theme,onChange:P=>m({...p,theme:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"light",children:"Light"}),a.jsx("option",{value:"dark",children:"Dark"}),a.jsx("option",{value:"auto",children:"Auto"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position"}),a.jsxs("select",{value:p.position,onChange:P=>m({...p,position:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"inline",children:"Inline"}),a.jsx("option",{value:"bottom-right",children:"Bottom Right"}),a.jsx("option",{value:"bottom-left",children:"Bottom Left"}),a.jsx("option",{value:"top-right",children:"Top Right"}),a.jsx("option",{value:"top-left",children:"Top Left"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color"}),a.jsx("input",{type:"color",value:p.primaryColor,onChange:P=>m({...p,primaryColor:P.target.value}),className:"w-full h-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Border Radius"}),a.jsx("input",{type:"text",value:p.borderRadius,onChange:P=>m({...p,borderRadius:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"12px"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Welcome Message"}),a.jsx("input",{type:"text",value:p.welcomeMessage,onChange:P=>m({...p,welcomeMessage:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Hello! I'm ${e.name}. How can I help you today?`})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Placeholder"}),a.jsx("input",{type:"text",value:p.placeholder,onChange:P=>m({...p,placeholder:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Type your message..."})]})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:p.showHeader,onChange:P=>m({...p,showHeader:P.target.checked}),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Show Header"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:p.showPoweredBy,onChange:P=>m({...p,showPoweredBy:P.target.checked}),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:'Show "Powered by"'})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:p.minimizable,onChange:P=>m({...p,minimizable:P.target.checked}),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Minimizable"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:p.autoOpen,onChange:P=>m({...p,autoOpen:P.target.checked}),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Auto Open"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Preview"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6 border-2 border-dashed border-gray-300",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border overflow-hidden",style:{width:p.width,height:"300px",borderRadius:p.borderRadius,maxWidth:"100%"},children:[p.showHeader&&a.jsx("div",{className:"p-4 text-white",style:{backgroundColor:p.primaryColor},children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center mr-3",children:a.jsx("span",{className:"text-sm",children:"🤖"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:e.name}),a.jsx("p",{className:"text-sm opacity-90",children:"AI Assistant"})]})]})}),a.jsxs("div",{className:`p-4 flex-1 ${p.theme==="dark"?"bg-gray-800 text-white":"bg-white"}`,children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"bg-gray-100 rounded-lg p-3 max-w-xs",children:a.jsx("p",{className:"text-sm",children:p.welcomeMessage||`Hello! I'm ${e.name}. How can I help you today?`})}),a.jsx("div",{className:"flex justify-end",children:a.jsx("div",{className:"bg-blue-500 text-white rounded-lg p-3 max-w-xs",children:a.jsx("p",{className:"text-sm",children:"Hello! Can you help me?"})})})]}),a.jsx("div",{className:"mt-4 pt-4 border-t",children:a.jsx("input",{type:"text",placeholder:p.placeholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",disabled:!0})})]})]})})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Generated Embed Code"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>_(r,"html"),className:"inline-flex items-center px-3 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx($6,{className:"w-4 h-4 mr-2"}),d==="html"?"Copied!":"Copy HTML"]}),a.jsxs("button",{onClick:E,className:"inline-flex items-center px-3 py-2 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:[a.jsx(b1,{className:"w-4 h-4 mr-2"}),"Test Widget"]})]})]}),a.jsx("textarea",{value:r,readOnly:!0,className:"w-full h-40 px-3 py-2 border border-gray-300 rounded-md bg-gray-50 font-mono text-sm focus:outline-none",placeholder:"Embed code will appear here..."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h5",{className:"font-medium text-gray-900",children:"React Component"}),a.jsx("button",{onClick:()=>_(v(),"react"),className:"text-sm text-blue-600 hover:text-blue-700",children:d==="react"?"Copied!":"Copy"})]}),a.jsx("textarea",{value:v(),readOnly:!0,className:"w-full h-32 px-3 py-2 border border-gray-300 rounded-md bg-gray-50 font-mono text-xs"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h5",{className:"font-medium text-gray-900",children:"WordPress Shortcode"}),a.jsx("button",{onClick:()=>_(j(),"wordpress"),className:"text-sm text-blue-600 hover:text-blue-700",children:d==="wordpress"?"Copied!":"Copy"})]}),a.jsx("textarea",{value:j(),readOnly:!0,className:"w-full h-32 px-3 py-2 border border-gray-300 rounded-md bg-gray-50 font-mono text-xs"})]})]})]}),o==="instructions"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[a.jsx(P0,{className:"w-5 h-5 text-green-500 mr-2"}),"Quick Start Guide"]}),a.jsx("div",{className:"bg-green-50 rounded-lg p-6",children:a.jsxs("ol",{className:"space-y-3 text-sm",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-green-600 text-white rounded-full flex items-center justify-center text-xs mr-3 mt-0.5",children:"1"}),a.jsxs("div",{children:[a.jsx("strong",{children:"Copy the embed code"})," from the Generator tab above"]})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-green-600 text-white rounded-full flex items-center justify-center text-xs mr-3 mt-0.5",children:"2"}),a.jsxs("div",{children:[a.jsx("strong",{children:"Paste it into your website's HTML"})," where you want the chat widget to appear"]})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-green-600 text-white rounded-full flex items-center justify-center text-xs mr-3 mt-0.5",children:"3"}),a.jsxs("div",{children:[a.jsx("strong",{children:"Save and publish"})," your page - the widget will automatically load and connect to your agent"]})]})]})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Platform-Specific Instructions"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(W6,{className:"w-6 h-6 text-blue-600 mr-2"}),a.jsx("h5",{className:"font-medium",children:"WordPress"})]}),a.jsxs("ol",{className:"text-sm space-y-2 text-gray-600",children:[a.jsx("li",{children:"1. Go to your WordPress admin panel"}),a.jsx("li",{children:"2. Edit the page/post where you want the widget"}),a.jsx("li",{children:'3. Switch to "Text" or "HTML" mode'}),a.jsx("li",{children:"4. Paste the embed code"}),a.jsx("li",{children:"5. Update/publish the page"})]})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(P6,{className:"w-6 h-6 text-green-600 mr-2"}),a.jsx("h5",{className:"font-medium",children:"Shopify"})]}),a.jsxs("ol",{className:"text-sm space-y-2 text-gray-600",children:[a.jsx("li",{children:"1. Go to Online Store → Themes"}),a.jsx("li",{children:'2. Click "Actions" → "Edit code"'}),a.jsx("li",{children:"3. Find your theme.liquid file"}),a.jsx("li",{children:"4. Paste the code before </body>"}),a.jsx("li",{children:"5. Save the file"})]})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(F6,{className:"w-6 h-6 text-purple-600 mr-2"}),a.jsx("h5",{className:"font-medium",children:"Squarespace"})]}),a.jsxs("ol",{className:"text-sm space-y-2 text-gray-600",children:[a.jsx("li",{children:"1. Go to Settings → Advanced → Code Injection"}),a.jsx("li",{children:'2. Paste the code in "Footer"'}),a.jsx("li",{children:"3. Or use a Code Block on specific pages"}),a.jsx("li",{children:"4. Save and publish"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Advanced Configuration"}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[a.jsx("h5",{className:"font-medium text-blue-900 mb-3",children:"Customization Options"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("h6",{className:"font-medium text-blue-800 mb-2",children:"Position Options"}),a.jsxs("ul",{className:"space-y-1 text-blue-700",children:[a.jsxs("li",{children:["• ",a.jsx("code",{children:"inline"})," - Embedded in page content"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"bottom-right"})," - Floating bottom right"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"bottom-left"})," - Floating bottom left"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"top-right"})," - Floating top right"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"top-left"})," - Floating top left"]})]})]}),a.jsxs("div",{children:[a.jsx("h6",{className:"font-medium text-blue-800 mb-2",children:"Theme Options"}),a.jsxs("ul",{className:"space-y-1 text-blue-700",children:[a.jsxs("li",{children:["• ",a.jsx("code",{children:"light"})," - Light theme"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"dark"})," - Dark theme"]}),a.jsxs("li",{children:["• ",a.jsx("code",{children:"auto"})," - Matches system preference"]})]})]})]})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[a.jsx($u,{className:"w-5 h-5 text-yellow-500 mr-2"}),"Troubleshooting"]}),a.jsx("div",{className:"bg-yellow-50 rounded-lg p-6",children:a.jsxs("div",{className:"space-y-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("h6",{className:"font-medium text-yellow-800 mb-1",children:"Widget not appearing?"}),a.jsx("p",{className:"text-yellow-700",children:"Check that the container div ID matches the agent ID in the script."})]}),a.jsxs("div",{children:[a.jsx("h6",{className:"font-medium text-yellow-800 mb-1",children:"Widget not loading?"}),a.jsx("p",{className:"text-yellow-700",children:"Ensure your website allows iframe content and check browser console for errors."})]}),a.jsxs("div",{children:[a.jsx("h6",{className:"font-medium text-yellow-800 mb-1",children:"Styling issues?"}),a.jsx("p",{className:"text-yellow-700",children:"The widget uses iframe isolation, so your site's CSS won't affect it. Customize using the options above."})]})]})})]})]}),o==="testing"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Test Your Widget"}),a.jsxs("div",{className:"flex space-x-4 mb-6",children:[a.jsx("button",{onClick:()=>g("preview"),className:`px-4 py-2 rounded-md text-sm font-medium ${h==="preview"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Preview Mode"}),a.jsx("button",{onClick:()=>g("live"),className:`px-4 py-2 rounded-md text-sm font-medium ${h==="live"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Live Test"})]})]}),h==="preview"&&a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Widget Preview"}),a.jsx("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:a.jsx("div",{className:"mx-auto",style:{width:p.width,maxWidth:"100%"},children:a.jsx("iframe",{src:`/embed?agent=${encodeURIComponent(e.id)}&theme=${p.theme}&color=${encodeURIComponent(p.primaryColor)}`,width:"100%",height:p.height,style:{border:"none",borderRadius:p.borderRadius,boxShadow:"0 4px 20px rgba(0,0,0,0.15)"},title:`${e.name} - AI Assistant Preview`})})})]}),h==="live"&&a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Live Testing"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:E,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:[a.jsx(B0,{className:"w-4 h-4 mr-2"}),"Open Widget in New Window"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"This will open your widget in a new window so you can test the full functionality, including chat interactions and responsiveness."})]})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Testing Checklist"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-start",children:[a.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),a.jsx("span",{className:"text-sm",children:"Widget loads correctly"})]}),a.jsxs("label",{className:"flex items-start",children:[a.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),a.jsx("span",{className:"text-sm",children:"Chat interface is responsive"})]}),a.jsxs("label",{className:"flex items-start",children:[a.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),a.jsx("span",{className:"text-sm",children:"Messages send and receive properly"})]}),a.jsxs("label",{className:"flex items-start",children:[a.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),a.jsx("span",{className:"text-sm",children:"Styling matches your preferences"})]}),a.jsxs("label",{className:"flex items-start",children:[a.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),a.jsx("span",{className:"text-sm",children:"Widget works on mobile devices"})]}),a.jsxs("label",{className:"flex items-start",children:[a.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),a.jsx("span",{className:"text-sm",children:"Minimize/maximize functionality works (if enabled)"})]})]})})]})]})]})]}):a.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[a.jsx(C6,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Embed Widget Generator"}),a.jsx("p",{className:"text-gray-500",children:"Select an agent to generate embed code and integration instructions"})]})},gk=({sessionToken:e,selectedAgent:t,refreshKey:r})=>{const[i,o]=A.useState({overview:{totalMessages:0,totalConversations:0,averageResponseTime:0,successRate:0,totalTokensUsed:0},agentPerformance:[],usageHistory:[],userBalance:null}),[c,d]=A.useState(!0),[u,h]=A.useState("7d"),[g,p]=A.useState("messages"),[m,w]=A.useState(null);A.useEffect(()=>{(async()=>{var P,I,U;if(e)try{d(!0),w(null);const q=await Nt.getComprehensiveAnalytics();console.log("Analytics data loaded:",q),console.log("Data structure check:",{hasOverview:!!q.overview,overviewKeys:q.overview?Object.keys(q.overview):[],totalMessages:(P=q.overview)==null?void 0:P.totalMessages,totalConversations:(I=q.overview)==null?void 0:I.totalConversations,averageResponseTime:(U=q.overview)==null?void 0:U.averageResponseTime}),o(q)}catch(q){console.error("Error loading analytics data:",q),w("Failed to load analytics data. Please try again."),o({overview:{totalMessages:0,totalConversations:0,averageResponseTime:0,successRate:0,totalTokensUsed:0},agentPerformance:[],usageHistory:[],userBalance:null})}finally{d(!1)}})()},[e,r]);const _=[{name:"Total Messages",value:i.overview.totalMessages.toLocaleString(),change:i.overview.totalMessages>0?"+12.5%":"0%",changeType:i.overview.totalMessages>0?"increase":"neutral",icon:Ma,color:"text-blue-600",bgColor:"bg-blue-50"},{name:"Total Conversations",value:i.overview.totalConversations.toLocaleString(),change:i.overview.totalConversations>0?"+8.3%":"0%",changeType:i.overview.totalConversations>0?"increase":"neutral",icon:Vy,color:"text-green-600",bgColor:"bg-green-50"},{name:"Avg Response Time",value:`${i.overview.averageResponseTime.toFixed(1)}s`,change:i.overview.averageResponseTime>0?"-15.2%":"0%",changeType:i.overview.averageResponseTime>0?"decrease":"neutral",icon:j6,color:"text-purple-600",bgColor:"bg-purple-50"},{name:"Success Rate",value:`${i.overview.successRate.toFixed(1)}%`,change:i.overview.successRate>95?"+2.1%":"0%",changeType:i.overview.successRate>95?"increase":"neutral",icon:R0,color:"text-orange-600",bgColor:"bg-orange-50"}],v=[{value:"7d",label:"7 Days"},{value:"30d",label:"30 Days"},{value:"90d",label:"90 Days"},{value:"1y",label:"1 Year"}],j=E=>typeof E=="string"?E:E.AddBalance!==void 0?"Top Up Balance":E.AgentCreation!==void 0?"Agent Creation":E.DocumentUpload!==void 0?"Document Upload":E.CustomPromptTraining!==void 0?"Custom Prompt Training":E.MessageProcessing!==void 0?"Message Processing":"Unknown";return c?a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded-md w-1/4 mb-6"}),a.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((E,P)=>a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),a.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"})]},P))})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Analytics"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comprehensive insights into your AI agent performance and usage patterns."})]}),a.jsx("div",{className:"mt-4 flex space-x-3 md:ml-4 md:mt-0",children:a.jsx("select",{value:u,onChange:E=>h(E.target.value),className:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:v.map(E=>a.jsx("option",{value:E.value,children:E.label},E.value))})})]}),m&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx($u,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-red-800",children:m})})]})}),a.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:_.map(E=>a.jsx("div",{className:"bg-white px-4 py-6 shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex-shrink-0 ${E.bgColor} p-3 rounded-lg`,children:a.jsx(E.icon,{className:`h-6 w-6 ${E.color}`})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:E.name}),a.jsxs("dd",{className:"flex items-baseline",children:[a.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:E.value}),E.changeType!=="neutral"&&a.jsxs("div",{className:`ml-2 flex items-baseline text-sm font-semibold ${E.changeType==="increase"?"text-green-600":"text-red-600"}`,children:[E.changeType==="increase"?a.jsx(w6,{className:"h-4 w-4 flex-shrink-0"}):a.jsx(m6,{className:"h-4 w-4 flex-shrink-0"}),a.jsxs("span",{className:"sr-only",children:[E.changeType==="increase"?"Increased":"Decreased"," by"]}),E.change]})]})]})})]})},E.name))}),i.userBalance&&a.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Account Balance"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 bg-green-50 p-3 rounded-lg",children:a.jsx(I6,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Current Balance"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",i.userBalance.balance.toFixed(2)]})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 bg-blue-50 p-3 rounded-lg",children:a.jsx(Uu,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Current Tier"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:i.userBalance.currentTier})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 bg-purple-50 p-3 rounded-lg",children:a.jsx(Ma,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Monthly Usage"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:i.userBalance.monthlyUsage.toLocaleString()})]})]})]})]})}),a.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Agent Performance"}),i.agentPerformance.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Messages"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Conversations"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tokens Used"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Response Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Satisfaction"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.agentPerformance.map(E=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.agentName}),a.jsx("div",{className:"text-sm text-gray-500",children:E.agentId})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${E.status==="Active"?"bg-green-100 text-green-800":E.status==="Inactive"?"bg-gray-100 text-gray-800":E.status==="Suspended"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:E.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.messages.toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.conversations.toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.tokensUsed.toLocaleString()}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[E.avgResponseTime.toFixed(1),"s"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hy,{className:"h-4 w-4 text-yellow-400 mr-1"}),a.jsx("span",{className:"text-sm text-gray-900",children:E.satisfaction.toFixed(1)})]})})]},E.agentId))})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(R0,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No performance data available"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start using your agents to see performance metrics."})]})]})}),a.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Usage History"}),i.usageHistory.length>0?a.jsx("div",{className:"overflow-x-auto max-h-96 overflow-y-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50 sticky top-0 bg-white z-10",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Operation"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tokens"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.usageHistory.filter(E=>typeof E.timestamp=="number"&&!isNaN(E.timestamp)&&E.timestamp>0&&typeof E.cost=="number"&&typeof E.tokens=="number").sort((E,P)=>P.timestamp-E.timestamp).slice(0,10).map(E=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:typeof E.timestamp=="number"&&!isNaN(E.timestamp)&&E.timestamp>0?new Date(E.timestamp/1e6).toLocaleDateString():"Invalid Date"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.agentId}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(E.operation)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.tokens.toLocaleString()}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",E.cost.toFixed(4)]})]},E.id))})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ma,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No usage history available"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Usage data will appear here as you interact with your agents."})]})]})}),a.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Key Insights"}),i.overview.totalMessages>0||i.agentPerformance.length>0?a.jsxs("div",{className:"space-y-4",children:[i.overview.totalMessages>0&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(x6,{className:"h-5 w-5 text-green-500"})}),a.jsx("div",{className:"ml-3",children:a.jsxs("p",{className:"text-sm text-gray-900",children:[a.jsxs("strong",{children:["Total of ",i.overview.totalMessages.toLocaleString()," messages processed"]})," across all your agents. Your AI assistants are actively helping users with their queries."]})})]}),i.overview.totalConversations>0&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Vy,{className:"h-5 w-5 text-blue-500"})}),a.jsx("div",{className:"ml-3",children:a.jsxs("p",{className:"text-sm text-gray-900",children:[a.jsxs("strong",{children:[i.overview.totalConversations.toLocaleString()," conversations initiated"]})," with your agents. Users are engaging meaningfully with your AI assistants."]})})]}),i.overview.totalTokensUsed>0&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Uu,{className:"h-5 w-5 text-purple-500"})}),a.jsx("div",{className:"ml-3",children:a.jsxs("p",{className:"text-sm text-gray-900",children:[a.jsxs("strong",{children:[i.overview.totalTokensUsed.toLocaleString()," tokens consumed"]})," for AI processing. This represents the computational resources used by your agents."]})})]}),i.agentPerformance.length>0&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Hy,{className:"h-5 w-5 text-yellow-500"})}),a.jsx("div",{className:"ml-3",children:a.jsxs("p",{className:"text-sm text-gray-900",children:[a.jsxs("strong",{children:[i.agentPerformance.length," active agents"]})," in your system. Consider optimizing high-performing agents and improving underperforming ones."]})})]})]}):a.jsxs("div",{className:"text-center py-6",children:[a.jsx($u,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No data available"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start using your agents to generate analytics insights."})]})]})})]})};function st(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Fi(e,t=[]){let r=[];function i(c,d){const u=A.createContext(d),h=r.length;r=[...r,d];const g=m=>{var P;const{scope:w,children:_,...v}=m,j=((P=w==null?void 0:w[e])==null?void 0:P[h])||u,E=A.useMemo(()=>v,Object.values(v));return a.jsx(j.Provider,{value:E,children:_})};g.displayName=c+"Provider";function p(m,w){var j;const _=((j=w==null?void 0:w[e])==null?void 0:j[h])||u,v=A.useContext(_);if(v)return v;if(d!==void 0)return d;throw new Error(`\`${m}\` must be used within \`${c}\``)}return[g,p]}const o=()=>{const c=r.map(d=>A.createContext(d));return function(u){const h=(u==null?void 0:u[e])||c;return A.useMemo(()=>({[`__scope${e}`]:{...u,[e]:h}}),[u,h])}};return o.scopeName=e,[i,xk(o,...t)]}function xk(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const i=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const d=i.reduce((u,{useScope:h,scopeName:g})=>{const m=h(c)[`__scope${g}`];return{...u,...m}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return r.scopeName=t.scopeName,r}function Np(e){const t=e+"CollectionProvider",[r,i]=Fi(t),[o,c]=r(t,{collectionRef:{current:null},itemMap:new Map}),d=j=>{const{scope:E,children:P}=j,I=Zn.useRef(null),U=Zn.useRef(new Map).current;return a.jsx(o,{scope:E,itemMap:U,collectionRef:I,children:P})};d.displayName=t;const u=e+"CollectionSlot",h=al(u),g=Zn.forwardRef((j,E)=>{const{scope:P,children:I}=j,U=c(u,P),q=xt(E,U.collectionRef);return a.jsx(h,{ref:q,children:I})});g.displayName=u;const p=e+"CollectionItemSlot",m="data-radix-collection-item",w=al(p),_=Zn.forwardRef((j,E)=>{const{scope:P,children:I,...U}=j,q=Zn.useRef(null),O=xt(E,q),Q=c(p,P);return Zn.useEffect(()=>(Q.itemMap.set(q,{ref:q,...U}),()=>void Q.itemMap.delete(q))),a.jsx(w,{[m]:"",ref:O,children:I})});_.displayName=p;function v(j){const E=c(e+"CollectionConsumer",j);return Zn.useCallback(()=>{const I=E.collectionRef.current;if(!I)return[];const U=Array.from(I.querySelectorAll(`[${m}]`));return Array.from(E.itemMap.values()).sort((Q,X)=>U.indexOf(Q.ref.current)-U.indexOf(X.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:d,Slot:g,ItemSlot:_},v,i]}var dr=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},yk=J0[" useId ".trim().toString()]||(()=>{}),wk=0;function ml(e){const[t,r]=A.useState(yk());return dr(()=>{r(i=>i??String(wk++))},[e]),t?`radix-${t}`:""}var vk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lt=vk.reduce((e,t)=>{const r=al(`Primitive.${t}`),i=A.forwardRef((o,c)=>{const{asChild:d,...u}=o,h=d?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(h,{...u,ref:c})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function bk(e,t){e&&cl.flushSync(()=>e.dispatchEvent(t))}function Zs(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),A.useMemo(()=>(...r)=>{var i;return(i=t.current)==null?void 0:i.call(t,...r)},[])}var Nk=J0[" useInsertionEffect ".trim().toString()]||dr;function La({prop:e,defaultProp:t,onChange:r=()=>{},caller:i}){const[o,c,d]=Ek({defaultProp:t,onChange:r}),u=e!==void 0,h=u?e:o;{const p=A.useRef(e!==void 0);A.useEffect(()=>{const m=p.current;m!==u&&console.warn(`${i} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,i])}const g=A.useCallback(p=>{var m;if(u){const w=_k(p)?p(e):p;w!==e&&((m=d.current)==null||m.call(d,w))}else c(p)},[u,e,c,d]);return[h,g]}function Ek({defaultProp:e,onChange:t}){const[r,i]=A.useState(e),o=A.useRef(r),c=A.useRef(t);return Nk(()=>{c.current=t},[t]),A.useEffect(()=>{var d;o.current!==r&&((d=c.current)==null||d.call(c,r),o.current=r)},[r,o]),[r,i,c]}function _k(e){return typeof e=="function"}var Sk=A.createContext(void 0);function hd(e){const t=A.useContext(Sk);return e||t||"ltr"}var r0="rovingFocusGroup.onEntryFocus",jk={bubbles:!1,cancelable:!0},gl="RovingFocusGroup",[U0,H1,kk]=Np(gl),[Ck,L1]=Fi(gl,[kk]),[Ak,Tk]=Ck(gl),W1=A.forwardRef((e,t)=>a.jsx(U0.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(U0.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Rk,{...e,ref:t})})}));W1.displayName=gl;var Rk=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:i,loop:o=!1,dir:c,currentTabStopId:d,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:g,preventScrollOnEntryFocus:p=!1,...m}=e,w=A.useRef(null),_=xt(t,w),v=hd(c),[j,E]=La({prop:d,defaultProp:u??null,onChange:h,caller:gl}),[P,I]=A.useState(!1),U=Zs(g),q=H1(r),O=A.useRef(!1),[Q,X]=A.useState(0);return A.useEffect(()=>{const z=w.current;if(z)return z.addEventListener(r0,U),()=>z.removeEventListener(r0,U)},[U]),a.jsx(Ak,{scope:r,orientation:i,dir:v,loop:o,currentTabStopId:j,onItemFocus:A.useCallback(z=>E(z),[E]),onItemShiftTab:A.useCallback(()=>I(!0),[]),onFocusableItemAdd:A.useCallback(()=>X(z=>z+1),[]),onFocusableItemRemove:A.useCallback(()=>X(z=>z-1),[]),children:a.jsx(lt.div,{tabIndex:P||Q===0?-1:0,"data-orientation":i,...m,ref:_,style:{outline:"none",...e.style},onMouseDown:st(e.onMouseDown,()=>{O.current=!0}),onFocus:st(e.onFocus,z=>{const K=!O.current;if(z.target===z.currentTarget&&K&&!P){const W=new CustomEvent(r0,jk);if(z.currentTarget.dispatchEvent(W),!W.defaultPrevented){const ie=q().filter(ee=>ee.focusable),fe=ie.find(ee=>ee.active),T=ie.find(ee=>ee.id===j),G=[fe,T,...ie].filter(Boolean).map(ee=>ee.ref.current);K1(G,p)}}O.current=!1}),onBlur:st(e.onBlur,()=>I(!1))})})}),q1="RovingFocusGroupItem",G1=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:i=!0,active:o=!1,tabStopId:c,children:d,...u}=e,h=ml(),g=c||h,p=Tk(q1,r),m=p.currentTabStopId===g,w=H1(r),{onFocusableItemAdd:_,onFocusableItemRemove:v,currentTabStopId:j}=p;return A.useEffect(()=>{if(i)return _(),()=>v()},[i,_,v]),a.jsx(U0.ItemSlot,{scope:r,id:g,focusable:i,active:o,children:a.jsx(lt.span,{tabIndex:m?0:-1,"data-orientation":p.orientation,...u,ref:t,onMouseDown:st(e.onMouseDown,E=>{i?p.onItemFocus(g):E.preventDefault()}),onFocus:st(e.onFocus,()=>p.onItemFocus(g)),onKeyDown:st(e.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){p.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const P=Mk(E,p.orientation,p.dir);if(P!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let U=w().filter(q=>q.focusable).map(q=>q.ref.current);if(P==="last")U.reverse();else if(P==="prev"||P==="next"){P==="prev"&&U.reverse();const q=U.indexOf(E.currentTarget);U=p.loop?Ik(U,q+1):U.slice(q+1)}setTimeout(()=>K1(U))}}),children:typeof d=="function"?d({isCurrentTabStop:m,hasTabStop:j!=null}):d})})});G1.displayName=q1;var Pk={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Bk(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Mk(e,t,r){const i=Bk(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return Pk[i]}function K1(e,t=!1){const r=document.activeElement;for(const i of e)if(i===r||(i.focus({preventScroll:t}),document.activeElement!==r))return}function Ik(e,t){return e.map((r,i)=>e[(t+i)%e.length])}var Ok=W1,Fk=G1;function Uk(e,t){return A.useReducer((r,i)=>t[r][i]??r,e)}var Ep=e=>{const{present:t,children:r}=e,i=$k(t),o=typeof r=="function"?r({present:i.isPresent}):A.Children.only(r),c=xt(i.ref,zk(o));return typeof r=="function"||i.isPresent?A.cloneElement(o,{ref:c}):null};Ep.displayName="Presence";function $k(e){const[t,r]=A.useState(),i=A.useRef(null),o=A.useRef(e),c=A.useRef("none"),d=e?"mounted":"unmounted",[u,h]=Uk(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const g=Lc(i.current);c.current=u==="mounted"?g:"none"},[u]),dr(()=>{const g=i.current,p=o.current;if(p!==e){const w=c.current,_=Lc(g);e?h("MOUNT"):_==="none"||(g==null?void 0:g.display)==="none"?h("UNMOUNT"):h(p&&w!==_?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,h]),dr(()=>{if(t){let g;const p=t.ownerDocument.defaultView??window,m=_=>{const j=Lc(i.current).includes(_.animationName);if(_.target===t&&j&&(h("ANIMATION_END"),!o.current)){const E=t.style.animationFillMode;t.style.animationFillMode="forwards",g=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=E)})}},w=_=>{_.target===t&&(c.current=Lc(i.current))};return t.addEventListener("animationstart",w),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{p.clearTimeout(g),t.removeEventListener("animationstart",w),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:A.useCallback(g=>{i.current=g?getComputedStyle(g):null,r(g)},[])}}function Lc(e){return(e==null?void 0:e.animationName)||"none"}function zk(e){var i,o;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var pd="Tabs",[Vk,RT]=Fi(pd,[L1]),D1=L1(),[Hk,_p]=Vk(pd),Y1=A.forwardRef((e,t)=>{const{__scopeTabs:r,value:i,onValueChange:o,defaultValue:c,orientation:d="horizontal",dir:u,activationMode:h="automatic",...g}=e,p=hd(u),[m,w]=La({prop:i,onChange:o,defaultProp:c??"",caller:pd});return a.jsx(Hk,{scope:r,baseId:ml(),value:m,onValueChange:w,orientation:d,dir:p,activationMode:h,children:a.jsx(lt.div,{dir:p,"data-orientation":d,...g,ref:t})})});Y1.displayName=pd;var Z1="TabsList",X1=A.forwardRef((e,t)=>{const{__scopeTabs:r,loop:i=!0,...o}=e,c=_p(Z1,r),d=D1(r);return a.jsx(Ok,{asChild:!0,...d,orientation:c.orientation,dir:c.dir,loop:i,children:a.jsx(lt.div,{role:"tablist","aria-orientation":c.orientation,...o,ref:t})})});X1.displayName=Z1;var Q1="TabsTrigger",J1=A.forwardRef((e,t)=>{const{__scopeTabs:r,value:i,disabled:o=!1,...c}=e,d=_p(Q1,r),u=D1(r),h=rb(d.baseId,i),g=nb(d.baseId,i),p=i===d.value;return a.jsx(Fk,{asChild:!0,...u,focusable:!o,active:p,children:a.jsx(lt.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":g,"data-state":p?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:h,...c,ref:t,onMouseDown:st(e.onMouseDown,m=>{!o&&m.button===0&&m.ctrlKey===!1?d.onValueChange(i):m.preventDefault()}),onKeyDown:st(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&d.onValueChange(i)}),onFocus:st(e.onFocus,()=>{const m=d.activationMode!=="manual";!p&&!o&&m&&d.onValueChange(i)})})})});J1.displayName=Q1;var eb="TabsContent",tb=A.forwardRef((e,t)=>{const{__scopeTabs:r,value:i,forceMount:o,children:c,...d}=e,u=_p(eb,r),h=rb(u.baseId,i),g=nb(u.baseId,i),p=i===u.value,m=A.useRef(p);return A.useEffect(()=>{const w=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(w)},[]),a.jsx(Ep,{present:o||p,children:({present:w})=>a.jsx(lt.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!w,id:g,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:w&&c})})});tb.displayName=eb;function rb(e,t){return`${e}-trigger-${t}`}function nb(e,t){return`${e}-content-${t}`}var Lk=Y1,sb=X1,ib=J1,ab=tb;const Wk=Lk,qk=A.forwardRef(({className:e,...t},r)=>a.jsx(sb,{ref:r,className:Et("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));qk.displayName=sb.displayName;const Gk=A.forwardRef(({className:e,...t},r)=>a.jsx(ib,{ref:r,className:Et("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Gk.displayName=ib.displayName;const ob=A.forwardRef(({className:e,...t},r)=>a.jsx(ab,{ref:r,className:Et("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ob.displayName=ab.displayName;const Gr=A.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:Et("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Gr.displayName="Textarea";var Kk="Label",lb=A.forwardRef((e,t)=>a.jsx(lt.label,{...e,ref:t,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));lb.displayName=Kk;var cb=lb;const Dk=vp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Xe=A.forwardRef(({className:e,...t},r)=>a.jsx(cb,{ref:r,className:Et(Dk(),e),...t}));Xe.displayName=cb.displayName;function zu(e,[t,r]){return Math.min(r,Math.max(t,e))}function Yk(e,t=globalThis==null?void 0:globalThis.document){const r=Zs(e);A.useEffect(()=>{const i=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[r,t])}var Zk="DismissableLayer",$0="dismissableLayer.update",Xk="dismissableLayer.pointerDownOutside",Qk="dismissableLayer.focusOutside",Xy,ub=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),db=A.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:d,onDismiss:u,...h}=e,g=A.useContext(ub),[p,m]=A.useState(null),w=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=A.useState({}),v=xt(t,X=>m(X)),j=Array.from(g.layers),[E]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),P=j.indexOf(E),I=p?j.indexOf(p):-1,U=g.layersWithOutsidePointerEventsDisabled.size>0,q=I>=P,O=t8(X=>{const z=X.target,K=[...g.branches].some(W=>W.contains(z));!q||K||(o==null||o(X),d==null||d(X),X.defaultPrevented||u==null||u())},w),Q=r8(X=>{const z=X.target;[...g.branches].some(W=>W.contains(z))||(c==null||c(X),d==null||d(X),X.defaultPrevented||u==null||u())},w);return Yk(X=>{I===g.layers.size-1&&(i==null||i(X),!X.defaultPrevented&&u&&(X.preventDefault(),u()))},w),A.useEffect(()=>{if(p)return r&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(Xy=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(p)),g.layers.add(p),Qy(),()=>{r&&g.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=Xy)}},[p,w,r,g]),A.useEffect(()=>()=>{p&&(g.layers.delete(p),g.layersWithOutsidePointerEventsDisabled.delete(p),Qy())},[p,g]),A.useEffect(()=>{const X=()=>_({});return document.addEventListener($0,X),()=>document.removeEventListener($0,X)},[]),a.jsx(lt.div,{...h,ref:v,style:{pointerEvents:U?q?"auto":"none":void 0,...e.style},onFocusCapture:st(e.onFocusCapture,Q.onFocusCapture),onBlurCapture:st(e.onBlurCapture,Q.onBlurCapture),onPointerDownCapture:st(e.onPointerDownCapture,O.onPointerDownCapture)})});db.displayName=Zk;var Jk="DismissableLayerBranch",e8=A.forwardRef((e,t)=>{const r=A.useContext(ub),i=A.useRef(null),o=xt(t,i);return A.useEffect(()=>{const c=i.current;if(c)return r.branches.add(c),()=>{r.branches.delete(c)}},[r.branches]),a.jsx(lt.div,{...e,ref:o})});e8.displayName=Jk;function t8(e,t=globalThis==null?void 0:globalThis.document){const r=Zs(e),i=A.useRef(!1),o=A.useRef(()=>{});return A.useEffect(()=>{const c=u=>{if(u.target&&!i.current){let h=function(){fb(Xk,r,g,{discrete:!0})};const g={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=h,t.addEventListener("click",o.current,{once:!0})):h()}else t.removeEventListener("click",o.current);i.current=!1},d=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),t.removeEventListener("pointerdown",c),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>i.current=!0}}function r8(e,t=globalThis==null?void 0:globalThis.document){const r=Zs(e),i=A.useRef(!1);return A.useEffect(()=>{const o=c=>{c.target&&!i.current&&fb(Qk,r,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Qy(){const e=new CustomEvent($0);document.dispatchEvent(e)}function fb(e,t,r,{discrete:i}){const o=r.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),i?bk(o,c):o.dispatchEvent(c)}var n0=0;function n8(){A.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Jy()),document.body.insertAdjacentElement("beforeend",e[1]??Jy()),n0++,()=>{n0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),n0--}},[])}function Jy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var s0="focusScope.autoFocusOnMount",i0="focusScope.autoFocusOnUnmount",ew={bubbles:!1,cancelable:!0},s8="FocusScope",hb=A.forwardRef((e,t)=>{const{loop:r=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...d}=e,[u,h]=A.useState(null),g=Zs(o),p=Zs(c),m=A.useRef(null),w=xt(t,j=>h(j)),_=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(i){let j=function(U){if(_.paused||!u)return;const q=U.target;u.contains(q)?m.current=q:$s(m.current,{select:!0})},E=function(U){if(_.paused||!u)return;const q=U.relatedTarget;q!==null&&(u.contains(q)||$s(m.current,{select:!0}))},P=function(U){if(document.activeElement===document.body)for(const O of U)O.removedNodes.length>0&&$s(u)};document.addEventListener("focusin",j),document.addEventListener("focusout",E);const I=new MutationObserver(P);return u&&I.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",E),I.disconnect()}}},[i,u,_.paused]),A.useEffect(()=>{if(u){rw.add(_);const j=document.activeElement;if(!u.contains(j)){const P=new CustomEvent(s0,ew);u.addEventListener(s0,g),u.dispatchEvent(P),P.defaultPrevented||(i8(u8(pb(u)),{select:!0}),document.activeElement===j&&$s(u))}return()=>{u.removeEventListener(s0,g),setTimeout(()=>{const P=new CustomEvent(i0,ew);u.addEventListener(i0,p),u.dispatchEvent(P),P.defaultPrevented||$s(j??document.body,{select:!0}),u.removeEventListener(i0,p),rw.remove(_)},0)}}},[u,g,p,_]);const v=A.useCallback(j=>{if(!r&&!i||_.paused)return;const E=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,P=document.activeElement;if(E&&P){const I=j.currentTarget,[U,q]=a8(I);U&&q?!j.shiftKey&&P===q?(j.preventDefault(),r&&$s(U,{select:!0})):j.shiftKey&&P===U&&(j.preventDefault(),r&&$s(q,{select:!0})):P===I&&j.preventDefault()}},[r,i,_.paused]);return a.jsx(lt.div,{tabIndex:-1,...d,ref:w,onKeyDown:v})});hb.displayName=s8;function i8(e,{select:t=!1}={}){const r=document.activeElement;for(const i of e)if($s(i,{select:t}),document.activeElement!==r)return}function a8(e){const t=pb(e),r=tw(t,e),i=tw(t.reverse(),e);return[r,i]}function pb(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function tw(e,t){for(const r of e)if(!o8(r,{upTo:t}))return r}function o8(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function l8(e){return e instanceof HTMLInputElement&&"select"in e}function $s(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&l8(e)&&t&&e.select()}}var rw=c8();function c8(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=nw(e,t),e.unshift(t)},remove(t){var r;e=nw(e,t),(r=e[0])==null||r.resume()}}}function nw(e,t){const r=[...e],i=r.indexOf(t);return i!==-1&&r.splice(i,1),r}function u8(e){return e.filter(t=>t.tagName!=="A")}const d8=["top","right","bottom","left"],Xs=Math.min,Pr=Math.max,Vu=Math.round,Wc=Math.floor,Bn=e=>({x:e,y:e}),f8={left:"right",right:"left",bottom:"top",top:"bottom"},h8={start:"end",end:"start"};function z0(e,t,r){return Pr(e,Xs(t,r))}function ls(e,t){return typeof e=="function"?e(t):e}function cs(e){return e.split("-")[0]}function Ka(e){return e.split("-")[1]}function Sp(e){return e==="x"?"y":"x"}function jp(e){return e==="y"?"height":"width"}function An(e){return["top","bottom"].includes(cs(e))?"y":"x"}function kp(e){return Sp(An(e))}function p8(e,t,r){r===void 0&&(r=!1);const i=Ka(e),o=kp(e),c=jp(o);let d=o==="x"?i===(r?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(d=Hu(d)),[d,Hu(d)]}function m8(e){const t=Hu(e);return[V0(e),t,V0(t)]}function V0(e){return e.replace(/start|end/g,t=>h8[t])}function g8(e,t,r){const i=["left","right"],o=["right","left"],c=["top","bottom"],d=["bottom","top"];switch(e){case"top":case"bottom":return r?t?o:i:t?i:o;case"left":case"right":return t?c:d;default:return[]}}function x8(e,t,r,i){const o=Ka(e);let c=g8(cs(e),r==="start",i);return o&&(c=c.map(d=>d+"-"+o),t&&(c=c.concat(c.map(V0)))),c}function Hu(e){return e.replace(/left|right|bottom|top/g,t=>f8[t])}function y8(e){return{top:0,right:0,bottom:0,left:0,...e}}function mb(e){return typeof e!="number"?y8(e):{top:e,right:e,bottom:e,left:e}}function Lu(e){const{x:t,y:r,width:i,height:o}=e;return{width:i,height:o,top:r,left:t,right:t+i,bottom:r+o,x:t,y:r}}function sw(e,t,r){let{reference:i,floating:o}=e;const c=An(t),d=kp(t),u=jp(d),h=cs(t),g=c==="y",p=i.x+i.width/2-o.width/2,m=i.y+i.height/2-o.height/2,w=i[u]/2-o[u]/2;let _;switch(h){case"top":_={x:p,y:i.y-o.height};break;case"bottom":_={x:p,y:i.y+i.height};break;case"right":_={x:i.x+i.width,y:m};break;case"left":_={x:i.x-o.width,y:m};break;default:_={x:i.x,y:i.y}}switch(Ka(t)){case"start":_[d]-=w*(r&&g?-1:1);break;case"end":_[d]+=w*(r&&g?-1:1);break}return _}const w8=async(e,t,r)=>{const{placement:i="bottom",strategy:o="absolute",middleware:c=[],platform:d}=r,u=c.filter(Boolean),h=await(d.isRTL==null?void 0:d.isRTL(t));let g=await d.getElementRects({reference:e,floating:t,strategy:o}),{x:p,y:m}=sw(g,i,h),w=i,_={},v=0;for(let j=0;j<u.length;j++){const{name:E,fn:P}=u[j],{x:I,y:U,data:q,reset:O}=await P({x:p,y:m,initialPlacement:i,placement:w,strategy:o,middlewareData:_,rects:g,platform:d,elements:{reference:e,floating:t}});p=I??p,m=U??m,_={..._,[E]:{..._[E],...q}},O&&v<=50&&(v++,typeof O=="object"&&(O.placement&&(w=O.placement),O.rects&&(g=O.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:o}):O.rects),{x:p,y:m}=sw(g,w,h)),j=-1)}return{x:p,y:m,placement:w,strategy:o,middlewareData:_}};async function ol(e,t){var r;t===void 0&&(t={});const{x:i,y:o,platform:c,rects:d,elements:u,strategy:h}=e,{boundary:g="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:w=!1,padding:_=0}=ls(t,e),v=mb(_),E=u[w?m==="floating"?"reference":"floating":m],P=Lu(await c.getClippingRect({element:(r=await(c.isElement==null?void 0:c.isElement(E)))==null||r?E:E.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(u.floating)),boundary:g,rootBoundary:p,strategy:h})),I=m==="floating"?{x:i,y:o,width:d.floating.width,height:d.floating.height}:d.reference,U=await(c.getOffsetParent==null?void 0:c.getOffsetParent(u.floating)),q=await(c.isElement==null?void 0:c.isElement(U))?await(c.getScale==null?void 0:c.getScale(U))||{x:1,y:1}:{x:1,y:1},O=Lu(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:I,offsetParent:U,strategy:h}):I);return{top:(P.top-O.top+v.top)/q.y,bottom:(O.bottom-P.bottom+v.bottom)/q.y,left:(P.left-O.left+v.left)/q.x,right:(O.right-P.right+v.right)/q.x}}const v8=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:i,placement:o,rects:c,platform:d,elements:u,middlewareData:h}=t,{element:g,padding:p=0}=ls(e,t)||{};if(g==null)return{};const m=mb(p),w={x:r,y:i},_=kp(o),v=jp(_),j=await d.getDimensions(g),E=_==="y",P=E?"top":"left",I=E?"bottom":"right",U=E?"clientHeight":"clientWidth",q=c.reference[v]+c.reference[_]-w[_]-c.floating[v],O=w[_]-c.reference[_],Q=await(d.getOffsetParent==null?void 0:d.getOffsetParent(g));let X=Q?Q[U]:0;(!X||!await(d.isElement==null?void 0:d.isElement(Q)))&&(X=u.floating[U]||c.floating[v]);const z=q/2-O/2,K=X/2-j[v]/2-1,W=Xs(m[P],K),ie=Xs(m[I],K),fe=W,T=X-j[v]-ie,V=X/2-j[v]/2+z,G=z0(fe,V,T),ee=!h.arrow&&Ka(o)!=null&&V!==G&&c.reference[v]/2-(V<fe?W:ie)-j[v]/2<0,le=ee?V<fe?V-fe:V-T:0;return{[_]:w[_]+le,data:{[_]:G,centerOffset:V-G-le,...ee&&{alignmentOffset:le}},reset:ee}}}),b8=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,i;const{placement:o,middlewareData:c,rects:d,initialPlacement:u,platform:h,elements:g}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:w,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:j=!0,...E}=ls(e,t);if((r=c.arrow)!=null&&r.alignmentOffset)return{};const P=cs(o),I=An(u),U=cs(u)===u,q=await(h.isRTL==null?void 0:h.isRTL(g.floating)),O=w||(U||!j?[Hu(u)]:m8(u)),Q=v!=="none";!w&&Q&&O.push(...x8(u,j,v,q));const X=[u,...O],z=await ol(t,E),K=[];let W=((i=c.flip)==null?void 0:i.overflows)||[];if(p&&K.push(z[P]),m){const V=p8(o,d,q);K.push(z[V[0]],z[V[1]])}if(W=[...W,{placement:o,overflows:K}],!K.every(V=>V<=0)){var ie,fe;const V=(((ie=c.flip)==null?void 0:ie.index)||0)+1,G=X[V];if(G&&(!(m==="alignment"?I!==An(G):!1)||W.every(te=>te.overflows[0]>0&&An(te.placement)===I)))return{data:{index:V,overflows:W},reset:{placement:G}};let ee=(fe=W.filter(le=>le.overflows[0]<=0).sort((le,te)=>le.overflows[1]-te.overflows[1])[0])==null?void 0:fe.placement;if(!ee)switch(_){case"bestFit":{var T;const le=(T=W.filter(te=>{if(Q){const ge=An(te.placement);return ge===I||ge==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(ge=>ge>0).reduce((ge,_e)=>ge+_e,0)]).sort((te,ge)=>te[1]-ge[1])[0])==null?void 0:T[0];le&&(ee=le);break}case"initialPlacement":ee=u;break}if(o!==ee)return{reset:{placement:ee}}}return{}}}};function iw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function aw(e){return d8.some(t=>e[t]>=0)}const N8=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:i="referenceHidden",...o}=ls(e,t);switch(i){case"referenceHidden":{const c=await ol(t,{...o,elementContext:"reference"}),d=iw(c,r.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:aw(d)}}}case"escaped":{const c=await ol(t,{...o,altBoundary:!0}),d=iw(c,r.floating);return{data:{escapedOffsets:d,escaped:aw(d)}}}default:return{}}}}};async function E8(e,t){const{placement:r,platform:i,elements:o}=e,c=await(i.isRTL==null?void 0:i.isRTL(o.floating)),d=cs(r),u=Ka(r),h=An(r)==="y",g=["left","top"].includes(d)?-1:1,p=c&&h?-1:1,m=ls(t,e);let{mainAxis:w,crossAxis:_,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof v=="number"&&(_=u==="end"?v*-1:v),h?{x:_*p,y:w*g}:{x:w*g,y:_*p}}const _8=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,i;const{x:o,y:c,placement:d,middlewareData:u}=t,h=await E8(t,e);return d===((r=u.offset)==null?void 0:r.placement)&&(i=u.arrow)!=null&&i.alignmentOffset?{}:{x:o+h.x,y:c+h.y,data:{...h,placement:d}}}}},S8=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:i,placement:o}=t,{mainAxis:c=!0,crossAxis:d=!1,limiter:u={fn:E=>{let{x:P,y:I}=E;return{x:P,y:I}}},...h}=ls(e,t),g={x:r,y:i},p=await ol(t,h),m=An(cs(o)),w=Sp(m);let _=g[w],v=g[m];if(c){const E=w==="y"?"top":"left",P=w==="y"?"bottom":"right",I=_+p[E],U=_-p[P];_=z0(I,_,U)}if(d){const E=m==="y"?"top":"left",P=m==="y"?"bottom":"right",I=v+p[E],U=v-p[P];v=z0(I,v,U)}const j=u.fn({...t,[w]:_,[m]:v});return{...j,data:{x:j.x-r,y:j.y-i,enabled:{[w]:c,[m]:d}}}}}},j8=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:i,placement:o,rects:c,middlewareData:d}=t,{offset:u=0,mainAxis:h=!0,crossAxis:g=!0}=ls(e,t),p={x:r,y:i},m=An(o),w=Sp(m);let _=p[w],v=p[m];const j=ls(u,t),E=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(h){const U=w==="y"?"height":"width",q=c.reference[w]-c.floating[U]+E.mainAxis,O=c.reference[w]+c.reference[U]-E.mainAxis;_<q?_=q:_>O&&(_=O)}if(g){var P,I;const U=w==="y"?"width":"height",q=["top","left"].includes(cs(o)),O=c.reference[m]-c.floating[U]+(q&&((P=d.offset)==null?void 0:P[m])||0)+(q?0:E.crossAxis),Q=c.reference[m]+c.reference[U]+(q?0:((I=d.offset)==null?void 0:I[m])||0)-(q?E.crossAxis:0);v<O?v=O:v>Q&&(v=Q)}return{[w]:_,[m]:v}}}},k8=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,i;const{placement:o,rects:c,platform:d,elements:u}=t,{apply:h=()=>{},...g}=ls(e,t),p=await ol(t,g),m=cs(o),w=Ka(o),_=An(o)==="y",{width:v,height:j}=c.floating;let E,P;m==="top"||m==="bottom"?(E=m,P=w===(await(d.isRTL==null?void 0:d.isRTL(u.floating))?"start":"end")?"left":"right"):(P=m,E=w==="end"?"top":"bottom");const I=j-p.top-p.bottom,U=v-p.left-p.right,q=Xs(j-p[E],I),O=Xs(v-p[P],U),Q=!t.middlewareData.shift;let X=q,z=O;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(z=U),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(X=I),Q&&!w){const W=Pr(p.left,0),ie=Pr(p.right,0),fe=Pr(p.top,0),T=Pr(p.bottom,0);_?z=v-2*(W!==0||ie!==0?W+ie:Pr(p.left,p.right)):X=j-2*(fe!==0||T!==0?fe+T:Pr(p.top,p.bottom))}await h({...t,availableWidth:z,availableHeight:X});const K=await d.getDimensions(u.floating);return v!==K.width||j!==K.height?{reset:{rects:!0}}:{}}}};function md(){return typeof window<"u"}function Da(e){return gb(e)?(e.nodeName||"").toLowerCase():"#document"}function Ur(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function In(e){var t;return(t=(gb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gb(e){return md()?e instanceof Node||e instanceof Ur(e).Node:!1}function un(e){return md()?e instanceof Element||e instanceof Ur(e).Element:!1}function Mn(e){return md()?e instanceof HTMLElement||e instanceof Ur(e).HTMLElement:!1}function ow(e){return!md()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ur(e).ShadowRoot}function xl(e){const{overflow:t,overflowX:r,overflowY:i,display:o}=dn(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+r)&&!["inline","contents"].includes(o)}function C8(e){return["table","td","th"].includes(Da(e))}function gd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Cp(e){const t=Ap(),r=un(e)?dn(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>r[i]?r[i]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(r.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(r.contain||"").includes(i))}function A8(e){let t=Qs(e);for(;Mn(t)&&!Wa(t);){if(Cp(t))return t;if(gd(t))return null;t=Qs(t)}return null}function Ap(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Wa(e){return["html","body","#document"].includes(Da(e))}function dn(e){return Ur(e).getComputedStyle(e)}function xd(e){return un(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Qs(e){if(Da(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ow(e)&&e.host||In(e);return ow(t)?t.host:t}function xb(e){const t=Qs(e);return Wa(t)?e.ownerDocument?e.ownerDocument.body:e.body:Mn(t)&&xl(t)?t:xb(t)}function ll(e,t,r){var i;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=xb(e),c=o===((i=e.ownerDocument)==null?void 0:i.body),d=Ur(o);if(c){const u=H0(d);return t.concat(d,d.visualViewport||[],xl(o)?o:[],u&&r?ll(u):[])}return t.concat(o,ll(o,[],r))}function H0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function yb(e){const t=dn(e);let r=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=Mn(e),c=o?e.offsetWidth:r,d=o?e.offsetHeight:i,u=Vu(r)!==c||Vu(i)!==d;return u&&(r=c,i=d),{width:r,height:i,$:u}}function Tp(e){return un(e)?e:e.contextElement}function Oa(e){const t=Tp(e);if(!Mn(t))return Bn(1);const r=t.getBoundingClientRect(),{width:i,height:o,$:c}=yb(t);let d=(c?Vu(r.width):r.width)/i,u=(c?Vu(r.height):r.height)/o;return(!d||!Number.isFinite(d))&&(d=1),(!u||!Number.isFinite(u))&&(u=1),{x:d,y:u}}const T8=Bn(0);function wb(e){const t=Ur(e);return!Ap()||!t.visualViewport?T8:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function R8(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ur(e)?!1:t}function Bi(e,t,r,i){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),c=Tp(e);let d=Bn(1);t&&(i?un(i)&&(d=Oa(i)):d=Oa(e));const u=R8(c,r,i)?wb(c):Bn(0);let h=(o.left+u.x)/d.x,g=(o.top+u.y)/d.y,p=o.width/d.x,m=o.height/d.y;if(c){const w=Ur(c),_=i&&un(i)?Ur(i):i;let v=w,j=H0(v);for(;j&&i&&_!==v;){const E=Oa(j),P=j.getBoundingClientRect(),I=dn(j),U=P.left+(j.clientLeft+parseFloat(I.paddingLeft))*E.x,q=P.top+(j.clientTop+parseFloat(I.paddingTop))*E.y;h*=E.x,g*=E.y,p*=E.x,m*=E.y,h+=U,g+=q,v=Ur(j),j=H0(v)}}return Lu({width:p,height:m,x:h,y:g})}function Rp(e,t){const r=xd(e).scrollLeft;return t?t.left+r:Bi(In(e)).left+r}function vb(e,t,r){r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=i.left+t.scrollLeft-(r?0:Rp(e,i)),c=i.top+t.scrollTop;return{x:o,y:c}}function P8(e){let{elements:t,rect:r,offsetParent:i,strategy:o}=e;const c=o==="fixed",d=In(i),u=t?gd(t.floating):!1;if(i===d||u&&c)return r;let h={scrollLeft:0,scrollTop:0},g=Bn(1);const p=Bn(0),m=Mn(i);if((m||!m&&!c)&&((Da(i)!=="body"||xl(d))&&(h=xd(i)),Mn(i))){const _=Bi(i);g=Oa(i),p.x=_.x+i.clientLeft,p.y=_.y+i.clientTop}const w=d&&!m&&!c?vb(d,h,!0):Bn(0);return{width:r.width*g.x,height:r.height*g.y,x:r.x*g.x-h.scrollLeft*g.x+p.x+w.x,y:r.y*g.y-h.scrollTop*g.y+p.y+w.y}}function B8(e){return Array.from(e.getClientRects())}function M8(e){const t=In(e),r=xd(e),i=e.ownerDocument.body,o=Pr(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),c=Pr(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let d=-r.scrollLeft+Rp(e);const u=-r.scrollTop;return dn(i).direction==="rtl"&&(d+=Pr(t.clientWidth,i.clientWidth)-o),{width:o,height:c,x:d,y:u}}function I8(e,t){const r=Ur(e),i=In(e),o=r.visualViewport;let c=i.clientWidth,d=i.clientHeight,u=0,h=0;if(o){c=o.width,d=o.height;const g=Ap();(!g||g&&t==="fixed")&&(u=o.offsetLeft,h=o.offsetTop)}return{width:c,height:d,x:u,y:h}}function O8(e,t){const r=Bi(e,!0,t==="fixed"),i=r.top+e.clientTop,o=r.left+e.clientLeft,c=Mn(e)?Oa(e):Bn(1),d=e.clientWidth*c.x,u=e.clientHeight*c.y,h=o*c.x,g=i*c.y;return{width:d,height:u,x:h,y:g}}function lw(e,t,r){let i;if(t==="viewport")i=I8(e,r);else if(t==="document")i=M8(In(e));else if(un(t))i=O8(t,r);else{const o=wb(e);i={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Lu(i)}function bb(e,t){const r=Qs(e);return r===t||!un(r)||Wa(r)?!1:dn(r).position==="fixed"||bb(r,t)}function F8(e,t){const r=t.get(e);if(r)return r;let i=ll(e,[],!1).filter(u=>un(u)&&Da(u)!=="body"),o=null;const c=dn(e).position==="fixed";let d=c?Qs(e):e;for(;un(d)&&!Wa(d);){const u=dn(d),h=Cp(d);!h&&u.position==="fixed"&&(o=null),(c?!h&&!o:!h&&u.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||xl(d)&&!h&&bb(e,d))?i=i.filter(p=>p!==d):o=u,d=Qs(d)}return t.set(e,i),i}function U8(e){let{element:t,boundary:r,rootBoundary:i,strategy:o}=e;const d=[...r==="clippingAncestors"?gd(t)?[]:F8(t,this._c):[].concat(r),i],u=d[0],h=d.reduce((g,p)=>{const m=lw(t,p,o);return g.top=Pr(m.top,g.top),g.right=Xs(m.right,g.right),g.bottom=Xs(m.bottom,g.bottom),g.left=Pr(m.left,g.left),g},lw(t,u,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function $8(e){const{width:t,height:r}=yb(e);return{width:t,height:r}}function z8(e,t,r){const i=Mn(t),o=In(t),c=r==="fixed",d=Bi(e,!0,c,t);let u={scrollLeft:0,scrollTop:0};const h=Bn(0);function g(){h.x=Rp(o)}if(i||!i&&!c)if((Da(t)!=="body"||xl(o))&&(u=xd(t)),i){const _=Bi(t,!0,c,t);h.x=_.x+t.clientLeft,h.y=_.y+t.clientTop}else o&&g();c&&!i&&o&&g();const p=o&&!i&&!c?vb(o,u):Bn(0),m=d.left+u.scrollLeft-h.x-p.x,w=d.top+u.scrollTop-h.y-p.y;return{x:m,y:w,width:d.width,height:d.height}}function a0(e){return dn(e).position==="static"}function cw(e,t){if(!Mn(e)||dn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return In(e)===r&&(r=r.ownerDocument.body),r}function Nb(e,t){const r=Ur(e);if(gd(e))return r;if(!Mn(e)){let o=Qs(e);for(;o&&!Wa(o);){if(un(o)&&!a0(o))return o;o=Qs(o)}return r}let i=cw(e,t);for(;i&&C8(i)&&a0(i);)i=cw(i,t);return i&&Wa(i)&&a0(i)&&!Cp(i)?r:i||A8(e)||r}const V8=async function(e){const t=this.getOffsetParent||Nb,r=this.getDimensions,i=await r(e.floating);return{reference:z8(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function H8(e){return dn(e).direction==="rtl"}const L8={convertOffsetParentRelativeRectToViewportRelativeRect:P8,getDocumentElement:In,getClippingRect:U8,getOffsetParent:Nb,getElementRects:V8,getClientRects:B8,getDimensions:$8,getScale:Oa,isElement:un,isRTL:H8};function Eb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function W8(e,t){let r=null,i;const o=In(e);function c(){var u;clearTimeout(i),(u=r)==null||u.disconnect(),r=null}function d(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),c();const g=e.getBoundingClientRect(),{left:p,top:m,width:w,height:_}=g;if(u||t(),!w||!_)return;const v=Wc(m),j=Wc(o.clientWidth-(p+w)),E=Wc(o.clientHeight-(m+_)),P=Wc(p),U={rootMargin:-v+"px "+-j+"px "+-E+"px "+-P+"px",threshold:Pr(0,Xs(1,h))||1};let q=!0;function O(Q){const X=Q[0].intersectionRatio;if(X!==h){if(!q)return d();X?d(!1,X):i=setTimeout(()=>{d(!1,1e-7)},1e3)}X===1&&!Eb(g,e.getBoundingClientRect())&&d(),q=!1}try{r=new IntersectionObserver(O,{...U,root:o.ownerDocument})}catch{r=new IntersectionObserver(O,U)}r.observe(e)}return d(!0),c}function q8(e,t,r,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,g=Tp(e),p=o||c?[...g?ll(g):[],...ll(t)]:[];p.forEach(P=>{o&&P.addEventListener("scroll",r,{passive:!0}),c&&P.addEventListener("resize",r)});const m=g&&u?W8(g,r):null;let w=-1,_=null;d&&(_=new ResizeObserver(P=>{let[I]=P;I&&I.target===g&&_&&(_.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var U;(U=_)==null||U.observe(t)})),r()}),g&&!h&&_.observe(g),_.observe(t));let v,j=h?Bi(e):null;h&&E();function E(){const P=Bi(e);j&&!Eb(j,P)&&r(),j=P,v=requestAnimationFrame(E)}return r(),()=>{var P;p.forEach(I=>{o&&I.removeEventListener("scroll",r),c&&I.removeEventListener("resize",r)}),m==null||m(),(P=_)==null||P.disconnect(),_=null,h&&cancelAnimationFrame(v)}}const G8=_8,K8=S8,D8=b8,Y8=k8,Z8=N8,uw=v8,X8=j8,Q8=(e,t,r)=>{const i=new Map,o={platform:L8,...r},c={...o.platform,_c:i};return w8(e,t,{...o,platform:c})};var J8=typeof document<"u",eC=function(){},bu=J8?A.useLayoutEffect:eC;function Wu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,i,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(i=r;i--!==0;)if(!Wu(e[i],t[i]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!{}.hasOwnProperty.call(t,o[i]))return!1;for(i=r;i--!==0;){const c=o[i];if(!(c==="_owner"&&e.$$typeof)&&!Wu(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function _b(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function dw(e,t){const r=_b(e);return Math.round(t*r)/r}function o0(e){const t=A.useRef(e);return bu(()=>{t.current=e}),t}function tC(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:i=[],platform:o,elements:{reference:c,floating:d}={},transform:u=!0,whileElementsMounted:h,open:g}=e,[p,m]=A.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[w,_]=A.useState(i);Wu(w,i)||_(i);const[v,j]=A.useState(null),[E,P]=A.useState(null),I=A.useCallback(te=>{te!==Q.current&&(Q.current=te,j(te))},[]),U=A.useCallback(te=>{te!==X.current&&(X.current=te,P(te))},[]),q=c||v,O=d||E,Q=A.useRef(null),X=A.useRef(null),z=A.useRef(p),K=h!=null,W=o0(h),ie=o0(o),fe=o0(g),T=A.useCallback(()=>{if(!Q.current||!X.current)return;const te={placement:t,strategy:r,middleware:w};ie.current&&(te.platform=ie.current),Q8(Q.current,X.current,te).then(ge=>{const _e={...ge,isPositioned:fe.current!==!1};V.current&&!Wu(z.current,_e)&&(z.current=_e,cl.flushSync(()=>{m(_e)}))})},[w,t,r,ie,fe]);bu(()=>{g===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,m(te=>({...te,isPositioned:!1})))},[g]);const V=A.useRef(!1);bu(()=>(V.current=!0,()=>{V.current=!1}),[]),bu(()=>{if(q&&(Q.current=q),O&&(X.current=O),q&&O){if(W.current)return W.current(q,O,T);T()}},[q,O,T,W,K]);const G=A.useMemo(()=>({reference:Q,floating:X,setReference:I,setFloating:U}),[I,U]),ee=A.useMemo(()=>({reference:q,floating:O}),[q,O]),le=A.useMemo(()=>{const te={position:r,left:0,top:0};if(!ee.floating)return te;const ge=dw(ee.floating,p.x),_e=dw(ee.floating,p.y);return u?{...te,transform:"translate("+ge+"px, "+_e+"px)",..._b(ee.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ge,top:_e}},[r,u,ee.floating,p.x,p.y]);return A.useMemo(()=>({...p,update:T,refs:G,elements:ee,floatingStyles:le}),[p,T,G,ee,le])}const rC=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:i,padding:o}=typeof e=="function"?e(r):e;return i&&t(i)?i.current!=null?uw({element:i.current,padding:o}).fn(r):{}:i?uw({element:i,padding:o}).fn(r):{}}}},nC=(e,t)=>({...G8(e),options:[e,t]}),sC=(e,t)=>({...K8(e),options:[e,t]}),iC=(e,t)=>({...X8(e),options:[e,t]}),aC=(e,t)=>({...D8(e),options:[e,t]}),oC=(e,t)=>({...Y8(e),options:[e,t]}),lC=(e,t)=>({...Z8(e),options:[e,t]}),cC=(e,t)=>({...rC(e),options:[e,t]});var uC="Arrow",Sb=A.forwardRef((e,t)=>{const{children:r,width:i=10,height:o=5,...c}=e;return a.jsx(lt.svg,{...c,ref:t,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Sb.displayName=uC;var dC=Sb;function Pp(e){const[t,r]=A.useState(void 0);return dr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let d,u;if("borderBoxSize"in c){const h=c.borderBoxSize,g=Array.isArray(h)?h[0]:h;d=g.inlineSize,u=g.blockSize}else d=e.offsetWidth,u=e.offsetHeight;r({width:d,height:u})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else r(void 0)},[e]),t}var Bp="Popper",[jb,kb]=Fi(Bp),[fC,Cb]=jb(Bp),Ab=e=>{const{__scopePopper:t,children:r}=e,[i,o]=A.useState(null);return a.jsx(fC,{scope:t,anchor:i,onAnchorChange:o,children:r})};Ab.displayName=Bp;var Tb="PopperAnchor",Rb=A.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:i,...o}=e,c=Cb(Tb,r),d=A.useRef(null),u=xt(t,d);return A.useEffect(()=>{c.onAnchorChange((i==null?void 0:i.current)||d.current)}),i?null:a.jsx(lt.div,{...o,ref:u})});Rb.displayName=Tb;var Mp="PopperContent",[hC,pC]=jb(Mp),Pb=A.forwardRef((e,t)=>{var pe,de,Ne,C,F,D;const{__scopePopper:r,side:i="bottom",sideOffset:o=0,align:c="center",alignOffset:d=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:g=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:w=!1,updatePositionStrategy:_="optimized",onPlaced:v,...j}=e,E=Cb(Mp,r),[P,I]=A.useState(null),U=xt(t,J=>I(J)),[q,O]=A.useState(null),Q=Pp(q),X=(Q==null?void 0:Q.width)??0,z=(Q==null?void 0:Q.height)??0,K=i+(c!=="center"?"-"+c:""),W=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},ie=Array.isArray(g)?g:[g],fe=ie.length>0,T={padding:W,boundary:ie.filter(gC),altBoundary:fe},{refs:V,floatingStyles:G,placement:ee,isPositioned:le,middlewareData:te}=tC({strategy:"fixed",placement:K,whileElementsMounted:(...J)=>q8(...J,{animationFrame:_==="always"}),elements:{reference:E.anchor},middleware:[nC({mainAxis:o+z,alignmentAxis:d}),h&&sC({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?iC():void 0,...T}),h&&aC({...T}),oC({...T,apply:({elements:J,rects:ne,availableWidth:ae,availableHeight:R})=>{const{width:y,height:b}=ne.reference,M=J.floating.style;M.setProperty("--radix-popper-available-width",`${ae}px`),M.setProperty("--radix-popper-available-height",`${R}px`),M.setProperty("--radix-popper-anchor-width",`${y}px`),M.setProperty("--radix-popper-anchor-height",`${b}px`)}}),q&&cC({element:q,padding:u}),xC({arrowWidth:X,arrowHeight:z}),w&&lC({strategy:"referenceHidden",...T})]}),[ge,_e]=Ib(ee),Y=Zs(v);dr(()=>{le&&(Y==null||Y())},[le,Y]);const me=(pe=te.arrow)==null?void 0:pe.x,Be=(de=te.arrow)==null?void 0:de.y,H=((Ne=te.arrow)==null?void 0:Ne.centerOffset)!==0,[Pe,Ae]=A.useState();return dr(()=>{P&&Ae(window.getComputedStyle(P).zIndex)},[P]),a.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:le?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(C=te.transformOrigin)==null?void 0:C.x,(F=te.transformOrigin)==null?void 0:F.y].join(" "),...((D=te.hide)==null?void 0:D.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(hC,{scope:r,placedSide:ge,onArrowChange:O,arrowX:me,arrowY:Be,shouldHideArrow:H,children:a.jsx(lt.div,{"data-side":ge,"data-align":_e,...j,ref:U,style:{...j.style,animation:le?void 0:"none"}})})})});Pb.displayName=Mp;var Bb="PopperArrow",mC={top:"bottom",right:"left",bottom:"top",left:"right"},Mb=A.forwardRef(function(t,r){const{__scopePopper:i,...o}=t,c=pC(Bb,i),d=mC[c.placedSide];return a.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:a.jsx(dC,{...o,ref:r,style:{...o.style,display:"block"}})})});Mb.displayName=Bb;function gC(e){return e!==null}var xC=e=>({name:"transformOrigin",options:e,fn(t){var E,P,I;const{placement:r,rects:i,middlewareData:o}=t,d=((E=o.arrow)==null?void 0:E.centerOffset)!==0,u=d?0:e.arrowWidth,h=d?0:e.arrowHeight,[g,p]=Ib(r),m={start:"0%",center:"50%",end:"100%"}[p],w=(((P=o.arrow)==null?void 0:P.x)??0)+u/2,_=(((I=o.arrow)==null?void 0:I.y)??0)+h/2;let v="",j="";return g==="bottom"?(v=d?m:`${w}px`,j=`${-h}px`):g==="top"?(v=d?m:`${w}px`,j=`${i.floating.height+h}px`):g==="right"?(v=`${-h}px`,j=d?m:`${_}px`):g==="left"&&(v=`${i.floating.width+h}px`,j=d?m:`${_}px`),{data:{x:v,y:j}}}});function Ib(e){const[t,r="center"]=e.split("-");return[t,r]}var yC=Ab,wC=Rb,vC=Pb,bC=Mb,NC="Portal",Ob=A.forwardRef((e,t)=>{var u;const{container:r,...i}=e,[o,c]=A.useState(!1);dr(()=>c(!0),[]);const d=r||o&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return d?Q3.createPortal(a.jsx(lt.div,{...i,ref:t}),d):null});Ob.displayName=NC;function Ip(e){const t=A.useRef({value:e,previous:e});return A.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Fb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),EC="VisuallyHidden",_C=A.forwardRef((e,t)=>a.jsx(lt.span,{...e,ref:t,style:{...Fb,...e.style}}));_C.displayName=EC;var SC=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ga=new WeakMap,qc=new WeakMap,Gc={},l0=0,Ub=function(e){return e&&(e.host||Ub(e.parentNode))},jC=function(e,t){return t.map(function(r){if(e.contains(r))return r;var i=Ub(r);return i&&e.contains(i)?i:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},kC=function(e,t,r,i){var o=jC(t,Array.isArray(e)?e:[e]);Gc[r]||(Gc[r]=new WeakMap);var c=Gc[r],d=[],u=new Set,h=new Set(o),g=function(m){!m||u.has(m)||(u.add(m),g(m.parentNode))};o.forEach(g);var p=function(m){!m||h.has(m)||Array.prototype.forEach.call(m.children,function(w){if(u.has(w))p(w);else try{var _=w.getAttribute(i),v=_!==null&&_!=="false",j=(ga.get(w)||0)+1,E=(c.get(w)||0)+1;ga.set(w,j),c.set(w,E),d.push(w),j===1&&v&&qc.set(w,!0),E===1&&w.setAttribute(r,"true"),v||w.setAttribute(i,"true")}catch(P){console.error("aria-hidden: cannot operate on ",w,P)}})};return p(t),u.clear(),l0++,function(){d.forEach(function(m){var w=ga.get(m)-1,_=c.get(m)-1;ga.set(m,w),c.set(m,_),w||(qc.has(m)||m.removeAttribute(i),qc.delete(m)),_||m.removeAttribute(r)}),l0--,l0||(ga=new WeakMap,ga=new WeakMap,qc=new WeakMap,Gc={})}},CC=function(e,t,r){r===void 0&&(r="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),o=SC(e);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),kC(i,o,r,"aria-hidden")):function(){return null}},Cn=function(){return Cn=Object.assign||function(t){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(t[c]=r[c])}return t},Cn.apply(this,arguments)};function $b(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r}function AC(e,t,r){if(r||arguments.length===2)for(var i=0,o=t.length,c;i<o;i++)(c||!(i in t))&&(c||(c=Array.prototype.slice.call(t,0,i)),c[i]=t[i]);return e.concat(c||Array.prototype.slice.call(t))}var Nu="right-scroll-bar-position",Eu="width-before-scroll-bar",TC="with-scroll-bars-hidden",RC="--removed-body-scroll-bar-size";function c0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function PC(e,t){var r=A.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(i){var o=r.value;o!==i&&(r.value=i,r.callback(i,o))}}}})[0];return r.callback=t,r.facade}var BC=typeof window<"u"?A.useLayoutEffect:A.useEffect,fw=new WeakMap;function MC(e,t){var r=PC(null,function(i){return e.forEach(function(o){return c0(o,i)})});return BC(function(){var i=fw.get(r);if(i){var o=new Set(i),c=new Set(e),d=r.current;o.forEach(function(u){c.has(u)||c0(u,null)}),c.forEach(function(u){o.has(u)||c0(u,d)})}fw.set(r,e)},[e]),r}function IC(e){return e}function OC(e,t){t===void 0&&(t=IC);var r=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(c){var d=t(c,i);return r.push(d),function(){r=r.filter(function(u){return u!==d})}},assignSyncMedium:function(c){for(i=!0;r.length;){var d=r;r=[],d.forEach(c)}r={push:function(u){return c(u)},filter:function(){return r}}},assignMedium:function(c){i=!0;var d=[];if(r.length){var u=r;r=[],u.forEach(c),d=r}var h=function(){var p=d;d=[],p.forEach(c)},g=function(){return Promise.resolve().then(h)};g(),r={push:function(p){d.push(p),g()},filter:function(p){return d=d.filter(p),r}}}};return o}function FC(e){e===void 0&&(e={});var t=OC(null);return t.options=Cn({async:!0,ssr:!1},e),t}var zb=function(e){var t=e.sideCar,r=$b(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return A.createElement(i,Cn({},r))};zb.isSideCarExport=!0;function UC(e,t){return e.useMedium(t),zb}var Vb=FC(),u0=function(){},yd=A.forwardRef(function(e,t){var r=A.useRef(null),i=A.useState({onScrollCapture:u0,onWheelCapture:u0,onTouchMoveCapture:u0}),o=i[0],c=i[1],d=e.forwardProps,u=e.children,h=e.className,g=e.removeScrollBar,p=e.enabled,m=e.shards,w=e.sideCar,_=e.noRelative,v=e.noIsolation,j=e.inert,E=e.allowPinchZoom,P=e.as,I=P===void 0?"div":P,U=e.gapMode,q=$b(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=w,Q=MC([r,t]),X=Cn(Cn({},q),o);return A.createElement(A.Fragment,null,p&&A.createElement(O,{sideCar:Vb,removeScrollBar:g,shards:m,noRelative:_,noIsolation:v,inert:j,setCallbacks:c,allowPinchZoom:!!E,lockRef:r,gapMode:U}),d?A.cloneElement(A.Children.only(u),Cn(Cn({},X),{ref:Q})):A.createElement(I,Cn({},X,{className:h,ref:Q}),u))});yd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yd.classNames={fullWidth:Eu,zeroRight:Nu};var $C=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zC(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=$C();return t&&e.setAttribute("nonce",t),e}function VC(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function HC(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var LC=function(){var e=0,t=null;return{add:function(r){e==0&&(t=zC())&&(VC(t,r),HC(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},WC=function(){var e=LC();return function(t,r){A.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Hb=function(){var e=WC(),t=function(r){var i=r.styles,o=r.dynamic;return e(i,o),null};return t},qC={left:0,top:0,right:0,gap:0},d0=function(e){return parseInt(e||"",10)||0},GC=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[d0(r),d0(i),d0(o)]},KC=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return qC;var t=GC(e),r=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-r+t[2]-t[0])}},DC=Hb(),Fa="data-scroll-locked",YC=function(e,t,r,i){var o=e.left,c=e.top,d=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(TC,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(u,"px ").concat(i,`;
  }
  body[`).concat(Fa,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(i,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nu,` {
    right: `).concat(u,"px ").concat(i,`;
  }
  
  .`).concat(Eu,` {
    margin-right: `).concat(u,"px ").concat(i,`;
  }
  
  .`).concat(Nu," .").concat(Nu,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Eu," .").concat(Eu,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Fa,`] {
    `).concat(RC,": ").concat(u,`px;
  }
`)},hw=function(){var e=parseInt(document.body.getAttribute(Fa)||"0",10);return isFinite(e)?e:0},ZC=function(){A.useEffect(function(){return document.body.setAttribute(Fa,(hw()+1).toString()),function(){var e=hw()-1;e<=0?document.body.removeAttribute(Fa):document.body.setAttribute(Fa,e.toString())}},[])},XC=function(e){var t=e.noRelative,r=e.noImportant,i=e.gapMode,o=i===void 0?"margin":i;ZC();var c=A.useMemo(function(){return KC(o)},[o]);return A.createElement(DC,{styles:YC(c,!t,o,r?"":"!important")})},L0=!1;if(typeof window<"u")try{var Kc=Object.defineProperty({},"passive",{get:function(){return L0=!0,!0}});window.addEventListener("test",Kc,Kc),window.removeEventListener("test",Kc,Kc)}catch{L0=!1}var xa=L0?{passive:!1}:!1,QC=function(e){return e.tagName==="TEXTAREA"},Lb=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!QC(e)&&r[t]==="visible")},JC=function(e){return Lb(e,"overflowY")},eA=function(e){return Lb(e,"overflowX")},pw=function(e,t){var r=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=Wb(e,i);if(o){var c=qb(e,i),d=c[1],u=c[2];if(d>u)return!0}i=i.parentNode}while(i&&i!==r.body);return!1},tA=function(e){var t=e.scrollTop,r=e.scrollHeight,i=e.clientHeight;return[t,r,i]},rA=function(e){var t=e.scrollLeft,r=e.scrollWidth,i=e.clientWidth;return[t,r,i]},Wb=function(e,t){return e==="v"?JC(t):eA(t)},qb=function(e,t){return e==="v"?tA(t):rA(t)},nA=function(e,t){return e==="h"&&t==="rtl"?-1:1},sA=function(e,t,r,i,o){var c=nA(e,window.getComputedStyle(t).direction),d=c*i,u=r.target,h=t.contains(u),g=!1,p=d>0,m=0,w=0;do{if(!u)break;var _=qb(e,u),v=_[0],j=_[1],E=_[2],P=j-E-c*v;(v||P)&&Wb(e,u)&&(m+=P,w+=v);var I=u.parentNode;u=I&&I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?I.host:I}while(!h&&u!==document.body||h&&(t.contains(u)||t===u));return(p&&Math.abs(m)<1||!p&&Math.abs(w)<1)&&(g=!0),g},Dc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mw=function(e){return[e.deltaX,e.deltaY]},gw=function(e){return e&&"current"in e?e.current:e},iA=function(e,t){return e[0]===t[0]&&e[1]===t[1]},aA=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},oA=0,ya=[];function lA(e){var t=A.useRef([]),r=A.useRef([0,0]),i=A.useRef(),o=A.useState(oA++)[0],c=A.useState(Hb)[0],d=A.useRef(e);A.useEffect(function(){d.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var j=AC([e.lockRef.current],(e.shards||[]).map(gw),!0).filter(Boolean);return j.forEach(function(E){return E.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),j.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=A.useCallback(function(j,E){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!d.current.allowPinchZoom;var P=Dc(j),I=r.current,U="deltaX"in j?j.deltaX:I[0]-P[0],q="deltaY"in j?j.deltaY:I[1]-P[1],O,Q=j.target,X=Math.abs(U)>Math.abs(q)?"h":"v";if("touches"in j&&X==="h"&&Q.type==="range")return!1;var z=pw(X,Q);if(!z)return!0;if(z?O=X:(O=X==="v"?"h":"v",z=pw(X,Q)),!z)return!1;if(!i.current&&"changedTouches"in j&&(U||q)&&(i.current=O),!O)return!0;var K=i.current||O;return sA(K,E,j,K==="h"?U:q)},[]),h=A.useCallback(function(j){var E=j;if(!(!ya.length||ya[ya.length-1]!==c)){var P="deltaY"in E?mw(E):Dc(E),I=t.current.filter(function(O){return O.name===E.type&&(O.target===E.target||E.target===O.shadowParent)&&iA(O.delta,P)})[0];if(I&&I.should){E.cancelable&&E.preventDefault();return}if(!I){var U=(d.current.shards||[]).map(gw).filter(Boolean).filter(function(O){return O.contains(E.target)}),q=U.length>0?u(E,U[0]):!d.current.noIsolation;q&&E.cancelable&&E.preventDefault()}}},[]),g=A.useCallback(function(j,E,P,I){var U={name:j,delta:E,target:P,should:I,shadowParent:cA(P)};t.current.push(U),setTimeout(function(){t.current=t.current.filter(function(q){return q!==U})},1)},[]),p=A.useCallback(function(j){r.current=Dc(j),i.current=void 0},[]),m=A.useCallback(function(j){g(j.type,mw(j),j.target,u(j,e.lockRef.current))},[]),w=A.useCallback(function(j){g(j.type,Dc(j),j.target,u(j,e.lockRef.current))},[]);A.useEffect(function(){return ya.push(c),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:w}),document.addEventListener("wheel",h,xa),document.addEventListener("touchmove",h,xa),document.addEventListener("touchstart",p,xa),function(){ya=ya.filter(function(j){return j!==c}),document.removeEventListener("wheel",h,xa),document.removeEventListener("touchmove",h,xa),document.removeEventListener("touchstart",p,xa)}},[]);var _=e.removeScrollBar,v=e.inert;return A.createElement(A.Fragment,null,v?A.createElement(c,{styles:aA(o)}):null,_?A.createElement(XC,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function cA(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const uA=UC(Vb,lA);var Gb=A.forwardRef(function(e,t){return A.createElement(yd,Cn({},e,{ref:t,sideCar:uA}))});Gb.classNames=yd.classNames;var dA=[" ","Enter","ArrowUp","ArrowDown"],fA=[" ","Enter"],Mi="Select",[wd,vd,hA]=Np(Mi),[Ya,PT]=Fi(Mi,[hA,kb]),bd=kb(),[pA,ei]=Ya(Mi),[mA,gA]=Ya(Mi),Kb=e=>{const{__scopeSelect:t,children:r,open:i,defaultOpen:o,onOpenChange:c,value:d,defaultValue:u,onValueChange:h,dir:g,name:p,autoComplete:m,disabled:w,required:_,form:v}=e,j=bd(t),[E,P]=A.useState(null),[I,U]=A.useState(null),[q,O]=A.useState(!1),Q=hd(g),[X,z]=La({prop:i,defaultProp:o??!1,onChange:c,caller:Mi}),[K,W]=La({prop:d,defaultProp:u,onChange:h,caller:Mi}),ie=A.useRef(null),fe=E?v||!!E.closest("form"):!0,[T,V]=A.useState(new Set),G=Array.from(T).map(ee=>ee.props.value).join(";");return a.jsx(yC,{...j,children:a.jsxs(pA,{required:_,scope:t,trigger:E,onTriggerChange:P,valueNode:I,onValueNodeChange:U,valueNodeHasChildren:q,onValueNodeHasChildrenChange:O,contentId:ml(),value:K,onValueChange:W,open:X,onOpenChange:z,dir:Q,triggerPointerDownPosRef:ie,disabled:w,children:[a.jsx(wd.Provider,{scope:t,children:a.jsx(mA,{scope:e.__scopeSelect,onNativeOptionAdd:A.useCallback(ee=>{V(le=>new Set(le).add(ee))},[]),onNativeOptionRemove:A.useCallback(ee=>{V(le=>{const te=new Set(le);return te.delete(ee),te})},[]),children:r})}),fe?a.jsxs(x2,{"aria-hidden":!0,required:_,tabIndex:-1,name:p,autoComplete:m,value:K,onChange:ee=>W(ee.target.value),disabled:w,form:v,children:[K===void 0?a.jsx("option",{value:""}):null,Array.from(T)]},G):null]})})};Kb.displayName=Mi;var Db="SelectTrigger",Yb=A.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:i=!1,...o}=e,c=bd(r),d=ei(Db,r),u=d.disabled||i,h=xt(t,d.onTriggerChange),g=vd(r),p=A.useRef("touch"),[m,w,_]=w2(j=>{const E=g().filter(U=>!U.disabled),P=E.find(U=>U.value===d.value),I=v2(E,j,P);I!==void 0&&d.onValueChange(I.value)}),v=j=>{u||(d.onOpenChange(!0),_()),j&&(d.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return a.jsx(wC,{asChild:!0,...c,children:a.jsx(lt.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":y2(d.value)?"":void 0,...o,ref:h,onClick:st(o.onClick,j=>{j.currentTarget.focus(),p.current!=="mouse"&&v(j)}),onPointerDown:st(o.onPointerDown,j=>{p.current=j.pointerType;const E=j.target;E.hasPointerCapture(j.pointerId)&&E.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(v(j),j.preventDefault())}),onKeyDown:st(o.onKeyDown,j=>{const E=m.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&w(j.key),!(E&&j.key===" ")&&dA.includes(j.key)&&(v(),j.preventDefault())})})})});Yb.displayName=Db;var Zb="SelectValue",Xb=A.forwardRef((e,t)=>{const{__scopeSelect:r,className:i,style:o,children:c,placeholder:d="",...u}=e,h=ei(Zb,r),{onValueNodeHasChildrenChange:g}=h,p=c!==void 0,m=xt(t,h.onValueNodeChange);return dr(()=>{g(p)},[g,p]),a.jsx(lt.span,{...u,ref:m,style:{pointerEvents:"none"},children:y2(h.value)?a.jsx(a.Fragment,{children:d}):c})});Xb.displayName=Zb;var xA="SelectIcon",Qb=A.forwardRef((e,t)=>{const{__scopeSelect:r,children:i,...o}=e;return a.jsx(lt.span,{"aria-hidden":!0,...o,ref:t,children:i||"▼"})});Qb.displayName=xA;var yA="SelectPortal",Jb=e=>a.jsx(Ob,{asChild:!0,...e});Jb.displayName=yA;var Ii="SelectContent",e2=A.forwardRef((e,t)=>{const r=ei(Ii,e.__scopeSelect),[i,o]=A.useState();if(dr(()=>{o(new DocumentFragment)},[]),!r.open){const c=i;return c?cl.createPortal(a.jsx(t2,{scope:e.__scopeSelect,children:a.jsx(wd.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),c):null}return a.jsx(r2,{...e,ref:t})});e2.displayName=Ii;var an=10,[t2,ti]=Ya(Ii),wA="SelectContentImpl",vA=al("SelectContent.RemoveScroll"),r2=A.forwardRef((e,t)=>{const{__scopeSelect:r,position:i="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:c,onPointerDownOutside:d,side:u,sideOffset:h,align:g,alignOffset:p,arrowPadding:m,collisionBoundary:w,collisionPadding:_,sticky:v,hideWhenDetached:j,avoidCollisions:E,...P}=e,I=ei(Ii,r),[U,q]=A.useState(null),[O,Q]=A.useState(null),X=xt(t,pe=>q(pe)),[z,K]=A.useState(null),[W,ie]=A.useState(null),fe=vd(r),[T,V]=A.useState(!1),G=A.useRef(!1);A.useEffect(()=>{if(U)return CC(U)},[U]),n8();const ee=A.useCallback(pe=>{const[de,...Ne]=fe().map(D=>D.ref.current),[C]=Ne.slice(-1),F=document.activeElement;for(const D of pe)if(D===F||(D==null||D.scrollIntoView({block:"nearest"}),D===de&&O&&(O.scrollTop=0),D===C&&O&&(O.scrollTop=O.scrollHeight),D==null||D.focus(),document.activeElement!==F))return},[fe,O]),le=A.useCallback(()=>ee([z,U]),[ee,z,U]);A.useEffect(()=>{T&&le()},[T,le]);const{onOpenChange:te,triggerPointerDownPosRef:ge}=I;A.useEffect(()=>{if(U){let pe={x:0,y:0};const de=C=>{var F,D;pe={x:Math.abs(Math.round(C.pageX)-(((F=ge.current)==null?void 0:F.x)??0)),y:Math.abs(Math.round(C.pageY)-(((D=ge.current)==null?void 0:D.y)??0))}},Ne=C=>{pe.x<=10&&pe.y<=10?C.preventDefault():U.contains(C.target)||te(!1),document.removeEventListener("pointermove",de),ge.current=null};return ge.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",Ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",Ne,{capture:!0})}}},[U,te,ge]),A.useEffect(()=>{const pe=()=>te(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[te]);const[_e,Y]=w2(pe=>{const de=fe().filter(F=>!F.disabled),Ne=de.find(F=>F.ref.current===document.activeElement),C=v2(de,pe,Ne);C&&setTimeout(()=>C.ref.current.focus())}),me=A.useCallback((pe,de,Ne)=>{const C=!G.current&&!Ne;(I.value!==void 0&&I.value===de||C)&&(K(pe),C&&(G.current=!0))},[I.value]),Be=A.useCallback(()=>U==null?void 0:U.focus(),[U]),H=A.useCallback((pe,de,Ne)=>{const C=!G.current&&!Ne;(I.value!==void 0&&I.value===de||C)&&ie(pe)},[I.value]),Pe=i==="popper"?W0:n2,Ae=Pe===W0?{side:u,sideOffset:h,align:g,alignOffset:p,arrowPadding:m,collisionBoundary:w,collisionPadding:_,sticky:v,hideWhenDetached:j,avoidCollisions:E}:{};return a.jsx(t2,{scope:r,content:U,viewport:O,onViewportChange:Q,itemRefCallback:me,selectedItem:z,onItemLeave:Be,itemTextRefCallback:H,focusSelectedItem:le,selectedItemText:W,position:i,isPositioned:T,searchRef:_e,children:a.jsx(Gb,{as:vA,allowPinchZoom:!0,children:a.jsx(hb,{asChild:!0,trapped:I.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:st(o,pe=>{var de;(de=I.trigger)==null||de.focus({preventScroll:!0}),pe.preventDefault()}),children:a.jsx(db,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>I.onOpenChange(!1),children:a.jsx(Pe,{role:"listbox",id:I.contentId,"data-state":I.open?"open":"closed",dir:I.dir,onContextMenu:pe=>pe.preventDefault(),...P,...Ae,onPlaced:()=>V(!0),ref:X,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:st(P.onKeyDown,pe=>{const de=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!de&&pe.key.length===1&&Y(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let C=fe().filter(F=>!F.disabled).map(F=>F.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(C=C.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const F=pe.target,D=C.indexOf(F);C=C.slice(D+1)}setTimeout(()=>ee(C)),pe.preventDefault()}})})})})})})});r2.displayName=wA;var bA="SelectItemAlignedPosition",n2=A.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:i,...o}=e,c=ei(Ii,r),d=ti(Ii,r),[u,h]=A.useState(null),[g,p]=A.useState(null),m=xt(t,X=>p(X)),w=vd(r),_=A.useRef(!1),v=A.useRef(!0),{viewport:j,selectedItem:E,selectedItemText:P,focusSelectedItem:I}=d,U=A.useCallback(()=>{if(c.trigger&&c.valueNode&&u&&g&&j&&E&&P){const X=c.trigger.getBoundingClientRect(),z=g.getBoundingClientRect(),K=c.valueNode.getBoundingClientRect(),W=P.getBoundingClientRect();if(c.dir!=="rtl"){const F=W.left-z.left,D=K.left-F,J=X.left-D,ne=X.width+J,ae=Math.max(ne,z.width),R=window.innerWidth-an,y=zu(D,[an,Math.max(an,R-ae)]);u.style.minWidth=ne+"px",u.style.left=y+"px"}else{const F=z.right-W.right,D=window.innerWidth-K.right-F,J=window.innerWidth-X.right-D,ne=X.width+J,ae=Math.max(ne,z.width),R=window.innerWidth-an,y=zu(D,[an,Math.max(an,R-ae)]);u.style.minWidth=ne+"px",u.style.right=y+"px"}const ie=w(),fe=window.innerHeight-an*2,T=j.scrollHeight,V=window.getComputedStyle(g),G=parseInt(V.borderTopWidth,10),ee=parseInt(V.paddingTop,10),le=parseInt(V.borderBottomWidth,10),te=parseInt(V.paddingBottom,10),ge=G+ee+T+te+le,_e=Math.min(E.offsetHeight*5,ge),Y=window.getComputedStyle(j),me=parseInt(Y.paddingTop,10),Be=parseInt(Y.paddingBottom,10),H=X.top+X.height/2-an,Pe=fe-H,Ae=E.offsetHeight/2,pe=E.offsetTop+Ae,de=G+ee+pe,Ne=ge-de;if(de<=H){const F=ie.length>0&&E===ie[ie.length-1].ref.current;u.style.bottom="0px";const D=g.clientHeight-j.offsetTop-j.offsetHeight,J=Math.max(Pe,Ae+(F?Be:0)+D+le),ne=de+J;u.style.height=ne+"px"}else{const F=ie.length>0&&E===ie[0].ref.current;u.style.top="0px";const J=Math.max(H,G+j.offsetTop+(F?me:0)+Ae)+Ne;u.style.height=J+"px",j.scrollTop=de-H+j.offsetTop}u.style.margin=`${an}px 0`,u.style.minHeight=_e+"px",u.style.maxHeight=fe+"px",i==null||i(),requestAnimationFrame(()=>_.current=!0)}},[w,c.trigger,c.valueNode,u,g,j,E,P,c.dir,i]);dr(()=>U(),[U]);const[q,O]=A.useState();dr(()=>{g&&O(window.getComputedStyle(g).zIndex)},[g]);const Q=A.useCallback(X=>{X&&v.current===!0&&(U(),I==null||I(),v.current=!1)},[U,I]);return a.jsx(EA,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:_,onScrollButtonChange:Q,children:a.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:q},children:a.jsx(lt.div,{...o,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});n2.displayName=bA;var NA="SelectPopperPosition",W0=A.forwardRef((e,t)=>{const{__scopeSelect:r,align:i="start",collisionPadding:o=an,...c}=e,d=bd(r);return a.jsx(vC,{...d,...c,ref:t,align:i,collisionPadding:o,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});W0.displayName=NA;var[EA,Op]=Ya(Ii,{}),q0="SelectViewport",s2=A.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:i,...o}=e,c=ti(q0,r),d=Op(q0,r),u=xt(t,c.onViewportChange),h=A.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),a.jsx(wd.Slot,{scope:r,children:a.jsx(lt.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:st(o.onScroll,g=>{const p=g.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:w}=d;if(w!=null&&w.current&&m){const _=Math.abs(h.current-p.scrollTop);if(_>0){const v=window.innerHeight-an*2,j=parseFloat(m.style.minHeight),E=parseFloat(m.style.height),P=Math.max(j,E);if(P<v){const I=P+_,U=Math.min(v,I),q=I-U;m.style.height=U+"px",m.style.bottom==="0px"&&(p.scrollTop=q>0?q:0,m.style.justifyContent="flex-end")}}}h.current=p.scrollTop})})})]})});s2.displayName=q0;var i2="SelectGroup",[_A,SA]=Ya(i2),jA=A.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e,o=ml();return a.jsx(_A,{scope:r,id:o,children:a.jsx(lt.div,{role:"group","aria-labelledby":o,...i,ref:t})})});jA.displayName=i2;var a2="SelectLabel",o2=A.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e,o=SA(a2,r);return a.jsx(lt.div,{id:o.id,...i,ref:t})});o2.displayName=a2;var qu="SelectItem",[kA,l2]=Ya(qu),c2=A.forwardRef((e,t)=>{const{__scopeSelect:r,value:i,disabled:o=!1,textValue:c,...d}=e,u=ei(qu,r),h=ti(qu,r),g=u.value===i,[p,m]=A.useState(c??""),[w,_]=A.useState(!1),v=xt(t,I=>{var U;return(U=h.itemRefCallback)==null?void 0:U.call(h,I,i,o)}),j=ml(),E=A.useRef("touch"),P=()=>{o||(u.onValueChange(i),u.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(kA,{scope:r,value:i,disabled:o,textId:j,isSelected:g,onItemTextChange:A.useCallback(I=>{m(U=>U||((I==null?void 0:I.textContent)??"").trim())},[]),children:a.jsx(wd.ItemSlot,{scope:r,value:i,disabled:o,textValue:p,children:a.jsx(lt.div,{role:"option","aria-labelledby":j,"data-highlighted":w?"":void 0,"aria-selected":g&&w,"data-state":g?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...d,ref:v,onFocus:st(d.onFocus,()=>_(!0)),onBlur:st(d.onBlur,()=>_(!1)),onClick:st(d.onClick,()=>{E.current!=="mouse"&&P()}),onPointerUp:st(d.onPointerUp,()=>{E.current==="mouse"&&P()}),onPointerDown:st(d.onPointerDown,I=>{E.current=I.pointerType}),onPointerMove:st(d.onPointerMove,I=>{var U;E.current=I.pointerType,o?(U=h.onItemLeave)==null||U.call(h):E.current==="mouse"&&I.currentTarget.focus({preventScroll:!0})}),onPointerLeave:st(d.onPointerLeave,I=>{var U;I.currentTarget===document.activeElement&&((U=h.onItemLeave)==null||U.call(h))}),onKeyDown:st(d.onKeyDown,I=>{var q;((q=h.searchRef)==null?void 0:q.current)!==""&&I.key===" "||(fA.includes(I.key)&&P(),I.key===" "&&I.preventDefault())})})})})});c2.displayName=qu;var qo="SelectItemText",u2=A.forwardRef((e,t)=>{const{__scopeSelect:r,className:i,style:o,...c}=e,d=ei(qo,r),u=ti(qo,r),h=l2(qo,r),g=gA(qo,r),[p,m]=A.useState(null),w=xt(t,P=>m(P),h.onItemTextChange,P=>{var I;return(I=u.itemTextRefCallback)==null?void 0:I.call(u,P,h.value,h.disabled)}),_=p==null?void 0:p.textContent,v=A.useMemo(()=>a.jsx("option",{value:h.value,disabled:h.disabled,children:_},h.value),[h.disabled,h.value,_]),{onNativeOptionAdd:j,onNativeOptionRemove:E}=g;return dr(()=>(j(v),()=>E(v)),[j,E,v]),a.jsxs(a.Fragment,{children:[a.jsx(lt.span,{id:h.textId,...c,ref:w}),h.isSelected&&d.valueNode&&!d.valueNodeHasChildren?cl.createPortal(c.children,d.valueNode):null]})});u2.displayName=qo;var d2="SelectItemIndicator",f2=A.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e;return l2(d2,r).isSelected?a.jsx(lt.span,{"aria-hidden":!0,...i,ref:t}):null});f2.displayName=d2;var G0="SelectScrollUpButton",h2=A.forwardRef((e,t)=>{const r=ti(G0,e.__scopeSelect),i=Op(G0,e.__scopeSelect),[o,c]=A.useState(!1),d=xt(t,i.onScrollButtonChange);return dr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const g=h.scrollTop>0;c(g)};const h=r.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),o?a.jsx(m2,{...e,ref:d,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=r;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});h2.displayName=G0;var K0="SelectScrollDownButton",p2=A.forwardRef((e,t)=>{const r=ti(K0,e.__scopeSelect),i=Op(K0,e.__scopeSelect),[o,c]=A.useState(!1),d=xt(t,i.onScrollButtonChange);return dr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const g=h.scrollHeight-h.clientHeight,p=Math.ceil(h.scrollTop)<g;c(p)};const h=r.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),o?a.jsx(m2,{...e,ref:d,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=r;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});p2.displayName=K0;var m2=A.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:i,...o}=e,c=ti("SelectScrollButton",r),d=A.useRef(null),u=vd(r),h=A.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return A.useEffect(()=>()=>h(),[h]),dr(()=>{var p;const g=u().find(m=>m.ref.current===document.activeElement);(p=g==null?void 0:g.ref.current)==null||p.scrollIntoView({block:"nearest"})},[u]),a.jsx(lt.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:st(o.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(i,50))}),onPointerMove:st(o.onPointerMove,()=>{var g;(g=c.onItemLeave)==null||g.call(c),d.current===null&&(d.current=window.setInterval(i,50))}),onPointerLeave:st(o.onPointerLeave,()=>{h()})})}),CA="SelectSeparator",g2=A.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e;return a.jsx(lt.div,{"aria-hidden":!0,...i,ref:t})});g2.displayName=CA;var D0="SelectArrow",AA=A.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e,o=bd(r),c=ei(D0,r),d=ti(D0,r);return c.open&&d.position==="popper"?a.jsx(bC,{...o,...i,ref:t}):null});AA.displayName=D0;var TA="SelectBubbleInput",x2=A.forwardRef(({__scopeSelect:e,value:t,...r},i)=>{const o=A.useRef(null),c=xt(i,o),d=Ip(t);return A.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(h,"value").set;if(d!==t&&p){const m=new Event("change",{bubbles:!0});p.call(u,t),u.dispatchEvent(m)}},[d,t]),a.jsx(lt.select,{...r,style:{...Fb,...r.style},ref:c,defaultValue:t})});x2.displayName=TA;function y2(e){return e===""||e===void 0}function w2(e){const t=Zs(e),r=A.useRef(""),i=A.useRef(0),o=A.useCallback(d=>{const u=r.current+d;t(u),function h(g){r.current=g,window.clearTimeout(i.current),g!==""&&(i.current=window.setTimeout(()=>h(""),1e3))}(u)},[t]),c=A.useCallback(()=>{r.current="",window.clearTimeout(i.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(i.current),[]),[r,o,c]}function v2(e,t,r){const o=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,c=r?e.indexOf(r):-1;let d=RA(e,Math.max(c,0));o.length===1&&(d=d.filter(g=>g!==r));const h=d.find(g=>g.textValue.toLowerCase().startsWith(o.toLowerCase()));return h!==r?h:void 0}function RA(e,t){return e.map((r,i)=>e[(t+i)%e.length])}var PA=Kb,b2=Yb,BA=Xb,MA=Qb,IA=Jb,N2=e2,OA=s2,E2=o2,_2=c2,FA=u2,UA=f2,S2=h2,j2=p2,k2=g2;const is=PA,as=BA,Tn=A.forwardRef(({className:e,children:t,...r},i)=>a.jsxs(b2,{ref:i,className:Et("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(MA,{asChild:!0,children:a.jsx(S1,{className:"h-4 w-4 opacity-50"})})]}));Tn.displayName=b2.displayName;const C2=A.forwardRef(({className:e,...t},r)=>a.jsx(S2,{ref:r,className:Et("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(wj,{className:"h-4 w-4"})}));C2.displayName=S2.displayName;const A2=A.forwardRef(({className:e,...t},r)=>a.jsx(j2,{ref:r,className:Et("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(S1,{className:"h-4 w-4"})}));A2.displayName=j2.displayName;const Rn=A.forwardRef(({className:e,children:t,position:r="popper",...i},o)=>a.jsx(IA,{children:a.jsxs(N2,{ref:o,className:Et("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...i,children:[a.jsx(C2,{}),a.jsx(OA,{className:Et("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(A2,{})]})}));Rn.displayName=N2.displayName;const $A=A.forwardRef(({className:e,...t},r)=>a.jsx(E2,{ref:r,className:Et("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));$A.displayName=E2.displayName;const tt=A.forwardRef(({className:e,children:t,...r},i)=>a.jsxs(_2,{ref:i,className:Et("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(UA,{children:a.jsx(yp,{className:"h-4 w-4"})})}),a.jsx(FA,{children:t})]}));tt.displayName=_2.displayName;const zA=A.forwardRef(({className:e,...t},r)=>a.jsx(k2,{ref:r,className:Et("-mx-1 my-1 h-px bg-muted",e),...t}));zA.displayName=k2.displayName;const VA=({formData:e,setFormData:t})=>{const r=(i,o)=>{t({...e,[i]:o})};return a.jsxs(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:[a.jsx(Or,{children:a.jsx(Fr,{className:"text-xl text-gray-900 dark:text-white",children:"Basic Information"})}),a.jsxs(Lt,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Xe,{htmlFor:"agent-name",className:"text-gray-700 dark:text-gray-300",children:["Agent Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Ir,{id:"agent-name",placeholder:"e.g. Customer Support Assistant",value:e.name,onChange:i=>r("name",i.target.value),className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Xe,{htmlFor:"description",className:"text-gray-700 dark:text-gray-300",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Gr,{id:"description",placeholder:"Describe what your agent does and how it helps users...",value:e.description,onChange:i=>r("description",i.target.value),className:"min-h-[120px] bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"category",className:"text-gray-700 dark:text-gray-300",children:"Category"}),a.jsxs(is,{value:e.category,onValueChange:i=>r("category",i),children:[a.jsx(Tn,{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30",children:a.jsx(as,{placeholder:"Select a category"})}),a.jsxs(Rn,{children:[a.jsx(tt,{value:"general",children:"General"}),a.jsx(tt,{value:"customer-support",children:"Customer Support"}),a.jsx(tt,{value:"sales",children:"Sales"}),a.jsx(tt,{value:"education",children:"Education"}),a.jsx(tt,{value:"healthcare",children:"Healthcare"}),a.jsx(tt,{value:"finance",children:"Finance"})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Xe,{className:"text-gray-700 dark:text-gray-300",children:"Visibility"}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"visibility",value:"private",checked:e.visibility==="private",onChange:i=>r("visibility",i.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Private (Only you can access)"})]}),a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"visibility",value:"public",checked:e.visibility==="public",onChange:i=>r("visibility",i.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Public (Anyone can access)"})]})]})]})]})]})},HA=({formData:e,setFormData:t})=>{const r=["helpful","professional","friendly","enthusiastic","patient","knowledgeable","empathetic","concise"],i=c=>{const d=e.personalityTraits.includes(c)?e.personalityTraits.filter(u=>u!==c):[...e.personalityTraits,c];t({...e,personalityTraits:d})},o=(c,d)=>{t({...e,[c]:d})};return a.jsxs(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:[a.jsx(Or,{children:a.jsx(Fr,{className:"text-xl text-gray-900 dark:text-white",children:"Personality"})}),a.jsx(Lt,{className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs(Xe,{className:"text-gray-700 dark:text-gray-300",children:["Personality Traits ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-3",children:r.map(c=>a.jsx(Ut,{variant:e.personalityTraits.includes(c)?"default":"outline",size:"sm",onClick:()=>i(c),className:`${e.personalityTraits.includes(c)?"bg-gradient-to-r from-blue-500 to-purple-600 text-white":"bg-white/50 dark:bg-gray-700/50 border-white/30 dark:border-gray-600/30"}`,children:c},c))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{className:"text-gray-700 dark:text-gray-300",children:"Tone"}),a.jsxs(is,{value:e.tone,onValueChange:c=>o("tone",c),children:[a.jsx(Tn,{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30",children:a.jsx(as,{})}),a.jsxs(Rn,{children:[a.jsx(tt,{value:"professional",children:"Professional"}),a.jsx(tt,{value:"casual",children:"Casual"}),a.jsx(tt,{value:"formal",children:"Formal"}),a.jsx(tt,{value:"friendly",children:"Friendly"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{className:"text-gray-700 dark:text-gray-300",children:"Response Style"}),a.jsxs(is,{value:e.style,onValueChange:c=>o("style",c),children:[a.jsx(Tn,{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30",children:a.jsx(as,{})}),a.jsxs(Rn,{children:[a.jsx(tt,{value:"helpful",children:"Helpful"}),a.jsx(tt,{value:"detailed",children:"Detailed"}),a.jsx(tt,{value:"concise",children:"Concise"}),a.jsx(tt,{value:"conversational",children:"Conversational"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{className:"text-gray-700 dark:text-gray-300",children:"Communication Style"}),a.jsxs(is,{value:e.communicationStyle,onValueChange:c=>o("communicationStyle",c),children:[a.jsx(Tn,{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30",children:a.jsx(as,{})}),a.jsxs(Rn,{children:[a.jsx(tt,{value:"professional",children:"Professional"}),a.jsx(tt,{value:"casual",children:"Casual"}),a.jsx(tt,{value:"technical",children:"Technical"}),a.jsx(tt,{value:"simplified",children:"Simplified"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{className:"text-gray-700 dark:text-gray-300",children:"Response Pattern"}),a.jsxs(is,{value:e.responsePattern,onValueChange:c=>o("responsePattern",c),children:[a.jsx(Tn,{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30",children:a.jsx(as,{})}),a.jsxs(Rn,{children:[a.jsx(tt,{value:"detailed",children:"Detailed"}),a.jsx(tt,{value:"concise",children:"Concise"}),a.jsx(tt,{value:"structured",children:"Structured"}),a.jsx(tt,{value:"conversational",children:"Conversational"})]})]})]})]})]})})]})},LA=({formData:e,setFormData:t})=>{const r=()=>{t({...e,knowledgeSources:[...e.knowledgeSources,{type:"Manual Text",content:"",metadata:{}}]})},i=h=>{t({...e,knowledgeSources:e.knowledgeSources.filter((g,p)=>p!==h)})},o=(h,g,p)=>{const m=[...e.knowledgeSources];m[h]={...m[h],[g]:p},g==="type"&&(m[h].metadata={}),t({...e,knowledgeSources:m})},c=(h,g,p)=>{const m=[...e.knowledgeSources];m[h]={...m[h],metadata:{...m[h].metadata,[g]:p}},t({...e,knowledgeSources:m})},d=h=>{t({...e,context:h})},u=(h,g)=>{var p,m,w,_,v,j,E,P,I;switch(h.type){case"Database Query":return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"Database Connection"}),a.jsx(Ir,{placeholder:"Database name or connection string",value:((p=h.metadata)==null?void 0:p.connectionString)||"",onChange:U=>c(g,"connectionString",U.target.value),className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),a.jsxs("div",{children:[a.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"Query or Table"}),a.jsx(Gr,{placeholder:"SQL query or table name",value:((m=h.metadata)==null?void 0:m.queryOrTable)||"",onChange:U=>c(g,"queryOrTable",U.target.value),className:"min-h-[80px] bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),a.jsxs("div",{children:[a.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"Description"}),a.jsx(Gr,{placeholder:"Describe the data structure and content...",value:((w=h.metadata)==null?void 0:w.description)||"",onChange:U=>c(g,"description",U.target.value),className:"min-h-[80px] bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]})]});case"API Integration":return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"API Endpoint"}),a.jsx(Ir,{placeholder:"https://api.example.com/data",value:((_=h.metadata)==null?void 0:_.endpoint)||"",onChange:U=>c(g,"endpoint",U.target.value),className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),a.jsxs("div",{children:[a.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"API Key (Optional)"}),a.jsx(Ir,{placeholder:"Enter API key if required",value:((v=h.metadata)==null?void 0:v.apiKey)||"",onChange:U=>c(g,"apiKey",U.target.value),className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),a.jsxs("div",{children:[a.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"API Description"}),a.jsx(Gr,{placeholder:"Describe what data this API provides...",value:((j=h.metadata)==null?void 0:j.apiDescription)||"",onChange:U=>c(g,"apiDescription",U.target.value),className:"min-h-[80px] bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]})]});case"Document Upload":return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"Upload Document"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center bg-white/50 dark:bg-gray-800/50",children:[a.jsx(o4,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Click to upload or drag and drop"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"PDF, TXT, DOC, DOCX, MD up to 10MB"})]})]}),a.jsxs("div",{children:[a.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"Document Description (Optional)"}),a.jsx(Gr,{placeholder:"Brief description of the document content...",value:((E=h.metadata)==null?void 0:E.documentDescription)||"",onChange:U=>c(g,"documentDescription",U.target.value),className:"min-h-[80px] bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]})]});case"Web URL":return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"Website URL"}),a.jsx(Ir,{placeholder:"https://example.com/article",value:((P=h.metadata)==null?void 0:P.url)||"",onChange:U=>c(g,"url",U.target.value),className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),a.jsxs("div",{children:[a.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"Content Summary"}),a.jsx(Gr,{placeholder:"Summarize the key information from this URL...",value:((I=h.metadata)==null?void 0:I.contentSummary)||"",onChange:U=>c(g,"contentSummary",U.target.value),className:"min-h-[80px] bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]})]});case"Manual Text":default:return a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"Knowledge Content"}),a.jsx(Gr,{placeholder:"Enter your knowledge content here...",value:h.content,onChange:U=>o(g,"content",U.target.value),className:"min-h-[100px] bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]})}};return a.jsxs(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:[a.jsx(Or,{children:a.jsx(Fr,{className:"text-xl text-gray-900 dark:text-white",children:"Knowledge"})}),a.jsxs(Lt,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"context",className:"text-gray-700 dark:text-gray-300",children:"Context"}),a.jsx(Gr,{id:"context",placeholder:"Provide background context for your agent...",value:e.context,onChange:h=>d(h.target.value),className:"min-h-[120px] bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Xe,{className:"text-gray-700 dark:text-gray-300",children:"Knowledge Sources"}),e.knowledgeSources.map((h,g)=>a.jsxs("div",{className:"space-y-3 p-4 border border-white/30 dark:border-gray-600/30 rounded-lg bg-white/20 dark:bg-gray-800/20",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Xe,{className:"text-sm text-gray-700 dark:text-gray-300",children:"Source Type"}),e.knowledgeSources.length>1&&a.jsx(Ut,{variant:"outline",size:"sm",onClick:()=>i(g),className:"bg-red-50 hover:bg-red-100 border-red-200 text-red-600",children:a.jsx(T1,{className:"w-4 h-4"})})]}),a.jsxs(is,{value:h.type,onValueChange:p=>o(g,"type",p),children:[a.jsx(Tn,{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30",children:a.jsx(as,{})}),a.jsxs(Rn,{children:[a.jsx(tt,{value:"Manual Text",children:"Manual Text"}),a.jsx(tt,{value:"Web URL",children:"Web URL"}),a.jsx(tt,{value:"Document Upload",children:"Document Upload"}),a.jsx(tt,{value:"API Integration",children:"API Integration"}),a.jsx(tt,{value:"Database Query",children:"Database Query"})]})]}),u(h,g)]},g)),a.jsxs(Ut,{variant:"outline",onClick:r,className:"w-full bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30",children:[a.jsx(il,{className:"w-4 h-4 mr-2"}),"Add Knowledge Source"]})]})]})]})};var Nd="Checkbox",[WA,BT]=Fi(Nd),[qA,Fp]=WA(Nd);function GA(e){const{__scopeCheckbox:t,checked:r,children:i,defaultChecked:o,disabled:c,form:d,name:u,onCheckedChange:h,required:g,value:p="on",internal_do_not_use_render:m}=e,[w,_]=La({prop:r,defaultProp:o??!1,onChange:h,caller:Nd}),[v,j]=A.useState(null),[E,P]=A.useState(null),I=A.useRef(!1),U=v?!!d||!!v.closest("form"):!0,q={checked:w,disabled:c,setChecked:_,control:v,setControl:j,name:u,form:d,value:p,hasConsumerStoppedPropagationRef:I,required:g,defaultChecked:Ys(o)?!1:o,isFormControl:U,bubbleInput:E,setBubbleInput:P};return a.jsx(qA,{scope:t,...q,children:KA(m)?m(q):i})}var T2="CheckboxTrigger",R2=A.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...i},o)=>{const{control:c,value:d,disabled:u,checked:h,required:g,setControl:p,setChecked:m,hasConsumerStoppedPropagationRef:w,isFormControl:_,bubbleInput:v}=Fp(T2,e),j=xt(o,p),E=A.useRef(h);return A.useEffect(()=>{const P=c==null?void 0:c.form;if(P){const I=()=>m(E.current);return P.addEventListener("reset",I),()=>P.removeEventListener("reset",I)}},[c,m]),a.jsx(lt.button,{type:"button",role:"checkbox","aria-checked":Ys(h)?"mixed":h,"aria-required":g,"data-state":O2(h),"data-disabled":u?"":void 0,disabled:u,value:d,...i,ref:j,onKeyDown:st(t,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:st(r,P=>{m(I=>Ys(I)?!0:!I),v&&_&&(w.current=P.isPropagationStopped(),w.current||P.stopPropagation())})})});R2.displayName=T2;var Up=A.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:i,checked:o,defaultChecked:c,required:d,disabled:u,value:h,onCheckedChange:g,form:p,...m}=e;return a.jsx(GA,{__scopeCheckbox:r,checked:o,defaultChecked:c,disabled:u,required:d,onCheckedChange:g,name:i,form:p,value:h,internal_do_not_use_render:({isFormControl:w})=>a.jsxs(a.Fragment,{children:[a.jsx(R2,{...m,ref:t,__scopeCheckbox:r}),w&&a.jsx(I2,{__scopeCheckbox:r})]})})});Up.displayName=Nd;var P2="CheckboxIndicator",B2=A.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:i,...o}=e,c=Fp(P2,r);return a.jsx(Ep,{present:i||Ys(c.checked)||c.checked===!0,children:a.jsx(lt.span,{"data-state":O2(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});B2.displayName=P2;var M2="CheckboxBubbleInput",I2=A.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:i,hasConsumerStoppedPropagationRef:o,checked:c,defaultChecked:d,required:u,disabled:h,name:g,value:p,form:m,bubbleInput:w,setBubbleInput:_}=Fp(M2,e),v=xt(r,_),j=Ip(c),E=Pp(i);A.useEffect(()=>{const I=w;if(!I)return;const U=window.HTMLInputElement.prototype,O=Object.getOwnPropertyDescriptor(U,"checked").set,Q=!o.current;if(j!==c&&O){const X=new Event("click",{bubbles:Q});I.indeterminate=Ys(c),O.call(I,Ys(c)?!1:c),I.dispatchEvent(X)}},[w,j,c,o]);const P=A.useRef(Ys(c)?!1:c);return a.jsx(lt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??P.current,required:u,disabled:h,name:g,value:p,form:m,...t,tabIndex:-1,ref:v,style:{...t.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});I2.displayName=M2;function KA(e){return typeof e=="function"}function Ys(e){return e==="indeterminate"}function O2(e){return Ys(e)?"indeterminate":e?"checked":"unchecked"}const F2=A.forwardRef(({className:e,...t},r)=>a.jsx(Up,{ref:r,className:Et("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(B2,{className:Et("flex items-center justify-center text-current"),children:a.jsx(yp,{className:"h-4 w-4"})})}));F2.displayName=Up.displayName;var U2=["PageUp","PageDown"],$2=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],z2={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Za="Slider",[Y0,DA,YA]=Np(Za),[V2,MT]=Fi(Za,[YA]),[ZA,Ed]=V2(Za),H2=A.forwardRef((e,t)=>{const{name:r,min:i=0,max:o=100,step:c=1,orientation:d="horizontal",disabled:u=!1,minStepsBetweenThumbs:h=0,defaultValue:g=[i],value:p,onValueChange:m=()=>{},onValueCommit:w=()=>{},inverted:_=!1,form:v,...j}=e,E=A.useRef(new Set),P=A.useRef(0),U=d==="horizontal"?XA:QA,[q=[],O]=La({prop:p,defaultProp:g,onChange:ie=>{var T;(T=[...E.current][P.current])==null||T.focus(),m(ie)}}),Q=A.useRef(q);function X(ie){const fe=nT(q,ie);W(ie,fe)}function z(ie){W(ie,P.current)}function K(){const ie=Q.current[P.current];q[P.current]!==ie&&w(q)}function W(ie,fe,{commit:T}={commit:!1}){const V=oT(c),G=lT(Math.round((ie-i)/c)*c+i,V),ee=zu(G,[i,o]);O((le=[])=>{const te=tT(le,ee,fe);if(aT(te,h*c)){P.current=te.indexOf(ee);const ge=String(te)!==String(le);return ge&&T&&w(te),ge?te:le}else return le})}return a.jsx(ZA,{scope:e.__scopeSlider,name:r,disabled:u,min:i,max:o,valueIndexToChangeRef:P,thumbs:E.current,values:q,orientation:d,form:v,children:a.jsx(Y0.Provider,{scope:e.__scopeSlider,children:a.jsx(Y0.Slot,{scope:e.__scopeSlider,children:a.jsx(U,{"aria-disabled":u,"data-disabled":u?"":void 0,...j,ref:t,onPointerDown:st(j.onPointerDown,()=>{u||(Q.current=q)}),min:i,max:o,inverted:_,onSlideStart:u?void 0:X,onSlideMove:u?void 0:z,onSlideEnd:u?void 0:K,onHomeKeyDown:()=>!u&&W(i,0,{commit:!0}),onEndKeyDown:()=>!u&&W(o,q.length-1,{commit:!0}),onStepKeyDown:({event:ie,direction:fe})=>{if(!u){const G=U2.includes(ie.key)||ie.shiftKey&&$2.includes(ie.key)?10:1,ee=P.current,le=q[ee],te=c*G*fe;W(le+te,ee,{commit:!0})}}})})})})});H2.displayName=Za;var[L2,W2]=V2(Za,{startEdge:"left",endEdge:"right",size:"width",direction:1}),XA=A.forwardRef((e,t)=>{const{min:r,max:i,dir:o,inverted:c,onSlideStart:d,onSlideMove:u,onSlideEnd:h,onStepKeyDown:g,...p}=e,[m,w]=A.useState(null),_=xt(t,U=>w(U)),v=A.useRef(void 0),j=hd(o),E=j==="ltr",P=E&&!c||!E&&c;function I(U){const q=v.current||m.getBoundingClientRect(),O=[0,q.width],X=$p(O,P?[r,i]:[i,r]);return v.current=q,X(U-q.left)}return a.jsx(L2,{scope:e.__scopeSlider,startEdge:P?"left":"right",endEdge:P?"right":"left",direction:P?1:-1,size:"width",children:a.jsx(q2,{dir:j,"data-orientation":"horizontal",...p,ref:_,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:U=>{const q=I(U.clientX);d==null||d(q)},onSlideMove:U=>{const q=I(U.clientX);u==null||u(q)},onSlideEnd:()=>{v.current=void 0,h==null||h()},onStepKeyDown:U=>{const O=z2[P?"from-left":"from-right"].includes(U.key);g==null||g({event:U,direction:O?-1:1})}})})}),QA=A.forwardRef((e,t)=>{const{min:r,max:i,inverted:o,onSlideStart:c,onSlideMove:d,onSlideEnd:u,onStepKeyDown:h,...g}=e,p=A.useRef(null),m=xt(t,p),w=A.useRef(void 0),_=!o;function v(j){const E=w.current||p.current.getBoundingClientRect(),P=[0,E.height],U=$p(P,_?[i,r]:[r,i]);return w.current=E,U(j-E.top)}return a.jsx(L2,{scope:e.__scopeSlider,startEdge:_?"bottom":"top",endEdge:_?"top":"bottom",size:"height",direction:_?1:-1,children:a.jsx(q2,{"data-orientation":"vertical",...g,ref:m,style:{...g.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:j=>{const E=v(j.clientY);c==null||c(E)},onSlideMove:j=>{const E=v(j.clientY);d==null||d(E)},onSlideEnd:()=>{w.current=void 0,u==null||u()},onStepKeyDown:j=>{const P=z2[_?"from-bottom":"from-top"].includes(j.key);h==null||h({event:j,direction:P?-1:1})}})})}),q2=A.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:i,onSlideMove:o,onSlideEnd:c,onHomeKeyDown:d,onEndKeyDown:u,onStepKeyDown:h,...g}=e,p=Ed(Za,r);return a.jsx(lt.span,{...g,ref:t,onKeyDown:st(e.onKeyDown,m=>{m.key==="Home"?(d(m),m.preventDefault()):m.key==="End"?(u(m),m.preventDefault()):U2.concat($2).includes(m.key)&&(h(m),m.preventDefault())}),onPointerDown:st(e.onPointerDown,m=>{const w=m.target;w.setPointerCapture(m.pointerId),m.preventDefault(),p.thumbs.has(w)?w.focus():i(m)}),onPointerMove:st(e.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&o(m)}),onPointerUp:st(e.onPointerUp,m=>{const w=m.target;w.hasPointerCapture(m.pointerId)&&(w.releasePointerCapture(m.pointerId),c(m))})})}),G2="SliderTrack",K2=A.forwardRef((e,t)=>{const{__scopeSlider:r,...i}=e,o=Ed(G2,r);return a.jsx(lt.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...i,ref:t})});K2.displayName=G2;var Z0="SliderRange",D2=A.forwardRef((e,t)=>{const{__scopeSlider:r,...i}=e,o=Ed(Z0,r),c=W2(Z0,r),d=A.useRef(null),u=xt(t,d),h=o.values.length,g=o.values.map(w=>X2(w,o.min,o.max)),p=h>1?Math.min(...g):0,m=100-Math.max(...g);return a.jsx(lt.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...i,ref:u,style:{...e.style,[c.startEdge]:p+"%",[c.endEdge]:m+"%"}})});D2.displayName=Z0;var X0="SliderThumb",Y2=A.forwardRef((e,t)=>{const r=DA(e.__scopeSlider),[i,o]=A.useState(null),c=xt(t,u=>o(u)),d=A.useMemo(()=>i?r().findIndex(u=>u.ref.current===i):-1,[r,i]);return a.jsx(JA,{...e,ref:c,index:d})}),JA=A.forwardRef((e,t)=>{const{__scopeSlider:r,index:i,name:o,...c}=e,d=Ed(X0,r),u=W2(X0,r),[h,g]=A.useState(null),p=xt(t,I=>g(I)),m=h?d.form||!!h.closest("form"):!0,w=Pp(h),_=d.values[i],v=_===void 0?0:X2(_,d.min,d.max),j=rT(i,d.values.length),E=w==null?void 0:w[u.size],P=E?sT(E,v,u.direction):0;return A.useEffect(()=>{if(h)return d.thumbs.add(h),()=>{d.thumbs.delete(h)}},[h,d.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${v}% + ${P}px)`},children:[a.jsx(Y0.ItemSlot,{scope:e.__scopeSlider,children:a.jsx(lt.span,{role:"slider","aria-label":e["aria-label"]||j,"aria-valuemin":d.min,"aria-valuenow":_,"aria-valuemax":d.max,"aria-orientation":d.orientation,"data-orientation":d.orientation,"data-disabled":d.disabled?"":void 0,tabIndex:d.disabled?void 0:0,...c,ref:p,style:_===void 0?{display:"none"}:e.style,onFocus:st(e.onFocus,()=>{d.valueIndexToChangeRef.current=i})})}),m&&a.jsx(Z2,{name:o??(d.name?d.name+(d.values.length>1?"[]":""):void 0),form:d.form,value:_},i)]})});Y2.displayName=X0;var eT="RadioBubbleInput",Z2=A.forwardRef(({__scopeSlider:e,value:t,...r},i)=>{const o=A.useRef(null),c=xt(o,i),d=Ip(t);return A.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"value").set;if(d!==t&&p){const m=new Event("input",{bubbles:!0});p.call(u,t),u.dispatchEvent(m)}},[d,t]),a.jsx(lt.input,{style:{display:"none"},...r,ref:c,defaultValue:t})});Z2.displayName=eT;function tT(e=[],t,r){const i=[...e];return i[r]=t,i.sort((o,c)=>o-c)}function X2(e,t,r){const c=100/(r-t)*(e-t);return zu(c,[0,100])}function rT(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function nT(e,t){if(e.length===1)return 0;const r=e.map(o=>Math.abs(o-t)),i=Math.min(...r);return r.indexOf(i)}function sT(e,t,r){const i=e/2,c=$p([0,50],[0,i]);return(i-c(t)*r)*r}function iT(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function aT(e,t){if(t>0){const r=iT(e);return Math.min(...r)>=t}return!0}function $p(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(r-e[0])}}function oT(e){return(String(e).split(".")[1]||"").length}function lT(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Q2=H2,cT=K2,uT=D2,dT=Y2;const ja=A.forwardRef(({className:e,...t},r)=>a.jsxs(Q2,{ref:r,className:Et("relative flex w-full touch-none select-none items-center",e),...t,children:[a.jsx(cT,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(uT,{className:"absolute h-full bg-primary"})}),a.jsx(dT,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));ja.displayName=Q2.displayName;const fT=({formData:e,setFormData:t})=>{const r=d=>{t({...e,maxResponseLength:parseInt(d)||500})},i=d=>{t({...e,rememberConversation:d})},o=(d,u)=>{t({...e,[d]:u[0]})},c=(d,u)=>{t({...e,[d]:u})};return a.jsxs(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:[a.jsx(Or,{children:a.jsx(Fr,{className:"text-xl text-gray-900 dark:text-white",children:"Behavior"})}),a.jsxs(Lt,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"max-response",className:"text-gray-700 dark:text-gray-300",children:"Max Response Length"}),a.jsx(Ir,{id:"max-response",type:"number",value:e.maxResponseLength,onChange:d=>r(d.target.value),placeholder:"500",className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(F2,{id:"remember-conversation",checked:e.rememberConversation,onCheckedChange:i,className:"border-white/30 dark:border-gray-600/30"}),a.jsx(Xe,{htmlFor:"remember-conversation",className:"text-gray-700 dark:text-gray-300 cursor-pointer",children:"Remember conversation history"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Advanced Settings"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs(Xe,{className:"text-gray-700 dark:text-gray-300",children:["Temperature",a.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",e.temperature.toFixed(1),")"]})]}),a.jsx(ja,{value:[e.temperature],onValueChange:d=>o("temperature",d),max:1,min:0,step:.1,className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[a.jsx("span",{children:"Focused (0.0)"}),a.jsx("span",{children:"Creative (1.0)"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(Xe,{className:"text-gray-700 dark:text-gray-300",children:["Creativity",a.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",e.creativity.toFixed(1),")"]})]}),a.jsx(ja,{value:[e.creativity],onValueChange:d=>o("creativity",d),max:1,min:0,step:.1,className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[a.jsx("span",{children:"Conservative (0.0)"}),a.jsx("span",{children:"Creative (1.0)"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(Xe,{className:"text-gray-700 dark:text-gray-300",children:["Top P",a.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",e.topP.toFixed(1),")"]})]}),a.jsx(ja,{value:[e.topP],onValueChange:d=>o("topP",d),max:1,min:0,step:.1,className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[a.jsx("span",{children:"0.0"}),a.jsx("span",{children:"1.0"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"context-window",className:"text-gray-700 dark:text-gray-300",children:"Context Window"}),a.jsx(Ir,{id:"context-window",type:"number",value:e.contextWindow,onChange:d=>c("contextWindow",parseInt(d.target.value)||4096),className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"max-tokens",className:"text-gray-700 dark:text-gray-300",children:"Max Tokens"}),a.jsx(Ir,{id:"max-tokens",type:"number",value:e.maxTokens,onChange:d=>c("maxTokens",parseInt(d.target.value)||1e3),className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(Xe,{className:"text-gray-700 dark:text-gray-300",children:["Frequency Penalty",a.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",e.frequencyPenalty.toFixed(1),")"]})]}),a.jsx(ja,{value:[e.frequencyPenalty],onValueChange:d=>o("frequencyPenalty",d),max:2,min:-2,step:.1,className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[a.jsx("span",{children:"-2.0"}),a.jsx("span",{children:"2.0"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(Xe,{className:"text-gray-700 dark:text-gray-300",children:["Presence Penalty",a.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",e.presencePenalty.toFixed(1),")"]})]}),a.jsx(ja,{value:[e.presencePenalty],onValueChange:d=>o("presencePenalty",d),max:2,min:-2,step:.1,className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[a.jsx("span",{children:"-2.0"}),a.jsx("span",{children:"2.0"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"system-prompt",className:"text-gray-700 dark:text-gray-300",children:"System Prompt Template"}),a.jsx(Gr,{id:"system-prompt",placeholder:"You are a helpful AI assistant.",value:e.systemPromptTemplate,onChange:d=>c("systemPromptTemplate",d.target.value),className:"min-h-[100px] bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]})]})]})]})},hT=({formData:e,setFormData:t})=>{var c;const r=[{id:"professional-blue",name:"Professional Blue",color:"bg-blue-500",description:"Clean and professional appearance"},{id:"success-green",name:"Success Green",color:"bg-green-500",description:"Friendly and approachable design"},{id:"creative-purple",name:"Creative Purple",color:"bg-purple-500",description:"Modern and creative styling"},{id:"energetic-orange",name:"Energetic Orange",color:"bg-orange-500",description:"Vibrant and energetic feel"}],i=d=>{t({...e,theme:d})},o=(d,u)=>{t({...e,[d]:u})};return a.jsxs(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:[a.jsx(Or,{children:a.jsx(Fr,{className:"text-xl text-gray-900 dark:text-white",children:"Appearance"})}),a.jsxs(Lt,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(Xe,{className:"text-gray-700 dark:text-gray-300",children:"Theme"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:r.map(d=>a.jsxs("button",{onClick:()=>i(d.id),className:`p-4 rounded-lg border transition-all ${e.theme===d.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-white/30 dark:border-gray-600/30 bg-white/50 dark:bg-gray-700/50"}`,children:[a.jsx("div",{className:`w-8 h-8 ${d.color} rounded-full mx-auto mb-2`}),a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:d.name}),a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:d.description})]},d.id))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"primary-color",className:"text-gray-700 dark:text-gray-300",children:"Primary Color"}),a.jsx(Ir,{id:"primary-color",type:"text",placeholder:"#3B82F6",value:e.primaryColor,onChange:d=>o("primaryColor",d.target.value),className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"secondary-color",className:"text-gray-700 dark:text-gray-300",children:"Secondary Color"}),a.jsx(Ir,{id:"secondary-color",type:"text",placeholder:"#EFF6FF",value:e.secondaryColor,onChange:d=>o("secondaryColor",d.target.value),className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"accent-color",className:"text-gray-700 dark:text-gray-300",children:"Accent Color"}),a.jsx(Ir,{id:"accent-color",type:"text",placeholder:"#3B82F6",value:e.accentColor,onChange:d=>o("accentColor",d.target.value),className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{className:"text-gray-700 dark:text-gray-300",children:"Border Radius"}),a.jsxs(is,{value:e.borderRadius,onValueChange:d=>o("borderRadius",d),children:[a.jsx(Tn,{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30",children:a.jsx(as,{})}),a.jsxs(Rn,{children:[a.jsx(tt,{value:"rounded (4px)",children:"Rounded (4px)"}),a.jsx(tt,{value:"rounded (8px)",children:"Rounded (8px)"}),a.jsx(tt,{value:"rounded (12px)",children:"Rounded (12px)"}),a.jsx(tt,{value:"rounded (16px)",children:"Rounded (16px)"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{className:"text-gray-700 dark:text-gray-300",children:"Font Family"}),a.jsxs(is,{value:e.fontFamily,onValueChange:d=>o("fontFamily",d),children:[a.jsx(Tn,{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30",children:a.jsx(as,{})}),a.jsxs(Rn,{children:[a.jsx(tt,{value:"Inter (Modern)",children:"Inter (Modern)"}),a.jsx(tt,{value:"Roboto",children:"Roboto"}),a.jsx(tt,{value:"Open Sans",children:"Open Sans"}),a.jsx(tt,{value:"Lato",children:"Lato"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{className:"text-gray-700 dark:text-gray-300",children:"Font Size"}),a.jsxs(is,{value:e.fontSize,onValueChange:d=>o("fontSize",d),children:[a.jsx(Tn,{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30",children:a.jsx(as,{})}),a.jsxs(Rn,{children:[a.jsx(tt,{value:"Small (12px)",children:"Small (12px)"}),a.jsx(tt,{value:"Medium (14px)",children:"Medium (14px)"}),a.jsx(tt,{value:"Large (16px)",children:"Large (16px)"}),a.jsx(tt,{value:"Extra Large (18px)",children:"Extra Large (18px)"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"welcome-message",className:"text-gray-700 dark:text-gray-300",children:"Welcome Message"}),a.jsx(Gr,{id:"welcome-message",placeholder:"Hello! How can I help you today?",value:e.welcomeMessage,onChange:d=>o("welcomeMessage",d.target.value),className:"min-h-[100px] bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"custom-css",className:"text-gray-700 dark:text-gray-300",children:"Custom CSS"}),a.jsx(Gr,{id:"custom-css",placeholder:"Add custom CSS styles for your agent interface...",value:e.customCSS,onChange:d=>o("customCSS",d.target.value),className:"min-h-[120px] bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30 font-mono text-sm"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Optional: Add custom CSS to further customize the appearance"})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 p-6 rounded-lg border border-white/30 dark:border-gray-600/30",children:[a.jsx(Xe,{className:"text-gray-700 dark:text-gray-300 mb-3 block",children:"Preview"}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:`w-8 h-8 ${((c=r.find(d=>d.id===e.theme))==null?void 0:c.color)||"bg-blue-500"} rounded-full flex items-center justify-center`,children:a.jsx("span",{className:"text-white text-sm font-medium",children:e.name?e.name.charAt(0).toUpperCase():"A"})}),a.jsx("div",{className:"flex-1",children:a.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-3",children:a.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:e.welcomeMessage||"Hello! How can I help you today?"})})})]})})]})]})]})},pT=({formData:e,setFormData:t,lastActiveStep:r,setLastActiveStep:i})=>{const[o,c]=A.useState(r);A.useEffect(()=>{c(r)},[r]);const d=h=>{c(h),i(h)},u=[{id:"basic-info",label:"Basic Info",component:VA},{id:"personality",label:"Personality",component:HA},{id:"knowledge",label:"Knowledge",component:LA},{id:"behavior",label:"Behavior",component:fT},{id:"appearance",label:"Appearance",component:hT}];return a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsx(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl sticky top-8",children:a.jsx(Lt,{className:"p-6",children:a.jsx("nav",{className:"space-y-2",children:u.map(h=>a.jsx("button",{onClick:()=>d(h.id),className:`w-full text-left px-4 py-3 rounded-lg transition-all duration-200 ${o===h.id?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:bg-white/50 dark:hover:bg-gray-700/50"}`,children:h.label},h.id))})})})}),a.jsx("div",{className:"lg:col-span-3",children:a.jsx(Wk,{value:o,onValueChange:d,children:u.map(h=>a.jsx(ob,{value:h.id,children:a.jsx(h.component,{formData:e,setFormData:t})},h.id))})})]})},mT=({formData:e})=>{const t=()=>{switch(e.theme){case"success-green":return"from-green-500 to-green-600";case"creative-purple":return"from-purple-500 to-purple-600";case"energetic-orange":return"from-orange-500 to-orange-600";default:return"from-blue-500 to-purple-600"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx(Ht,{className:"bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200/50 dark:border-blue-700/50",children:a.jsx(Lt,{className:"p-6",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${t()} rounded-full flex items-center justify-center flex-shrink-0`,children:a.jsx("span",{className:"text-white text-xl font-bold",children:e.name?e.name.charAt(0).toUpperCase():"A"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:e.name||"Agent Name"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-3 leading-relaxed",children:e.description||"Agent description will appear here..."}),a.jsxs("div",{className:"flex flex-wrap gap-2 text-sm mb-3",children:[a.jsxs("span",{className:"bg-white/80 dark:bg-gray-800/80 px-3 py-1 rounded-full text-gray-700 dark:text-gray-300 border border-gray-200/50 dark:border-gray-600/50",children:["Category: ",e.category]}),a.jsxs("span",{className:"bg-white/80 dark:bg-gray-800/80 px-3 py-1 rounded-full text-gray-700 dark:text-gray-300 border border-gray-200/50 dark:border-gray-600/50",children:["Visibility: ",e.visibility==="private"?"Private":"Public"]})]})]})]})})}),a.jsxs(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:[a.jsx(Or,{children:a.jsx(Fr,{className:"text-lg text-gray-900 dark:text-white",children:"Personality"})}),a.jsxs(Lt,{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tone:"}),a.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.tone})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Style:"}),a.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.style})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Communication:"}),a.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.communicationStyle})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Pattern:"}),a.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.responsePattern})]})]}),e.personalityTraits.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:e.personalityTraits.map((r,i)=>a.jsx("span",{className:"px-2 py-1 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs rounded-md",children:r},i))})]})]}),a.jsxs(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:[a.jsx(Or,{children:a.jsx(Fr,{className:"text-lg text-gray-900 dark:text-white",children:"Knowledge"})}),a.jsx(Lt,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Context:"}),a.jsx("p",{className:"text-gray-900 dark:text-white mt-1",children:e.context||"None"})]}),e.knowledgeSources.some(r=>r.content.trim())&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Knowledge Sources:"}),a.jsx("div",{className:"mt-2 space-y-2",children:e.knowledgeSources.filter(r=>r.content.trim()).map((r,i)=>a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[a.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium mb-1",children:r.type}),a.jsx("div",{className:"text-sm text-gray-900 dark:text-white truncate",children:r.content})]},i))})]})]})})]}),a.jsxs(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:[a.jsx(Or,{children:a.jsx(Fr,{className:"text-lg text-gray-900 dark:text-white",children:"Behavior"})}),a.jsxs(Lt,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Max Response Length:"}),a.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.maxResponseLength})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Conversation Memory:"}),a.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.rememberConversation?"Enabled":"Disabled"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Temperature:"}),a.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.temperature.toFixed(1)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Creativity:"}),a.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.creativity.toFixed(1)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Top P:"}),a.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.topP.toFixed(1)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Context Window:"}),a.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.contextWindow})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Max Tokens:"}),a.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.maxTokens})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Frequency Penalty:"}),a.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.frequencyPenalty.toFixed(1)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Presence Penalty:"}),a.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.presencePenalty.toFixed(1)})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"System Prompt:"}),a.jsx("p",{className:"text-gray-900 dark:text-white mt-1 text-sm bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:e.systemPromptTemplate})]})]})]}),a.jsxs(Ht,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:[a.jsx(Or,{children:a.jsx(Fr,{className:"text-lg text-gray-900 dark:text-white",children:"Appearance"})}),a.jsxs(Lt,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Theme:"}),a.jsx("span",{className:"ml-2 text-gray-900 dark:text-white capitalize",children:e.theme.replace("-"," ")})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Colors:"}),a.jsxs("div",{className:"flex items-center ml-2 space-x-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:e.primaryColor}}),a.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:e.secondaryColor}}),a.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:e.accentColor}})]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Border Radius:"}),a.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.borderRadius})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Font:"}),a.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:e.fontFamily})]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Welcome Message:"}),a.jsxs("p",{className:"text-blue-600 dark:text-blue-400 mt-1 italic",children:['"',e.welcomeMessage,'"']})]}),e.customCSS&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Custom CSS:"}),a.jsx("pre",{className:"text-xs text-gray-900 dark:text-white mt-1 bg-gray-50 dark:bg-gray-700 p-3 rounded-lg overflow-x-auto",children:e.customCSS})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3 block",children:"Chat Preview:"}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:`w-8 h-8 bg-gradient-to-r ${t()} rounded-full flex items-center justify-center flex-shrink-0`,children:a.jsx("span",{className:"text-white text-sm font-medium",children:e.name?e.name.charAt(0).toUpperCase():"A"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-3 shadow-sm",children:a.jsx("p",{className:"text-gray-900 dark:text-white text-sm",children:e.welcomeMessage||"Hello! How can I help you today?"})}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 mt-1 block",children:"Just now"})]})]})})]})]})]})]})};var gT={};const xT=({sessionToken:e,selectedAgent:t,onSelectAgent:r,onNavigate:i,identity:o,onLogout:c,activeView:d="dashboard"})=>{const[u,h]=A.useState({totalAgents:0,activeAgents:0,totalConversations:0,totalMessages:0,monthlyGrowth:{agents:0,conversations:0,messages:0}}),[g,p]=A.useState([]),[m,w]=A.useState("basic-info"),[_,v]=A.useState(!0),[j,E]=A.useState({agentManager:"Unknown",llmProcessor:"Unknown",contextManager:"Unknown",productionAPIs:"Unknown"}),[P,I]=A.useState(null),[U,q]=A.useState(!1),[O,Q]=A.useState(""),[X]=A.useState(3),[z,K]=A.useState(0),W=le=>{Q(le),console.log("Search query:",le)},[ie,fe]=A.useState({name:"",description:"",category:"general",visibility:"private",tone:"professional",style:"helpful",communicationStyle:"professional",responsePattern:"detailed",personalityTraits:[],context:"",knowledgeSources:[{type:"Manual Text",content:""}],maxResponseLength:500,rememberConversation:!0,temperature:.7,creativity:.8,topP:.9,contextWindow:4096,maxTokens:1e3,frequencyPenalty:0,presencePenalty:0,systemPromptTemplate:"You are a helpful AI assistant.",welcomeMessage:"Hello! How can I help you today?",theme:"professional-blue",primaryColor:"#3B82F6",secondaryColor:"#EFF6FF",accentColor:"#3B82F6",borderRadius:"rounded (8px)",fontFamily:"Inter (Modern)",fontSize:"Medium (14px)",customCSS:""}),T=()=>{q(!0)},V=()=>{q(!1)},G=()=>{c&&c()},ee=()=>{switch(d){case"dashboard":return a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"mb-10",children:a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent mb-3",children:"Welcome Back!"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Here's what's happening with your AI agents today."})]}),a.jsx("div",{className:"hidden md:flex items-center space-x-4",children:a.jsxs("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg rounded-2xl px-6 py-3 border border-white/20 dark:border-gray-700/50",children:[a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Current Time"}),a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})})]})}),P&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Connection Issue"}),a.jsx("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:a.jsx("p",{children:P})})]})]})}),a.jsx(tk,{metrics:u,systemStatus:j}),a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-5 gap-8",children:[a.jsx("div",{className:"xl:col-span-3",children:a.jsx(rk,{onNavigate:i,selectedAgent:t})}),a.jsx("div",{className:"xl:col-span-2",children:a.jsx(nk,{agents:g,onSelectAgent:r,onNavigate:i})})]})]});case"agents":return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"My Agents"})}),a.jsx(hk,{onSelectAgent:r,selectedAgent:t,sessionToken:e})]});case"create":return a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs(Ut,{variant:"ghost",className:"mb-4 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white",children:[a.jsx(qy,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent mb-2",children:U?"Agent Preview":"Create New Agent"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:U?"Preview your AI agent before creating":"Build an intelligent AI agent tailored to your needs"})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(Ut,{variant:"outline",className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border-white/20 dark:border-gray-700/50",onClick:U?V:T,children:U?a.jsxs(a.Fragment,{children:[a.jsx(qy,{className:"w-4 h-4 mr-2"}),"Back to Form"]}):a.jsxs(a.Fragment,{children:[a.jsx(jj,{className:"w-4 h-4 mr-2"}),"Preview"]})}),!U&&a.jsx(Ut,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg",children:"Create Agent"})]})]})]}),a.jsx(dk,{sessionToken:e,onAgentCreated:le=>{r(le),i("agents"),K(te=>te+1)}}),U?a.jsx(mT,{formData:ie}):a.jsx(pT,{formData:ie,setFormData:fe,lastActiveStep:m,setLastActiveStep:w})]});case"chat":return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Chat"})}),t?a.jsx(V1,{agent:t,sessionToken:e}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-lg mb-2",children:"No Agent Selected"}),a.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Please select an agent to start chatting."})]})]});case"analytics":return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Analytics"})}),a.jsx(gk,{sessionToken:e,selectedAgent:t,refreshKey:z})]});case"embed":return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Embed Widget"})}),t?a.jsx(mk,{agent:t,canisterId:gT.REACT_APP_AGENT_MANAGER_CANISTER_ID||"bkyz2-fmaaa-aaaaa-qaaaq-cai"}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-lg mb-2",children:"No Agent Selected"}),a.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Please select an agent to generate embed code."})]})]});case"profile":return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Profile"})}),a.jsx(pk,{sessionToken:e,identity:o})]});case"billing":return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Billing & Payments"})}),a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-lg mb-2",children:"Coming Soon"}),a.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Billing and payment management features will be available soon."})]})]});default:return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-lg mb-2",children:"View Not Found"}),a.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"The requested view could not be found."})]})}};return A.useEffect(()=>{(async()=>{if(!e){console.log("No session token, skipping dashboard data fetch");return}v(!0),I(null);try{const te=await Nt.testCanisterAccess();console.log("Canister access test:",te);const ge=await Nt.getUserAgents();console.log("Fetched agents:",ge);const _e=ge.filter(de=>"Active"in de.status).length;let Y=0,me=0;for(const de of ge)de.analytics&&(Y+=de.analytics.totalConversations,me+=de.analytics.totalMessages);const Be={agents:Math.max(0,Math.floor(ge.length*.1)),conversations:Math.max(0,Math.floor(Y*.15)),messages:Math.max(0,Math.floor(me*.12))},H={totalAgents:ge.length,activeAgents:_e,totalConversations:Y,totalMessages:me,monthlyGrowth:Be},Pe=await Nt.getSystemStatus();console.log("System status data:",Pe);const pe=ge.sort((de,Ne)=>Number(Ne.created)-Number(de.created)).slice(0,5);h(H),p(pe),E(Pe),I(null)}catch(te){console.error("Error fetching dashboard data:",te),I("Failed to load dashboard data. Please check your connection and try again."),h({totalAgents:0,activeAgents:0,totalConversations:0,totalMessages:0,monthlyGrowth:{agents:0,conversations:0,messages:0}}),E({agentManager:"Error",llmProcessor:"Error",contextManager:"Error",productionAPIs:"Error"})}finally{v(!1)}})()},[e]),_?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-purple-900/10 flex w-full",children:[a.jsx(e0,{onNavigate:i,activeView:d,selectedAgent:t}),a.jsxs("div",{className:"flex-1 flex flex-col ml-64",children:[a.jsx(Jh,{identity:o,sessionToken:e,onLogout:G,searchQuery:O,onSearchChange:W,notifications:X}),a.jsx("main",{className:"flex-1 p-8",children:a.jsxs("div",{className:"flex items-center justify-center h-64",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading dashboard..."})]})})]})]}):e?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-purple-900/10 flex w-full",children:[a.jsx(e0,{onNavigate:i,activeView:d,selectedAgent:t}),a.jsxs("div",{className:"flex-1 flex flex-col ml-64",children:[a.jsx(Jh,{identity:o,sessionToken:e,onLogout:G,searchQuery:O,onSearchChange:W,notifications:X}),a.jsx("main",{className:"flex-1 p-8",children:ee()})]})]}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-purple-900/10 flex w-full",children:[a.jsx(e0,{onNavigate:i,activeView:d,selectedAgent:t}),a.jsxs("div",{className:"flex-1 flex flex-col ml-64",children:[a.jsx(Jh,{identity:o,sessionToken:e,onLogout:G,searchQuery:O,onSearchChange:W,notifications:X}),a.jsx("main",{className:"flex-1 p-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-lg mb-2",children:"Authentication Required"}),a.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Please log in with Internet Identity to access the dashboard."})]})})})]})]})},yT=({isMenuOpen:e,setIsMenuOpen:t,handleLogin:r})=>a.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 backdrop-blur-md bg-white/70 dark:bg-black/70 border-b border-white/20 dark:border-white/10",children:a.jsxs("div",{className:"container mx-auto px-4 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:a.jsx(pl,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"NeoChat"})]}),a.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[a.jsx("a",{href:"#features",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Features"}),a.jsx("a",{href:"#how-it-works",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"How it Works"}),a.jsx("a",{href:"#pricing",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Pricing"}),a.jsx(F0,{}),a.jsx(Ut,{onClick:r,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg backdrop-blur-sm",children:"Launch App"})]}),a.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[a.jsx(F0,{}),a.jsx(Ut,{variant:"ghost",size:"icon",className:"backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10",onClick:()=>t(!e),children:e?a.jsx(T1,{className:"w-6 h-6"}):a.jsx(Uj,{className:"w-6 h-6"})})]})]}),e&&a.jsx("div",{className:"md:hidden mt-4 pb-4 border-t border-white/20 dark:border-white/10 pt-4 backdrop-blur-md bg-white/50 dark:bg-black/50 rounded-lg",children:a.jsxs("nav",{className:"flex flex-col space-y-4",children:[a.jsx("a",{href:"#features",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Features"}),a.jsx("a",{href:"#how-it-works",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"How it Works"}),a.jsx("a",{href:"#pricing",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Pricing"}),a.jsx(Ut,{onClick:r,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 w-full shadow-lg",children:"Launch App"})]})})]})}),wT=({handleLogin:e})=>a.jsxs("section",{className:"pt-32 pb-20 bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 rounded-full bg-gradient-to-br from-blue-400/30 to-purple-400/30 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 rounded-full bg-gradient-to-br from-purple-400/30 to-pink-400/30 blur-3xl"})]}),a.jsx("div",{className:"container mx-auto px-4 relative z-10",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsxs("div",{className:"flex items-center space-x-2 backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10 px-4 py-2 rounded-full shadow-lg",children:[a.jsx(I0,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),a.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:"Powered by Internet Computer Protocol"})]})}),a.jsxs("h1",{className:"text-5xl md:text-6xl font-bold mb-6 leading-tight text-gray-900 dark:text-white",children:["Deploy"," ",a.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"AI Agents"}),a.jsx("br",{}),"On-Chain"]}),a.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-8 max-w-2xl mx-auto",children:"Create, customize, and deploy intelligent AI support agents directly on the blockchain. No servers, no middlemen, just pure decentralized AI power."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[a.jsxs(Ut,{onClick:e,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-lg px-8 py-6 shadow-xl backdrop-blur-sm",children:["Create Your Agent",a.jsx(xp,{className:"w-5 h-5 ml-2"})]}),a.jsx(Ut,{variant:"outline",className:"text-lg px-8 py-6 backdrop-blur-md bg-white/10 dark:bg-black/10 border-white/30 dark:border-white/20 hover:bg-white/20 dark:hover:bg-white/10 shadow-lg",children:"Watch Demo"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-16",children:[a.jsxs("div",{className:"flex flex-col items-center text-center p-6 rounded-xl backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center mb-4 shadow-lg",children:a.jsx(Jj,{className:"w-6 h-6 text-white"})}),a.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:"Fully Decentralized"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"No centralized servers or APIs. Your AI agents run entirely on-chain."})]}),a.jsxs("div",{className:"flex flex-col items-center text-center p-6 rounded-xl backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center mb-4 shadow-lg",children:a.jsx(R1,{className:"w-6 h-6 text-white"})}),a.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:"Lightning Fast"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Powered by ICP's high-performance canisters for instant responses."})]}),a.jsxs("div",{className:"flex flex-col items-center text-center p-6 rounded-xl backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center mb-4 shadow-lg",children:a.jsx(I0,{className:"w-6 h-6 text-white"})}),a.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:"Easy Integration"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Embed anywhere with our simple SDK and customizable widgets."})]})]})]})})]}),vT=()=>{const e=[{icon:pl,title:"AI Agent Builder",description:"Create custom AI agents with unique personalities, knowledge bases, and conversation styles using our intuitive wizard.",gradient:"from-blue-500 to-blue-600"},{icon:_j,title:"On-Chain Storage",description:"All agent configurations and conversation logs stored securely on ICP canisters with full encryption.",gradient:"from-purple-500 to-purple-600"},{icon:j1,title:"Easy Embedding",description:"Deploy your AI agents anywhere with our JavaScript SDK and customizable web components.",gradient:"from-green-500 to-green-600"},{icon:Mj,title:"Internet Identity",description:"Secure authentication and agent ownership through ICP's decentralized identity system.",gradient:"from-red-500 to-red-600"},{icon:Pj,title:"Chain Fusion",description:"Connect to external data sources and other blockchains using HTTPS outcalls and EVM RPC integration.",gradient:"from-yellow-500 to-yellow-600"},{icon:C1,title:"Usage Analytics",description:"Track performance metrics, usage patterns, and optimize your AI agents with detailed analytics.",gradient:"from-indigo-500 to-indigo-600"}];return a.jsxs("section",{id:"features",className:"py-20 bg-white dark:bg-gray-900 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute top-20 right-20 w-64 h-64 rounded-full bg-gradient-to-br from-blue-400/20 to-purple-400/20 blur-3xl"}),a.jsx("div",{className:"absolute bottom-20 left-20 w-64 h-64 rounded-full bg-gradient-to-br from-purple-400/20 to-pink-400/20 blur-3xl"})]}),a.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("h2",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-white",children:["Powerful Features for"," ",a.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Decentralized AI"})]}),a.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Everything you need to create, deploy, and manage intelligent AI agents on the blockchain."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((t,r)=>a.jsx(Ht,{className:"backdrop-blur-md bg-white/50 dark:bg-black/30 border border-white/30 dark:border-white/10 hover:bg-white/60 dark:hover:bg-black/40 hover:shadow-xl transition-all duration-300 group",children:a.jsxs(Lt,{className:"p-6",children:[a.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${t.gradient} rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg`,children:a.jsx(t.icon,{className:"w-6 h-6 text-white"})}),a.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-900 dark:text-white",children:t.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:t.description})]})},r))})]})]})},bT=()=>{const e=[{icon:qj,title:"Design Your Agent",description:"Use our intuitive wizard to define your AI agent's personality, knowledge base, and conversation style.",color:"blue"},{icon:k1,title:"Configure & Train",description:"Fine-tune your agent's responses, upload training data, and connect to external knowledge sources.",color:"purple"},{icon:Dj,title:"Deploy On-Chain",description:"Launch your AI agent on ICP canisters and embed it anywhere with our simple integration code.",color:"green"}];return a.jsxs("section",{id:"how-it-works",className:"py-20 bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-800 dark:to-blue-900 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute top-32 left-32 w-48 h-48 rounded-full bg-gradient-to-br from-blue-400/30 to-purple-400/30 blur-3xl"}),a.jsx("div",{className:"absolute bottom-32 right-32 w-48 h-48 rounded-full bg-gradient-to-br from-purple-400/30 to-pink-400/30 blur-3xl"})]}),a.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-white",children:"How It Works"}),a.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Create and deploy your AI agent in three simple steps"})]}),a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 relative",children:e.map((t,r)=>a.jsxs("div",{className:"relative",children:[a.jsx(Ht,{className:"backdrop-blur-md bg-white/60 dark:bg-black/40 border border-white/30 dark:border-white/10 hover:shadow-xl transition-all duration-300 hover:bg-white/70 dark:hover:bg-black/50",children:a.jsxs(Lt,{className:"p-8 text-center",children:[a.jsx("div",{className:`w-16 h-16 mx-auto mb-6 rounded-full flex items-center justify-center shadow-lg
                      ${t.color==="blue"?"bg-gradient-to-br from-blue-500 to-blue-600":""}
                      ${t.color==="purple"?"bg-gradient-to-br from-purple-500 to-purple-600":""}
                      ${t.color==="green"?"bg-gradient-to-br from-green-500 to-green-600":""}
                    `,children:a.jsx(t.icon,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{className:"text-lg font-bold mb-2 text-gray-800 dark:text-gray-200",children:["Step ",r+1]}),a.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:t.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:t.description})]})}),r<e.length-1&&a.jsx("div",{className:"hidden md:block absolute top-1/2 right-0 transform translate-x-1/2 -translate-y-1/2 z-10",children:a.jsx("div",{className:"w-8 h-8 rounded-full backdrop-blur-md bg-white/50 dark:bg-black/50 border border-white/30 dark:border-white/10 flex items-center justify-center shadow-lg",children:a.jsx(xp,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})})})]},r))})})]})]})},NT=vp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xw({className:e,variant:t,...r}){return a.jsx("div",{className:Et(NT({variant:t}),e),...r})}const ET=()=>{const e=[{name:"Community",price:"Free",period:"",description:"Perfect for trying out NeoChat and small personal projects.",features:["100 messages per month","Basic AI models","Community support","Public agent gallery","Basic customization"],limits:{messages:"100",agents:"3",storage:"100MB",support:"Community"},popular:!1,buttonText:"Get Started",buttonVariant:"outline"},{name:"Base",price:"$9.99",period:"/month",description:"Great for individuals and small teams getting started with AI chat.",features:["1,000 messages per month","Standard AI models","Email support","Private agents","Advanced customization"],limits:{messages:"1,000",agents:"10",storage:"1GB",support:"Email"},popular:!1,buttonText:"Upgrade to Base",buttonVariant:"default"},{name:"Pro",price:"$29.99",period:"/month",description:"Perfect for growing businesses and teams that need advanced features.",features:["5,000 messages per month","Premium AI models","Priority support","API access","Advanced analytics"],limits:{messages:"5,000",agents:"50",storage:"10GB",support:"Priority"},popular:!0,buttonText:"Upgrade to Pro",buttonVariant:"default"},{name:"Enterprise",price:"Custom",period:"",description:"Tailored solutions for large organizations with specific requirements.",features:["Unlimited messages","All AI models","Dedicated support","Custom features","SLA guarantees"],limits:{messages:"Unlimited",agents:"Unlimited",storage:"Unlimited",support:"Dedicated"},popular:!1,buttonText:"Contact Sales",buttonVariant:"outline"}];return a.jsx("section",{id:"pricing",className:"py-24 px-4 bg-white dark:bg-gray-900",children:a.jsxs("div",{className:"container mx-auto max-w-7xl",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-6",children:"Choose Your Plan"}),a.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:"Select the perfect plan for your needs. Upgrade or downgrade anytime."}),a.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-8",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Monthly"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ut,{variant:"outline",size:"sm",className:"text-sm",children:"Yearly"}),a.jsx(xw,{className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300",children:"Save 20%"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((t,r)=>a.jsxs(Ht,{className:`relative bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-lg hover:shadow-xl transition-all duration-300 ${t.popular?"border-2 border-purple-500 dark:border-purple-400 scale-105":""}`,children:[t.popular&&a.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:a.jsx(xw,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-3 py-1",children:"Most Popular"})}),a.jsxs(Or,{className:"text-center pb-6",children:[a.jsx(Fr,{className:"text-xl font-bold text-gray-900 dark:text-white",children:t.name}),a.jsxs("div",{className:"mt-4",children:[a.jsx("span",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:t.price}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:t.period})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:t.description})]}),a.jsxs(Lt,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Features"}),a.jsx("div",{className:"space-y-3",children:t.features.map((i,o)=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(yp,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:i})]},o))})]}),a.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Plan Limits"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Messages:"}),a.jsx("br",{}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.limits.messages})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Agents:"}),a.jsx("br",{}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.limits.agents})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Storage:"}),a.jsx("br",{}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.limits.storage})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Support:"}),a.jsx("br",{}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.limits.support})]})]})]}),a.jsx(Ut,{variant:t.buttonVariant,className:`w-full mt-6 ${t.popular?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white":t.buttonVariant==="default"?"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white":""}`,children:t.buttonText})]})]},t.name))}),a.jsxs("div",{className:"mt-16 text-center",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-8",children:"Frequently Asked Questions"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-left",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Can I change my plan anytime?"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Yes, you can upgrade or downgrade your plan at any time. Changes will be prorated."})]}),a.jsxs("div",{className:"text-left",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"What happens if I exceed my message limit?"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"You'll be charged $0.02 per additional message. We'll notify you when approaching your limit."})]})]})]})]})})},_T=()=>a.jsxs("footer",{className:"bg-gray-900 dark:bg-black text-white py-16 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute top-10 right-10 w-32 h-32 rounded-full bg-gradient-to-br from-blue-400/20 to-purple-400/20 blur-2xl"}),a.jsx("div",{className:"absolute bottom-10 left-10 w-32 h-32 rounded-full bg-gradient-to-br from-purple-400/20 to-pink-400/20 blur-2xl"})]}),a.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"md:col-span-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:a.jsx(pl,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"text-xl font-bold",children:"NeoChat"})]}),a.jsx("p",{className:"text-gray-400 mb-4",children:"Deploy AI agents on the Internet Computer Protocol. Decentralized, secure, and powerful."}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("div",{className:"p-2 rounded-lg backdrop-blur-md bg-white/10 border border-white/20 hover:bg-white/20 cursor-pointer transition-all duration-300",children:a.jsx(Tj,{className:"w-5 h-5 text-gray-400 hover:text-white transition-colors"})}),a.jsx("div",{className:"p-2 rounded-lg backdrop-blur-md bg-white/10 border border-white/20 hover:bg-white/20 cursor-pointer transition-all duration-300",children:a.jsx(i4,{className:"w-5 h-5 text-gray-400 hover:text-white transition-colors"})}),a.jsx("div",{className:"p-2 rounded-lg backdrop-blur-md bg-white/10 border border-white/20 hover:bg-white/20 cursor-pointer transition-all duration-300",children:a.jsx(zj,{className:"w-5 h-5 text-gray-400 hover:text-white transition-colors"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Product"}),a.jsxs("ul",{className:"space-y-2 text-gray-400",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Features"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Pricing"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Documentation"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"API Reference"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Company"}),a.jsxs("ul",{className:"space-y-2 text-gray-400",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"About"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Blog"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Careers"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Resources"}),a.jsxs("ul",{className:"space-y-2 text-gray-400",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Help Center"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Community"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Status"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"})})]})]})]}),a.jsx("div",{className:"border-t border-gray-800 dark:border-gray-700 mt-12 pt-8 text-center text-gray-400",children:a.jsx("p",{children:"© 2024 NeoChat. All rights reserved. Built on Internet Computer Protocol."})})]})]}),ST=({handleLogin:e})=>{const[t,r]=A.useState(!1);return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(yT,{isMenuOpen:t,setIsMenuOpen:r,handleLogin:e}),a.jsx(wT,{handleLogin:e}),a.jsx(vT,{}),a.jsx(bT,{}),a.jsx(ET,{}),a.jsx(_T,{})]})};var f0={};function jT(){console.log("Environment variables:",{REACT_APP_II_URL:f0.REACT_APP_II_URL,REACT_APP_AGENT_MANAGER_CANISTER_ID:f0.REACT_APP_AGENT_MANAGER_CANISTER_ID,REACT_APP_METRICS_COLLECTOR_CANISTER_ID:f0.REACT_APP_METRICS_COLLECTOR_CANISTER_ID,DFX_NETWORK:"local"});const[e,t]=A.useState("dashboard"),[r,i]=A.useState(!1),[o,c]=A.useState(null),[d,u]=A.useState(null),[h,g]=A.useState(null),[p,m]=A.useState(null),[w,_]=A.useState(!1),[v,j]=A.useState(""),[E,P]=A.useState(3);A.useEffect(()=>{(async()=>{try{console.log("Initializing authentication...");const O=await h6.create();c(O),await new Promise(X=>setTimeout(X,100));const Q=await O.isAuthenticated();if(console.log("AuthClient.isAuthenticated() returned:",Q),Q){const X=O.getIdentity(),K=X.getPrincipal().toText(),W=K==="2vxsx-fae";if(console.log("Identity principal:",K),console.log("Is anonymous:",W),W)console.log("Clearing anonymous authentication"),await O.logout(),i(!1),u(null),g(null),await Nt.setIdentity(null);else{console.log("Setting authenticated state with real identity"),i(!0),u(X),await Nt.setIdentity(X);const ie="session_"+K.replace(/[^a-zA-Z0-9]/g,"_");g(ie)}}else console.log("Not authenticated, setting unauthenticated state"),i(!1),u(null),g(null),await Nt.setIdentity(null)}catch(O){console.error("Error initializing auth:",O),i(!1),u(null),g(null),await Nt.setIdentity(null)}})()},[]);const I=async()=>{if(o)try{const q="http://rdmx6-jaaaa-aaaaa-aaadq-cai.localhost:4943";console.log("Using Internet Identity URL:",q),await o.login({identityProvider:q,onSuccess:async()=>{i(!0);const O=o.getIdentity();u(O),await Nt.setIdentity(O);const z="session_"+O.getPrincipal().toText().replace(/[^a-zA-Z0-9]/g,"_");g(z)}})}catch(q){console.error("Login failed:",q),i(!1)}},U=async()=>{o&&(await o.logout(),i(!1),u(null),g(null),m(null),t("dashboard"),await Nt.setIdentity(null))};return r?a.jsx(xT,{sessionToken:h,selectedAgent:p,onSelectAgent:m,onNavigate:t,identity:d,onLogout:U,activeView:e}):a.jsx(ST,{handleLogin:I})}const kT=()=>{const[e,t]=A.useState(null),[r,i]=A.useState(!0),[o,c]=A.useState(null),d=new URLSearchParams(window.location.search),u=d.get("agent"),h=d.get("theme")||"light",g=d.get("color")||"#4F46E5",p=d.get("welcome")||"";return d.get("placeholder"),A.useEffect(()=>{(async()=>{if(!u){c("No agent ID provided"),i(!1);return}try{console.log("Waiting for canister service to initialize..."),await Nt.waitForReady(),console.log("Canister service ready, loading agent:",u);const w=await Nt.getAgentPublic(u),_={id:w.id,name:w.name,description:w.description,status:"Active"in w.status?"Active":"Inactive"in w.status?"Inactive":"Draft",created:new Date(Number(w.created)/1e6).toISOString(),lastUpdated:new Date().toISOString(),avatar:Array.isArray(w.config.appearance.avatar)&&w.config.appearance.avatar.length>0?w.config.appearance.avatar[0]:"default",config:{personality:{traits:w.config.personality.traits,tone:w.config.personality.tone,responseStyle:w.config.personality.style},knowledgeBase:{documents:w.config.knowledgeBase.map(v=>v.content),sources:[],context:w.config.knowledgeBase.map(v=>v.content).join(`
`)},behavior:{maxResponseLength:"Long"in w.config.behavior.responseLength?500:200,conversationMemory:!0,escalationRules:[]},appearance:{avatar:(Array.isArray(w.config.appearance.avatar)&&w.config.appearance.avatar.length>0?w.config.appearance.avatar[0]:"default")||"default",theme:h||w.config.appearance.primaryColor||"#3b82f6",welcomeMessage:p||`Hello! I'm ${w.name}. How can I help you today?`}}};console.log("Agent loaded successfully:",_),t(_)}catch(w){console.error("Failed to load agent:",w),w instanceof Error?c(`Failed to load agent: ${w.message}`):c("Failed to load agent. Please check the agent ID and try again."),console.log("Creating demo agent for testing...");const _={id:u||"demo",name:`Demo Agent (${u||"demo"})`,description:"This is a demo agent for testing embed widgets",status:"Active",created:new Date().toISOString(),lastUpdated:new Date().toISOString(),avatar:"default",config:{personality:{traits:["helpful","friendly","knowledgeable"],tone:"professional",responseStyle:"conversational"},knowledgeBase:{documents:["Demo knowledge base for testing"],sources:[],context:"This is a demo agent created for testing embed widgets when real agents are not available."},behavior:{maxResponseLength:300,conversationMemory:!0,escalationRules:[]},appearance:{avatar:"default",theme:h,welcomeMessage:p||`Hello! I'm ${u||"Demo Agent"}. This is a demo mode for testing embed widgets.`}}};t(_),c("Demo mode: Real agent not available. Showing demo functionality.")}finally{i(!1)}})()},[u,p]),A.useEffect(()=>{const m=document.createElement("style");return m.textContent=`
      :root {
        --primary-color: ${g};
      }
      
      body {
        margin: 0;
        padding: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        overflow: hidden;
      }
      
      .embed-container {
        height: 100vh;
        display: flex;
        flex-direction: column;
        background: ${h==="dark"?"#1F2937":"#FFFFFF"};
      }
      
      .embed-header {
        background: var(--primary-color);
        color: white;
        padding: 12px 16px;
        display: flex;
        align-items: center;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        flex-shrink: 0;
      }
      
      .embed-avatar {
        width: 32px;
        height: 32px;
        background: rgba(255,255,255,0.2);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 12px;
        font-size: 14px;
      }
      
      .embed-info h3 {
        margin: 0;
        font-size: 14px;
        font-weight: 600;
      }
      
      .embed-info p {
        margin: 0;
        font-size: 12px;
        opacity: 0.9;
      }
      
      .embed-chat {
        flex: 1;
        overflow: hidden;
      }
      
      .embed-footer {
        padding: 8px 16px;
        text-align: center;
        border-top: 1px solid ${h==="dark"?"#374151":"#E5E7EB"};
        background: ${h==="dark"?"#111827":"#F9FAFB"};
        flex-shrink: 0;
      }
      
      .embed-footer p {
        margin: 0;
        font-size: 10px;
        color: ${h==="dark"?"#9CA3AF":"#6B7280"};
      }
      
      .embed-footer a {
        color: var(--primary-color);
        text-decoration: none;
        font-weight: 500;
      }
      
      .embed-footer a:hover {
        text-decoration: underline;
      }
      
      .embed-loading {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
        background: ${h==="dark"?"#1F2937":"#F9FAFB"};
        color: ${h==="dark"?"#E5E7EB":"#374151"};
      }
      
      .embed-error {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
        background: ${h==="dark"?"#1F2937":"#F9FAFB"};
        color: ${h==="dark"?"#E5E7EB":"#374151"};
        text-align: center;
        padding: 20px;
      }
      
      .spinner {
        animation: spin 1s linear infinite;
        width: 24px;
        height: 24px;
        border: 2px solid transparent;
        border-top: 2px solid var(--primary-color);
        border-radius: 50%;
        margin-right: 12px;
      }
      
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      
      .error-icon {
        width: 48px;
        height: 48px;
        margin-bottom: 16px;
        color: #EF4444;
      }
      
      @media (max-width: 768px) {
        .embed-header {
          padding: 8px 12px;
        }
        
        .embed-avatar {
          width: 28px;
          height: 28px;
          margin-right: 8px;
        }
        
        .embed-info h3 {
          font-size: 13px;
        }
        
        .embed-info p {
          font-size: 11px;
        }
        
        .embed-footer {
          padding: 6px 12px;
        }
      }
    `,document.head.appendChild(m),()=>{document.head.removeChild(m)}},[h,g]),r?a.jsxs("div",{className:"embed-loading",children:[a.jsx("div",{className:"spinner"}),a.jsx("span",{children:"Loading CanistChat..."})]}):o||!e?a.jsx("div",{className:"embed-error",children:a.jsxs("div",{children:[a.jsx("svg",{className:"error-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),a.jsx("h2",{style:{fontSize:"18px",fontWeight:"600",margin:"0 0 8px 0"},children:"Chat Unavailable"}),a.jsx("p",{style:{margin:"0",fontSize:"14px",opacity:"0.8"},children:o||"Agent not found"}),a.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"12px",opacity:"0.6"},children:"Please check the widget configuration and try again."})]})}):a.jsxs("div",{className:"embed-container",children:[r&&a.jsx("div",{className:"loading-state",children:a.jsxs("div",{className:"flex items-center justify-center h-64",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-3 text-gray-600",children:"Loading agent..."})]})}),o&&!e&&a.jsx("div",{className:"error-state",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:"⚠️"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Agent Not Available"}),a.jsx("p",{className:"text-gray-600 mb-4",children:o}),a.jsxs("div",{className:"text-sm text-gray-500",children:[a.jsx("p",{children:"Please check:"}),a.jsxs("ul",{className:"mt-2 text-left",children:[a.jsx("li",{children:"• Agent ID is correct"}),a.jsx("li",{children:"• Agent is active and accessible"}),a.jsx("li",{children:"• Network connection is stable"})]})]})]})})}),e&&a.jsxs("div",{className:"embed-chat h-full flex flex-col",children:[o&&o.includes("Demo mode")&&a.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3 mb-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:a.jsxs("p",{className:"text-sm text-yellow-700",children:[a.jsx("strong",{children:"Demo Mode:"})," This widget is running in demonstration mode. Real agent functionality may not be available."]})})]})}),a.jsx("div",{className:"flex-1 min-h-0",children:a.jsx(V1,{agent:e,sessionToken:null})})]})]})},J2=document.getElementById("root");if(!J2)throw new Error("Root element not found");const CT=X3.createRoot(J2);CT.render(a.jsx(Zn.StrictMode,{children:a.jsx(X4,{children:a.jsx(zE,{children:a.jsxs(FE,{children:[a.jsx(p0,{path:"/embed",element:a.jsx(kT,{})}),a.jsx(p0,{path:"/*",element:a.jsx(jT,{})})]})})})}));
