var zw=Object.defineProperty;var Vw=(e,r,n)=>r in e?zw(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;var Hr=(e,r,n)=>Vw(e,typeof r!="symbol"?r+"":r,n);function Hw(e,r){for(var n=0;n<r.length;n++){const s=r[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in e)){const d=Object.getOwnPropertyDescriptor(s,o);d&&Object.defineProperty(e,o,d.get?d:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(o){if(o.ep)return;o.ep=!0;const d=n(o);fetch(o.href,d)}})();var qw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Md={exports:{}},Oa={},Od={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function Gw(){if(Kp)return tt;Kp=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),w=Symbol.iterator;function k(G){return G===null||typeof G!="object"?null:(G=w&&G[w]||G["@@iterator"],typeof G=="function"?G:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,M={};function B(G,de,Re){this.props=G,this.context=de,this.refs=M,this.updater=Re||j}B.prototype.isReactComponent={},B.prototype.setState=function(G,de){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,de,"setState")},B.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function $(){}$.prototype=B.prototype;function W(G,de,Re){this.props=G,this.context=de,this.refs=M,this.updater=Re||j}var J=W.prototype=new $;J.constructor=W,b(J,B.prototype),J.isPureReactComponent=!0;var ue=Array.isArray,F=Object.prototype.hasOwnProperty,re={current:null},le={key:!0,ref:!0,__self:!0,__source:!0};function z(G,de,Re){var O,Pe={},Ce=null,be=null;if(de!=null)for(O in de.ref!==void 0&&(be=de.ref),de.key!==void 0&&(Ce=""+de.key),de)F.call(de,O)&&!le.hasOwnProperty(O)&&(Pe[O]=de[O]);var me=arguments.length-2;if(me===1)Pe.children=Re;else if(1<me){for(var Ne=Array(me),R=0;R<me;R++)Ne[R]=arguments[R+2];Pe.children=Ne}if(G&&G.defaultProps)for(O in me=G.defaultProps,me)Pe[O]===void 0&&(Pe[O]=me[O]);return{$$typeof:e,type:G,key:Ce,ref:be,props:Pe,_owner:re.current}}function q(G,de){return{$$typeof:e,type:G.type,key:de,ref:G.ref,props:G.props,_owner:G._owner}}function H(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function ce(G){var de={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(Re){return de[Re]})}var ge=/\/+/g;function E(G,de){return typeof G=="object"&&G!==null&&G.key!=null?ce(""+G.key):de.toString(36)}function I(G,de,Re,O,Pe){var Ce=typeof G;(Ce==="undefined"||Ce==="boolean")&&(G=null);var be=!1;if(G===null)be=!0;else switch(Ce){case"string":case"number":be=!0;break;case"object":switch(G.$$typeof){case e:case r:be=!0}}if(be)return be=G,Pe=Pe(be),G=O===""?"."+E(be,0):O,ue(Pe)?(Re="",G!=null&&(Re=G.replace(ge,"$&/")+"/"),I(Pe,de,Re,"",function(R){return R})):Pe!=null&&(H(Pe)&&(Pe=q(Pe,Re+(!Pe.key||be&&be.key===Pe.key?"":(""+Pe.key).replace(ge,"$&/")+"/")+G)),de.push(Pe)),1;if(be=0,O=O===""?".":O+":",ue(G))for(var me=0;me<G.length;me++){Ce=G[me];var Ne=O+E(Ce,me);be+=I(Ce,de,Re,Ne,Pe)}else if(Ne=k(G),typeof Ne=="function")for(G=Ne.call(G),me=0;!(Ce=G.next()).done;)Ce=Ce.value,Ne=O+E(Ce,me++),be+=I(Ce,de,Re,Ne,Pe);else if(Ce==="object")throw de=String(G),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.");return be}function Z(G,de,Re){if(G==null)return G;var O=[],Pe=0;return I(G,O,"","",function(Ce){return de.call(Re,Ce,Pe++)}),O}function ne(G){if(G._status===-1){var de=G._result;de=de(),de.then(function(Re){(G._status===0||G._status===-1)&&(G._status=1,G._result=Re)},function(Re){(G._status===0||G._status===-1)&&(G._status=2,G._result=Re)}),G._status===-1&&(G._status=0,G._result=de)}if(G._status===1)return G._result.default;throw G._result}var fe={current:null},se={transition:null},_e={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:se,ReactCurrentOwner:re};function Ee(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:Z,forEach:function(G,de,Re){Z(G,function(){de.apply(this,arguments)},Re)},count:function(G){var de=0;return Z(G,function(){de++}),de},toArray:function(G){return Z(G,function(de){return de})||[]},only:function(G){if(!H(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},tt.Component=B,tt.Fragment=n,tt.Profiler=o,tt.PureComponent=W,tt.StrictMode=s,tt.Suspense=g,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,tt.act=Ee,tt.cloneElement=function(G,de,Re){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var O=b({},G.props),Pe=G.key,Ce=G.ref,be=G._owner;if(de!=null){if(de.ref!==void 0&&(Ce=de.ref,be=re.current),de.key!==void 0&&(Pe=""+de.key),G.type&&G.type.defaultProps)var me=G.type.defaultProps;for(Ne in de)F.call(de,Ne)&&!le.hasOwnProperty(Ne)&&(O[Ne]=de[Ne]===void 0&&me!==void 0?me[Ne]:de[Ne])}var Ne=arguments.length-2;if(Ne===1)O.children=Re;else if(1<Ne){me=Array(Ne);for(var R=0;R<Ne;R++)me[R]=arguments[R+2];O.children=me}return{$$typeof:e,type:G.type,key:Pe,ref:Ce,props:O,_owner:be}},tt.createContext=function(G){return G={$$typeof:f,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:d,_context:G},G.Consumer=G},tt.createElement=z,tt.createFactory=function(G){var de=z.bind(null,G);return de.type=G,de},tt.createRef=function(){return{current:null}},tt.forwardRef=function(G){return{$$typeof:u,render:G}},tt.isValidElement=H,tt.lazy=function(G){return{$$typeof:N,_payload:{_status:-1,_result:G},_init:ne}},tt.memo=function(G,de){return{$$typeof:_,type:G,compare:de===void 0?null:de}},tt.startTransition=function(G){var de=se.transition;se.transition={};try{G()}finally{se.transition=de}},tt.unstable_act=Ee,tt.useCallback=function(G,de){return fe.current.useCallback(G,de)},tt.useContext=function(G){return fe.current.useContext(G)},tt.useDebugValue=function(){},tt.useDeferredValue=function(G){return fe.current.useDeferredValue(G)},tt.useEffect=function(G,de){return fe.current.useEffect(G,de)},tt.useId=function(){return fe.current.useId()},tt.useImperativeHandle=function(G,de,Re){return fe.current.useImperativeHandle(G,de,Re)},tt.useInsertionEffect=function(G,de){return fe.current.useInsertionEffect(G,de)},tt.useLayoutEffect=function(G,de){return fe.current.useLayoutEffect(G,de)},tt.useMemo=function(G,de){return fe.current.useMemo(G,de)},tt.useReducer=function(G,de,Re){return fe.current.useReducer(G,de,Re)},tt.useRef=function(G){return fe.current.useRef(G)},tt.useState=function(G){return fe.current.useState(G)},tt.useSyncExternalStore=function(G,de,Re){return fe.current.useSyncExternalStore(G,de,Re)},tt.useTransition=function(){return fe.current.useTransition()},tt.version="18.3.1",tt}var Lp;function Jf(){return Lp||(Lp=1,Od.exports=Gw()),Od.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function Ww(){if(Yp)return Oa;Yp=1;var e=Jf(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(u,g,_){var N,w={},k=null,j=null;_!==void 0&&(k=""+_),g.key!==void 0&&(k=""+g.key),g.ref!==void 0&&(j=g.ref);for(N in g)s.call(g,N)&&!d.hasOwnProperty(N)&&(w[N]=g[N]);if(u&&u.defaultProps)for(N in g=u.defaultProps,g)w[N]===void 0&&(w[N]=g[N]);return{$$typeof:r,type:u,key:k,ref:j,props:w,_owner:o.current}}return Oa.Fragment=n,Oa.jsx=f,Oa.jsxs=f,Oa}var Zp;function Kw(){return Zp||(Zp=1,Md.exports=Ww()),Md.exports}var l=Kw(),K=Jf();const Cg=Xf(K),Lw=Hw({__proto__:null,default:Cg},[K]);var Nl={},Ud={exports:{}},pr={},Fd={exports:{}},Id={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function Yw(){return Qp||(Qp=1,function(e){function r(se,_e){var Ee=se.length;se.push(_e);e:for(;0<Ee;){var G=Ee-1>>>1,de=se[G];if(0<o(de,_e))se[G]=_e,se[Ee]=de,Ee=G;else break e}}function n(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var _e=se[0],Ee=se.pop();if(Ee!==_e){se[0]=Ee;e:for(var G=0,de=se.length,Re=de>>>1;G<Re;){var O=2*(G+1)-1,Pe=se[O],Ce=O+1,be=se[Ce];if(0>o(Pe,Ee))Ce<de&&0>o(be,Pe)?(se[G]=be,se[Ce]=Ee,G=Ce):(se[G]=Pe,se[O]=Ee,G=O);else if(Ce<de&&0>o(be,Ee))se[G]=be,se[Ce]=Ee,G=Ce;else break e}}return _e}function o(se,_e){var Ee=se.sortIndex-_e.sortIndex;return Ee!==0?Ee:se.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var f=Date,u=f.now();e.unstable_now=function(){return f.now()-u}}var g=[],_=[],N=1,w=null,k=3,j=!1,b=!1,M=!1,B=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(se){for(var _e=n(_);_e!==null;){if(_e.callback===null)s(_);else if(_e.startTime<=se)s(_),_e.sortIndex=_e.expirationTime,r(g,_e);else break;_e=n(_)}}function ue(se){if(M=!1,J(se),!b)if(n(g)!==null)b=!0,ne(F);else{var _e=n(_);_e!==null&&fe(ue,_e.startTime-se)}}function F(se,_e){b=!1,M&&(M=!1,$(z),z=-1),j=!0;var Ee=k;try{for(J(_e),w=n(g);w!==null&&(!(w.expirationTime>_e)||se&&!ce());){var G=w.callback;if(typeof G=="function"){w.callback=null,k=w.priorityLevel;var de=G(w.expirationTime<=_e);_e=e.unstable_now(),typeof de=="function"?w.callback=de:w===n(g)&&s(g),J(_e)}else s(g);w=n(g)}if(w!==null)var Re=!0;else{var O=n(_);O!==null&&fe(ue,O.startTime-_e),Re=!1}return Re}finally{w=null,k=Ee,j=!1}}var re=!1,le=null,z=-1,q=5,H=-1;function ce(){return!(e.unstable_now()-H<q)}function ge(){if(le!==null){var se=e.unstable_now();H=se;var _e=!0;try{_e=le(!0,se)}finally{_e?E():(re=!1,le=null)}}else re=!1}var E;if(typeof W=="function")E=function(){W(ge)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Z=I.port2;I.port1.onmessage=ge,E=function(){Z.postMessage(null)}}else E=function(){B(ge,0)};function ne(se){le=se,re||(re=!0,E())}function fe(se,_e){z=B(function(){se(e.unstable_now())},_e)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(se){se.callback=null},e.unstable_continueExecution=function(){b||j||(b=!0,ne(F))},e.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<se?Math.floor(1e3/se):5},e.unstable_getCurrentPriorityLevel=function(){return k},e.unstable_getFirstCallbackNode=function(){return n(g)},e.unstable_next=function(se){switch(k){case 1:case 2:case 3:var _e=3;break;default:_e=k}var Ee=k;k=_e;try{return se()}finally{k=Ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(se,_e){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var Ee=k;k=se;try{return _e()}finally{k=Ee}},e.unstable_scheduleCallback=function(se,_e,Ee){var G=e.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?G+Ee:G):Ee=G,se){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=Ee+de,se={id:N++,callback:_e,priorityLevel:se,startTime:Ee,expirationTime:de,sortIndex:-1},Ee>G?(se.sortIndex=Ee,r(_,se),n(g)===null&&se===n(_)&&(M?($(z),z=-1):M=!0,fe(ue,Ee-G))):(se.sortIndex=de,r(g,se),b||j||(b=!0,ne(F))),se},e.unstable_shouldYield=ce,e.unstable_wrapCallback=function(se){var _e=k;return function(){var Ee=k;k=_e;try{return se.apply(this,arguments)}finally{k=Ee}}}}(Id)),Id}var Dp;function Zw(){return Dp||(Dp=1,Fd.exports=Yw()),Fd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function Qw(){if(Xp)return pr;Xp=1;var e=Jf(),r=Zw();function n(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function d(t,i){f(t,i),f(t+"Capture",i)}function f(t,i){for(o[t]=i,t=0;t<i.length;t++)s.add(i[t])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N={},w={};function k(t){return g.call(w,t)?!0:g.call(N,t)?!1:_.test(t)?w[t]=!0:(N[t]=!0,!1)}function j(t,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function b(t,i,a,c){if(i===null||typeof i>"u"||j(t,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function M(t,i,a,c,h,x,C){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=t,this.type=i,this.sanitizeURL=x,this.removeEmptyString=C}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){B[t]=new M(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];B[i]=new M(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){B[t]=new M(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){B[t]=new M(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){B[t]=new M(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){B[t]=new M(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){B[t]=new M(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){B[t]=new M(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){B[t]=new M(t,5,!1,t.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function W(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace($,W);B[i]=new M(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace($,W);B[i]=new M(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace($,W);B[i]=new M(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){B[t]=new M(t,1,!1,t.toLowerCase(),null,!1,!1)}),B.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){B[t]=new M(t,1,!1,t.toLowerCase(),null,!0,!0)});function J(t,i,a,c){var h=B.hasOwnProperty(i)?B[i]:null;(h!==null?h.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(b(i,a,h,c)&&(a=null),c||h===null?k(i)&&(a===null?t.removeAttribute(i):t.setAttribute(i,""+a)):h.mustUseProperty?t[h.propertyName]=a===null?h.type===3?!1:"":a:(i=h.attributeName,c=h.attributeNamespace,a===null?t.removeAttribute(i):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,c?t.setAttributeNS(c,i,a):t.setAttribute(i,a))))}var ue=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),re=Symbol.for("react.portal"),le=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),ce=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),se=Symbol.iterator;function _e(t){return t===null||typeof t!="object"?null:(t=se&&t[se]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Object.assign,G;function de(t){if(G===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);G=i&&i[1]||""}return`
`+G+t}var Re=!1;function O(t,i){if(!t||Re)return"";Re=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ve){var c=ve}Reflect.construct(t,[],i)}else{try{i.call()}catch(ve){c=ve}t.call(i.prototype)}else{try{throw Error()}catch(ve){c=ve}t()}}catch(ve){if(ve&&c&&typeof ve.stack=="string"){for(var h=ve.stack.split(`
`),x=c.stack.split(`
`),C=h.length-1,Y=x.length-1;1<=C&&0<=Y&&h[C]!==x[Y];)Y--;for(;1<=C&&0<=Y;C--,Y--)if(h[C]!==x[Y]){if(C!==1||Y!==1)do if(C--,Y--,0>Y||h[C]!==x[Y]){var te=`
`+h[C].replace(" at new "," at ");return t.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",t.displayName)),te}while(1<=C&&0<=Y);break}}}finally{Re=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?de(t):""}function Pe(t){switch(t.tag){case 5:return de(t.type);case 16:return de("Lazy");case 13:return de("Suspense");case 19:return de("SuspenseList");case 0:case 2:case 15:return t=O(t.type,!1),t;case 11:return t=O(t.type.render,!1),t;case 1:return t=O(t.type,!0),t;default:return""}}function Ce(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case le:return"Fragment";case re:return"Portal";case q:return"Profiler";case z:return"StrictMode";case E:return"Suspense";case I:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ce:return(t.displayName||"Context")+".Consumer";case H:return(t._context.displayName||"Context")+".Provider";case ge:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z:return i=t.displayName||null,i!==null?i:Ce(t.type)||"Memo";case ne:i=t._payload,t=t._init;try{return Ce(t(i))}catch{}}return null}function be(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(i);case 8:return i===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function me(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ne(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function R(t){var i=Ne(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),c=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,x=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(C){c=""+C,x.call(this,C)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function U(t){t._valueTracker||(t._valueTracker=R(t))}function L(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return t&&(c=Ne(t)?t.checked?"true":"false":t.value),t=c,t!==a?(i.setValue(t),!0):!1}function X(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function D(t,i){var a=i.checked;return Ee({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function ie(t,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=me(i.value!=null?i.value:a),t._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function S(t,i){i=i.checked,i!=null&&J(t,"checked",i,!1)}function p(t,i){S(t,i);var a=me(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?T(t,i.type,a):i.hasOwnProperty("defaultValue")&&T(t,i.type,me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function m(t,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,a||i===t.value||(t.value=i),t.defaultValue=i}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function T(t,i,a){(i!=="number"||X(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var P=Array.isArray;function Q(t,i,a,c){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&c&&(t[a].defaultSelected=!0)}else{for(a=""+me(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,c&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function he(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return Ee({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function je(t,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(n(92));if(P(a)){if(1<a.length)throw Error(n(93));a=a[0]}i=a}i==null&&(i=""),a=i}t._wrapperState={initialValue:me(a)}}function Oe(t,i){var a=me(i.value),c=me(i.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),i.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),c!=null&&(t.defaultValue=""+c)}function Ie(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function Qe(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function A(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?Qe(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var y,v=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,h){MSApp.execUnsafeLocalFunction(function(){return t(i,a,c,h)})}:t}(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(y=y||document.createElement("div"),y.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=y.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function V(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ae={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];Object.keys(ae).forEach(function(t){we.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),ae[i]=ae[t]})});function xe(t,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||ae.hasOwnProperty(t)&&ae[t]?(""+i).trim():i+"px"}function Le(t,i){t=t.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,h=xe(a,i[a],c);a==="float"&&(a="cssFloat"),c?t.setProperty(a,h):t[a]=h}}var De=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ye(t,i){if(i){if(De[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Ge(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var it=null;function lt(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _i=null,Lr=null,Yr=null;function es(t){if(t=va(t)){if(typeof _i!="function")throw Error(n(280));var i=t.stateNode;i&&(i=Io(i),_i(t.stateNode,t.type,i))}}function ts(t){Lr?Yr?Yr.push(t):Yr=[t]:Lr=t}function Mr(){if(Lr){var t=Lr,i=Yr;if(Yr=Lr=null,es(t),i)for(t=0;t<i.length;t++)es(i[t])}}function Yc(t,i){return t(i)}function Zc(){}var fo=!1;function Qc(t,i,a){if(fo)return t(i,a);fo=!0;try{return Yc(t,i,a)}finally{fo=!1,(Lr!==null||Yr!==null)&&(Zc(),Mr())}}function yt(t,i){var a=t.stateNode;if(a===null)return null;var c=Io(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(n(231,i,typeof a));return a}var ho=!1;if(u)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){ho=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{ho=!1}function v0(t,i,a,c,h,x,C,Y,te){var ve=Array.prototype.slice.call(arguments,3);try{i.apply(a,ve)}catch(Se){this.onError(Se)}}var Ni=!1,ns=null,is=!1,ta=null,Nt={onError:function(t){Ni=!0,ns=t}};function Dc(t,i,a,c,h,x,C,Y,te){Ni=!1,ns=null,v0.apply(Nt,arguments)}function Xc(t,i,a,c,h,x,C,Y,te){if(Dc.apply(this,arguments),Ni){if(Ni){var ve=ns;Ni=!1,ns=null}else throw Error(n(198));is||(is=!0,ta=ve)}}function dn(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function po(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function mo(t){if(dn(t)!==t)throw Error(n(188))}function Jc(t){var i=t.alternate;if(!i){if(i=dn(t),i===null)throw Error(n(188));return i!==t?null:t}for(var a=t,c=i;;){var h=a.return;if(h===null)break;var x=h.alternate;if(x===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===x.child){for(x=h.child;x;){if(x===a)return mo(h),t;if(x===c)return mo(h),i;x=x.sibling}throw Error(n(188))}if(a.return!==c.return)a=h,c=x;else{for(var C=!1,Y=h.child;Y;){if(Y===a){C=!0,a=h,c=x;break}if(Y===c){C=!0,c=h,a=x;break}Y=Y.sibling}if(!C){for(Y=x.child;Y;){if(Y===a){C=!0,a=x,c=h;break}if(Y===c){C=!0,c=x,a=h;break}Y=Y.sibling}if(!C)throw Error(n(189))}}if(a.alternate!==c)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?t:i}function go(t){return t=Jc(t),t!==null?yo(t):null}function yo(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=yo(t);if(i!==null)return i;t=t.sibling}return null}var ct=r.unstable_scheduleCallback,xo=r.unstable_cancelCallback,eu=r.unstable_shouldYield,ee=r.unstable_requestPaint,He=r.unstable_now,rt=r.unstable_getCurrentPriorityLevel,Je=r.unstable_ImmediatePriority,Ei=r.unstable_UserBlockingPriority,Zr=r.unstable_NormalPriority,b0=r.unstable_LowPriority,_0=r.unstable_IdlePriority,wo=null,Qr=null;function t1(t){if(Qr&&typeof Qr.onCommitFiberRoot=="function")try{Qr.onCommitFiberRoot(wo,t,void 0,(t.current.flags&128)===128)}catch{}}var Or=Math.clz32?Math.clz32:i1,r1=Math.log,n1=Math.LN2;function i1(t){return t>>>=0,t===0?32:31-(r1(t)/n1|0)|0}var vo=64,bo=4194304;function ra(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _o(t,i){var a=t.pendingLanes;if(a===0)return 0;var c=0,h=t.suspendedLanes,x=t.pingedLanes,C=a&268435455;if(C!==0){var Y=C&~h;Y!==0?c=ra(Y):(x&=C,x!==0&&(c=ra(x)))}else C=a&~h,C!==0?c=ra(C):x!==0&&(c=ra(x));if(c===0)return 0;if(i!==0&&i!==c&&(i&h)===0&&(h=c&-c,x=i&-i,h>=x||h===16&&(x&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=c;0<i;)a=31-Or(i),h=1<<a,c|=t[a],i&=~h;return c}function s1(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a1(t,i){for(var a=t.suspendedLanes,c=t.pingedLanes,h=t.expirationTimes,x=t.pendingLanes;0<x;){var C=31-Or(x),Y=1<<C,te=h[C];te===-1?((Y&a)===0||(Y&c)!==0)&&(h[C]=s1(Y,i)):te<=i&&(t.expiredLanes|=Y),x&=~Y}}function tu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function N0(){var t=vo;return vo<<=1,(vo&4194240)===0&&(vo=64),t}function ru(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function na(t,i,a){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-Or(i),t[i]=a}function o1(t,i){var a=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<a;){var h=31-Or(a),x=1<<h;i[h]=0,c[h]=-1,t[h]=-1,a&=~x}}function nu(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var c=31-Or(a),h=1<<c;h&i|t[c]&i&&(t[c]|=i),a&=~h}}var ut=0;function E0(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var k0,iu,S0,j0,A0,su=!1,No=[],Un=null,Fn=null,In=null,ia=new Map,sa=new Map,$n=[],l1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function T0(t,i){switch(t){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":ia.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":sa.delete(i.pointerId)}}function aa(t,i,a,c,h,x){return t===null||t.nativeEvent!==x?(t={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:x,targetContainers:[h]},i!==null&&(i=va(i),i!==null&&iu(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function c1(t,i,a,c,h){switch(i){case"focusin":return Un=aa(Un,t,i,a,c,h),!0;case"dragenter":return Fn=aa(Fn,t,i,a,c,h),!0;case"mouseover":return In=aa(In,t,i,a,c,h),!0;case"pointerover":var x=h.pointerId;return ia.set(x,aa(ia.get(x)||null,t,i,a,c,h)),!0;case"gotpointercapture":return x=h.pointerId,sa.set(x,aa(sa.get(x)||null,t,i,a,c,h)),!0}return!1}function C0(t){var i=ki(t.target);if(i!==null){var a=dn(i);if(a!==null){if(i=a.tag,i===13){if(i=po(a),i!==null){t.blockedOn=i,A0(t.priority,function(){S0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eo(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=ou(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);it=c,a.target.dispatchEvent(c),it=null}else return i=va(a),i!==null&&iu(i),t.blockedOn=a,!1;i.shift()}return!0}function B0(t,i,a){Eo(t)&&a.delete(i)}function u1(){su=!1,Un!==null&&Eo(Un)&&(Un=null),Fn!==null&&Eo(Fn)&&(Fn=null),In!==null&&Eo(In)&&(In=null),ia.forEach(B0),sa.forEach(B0)}function oa(t,i){t.blockedOn===i&&(t.blockedOn=null,su||(su=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,u1)))}function la(t){function i(h){return oa(h,t)}if(0<No.length){oa(No[0],t);for(var a=1;a<No.length;a++){var c=No[a];c.blockedOn===t&&(c.blockedOn=null)}}for(Un!==null&&oa(Un,t),Fn!==null&&oa(Fn,t),In!==null&&oa(In,t),ia.forEach(i),sa.forEach(i),a=0;a<$n.length;a++)c=$n[a],c.blockedOn===t&&(c.blockedOn=null);for(;0<$n.length&&(a=$n[0],a.blockedOn===null);)C0(a),a.blockedOn===null&&$n.shift()}var ss=ue.ReactCurrentBatchConfig,ko=!0;function d1(t,i,a,c){var h=ut,x=ss.transition;ss.transition=null;try{ut=1,au(t,i,a,c)}finally{ut=h,ss.transition=x}}function f1(t,i,a,c){var h=ut,x=ss.transition;ss.transition=null;try{ut=4,au(t,i,a,c)}finally{ut=h,ss.transition=x}}function au(t,i,a,c){if(ko){var h=ou(t,i,a,c);if(h===null)Eu(t,i,c,So,a),T0(t,c);else if(c1(h,t,i,a,c))c.stopPropagation();else if(T0(t,c),i&4&&-1<l1.indexOf(t)){for(;h!==null;){var x=va(h);if(x!==null&&k0(x),x=ou(t,i,a,c),x===null&&Eu(t,i,c,So,a),x===h)break;h=x}h!==null&&c.stopPropagation()}else Eu(t,i,c,null,a)}}var So=null;function ou(t,i,a,c){if(So=null,t=lt(c),t=ki(t),t!==null)if(i=dn(t),i===null)t=null;else if(a=i.tag,a===13){if(t=po(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return So=t,null}function R0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rt()){case Je:return 1;case Ei:return 4;case Zr:case b0:return 16;case _0:return 536870912;default:return 16}default:return 16}}var zn=null,lu=null,jo=null;function P0(){if(jo)return jo;var t,i=lu,a=i.length,c,h="value"in zn?zn.value:zn.textContent,x=h.length;for(t=0;t<a&&i[t]===h[t];t++);var C=a-t;for(c=1;c<=C&&i[a-c]===h[x-c];c++);return jo=h.slice(t,1<c?1-c:void 0)}function Ao(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function To(){return!0}function M0(){return!1}function wr(t){function i(a,c,h,x,C){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=x,this.target=C,this.currentTarget=null;for(var Y in t)t.hasOwnProperty(Y)&&(a=t[Y],this[Y]=a?a(x):x[Y]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?To:M0,this.isPropagationStopped=M0,this}return Ee(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=To)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=To)},persist:function(){},isPersistent:To}),i}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cu=wr(as),ca=Ee({},as,{view:0,detail:0}),h1=wr(ca),uu,du,ua,Co=Ee({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ua&&(ua&&t.type==="mousemove"?(uu=t.screenX-ua.screenX,du=t.screenY-ua.screenY):du=uu=0,ua=t),uu)},movementY:function(t){return"movementY"in t?t.movementY:du}}),O0=wr(Co),p1=Ee({},Co,{dataTransfer:0}),m1=wr(p1),g1=Ee({},ca,{relatedTarget:0}),fu=wr(g1),y1=Ee({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),x1=wr(y1),w1=Ee({},as,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),v1=wr(w1),b1=Ee({},as,{data:0}),U0=wr(b1),_1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k1(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=E1[t])?!!i[t]:!1}function hu(){return k1}var S1=Ee({},ca,{key:function(t){if(t.key){var i=_1[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ao(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?N1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hu,charCode:function(t){return t.type==="keypress"?Ao(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ao(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),j1=wr(S1),A1=Ee({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F0=wr(A1),T1=Ee({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hu}),C1=wr(T1),B1=Ee({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),R1=wr(B1),P1=Ee({},Co,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),M1=wr(P1),O1=[9,13,27,32],pu=u&&"CompositionEvent"in window,da=null;u&&"documentMode"in document&&(da=document.documentMode);var U1=u&&"TextEvent"in window&&!da,I0=u&&(!pu||da&&8<da&&11>=da),$0=" ",z0=!1;function V0(t,i){switch(t){case"keyup":return O1.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function H0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var os=!1;function F1(t,i){switch(t){case"compositionend":return H0(i);case"keypress":return i.which!==32?null:(z0=!0,$0);case"textInput":return t=i.data,t===$0&&z0?null:t;default:return null}}function I1(t,i){if(os)return t==="compositionend"||!pu&&V0(t,i)?(t=P0(),jo=lu=zn=null,os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return I0&&i.locale!=="ko"?null:i.data;default:return null}}var $1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q0(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!$1[t.type]:i==="textarea"}function G0(t,i,a,c){ts(c),i=Oo(i,"onChange"),0<i.length&&(a=new cu("onChange","change",null,a,c),t.push({event:a,listeners:i}))}var fa=null,ha=null;function z1(t){lh(t,0)}function Bo(t){var i=fs(t);if(L(i))return t}function V1(t,i){if(t==="change")return i}var W0=!1;if(u){var mu;if(u){var gu="oninput"in document;if(!gu){var K0=document.createElement("div");K0.setAttribute("oninput","return;"),gu=typeof K0.oninput=="function"}mu=gu}else mu=!1;W0=mu&&(!document.documentMode||9<document.documentMode)}function L0(){fa&&(fa.detachEvent("onpropertychange",Y0),ha=fa=null)}function Y0(t){if(t.propertyName==="value"&&Bo(ha)){var i=[];G0(i,ha,t,lt(t)),Qc(z1,i)}}function H1(t,i,a){t==="focusin"?(L0(),fa=i,ha=a,fa.attachEvent("onpropertychange",Y0)):t==="focusout"&&L0()}function q1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bo(ha)}function G1(t,i){if(t==="click")return Bo(i)}function W1(t,i){if(t==="input"||t==="change")return Bo(i)}function K1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Ur=typeof Object.is=="function"?Object.is:K1;function pa(t,i){if(Ur(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!g.call(i,h)||!Ur(t[h],i[h]))return!1}return!0}function Z0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Q0(t,i){var a=Z0(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=i&&c>=i)return{node:a,offset:i-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Z0(a)}}function D0(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?D0(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function X0(){for(var t=window,i=X();i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=X(t.document)}return i}function yu(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function L1(t){var i=X0(),a=t.focusedElem,c=t.selectionRange;if(i!==a&&a&&a.ownerDocument&&D0(a.ownerDocument.documentElement,a)){if(c!==null&&yu(a)){if(i=c.start,t=c.end,t===void 0&&(t=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(t,a.value.length);else if(t=(i=a.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var h=a.textContent.length,x=Math.min(c.start,h);c=c.end===void 0?x:Math.min(c.end,h),!t.extend&&x>c&&(h=c,c=x,x=h),h=Q0(a,x);var C=Q0(a,c);h&&C&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==C.node||t.focusOffset!==C.offset)&&(i=i.createRange(),i.setStart(h.node,h.offset),t.removeAllRanges(),x>c?(t.addRange(i),t.extend(C.node,C.offset)):(i.setEnd(C.node,C.offset),t.addRange(i)))}}for(i=[],t=a;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)t=i[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Y1=u&&"documentMode"in document&&11>=document.documentMode,ls=null,xu=null,ma=null,wu=!1;function J0(t,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wu||ls==null||ls!==X(c)||(c=ls,"selectionStart"in c&&yu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ma&&pa(ma,c)||(ma=c,c=Oo(xu,"onSelect"),0<c.length&&(i=new cu("onSelect","select",null,i,a),t.push({event:i,listeners:c}),i.target=ls)))}function Ro(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var cs={animationend:Ro("Animation","AnimationEnd"),animationiteration:Ro("Animation","AnimationIteration"),animationstart:Ro("Animation","AnimationStart"),transitionend:Ro("Transition","TransitionEnd")},vu={},eh={};u&&(eh=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function Po(t){if(vu[t])return vu[t];if(!cs[t])return t;var i=cs[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in eh)return vu[t]=i[a];return t}var th=Po("animationend"),rh=Po("animationiteration"),nh=Po("animationstart"),ih=Po("transitionend"),sh=new Map,ah="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vn(t,i){sh.set(t,i),d(i,[t])}for(var bu=0;bu<ah.length;bu++){var _u=ah[bu],Z1=_u.toLowerCase(),Q1=_u[0].toUpperCase()+_u.slice(1);Vn(Z1,"on"+Q1)}Vn(th,"onAnimationEnd"),Vn(rh,"onAnimationIteration"),Vn(nh,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(ih,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ga));function oh(t,i,a){var c=t.type||"unknown-event";t.currentTarget=a,Xc(c,i,void 0,t),t.currentTarget=null}function lh(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],h=c.event;c=c.listeners;e:{var x=void 0;if(i)for(var C=c.length-1;0<=C;C--){var Y=c[C],te=Y.instance,ve=Y.currentTarget;if(Y=Y.listener,te!==x&&h.isPropagationStopped())break e;oh(h,Y,ve),x=te}else for(C=0;C<c.length;C++){if(Y=c[C],te=Y.instance,ve=Y.currentTarget,Y=Y.listener,te!==x&&h.isPropagationStopped())break e;oh(h,Y,ve),x=te}}}if(is)throw t=ta,is=!1,ta=null,t}function pt(t,i){var a=i[Cu];a===void 0&&(a=i[Cu]=new Set);var c=t+"__bubble";a.has(c)||(ch(i,t,2,!1),a.add(c))}function Nu(t,i,a){var c=0;i&&(c|=4),ch(a,t,c,i)}var Mo="_reactListening"+Math.random().toString(36).slice(2);function ya(t){if(!t[Mo]){t[Mo]=!0,s.forEach(function(a){a!=="selectionchange"&&(D1.has(a)||Nu(a,!1,t),Nu(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Mo]||(i[Mo]=!0,Nu("selectionchange",!1,i))}}function ch(t,i,a,c){switch(R0(i)){case 1:var h=d1;break;case 4:h=f1;break;default:h=au}a=h.bind(null,i,a,t),h=void 0,!ho||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),c?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Eu(t,i,a,c,h){var x=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var Y=c.stateNode.containerInfo;if(Y===h||Y.nodeType===8&&Y.parentNode===h)break;if(C===4)for(C=c.return;C!==null;){var te=C.tag;if((te===3||te===4)&&(te=C.stateNode.containerInfo,te===h||te.nodeType===8&&te.parentNode===h))return;C=C.return}for(;Y!==null;){if(C=ki(Y),C===null)return;if(te=C.tag,te===5||te===6){c=x=C;continue e}Y=Y.parentNode}}c=c.return}Qc(function(){var ve=x,Se=lt(a),Ae=[];e:{var ke=sh.get(t);if(ke!==void 0){var Me=cu,Fe=t;switch(t){case"keypress":if(Ao(a)===0)break e;case"keydown":case"keyup":Me=j1;break;case"focusin":Fe="focus",Me=fu;break;case"focusout":Fe="blur",Me=fu;break;case"beforeblur":case"afterblur":Me=fu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=O0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=m1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=C1;break;case th:case rh:case nh:Me=x1;break;case ih:Me=R1;break;case"scroll":Me=h1;break;case"wheel":Me=M1;break;case"copy":case"cut":case"paste":Me=v1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=F0}var $e=(i&4)!==0,jt=!$e&&t==="scroll",pe=$e?ke!==null?ke+"Capture":null:ke;$e=[];for(var oe=ve,ye;oe!==null;){ye=oe;var Te=ye.stateNode;if(ye.tag===5&&Te!==null&&(ye=Te,pe!==null&&(Te=yt(oe,pe),Te!=null&&$e.push(xa(oe,Te,ye)))),jt)break;oe=oe.return}0<$e.length&&(ke=new Me(ke,Fe,null,a,Se),Ae.push({event:ke,listeners:$e}))}}if((i&7)===0){e:{if(ke=t==="mouseover"||t==="pointerover",Me=t==="mouseout"||t==="pointerout",ke&&a!==it&&(Fe=a.relatedTarget||a.fromElement)&&(ki(Fe)||Fe[fn]))break e;if((Me||ke)&&(ke=Se.window===Se?Se:(ke=Se.ownerDocument)?ke.defaultView||ke.parentWindow:window,Me?(Fe=a.relatedTarget||a.toElement,Me=ve,Fe=Fe?ki(Fe):null,Fe!==null&&(jt=dn(Fe),Fe!==jt||Fe.tag!==5&&Fe.tag!==6)&&(Fe=null)):(Me=null,Fe=ve),Me!==Fe)){if($e=O0,Te="onMouseLeave",pe="onMouseEnter",oe="mouse",(t==="pointerout"||t==="pointerover")&&($e=F0,Te="onPointerLeave",pe="onPointerEnter",oe="pointer"),jt=Me==null?ke:fs(Me),ye=Fe==null?ke:fs(Fe),ke=new $e(Te,oe+"leave",Me,a,Se),ke.target=jt,ke.relatedTarget=ye,Te=null,ki(Se)===ve&&($e=new $e(pe,oe+"enter",Fe,a,Se),$e.target=ye,$e.relatedTarget=jt,Te=$e),jt=Te,Me&&Fe)t:{for($e=Me,pe=Fe,oe=0,ye=$e;ye;ye=us(ye))oe++;for(ye=0,Te=pe;Te;Te=us(Te))ye++;for(;0<oe-ye;)$e=us($e),oe--;for(;0<ye-oe;)pe=us(pe),ye--;for(;oe--;){if($e===pe||pe!==null&&$e===pe.alternate)break t;$e=us($e),pe=us(pe)}$e=null}else $e=null;Me!==null&&uh(Ae,ke,Me,$e,!1),Fe!==null&&jt!==null&&uh(Ae,jt,Fe,$e,!0)}}e:{if(ke=ve?fs(ve):window,Me=ke.nodeName&&ke.nodeName.toLowerCase(),Me==="select"||Me==="input"&&ke.type==="file")var ze=V1;else if(q0(ke))if(W0)ze=W1;else{ze=q1;var We=H1}else(Me=ke.nodeName)&&Me.toLowerCase()==="input"&&(ke.type==="checkbox"||ke.type==="radio")&&(ze=G1);if(ze&&(ze=ze(t,ve))){G0(Ae,ze,a,Se);break e}We&&We(t,ke,ve),t==="focusout"&&(We=ke._wrapperState)&&We.controlled&&ke.type==="number"&&T(ke,"number",ke.value)}switch(We=ve?fs(ve):window,t){case"focusin":(q0(We)||We.contentEditable==="true")&&(ls=We,xu=ve,ma=null);break;case"focusout":ma=xu=ls=null;break;case"mousedown":wu=!0;break;case"contextmenu":case"mouseup":case"dragend":wu=!1,J0(Ae,a,Se);break;case"selectionchange":if(Y1)break;case"keydown":case"keyup":J0(Ae,a,Se)}var Ke;if(pu)e:{switch(t){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else os?V0(t,a)&&(Ze="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ze="onCompositionStart");Ze&&(I0&&a.locale!=="ko"&&(os||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&os&&(Ke=P0()):(zn=Se,lu="value"in zn?zn.value:zn.textContent,os=!0)),We=Oo(ve,Ze),0<We.length&&(Ze=new U0(Ze,t,null,a,Se),Ae.push({event:Ze,listeners:We}),Ke?Ze.data=Ke:(Ke=H0(a),Ke!==null&&(Ze.data=Ke)))),(Ke=U1?F1(t,a):I1(t,a))&&(ve=Oo(ve,"onBeforeInput"),0<ve.length&&(Se=new U0("onBeforeInput","beforeinput",null,a,Se),Ae.push({event:Se,listeners:ve}),Se.data=Ke))}lh(Ae,i)})}function xa(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Oo(t,i){for(var a=i+"Capture",c=[];t!==null;){var h=t,x=h.stateNode;h.tag===5&&x!==null&&(h=x,x=yt(t,a),x!=null&&c.unshift(xa(t,x,h)),x=yt(t,i),x!=null&&c.push(xa(t,x,h))),t=t.return}return c}function us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uh(t,i,a,c,h){for(var x=i._reactName,C=[];a!==null&&a!==c;){var Y=a,te=Y.alternate,ve=Y.stateNode;if(te!==null&&te===c)break;Y.tag===5&&ve!==null&&(Y=ve,h?(te=yt(a,x),te!=null&&C.unshift(xa(a,te,Y))):h||(te=yt(a,x),te!=null&&C.push(xa(a,te,Y)))),a=a.return}C.length!==0&&t.push({event:i,listeners:C})}var X1=/\r\n?/g,J1=/\u0000|\uFFFD/g;function dh(t){return(typeof t=="string"?t:""+t).replace(X1,`
`).replace(J1,"")}function Uo(t,i,a){if(i=dh(i),dh(t)!==i&&a)throw Error(n(425))}function Fo(){}var ku=null,Su=null;function ju(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Au=typeof setTimeout=="function"?setTimeout:void 0,ew=typeof clearTimeout=="function"?clearTimeout:void 0,fh=typeof Promise=="function"?Promise:void 0,tw=typeof queueMicrotask=="function"?queueMicrotask:typeof fh<"u"?function(t){return fh.resolve(null).then(t).catch(rw)}:Au;function rw(t){setTimeout(function(){throw t})}function Tu(t,i){var a=i,c=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(c===0){t.removeChild(h),la(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=h}while(a);la(i)}function Hn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function hh(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}var ds=Math.random().toString(36).slice(2),Dr="__reactFiber$"+ds,wa="__reactProps$"+ds,fn="__reactContainer$"+ds,Cu="__reactEvents$"+ds,nw="__reactListeners$"+ds,iw="__reactHandles$"+ds;function ki(t){var i=t[Dr];if(i)return i;for(var a=t.parentNode;a;){if(i=a[fn]||a[Dr]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=hh(t);t!==null;){if(a=t[Dr])return a;t=hh(t)}return i}t=a,a=t.parentNode}return null}function va(t){return t=t[Dr]||t[fn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Io(t){return t[wa]||null}var Bu=[],hs=-1;function qn(t){return{current:t}}function mt(t){0>hs||(t.current=Bu[hs],Bu[hs]=null,hs--)}function ht(t,i){hs++,Bu[hs]=t.current,t.current=i}var Gn={},Lt=qn(Gn),cr=qn(!1),Si=Gn;function ps(t,i){var a=t.type.contextTypes;if(!a)return Gn;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var h={},x;for(x in a)h[x]=i[x];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=h),h}function ur(t){return t=t.childContextTypes,t!=null}function $o(){mt(cr),mt(Lt)}function ph(t,i,a){if(Lt.current!==Gn)throw Error(n(168));ht(Lt,i),ht(cr,a)}function mh(t,i,a){var c=t.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var h in c)if(!(h in i))throw Error(n(108,be(t)||"Unknown",h));return Ee({},a,c)}function zo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gn,Si=Lt.current,ht(Lt,t),ht(cr,cr.current),!0}function gh(t,i,a){var c=t.stateNode;if(!c)throw Error(n(169));a?(t=mh(t,i,Si),c.__reactInternalMemoizedMergedChildContext=t,mt(cr),mt(Lt),ht(Lt,t)):mt(cr),ht(cr,a)}var hn=null,Vo=!1,Ru=!1;function yh(t){hn===null?hn=[t]:hn.push(t)}function sw(t){Vo=!0,yh(t)}function Wn(){if(!Ru&&hn!==null){Ru=!0;var t=0,i=ut;try{var a=hn;for(ut=1;t<a.length;t++){var c=a[t];do c=c(!0);while(c!==null)}hn=null,Vo=!1}catch(h){throw hn!==null&&(hn=hn.slice(t+1)),ct(Je,Wn),h}finally{ut=i,Ru=!1}}return null}var ms=[],gs=0,Ho=null,qo=0,kr=[],Sr=0,ji=null,pn=1,mn="";function Ai(t,i){ms[gs++]=qo,ms[gs++]=Ho,Ho=t,qo=i}function xh(t,i,a){kr[Sr++]=pn,kr[Sr++]=mn,kr[Sr++]=ji,ji=t;var c=pn;t=mn;var h=32-Or(c)-1;c&=~(1<<h),a+=1;var x=32-Or(i)+h;if(30<x){var C=h-h%5;x=(c&(1<<C)-1).toString(32),c>>=C,h-=C,pn=1<<32-Or(i)+h|a<<h|c,mn=x+t}else pn=1<<x|a<<h|c,mn=t}function Pu(t){t.return!==null&&(Ai(t,1),xh(t,1,0))}function Mu(t){for(;t===Ho;)Ho=ms[--gs],ms[gs]=null,qo=ms[--gs],ms[gs]=null;for(;t===ji;)ji=kr[--Sr],kr[Sr]=null,mn=kr[--Sr],kr[Sr]=null,pn=kr[--Sr],kr[Sr]=null}var vr=null,br=null,xt=!1,Fr=null;function wh(t,i){var a=Cr(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=t,i=t.deletions,i===null?(t.deletions=[a],t.flags|=16):i.push(a)}function vh(t,i){switch(t.tag){case 5:var a=t.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,vr=t,br=Hn(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,vr=t,br=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=ji!==null?{id:pn,overflow:mn}:null,t.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Cr(18,null,null,0),a.stateNode=i,a.return=t,t.child=a,vr=t,br=null,!0):!1;default:return!1}}function Ou(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Uu(t){if(xt){var i=br;if(i){var a=i;if(!vh(t,i)){if(Ou(t))throw Error(n(418));i=Hn(a.nextSibling);var c=vr;i&&vh(t,i)?wh(c,a):(t.flags=t.flags&-4097|2,xt=!1,vr=t)}}else{if(Ou(t))throw Error(n(418));t.flags=t.flags&-4097|2,xt=!1,vr=t}}}function bh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vr=t}function Go(t){if(t!==vr)return!1;if(!xt)return bh(t),xt=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!ju(t.type,t.memoizedProps)),i&&(i=br)){if(Ou(t))throw _h(),Error(n(418));for(;i;)wh(t,i),i=Hn(i.nextSibling)}if(bh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(i===0){br=Hn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}t=t.nextSibling}br=null}}else br=vr?Hn(t.stateNode.nextSibling):null;return!0}function _h(){for(var t=br;t;)t=Hn(t.nextSibling)}function ys(){br=vr=null,xt=!1}function Fu(t){Fr===null?Fr=[t]:Fr.push(t)}var aw=ue.ReactCurrentBatchConfig;function ba(t,i,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var c=a.stateNode}if(!c)throw Error(n(147,t));var h=c,x=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===x?i.ref:(i=function(C){var Y=h.refs;C===null?delete Y[x]:Y[x]=C},i._stringRef=x,i)}if(typeof t!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,t))}return t}function Wo(t,i){throw t=Object.prototype.toString.call(i),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function Nh(t){var i=t._init;return i(t._payload)}function Eh(t){function i(pe,oe){if(t){var ye=pe.deletions;ye===null?(pe.deletions=[oe],pe.flags|=16):ye.push(oe)}}function a(pe,oe){if(!t)return null;for(;oe!==null;)i(pe,oe),oe=oe.sibling;return null}function c(pe,oe){for(pe=new Map;oe!==null;)oe.key!==null?pe.set(oe.key,oe):pe.set(oe.index,oe),oe=oe.sibling;return pe}function h(pe,oe){return pe=Jn(pe,oe),pe.index=0,pe.sibling=null,pe}function x(pe,oe,ye){return pe.index=ye,t?(ye=pe.alternate,ye!==null?(ye=ye.index,ye<oe?(pe.flags|=2,oe):ye):(pe.flags|=2,oe)):(pe.flags|=1048576,oe)}function C(pe){return t&&pe.alternate===null&&(pe.flags|=2),pe}function Y(pe,oe,ye,Te){return oe===null||oe.tag!==6?(oe=Ad(ye,pe.mode,Te),oe.return=pe,oe):(oe=h(oe,ye),oe.return=pe,oe)}function te(pe,oe,ye,Te){var ze=ye.type;return ze===le?Se(pe,oe,ye.props.children,Te,ye.key):oe!==null&&(oe.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===ne&&Nh(ze)===oe.type)?(Te=h(oe,ye.props),Te.ref=ba(pe,oe,ye),Te.return=pe,Te):(Te=ml(ye.type,ye.key,ye.props,null,pe.mode,Te),Te.ref=ba(pe,oe,ye),Te.return=pe,Te)}function ve(pe,oe,ye,Te){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ye.containerInfo||oe.stateNode.implementation!==ye.implementation?(oe=Td(ye,pe.mode,Te),oe.return=pe,oe):(oe=h(oe,ye.children||[]),oe.return=pe,oe)}function Se(pe,oe,ye,Te,ze){return oe===null||oe.tag!==7?(oe=Ui(ye,pe.mode,Te,ze),oe.return=pe,oe):(oe=h(oe,ye),oe.return=pe,oe)}function Ae(pe,oe,ye){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=Ad(""+oe,pe.mode,ye),oe.return=pe,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case F:return ye=ml(oe.type,oe.key,oe.props,null,pe.mode,ye),ye.ref=ba(pe,null,oe),ye.return=pe,ye;case re:return oe=Td(oe,pe.mode,ye),oe.return=pe,oe;case ne:var Te=oe._init;return Ae(pe,Te(oe._payload),ye)}if(P(oe)||_e(oe))return oe=Ui(oe,pe.mode,ye,null),oe.return=pe,oe;Wo(pe,oe)}return null}function ke(pe,oe,ye,Te){var ze=oe!==null?oe.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ze!==null?null:Y(pe,oe,""+ye,Te);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case F:return ye.key===ze?te(pe,oe,ye,Te):null;case re:return ye.key===ze?ve(pe,oe,ye,Te):null;case ne:return ze=ye._init,ke(pe,oe,ze(ye._payload),Te)}if(P(ye)||_e(ye))return ze!==null?null:Se(pe,oe,ye,Te,null);Wo(pe,ye)}return null}function Me(pe,oe,ye,Te,ze){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return pe=pe.get(ye)||null,Y(oe,pe,""+Te,ze);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case F:return pe=pe.get(Te.key===null?ye:Te.key)||null,te(oe,pe,Te,ze);case re:return pe=pe.get(Te.key===null?ye:Te.key)||null,ve(oe,pe,Te,ze);case ne:var We=Te._init;return Me(pe,oe,ye,We(Te._payload),ze)}if(P(Te)||_e(Te))return pe=pe.get(ye)||null,Se(oe,pe,Te,ze,null);Wo(oe,Te)}return null}function Fe(pe,oe,ye,Te){for(var ze=null,We=null,Ke=oe,Ze=oe=0,It=null;Ke!==null&&Ze<ye.length;Ze++){Ke.index>Ze?(It=Ke,Ke=null):It=Ke.sibling;var at=ke(pe,Ke,ye[Ze],Te);if(at===null){Ke===null&&(Ke=It);break}t&&Ke&&at.alternate===null&&i(pe,Ke),oe=x(at,oe,Ze),We===null?ze=at:We.sibling=at,We=at,Ke=It}if(Ze===ye.length)return a(pe,Ke),xt&&Ai(pe,Ze),ze;if(Ke===null){for(;Ze<ye.length;Ze++)Ke=Ae(pe,ye[Ze],Te),Ke!==null&&(oe=x(Ke,oe,Ze),We===null?ze=Ke:We.sibling=Ke,We=Ke);return xt&&Ai(pe,Ze),ze}for(Ke=c(pe,Ke);Ze<ye.length;Ze++)It=Me(Ke,pe,Ze,ye[Ze],Te),It!==null&&(t&&It.alternate!==null&&Ke.delete(It.key===null?Ze:It.key),oe=x(It,oe,Ze),We===null?ze=It:We.sibling=It,We=It);return t&&Ke.forEach(function(ei){return i(pe,ei)}),xt&&Ai(pe,Ze),ze}function $e(pe,oe,ye,Te){var ze=_e(ye);if(typeof ze!="function")throw Error(n(150));if(ye=ze.call(ye),ye==null)throw Error(n(151));for(var We=ze=null,Ke=oe,Ze=oe=0,It=null,at=ye.next();Ke!==null&&!at.done;Ze++,at=ye.next()){Ke.index>Ze?(It=Ke,Ke=null):It=Ke.sibling;var ei=ke(pe,Ke,at.value,Te);if(ei===null){Ke===null&&(Ke=It);break}t&&Ke&&ei.alternate===null&&i(pe,Ke),oe=x(ei,oe,Ze),We===null?ze=ei:We.sibling=ei,We=ei,Ke=It}if(at.done)return a(pe,Ke),xt&&Ai(pe,Ze),ze;if(Ke===null){for(;!at.done;Ze++,at=ye.next())at=Ae(pe,at.value,Te),at!==null&&(oe=x(at,oe,Ze),We===null?ze=at:We.sibling=at,We=at);return xt&&Ai(pe,Ze),ze}for(Ke=c(pe,Ke);!at.done;Ze++,at=ye.next())at=Me(Ke,pe,Ze,at.value,Te),at!==null&&(t&&at.alternate!==null&&Ke.delete(at.key===null?Ze:at.key),oe=x(at,oe,Ze),We===null?ze=at:We.sibling=at,We=at);return t&&Ke.forEach(function($w){return i(pe,$w)}),xt&&Ai(pe,Ze),ze}function jt(pe,oe,ye,Te){if(typeof ye=="object"&&ye!==null&&ye.type===le&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case F:e:{for(var ze=ye.key,We=oe;We!==null;){if(We.key===ze){if(ze=ye.type,ze===le){if(We.tag===7){a(pe,We.sibling),oe=h(We,ye.props.children),oe.return=pe,pe=oe;break e}}else if(We.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===ne&&Nh(ze)===We.type){a(pe,We.sibling),oe=h(We,ye.props),oe.ref=ba(pe,We,ye),oe.return=pe,pe=oe;break e}a(pe,We);break}else i(pe,We);We=We.sibling}ye.type===le?(oe=Ui(ye.props.children,pe.mode,Te,ye.key),oe.return=pe,pe=oe):(Te=ml(ye.type,ye.key,ye.props,null,pe.mode,Te),Te.ref=ba(pe,oe,ye),Te.return=pe,pe=Te)}return C(pe);case re:e:{for(We=ye.key;oe!==null;){if(oe.key===We)if(oe.tag===4&&oe.stateNode.containerInfo===ye.containerInfo&&oe.stateNode.implementation===ye.implementation){a(pe,oe.sibling),oe=h(oe,ye.children||[]),oe.return=pe,pe=oe;break e}else{a(pe,oe);break}else i(pe,oe);oe=oe.sibling}oe=Td(ye,pe.mode,Te),oe.return=pe,pe=oe}return C(pe);case ne:return We=ye._init,jt(pe,oe,We(ye._payload),Te)}if(P(ye))return Fe(pe,oe,ye,Te);if(_e(ye))return $e(pe,oe,ye,Te);Wo(pe,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"?(ye=""+ye,oe!==null&&oe.tag===6?(a(pe,oe.sibling),oe=h(oe,ye),oe.return=pe,pe=oe):(a(pe,oe),oe=Ad(ye,pe.mode,Te),oe.return=pe,pe=oe),C(pe)):a(pe,oe)}return jt}var xs=Eh(!0),kh=Eh(!1),Ko=qn(null),Lo=null,ws=null,Iu=null;function $u(){Iu=ws=Lo=null}function zu(t){var i=Ko.current;mt(Ko),t._currentValue=i}function Vu(t,i,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===a)break;t=t.return}}function vs(t,i){Lo=t,Iu=ws=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&i)!==0&&(dr=!0),t.firstContext=null)}function jr(t){var i=t._currentValue;if(Iu!==t)if(t={context:t,memoizedValue:i,next:null},ws===null){if(Lo===null)throw Error(n(308));ws=t,Lo.dependencies={lanes:0,firstContext:t}}else ws=ws.next=t;return i}var Ti=null;function Hu(t){Ti===null?Ti=[t]:Ti.push(t)}function Sh(t,i,a,c){var h=i.interleaved;return h===null?(a.next=a,Hu(i)):(a.next=h.next,h.next=a),i.interleaved=a,gn(t,c)}function gn(t,i){t.lanes|=i;var a=t.alternate;for(a!==null&&(a.lanes|=i),a=t,t=t.return;t!==null;)t.childLanes|=i,a=t.alternate,a!==null&&(a.childLanes|=i),a=t,t=t.return;return a.tag===3?a.stateNode:null}var Kn=!1;function qu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jh(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yn(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function Ln(t,i,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(st&2)!==0){var h=c.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),c.pending=i,gn(t,a)}return h=c.interleaved,h===null?(i.next=i,Hu(c)):(i.next=h.next,h.next=i),c.interleaved=i,gn(t,a)}function Yo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=t.pendingLanes,a|=c,i.lanes=a,nu(t,a)}}function Ah(t,i){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,x=null;if(a=a.firstBaseUpdate,a!==null){do{var C={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};x===null?h=x=C:x=x.next=C,a=a.next}while(a!==null);x===null?h=x=i:x=x.next=i}else h=x=i;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:x,shared:c.shared,effects:c.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}function Zo(t,i,a,c){var h=t.updateQueue;Kn=!1;var x=h.firstBaseUpdate,C=h.lastBaseUpdate,Y=h.shared.pending;if(Y!==null){h.shared.pending=null;var te=Y,ve=te.next;te.next=null,C===null?x=ve:C.next=ve,C=te;var Se=t.alternate;Se!==null&&(Se=Se.updateQueue,Y=Se.lastBaseUpdate,Y!==C&&(Y===null?Se.firstBaseUpdate=ve:Y.next=ve,Se.lastBaseUpdate=te))}if(x!==null){var Ae=h.baseState;C=0,Se=ve=te=null,Y=x;do{var ke=Y.lane,Me=Y.eventTime;if((c&ke)===ke){Se!==null&&(Se=Se.next={eventTime:Me,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var Fe=t,$e=Y;switch(ke=i,Me=a,$e.tag){case 1:if(Fe=$e.payload,typeof Fe=="function"){Ae=Fe.call(Me,Ae,ke);break e}Ae=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=$e.payload,ke=typeof Fe=="function"?Fe.call(Me,Ae,ke):Fe,ke==null)break e;Ae=Ee({},Ae,ke);break e;case 2:Kn=!0}}Y.callback!==null&&Y.lane!==0&&(t.flags|=64,ke=h.effects,ke===null?h.effects=[Y]:ke.push(Y))}else Me={eventTime:Me,lane:ke,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Se===null?(ve=Se=Me,te=Ae):Se=Se.next=Me,C|=ke;if(Y=Y.next,Y===null){if(Y=h.shared.pending,Y===null)break;ke=Y,Y=ke.next,ke.next=null,h.lastBaseUpdate=ke,h.shared.pending=null}}while(!0);if(Se===null&&(te=Ae),h.baseState=te,h.firstBaseUpdate=ve,h.lastBaseUpdate=Se,i=h.shared.interleaved,i!==null){h=i;do C|=h.lane,h=h.next;while(h!==i)}else x===null&&(h.shared.lanes=0);Ri|=C,t.lanes=C,t.memoizedState=Ae}}function Th(t,i,a){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var c=t[i],h=c.callback;if(h!==null){if(c.callback=null,c=a,typeof h!="function")throw Error(n(191,h));h.call(c)}}}var _a={},Xr=qn(_a),Na=qn(_a),Ea=qn(_a);function Ci(t){if(t===_a)throw Error(n(174));return t}function Gu(t,i){switch(ht(Ea,i),ht(Na,t),ht(Xr,_a),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:A(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=A(i,t)}mt(Xr),ht(Xr,i)}function bs(){mt(Xr),mt(Na),mt(Ea)}function Ch(t){Ci(Ea.current);var i=Ci(Xr.current),a=A(i,t.type);i!==a&&(ht(Na,t),ht(Xr,a))}function Wu(t){Na.current===t&&(mt(Xr),mt(Na))}var vt=qn(0);function Qo(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ku=[];function Lu(){for(var t=0;t<Ku.length;t++)Ku[t]._workInProgressVersionPrimary=null;Ku.length=0}var Do=ue.ReactCurrentDispatcher,Yu=ue.ReactCurrentBatchConfig,Bi=0,bt=null,Rt=null,Ut=null,Xo=!1,ka=!1,Sa=0,ow=0;function Yt(){throw Error(n(321))}function Zu(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Ur(t[a],i[a]))return!1;return!0}function Qu(t,i,a,c,h,x){if(Bi=x,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Do.current=t===null||t.memoizedState===null?dw:fw,t=a(c,h),ka){x=0;do{if(ka=!1,Sa=0,25<=x)throw Error(n(301));x+=1,Ut=Rt=null,i.updateQueue=null,Do.current=hw,t=a(c,h)}while(ka)}if(Do.current=tl,i=Rt!==null&&Rt.next!==null,Bi=0,Ut=Rt=bt=null,Xo=!1,i)throw Error(n(300));return t}function Du(){var t=Sa!==0;return Sa=0,t}function Jr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?bt.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function Ar(){if(Rt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Rt.next;var i=Ut===null?bt.memoizedState:Ut.next;if(i!==null)Ut=i,Rt=t;else{if(t===null)throw Error(n(310));Rt=t,t={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Ut===null?bt.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function ja(t,i){return typeof i=="function"?i(t):i}function Xu(t){var i=Ar(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var c=Rt,h=c.baseQueue,x=a.pending;if(x!==null){if(h!==null){var C=h.next;h.next=x.next,x.next=C}c.baseQueue=h=x,a.pending=null}if(h!==null){x=h.next,c=c.baseState;var Y=C=null,te=null,ve=x;do{var Se=ve.lane;if((Bi&Se)===Se)te!==null&&(te=te.next={lane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),c=ve.hasEagerState?ve.eagerState:t(c,ve.action);else{var Ae={lane:Se,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null};te===null?(Y=te=Ae,C=c):te=te.next=Ae,bt.lanes|=Se,Ri|=Se}ve=ve.next}while(ve!==null&&ve!==x);te===null?C=c:te.next=Y,Ur(c,i.memoizedState)||(dr=!0),i.memoizedState=c,i.baseState=C,i.baseQueue=te,a.lastRenderedState=c}if(t=a.interleaved,t!==null){h=t;do x=h.lane,bt.lanes|=x,Ri|=x,h=h.next;while(h!==t)}else h===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Ju(t){var i=Ar(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var c=a.dispatch,h=a.pending,x=i.memoizedState;if(h!==null){a.pending=null;var C=h=h.next;do x=t(x,C.action),C=C.next;while(C!==h);Ur(x,i.memoizedState)||(dr=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),a.lastRenderedState=x}return[x,c]}function Bh(){}function Rh(t,i){var a=bt,c=Ar(),h=i(),x=!Ur(c.memoizedState,h);if(x&&(c.memoizedState=h,dr=!0),c=c.queue,ed(Oh.bind(null,a,c,t),[t]),c.getSnapshot!==i||x||Ut!==null&&Ut.memoizedState.tag&1){if(a.flags|=2048,Aa(9,Mh.bind(null,a,c,h,i),void 0,null),Ft===null)throw Error(n(349));(Bi&30)!==0||Ph(a,i,h)}return h}function Ph(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=bt.updateQueue,i===null?(i={lastEffect:null,stores:null},bt.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Mh(t,i,a,c){i.value=a,i.getSnapshot=c,Uh(i)&&Fh(t)}function Oh(t,i,a){return a(function(){Uh(i)&&Fh(t)})}function Uh(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Ur(t,a)}catch{return!0}}function Fh(t){var i=gn(t,1);i!==null&&Vr(i,t,1,-1)}function Ih(t){var i=Jr();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:t},i.queue=t,t=t.dispatch=uw.bind(null,bt,t),[i.memoizedState,t]}function Aa(t,i,a,c){return t={tag:t,create:i,destroy:a,deps:c,next:null},i=bt.updateQueue,i===null?(i={lastEffect:null,stores:null},bt.updateQueue=i,i.lastEffect=t.next=t):(a=i.lastEffect,a===null?i.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,i.lastEffect=t)),t}function $h(){return Ar().memoizedState}function Jo(t,i,a,c){var h=Jr();bt.flags|=t,h.memoizedState=Aa(1|i,a,void 0,c===void 0?null:c)}function el(t,i,a,c){var h=Ar();c=c===void 0?null:c;var x=void 0;if(Rt!==null){var C=Rt.memoizedState;if(x=C.destroy,c!==null&&Zu(c,C.deps)){h.memoizedState=Aa(i,a,x,c);return}}bt.flags|=t,h.memoizedState=Aa(1|i,a,x,c)}function zh(t,i){return Jo(8390656,8,t,i)}function ed(t,i){return el(2048,8,t,i)}function Vh(t,i){return el(4,2,t,i)}function Hh(t,i){return el(4,4,t,i)}function qh(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Gh(t,i,a){return a=a!=null?a.concat([t]):null,el(4,4,qh.bind(null,i,t),a)}function td(){}function Wh(t,i){var a=Ar();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Zu(i,c[1])?c[0]:(a.memoizedState=[t,i],t)}function Kh(t,i){var a=Ar();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Zu(i,c[1])?c[0]:(t=t(),a.memoizedState=[t,i],t)}function Lh(t,i,a){return(Bi&21)===0?(t.baseState&&(t.baseState=!1,dr=!0),t.memoizedState=a):(Ur(a,i)||(a=N0(),bt.lanes|=a,Ri|=a,t.baseState=!0),i)}function lw(t,i){var a=ut;ut=a!==0&&4>a?a:4,t(!0);var c=Yu.transition;Yu.transition={};try{t(!1),i()}finally{ut=a,Yu.transition=c}}function Yh(){return Ar().memoizedState}function cw(t,i,a){var c=Dn(t);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Zh(t))Qh(i,a);else if(a=Sh(t,i,a,c),a!==null){var h=nr();Vr(a,t,c,h),Dh(a,i,c)}}function uw(t,i,a){var c=Dn(t),h={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zh(t))Qh(i,h);else{var x=t.alternate;if(t.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var C=i.lastRenderedState,Y=x(C,a);if(h.hasEagerState=!0,h.eagerState=Y,Ur(Y,C)){var te=i.interleaved;te===null?(h.next=h,Hu(i)):(h.next=te.next,te.next=h),i.interleaved=h;return}}catch{}finally{}a=Sh(t,i,h,c),a!==null&&(h=nr(),Vr(a,t,c,h),Dh(a,i,c))}}function Zh(t){var i=t.alternate;return t===bt||i!==null&&i===bt}function Qh(t,i){ka=Xo=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Dh(t,i,a){if((a&4194240)!==0){var c=i.lanes;c&=t.pendingLanes,a|=c,i.lanes=a,nu(t,a)}}var tl={readContext:jr,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},dw={readContext:jr,useCallback:function(t,i){return Jr().memoizedState=[t,i===void 0?null:i],t},useContext:jr,useEffect:zh,useImperativeHandle:function(t,i,a){return a=a!=null?a.concat([t]):null,Jo(4194308,4,qh.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Jo(4194308,4,t,i)},useInsertionEffect:function(t,i){return Jo(4,2,t,i)},useMemo:function(t,i){var a=Jr();return i=i===void 0?null:i,t=t(),a.memoizedState=[t,i],t},useReducer:function(t,i,a){var c=Jr();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},c.queue=t,t=t.dispatch=cw.bind(null,bt,t),[c.memoizedState,t]},useRef:function(t){var i=Jr();return t={current:t},i.memoizedState=t},useState:Ih,useDebugValue:td,useDeferredValue:function(t){return Jr().memoizedState=t},useTransition:function(){var t=Ih(!1),i=t[0];return t=lw.bind(null,t[1]),Jr().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,a){var c=bt,h=Jr();if(xt){if(a===void 0)throw Error(n(407));a=a()}else{if(a=i(),Ft===null)throw Error(n(349));(Bi&30)!==0||Ph(c,i,a)}h.memoizedState=a;var x={value:a,getSnapshot:i};return h.queue=x,zh(Oh.bind(null,c,x,t),[t]),c.flags|=2048,Aa(9,Mh.bind(null,c,x,a,i),void 0,null),a},useId:function(){var t=Jr(),i=Ft.identifierPrefix;if(xt){var a=mn,c=pn;a=(c&~(1<<32-Or(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=Sa++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=ow++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},fw={readContext:jr,useCallback:Wh,useContext:jr,useEffect:ed,useImperativeHandle:Gh,useInsertionEffect:Vh,useLayoutEffect:Hh,useMemo:Kh,useReducer:Xu,useRef:$h,useState:function(){return Xu(ja)},useDebugValue:td,useDeferredValue:function(t){var i=Ar();return Lh(i,Rt.memoizedState,t)},useTransition:function(){var t=Xu(ja)[0],i=Ar().memoizedState;return[t,i]},useMutableSource:Bh,useSyncExternalStore:Rh,useId:Yh,unstable_isNewReconciler:!1},hw={readContext:jr,useCallback:Wh,useContext:jr,useEffect:ed,useImperativeHandle:Gh,useInsertionEffect:Vh,useLayoutEffect:Hh,useMemo:Kh,useReducer:Ju,useRef:$h,useState:function(){return Ju(ja)},useDebugValue:td,useDeferredValue:function(t){var i=Ar();return Rt===null?i.memoizedState=t:Lh(i,Rt.memoizedState,t)},useTransition:function(){var t=Ju(ja)[0],i=Ar().memoizedState;return[t,i]},useMutableSource:Bh,useSyncExternalStore:Rh,useId:Yh,unstable_isNewReconciler:!1};function Ir(t,i){if(t&&t.defaultProps){i=Ee({},i),t=t.defaultProps;for(var a in t)i[a]===void 0&&(i[a]=t[a]);return i}return i}function rd(t,i,a,c){i=t.memoizedState,a=a(c,i),a=a==null?i:Ee({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var rl={isMounted:function(t){return(t=t._reactInternals)?dn(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var c=nr(),h=Dn(t),x=yn(c,h);x.payload=i,a!=null&&(x.callback=a),i=Ln(t,x,h),i!==null&&(Vr(i,t,h,c),Yo(i,t,h))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var c=nr(),h=Dn(t),x=yn(c,h);x.tag=1,x.payload=i,a!=null&&(x.callback=a),i=Ln(t,x,h),i!==null&&(Vr(i,t,h,c),Yo(i,t,h))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=nr(),c=Dn(t),h=yn(a,c);h.tag=2,i!=null&&(h.callback=i),i=Ln(t,h,c),i!==null&&(Vr(i,t,c,a),Yo(i,t,c))}};function Xh(t,i,a,c,h,x,C){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,x,C):i.prototype&&i.prototype.isPureReactComponent?!pa(a,c)||!pa(h,x):!0}function Jh(t,i,a){var c=!1,h=Gn,x=i.contextType;return typeof x=="object"&&x!==null?x=jr(x):(h=ur(i)?Si:Lt.current,c=i.contextTypes,x=(c=c!=null)?ps(t,h):Gn),i=new i(a,x),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=rl,t.stateNode=i,i._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=x),i}function ep(t,i,a,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==t&&rl.enqueueReplaceState(i,i.state,null)}function nd(t,i,a,c){var h=t.stateNode;h.props=a,h.state=t.memoizedState,h.refs={},qu(t);var x=i.contextType;typeof x=="object"&&x!==null?h.context=jr(x):(x=ur(i)?Si:Lt.current,h.context=ps(t,x)),h.state=t.memoizedState,x=i.getDerivedStateFromProps,typeof x=="function"&&(rd(t,i,x,a),h.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(i=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),i!==h.state&&rl.enqueueReplaceState(h,h.state,null),Zo(t,a,h,c),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function _s(t,i){try{var a="",c=i;do a+=Pe(c),c=c.return;while(c);var h=a}catch(x){h=`
Error generating stack: `+x.message+`
`+x.stack}return{value:t,source:i,stack:h,digest:null}}function id(t,i,a){return{value:t,source:null,stack:a??null,digest:i??null}}function sd(t,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var pw=typeof WeakMap=="function"?WeakMap:Map;function tp(t,i,a){a=yn(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){cl||(cl=!0,vd=c),sd(t,i)},a}function rp(t,i,a){a=yn(-1,a),a.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var h=i.value;a.payload=function(){return c(h)},a.callback=function(){sd(t,i)}}var x=t.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(a.callback=function(){sd(t,i),typeof c!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var C=i.stack;this.componentDidCatch(i.value,{componentStack:C!==null?C:""})}),a}function np(t,i,a){var c=t.pingCache;if(c===null){c=t.pingCache=new pw;var h=new Set;c.set(i,h)}else h=c.get(i),h===void 0&&(h=new Set,c.set(i,h));h.has(a)||(h.add(a),t=Aw.bind(null,t,i,a),i.then(t,t))}function ip(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function sp(t,i,a,c,h){return(t.mode&1)===0?(t===i?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=yn(-1,1),i.tag=2,Ln(a,i,1))),a.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var mw=ue.ReactCurrentOwner,dr=!1;function rr(t,i,a,c){i.child=t===null?kh(i,null,a,c):xs(i,t.child,a,c)}function ap(t,i,a,c,h){a=a.render;var x=i.ref;return vs(i,h),c=Qu(t,i,a,c,x,h),a=Du(),t!==null&&!dr?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~h,xn(t,i,h)):(xt&&a&&Pu(i),i.flags|=1,rr(t,i,c,h),i.child)}function op(t,i,a,c,h){if(t===null){var x=a.type;return typeof x=="function"&&!jd(x)&&x.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=x,lp(t,i,x,c,h)):(t=ml(a.type,null,c,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(x=t.child,(t.lanes&h)===0){var C=x.memoizedProps;if(a=a.compare,a=a!==null?a:pa,a(C,c)&&t.ref===i.ref)return xn(t,i,h)}return i.flags|=1,t=Jn(x,c),t.ref=i.ref,t.return=i,i.child=t}function lp(t,i,a,c,h){if(t!==null){var x=t.memoizedProps;if(pa(x,c)&&t.ref===i.ref)if(dr=!1,i.pendingProps=c=x,(t.lanes&h)!==0)(t.flags&131072)!==0&&(dr=!0);else return i.lanes=t.lanes,xn(t,i,h)}return ad(t,i,a,c,h)}function cp(t,i,a){var c=i.pendingProps,h=c.children,x=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(Es,_r),_r|=a;else{if((a&1073741824)===0)return t=x!==null?x.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,ht(Es,_r),_r|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=x!==null?x.baseLanes:a,ht(Es,_r),_r|=c}else x!==null?(c=x.baseLanes|a,i.memoizedState=null):c=a,ht(Es,_r),_r|=c;return rr(t,i,h,a),i.child}function up(t,i){var a=i.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function ad(t,i,a,c,h){var x=ur(a)?Si:Lt.current;return x=ps(i,x),vs(i,h),a=Qu(t,i,a,c,x,h),c=Du(),t!==null&&!dr?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~h,xn(t,i,h)):(xt&&c&&Pu(i),i.flags|=1,rr(t,i,a,h),i.child)}function dp(t,i,a,c,h){if(ur(a)){var x=!0;zo(i)}else x=!1;if(vs(i,h),i.stateNode===null)il(t,i),Jh(i,a,c),nd(i,a,c,h),c=!0;else if(t===null){var C=i.stateNode,Y=i.memoizedProps;C.props=Y;var te=C.context,ve=a.contextType;typeof ve=="object"&&ve!==null?ve=jr(ve):(ve=ur(a)?Si:Lt.current,ve=ps(i,ve));var Se=a.getDerivedStateFromProps,Ae=typeof Se=="function"||typeof C.getSnapshotBeforeUpdate=="function";Ae||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(Y!==c||te!==ve)&&ep(i,C,c,ve),Kn=!1;var ke=i.memoizedState;C.state=ke,Zo(i,c,C,h),te=i.memoizedState,Y!==c||ke!==te||cr.current||Kn?(typeof Se=="function"&&(rd(i,a,Se,c),te=i.memoizedState),(Y=Kn||Xh(i,a,Y,c,ke,te,ve))?(Ae||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(i.flags|=4194308)):(typeof C.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=te),C.props=c,C.state=te,C.context=ve,c=Y):(typeof C.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{C=i.stateNode,jh(t,i),Y=i.memoizedProps,ve=i.type===i.elementType?Y:Ir(i.type,Y),C.props=ve,Ae=i.pendingProps,ke=C.context,te=a.contextType,typeof te=="object"&&te!==null?te=jr(te):(te=ur(a)?Si:Lt.current,te=ps(i,te));var Me=a.getDerivedStateFromProps;(Se=typeof Me=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(Y!==Ae||ke!==te)&&ep(i,C,c,te),Kn=!1,ke=i.memoizedState,C.state=ke,Zo(i,c,C,h);var Fe=i.memoizedState;Y!==Ae||ke!==Fe||cr.current||Kn?(typeof Me=="function"&&(rd(i,a,Me,c),Fe=i.memoizedState),(ve=Kn||Xh(i,a,ve,c,ke,Fe,te)||!1)?(Se||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(c,Fe,te),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(c,Fe,te)),typeof C.componentDidUpdate=="function"&&(i.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof C.componentDidUpdate!="function"||Y===t.memoizedProps&&ke===t.memoizedState||(i.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||Y===t.memoizedProps&&ke===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=Fe),C.props=c,C.state=Fe,C.context=te,c=ve):(typeof C.componentDidUpdate!="function"||Y===t.memoizedProps&&ke===t.memoizedState||(i.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||Y===t.memoizedProps&&ke===t.memoizedState||(i.flags|=1024),c=!1)}return od(t,i,a,c,x,h)}function od(t,i,a,c,h,x){up(t,i);var C=(i.flags&128)!==0;if(!c&&!C)return h&&gh(i,a,!1),xn(t,i,x);c=i.stateNode,mw.current=i;var Y=C&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,t!==null&&C?(i.child=xs(i,t.child,null,x),i.child=xs(i,null,Y,x)):rr(t,i,Y,x),i.memoizedState=c.state,h&&gh(i,a,!0),i.child}function fp(t){var i=t.stateNode;i.pendingContext?ph(t,i.pendingContext,i.pendingContext!==i.context):i.context&&ph(t,i.context,!1),Gu(t,i.containerInfo)}function hp(t,i,a,c,h){return ys(),Fu(h),i.flags|=256,rr(t,i,a,c),i.child}var ld={dehydrated:null,treeContext:null,retryLane:0};function cd(t){return{baseLanes:t,cachePool:null,transitions:null}}function pp(t,i,a){var c=i.pendingProps,h=vt.current,x=!1,C=(i.flags&128)!==0,Y;if((Y=C)||(Y=t!==null&&t.memoizedState===null?!1:(h&2)!==0),Y?(x=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),ht(vt,h&1),t===null)return Uu(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((i.mode&1)===0?i.lanes=1:t.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(C=c.children,t=c.fallback,x?(c=i.mode,x=i.child,C={mode:"hidden",children:C},(c&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=C):x=gl(C,c,0,null),t=Ui(t,c,a,null),x.return=i,t.return=i,x.sibling=t,i.child=x,i.child.memoizedState=cd(a),i.memoizedState=ld,t):ud(i,C));if(h=t.memoizedState,h!==null&&(Y=h.dehydrated,Y!==null))return gw(t,i,C,c,Y,h,a);if(x){x=c.fallback,C=i.mode,h=t.child,Y=h.sibling;var te={mode:"hidden",children:c.children};return(C&1)===0&&i.child!==h?(c=i.child,c.childLanes=0,c.pendingProps=te,i.deletions=null):(c=Jn(h,te),c.subtreeFlags=h.subtreeFlags&14680064),Y!==null?x=Jn(Y,x):(x=Ui(x,C,a,null),x.flags|=2),x.return=i,c.return=i,c.sibling=x,i.child=c,c=x,x=i.child,C=t.child.memoizedState,C=C===null?cd(a):{baseLanes:C.baseLanes|a,cachePool:null,transitions:C.transitions},x.memoizedState=C,x.childLanes=t.childLanes&~a,i.memoizedState=ld,c}return x=t.child,t=x.sibling,c=Jn(x,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,t!==null&&(a=i.deletions,a===null?(i.deletions=[t],i.flags|=16):a.push(t)),i.child=c,i.memoizedState=null,c}function ud(t,i){return i=gl({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function nl(t,i,a,c){return c!==null&&Fu(c),xs(i,t.child,null,a),t=ud(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function gw(t,i,a,c,h,x,C){if(a)return i.flags&256?(i.flags&=-257,c=id(Error(n(422))),nl(t,i,C,c)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(x=c.fallback,h=i.mode,c=gl({mode:"visible",children:c.children},h,0,null),x=Ui(x,h,C,null),x.flags|=2,c.return=i,x.return=i,c.sibling=x,i.child=c,(i.mode&1)!==0&&xs(i,t.child,null,C),i.child.memoizedState=cd(C),i.memoizedState=ld,x);if((i.mode&1)===0)return nl(t,i,C,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var Y=c.dgst;return c=Y,x=Error(n(419)),c=id(x,c,void 0),nl(t,i,C,c)}if(Y=(C&t.childLanes)!==0,dr||Y){if(c=Ft,c!==null){switch(C&-C){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|C))!==0?0:h,h!==0&&h!==x.retryLane&&(x.retryLane=h,gn(t,h),Vr(c,t,h,-1))}return Sd(),c=id(Error(n(421))),nl(t,i,C,c)}return h.data==="$?"?(i.flags|=128,i.child=t.child,i=Tw.bind(null,t),h._reactRetry=i,null):(t=x.treeContext,br=Hn(h.nextSibling),vr=i,xt=!0,Fr=null,t!==null&&(kr[Sr++]=pn,kr[Sr++]=mn,kr[Sr++]=ji,pn=t.id,mn=t.overflow,ji=i),i=ud(i,c.children),i.flags|=4096,i)}function mp(t,i,a){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),Vu(t.return,i,a)}function dd(t,i,a,c,h){var x=t.memoizedState;x===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=a,x.tailMode=h)}function gp(t,i,a){var c=i.pendingProps,h=c.revealOrder,x=c.tail;if(rr(t,i,c.children,a),c=vt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mp(t,a,i);else if(t.tag===19)mp(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(ht(vt,c),(i.mode&1)===0)i.memoizedState=null;else switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Qo(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),dd(i,!1,h,a,x);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Qo(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}dd(i,!0,a,null,x);break;case"together":dd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function il(t,i){(i.mode&1)===0&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function xn(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ri|=i.lanes,(a&i.childLanes)===0)return null;if(t!==null&&i.child!==t.child)throw Error(n(153));if(i.child!==null){for(t=i.child,a=Jn(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Jn(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function yw(t,i,a){switch(i.tag){case 3:fp(i),ys();break;case 5:Ch(i);break;case 1:ur(i.type)&&zo(i);break;case 4:Gu(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,h=i.memoizedProps.value;ht(Ko,c._currentValue),c._currentValue=h;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(ht(vt,vt.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?pp(t,i,a):(ht(vt,vt.current&1),t=xn(t,i,a),t!==null?t.sibling:null);ht(vt,vt.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(t.flags&128)!==0){if(c)return gp(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ht(vt,vt.current),c)break;return null;case 22:case 23:return i.lanes=0,cp(t,i,a)}return xn(t,i,a)}var yp,fd,xp,wp;yp=function(t,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},fd=function(){},xp=function(t,i,a,c){var h=t.memoizedProps;if(h!==c){t=i.stateNode,Ci(Xr.current);var x=null;switch(a){case"input":h=D(t,h),c=D(t,c),x=[];break;case"select":h=Ee({},h,{value:void 0}),c=Ee({},c,{value:void 0}),x=[];break;case"textarea":h=he(t,h),c=he(t,c),x=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=Fo)}Ye(a,c);var C;a=null;for(ve in h)if(!c.hasOwnProperty(ve)&&h.hasOwnProperty(ve)&&h[ve]!=null)if(ve==="style"){var Y=h[ve];for(C in Y)Y.hasOwnProperty(C)&&(a||(a={}),a[C]="")}else ve!=="dangerouslySetInnerHTML"&&ve!=="children"&&ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&ve!=="autoFocus"&&(o.hasOwnProperty(ve)?x||(x=[]):(x=x||[]).push(ve,null));for(ve in c){var te=c[ve];if(Y=h!=null?h[ve]:void 0,c.hasOwnProperty(ve)&&te!==Y&&(te!=null||Y!=null))if(ve==="style")if(Y){for(C in Y)!Y.hasOwnProperty(C)||te&&te.hasOwnProperty(C)||(a||(a={}),a[C]="");for(C in te)te.hasOwnProperty(C)&&Y[C]!==te[C]&&(a||(a={}),a[C]=te[C])}else a||(x||(x=[]),x.push(ve,a)),a=te;else ve==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,Y=Y?Y.__html:void 0,te!=null&&Y!==te&&(x=x||[]).push(ve,te)):ve==="children"?typeof te!="string"&&typeof te!="number"||(x=x||[]).push(ve,""+te):ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&(o.hasOwnProperty(ve)?(te!=null&&ve==="onScroll"&&pt("scroll",t),x||Y===te||(x=[])):(x=x||[]).push(ve,te))}a&&(x=x||[]).push("style",a);var ve=x;(i.updateQueue=ve)&&(i.flags|=4)}},wp=function(t,i,a,c){a!==c&&(i.flags|=4)};function Ta(t,i){if(!xt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Zt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=c,t.childLanes=a,i}function xw(t,i,a){var c=i.pendingProps;switch(Mu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(i),null;case 1:return ur(i.type)&&$o(),Zt(i),null;case 3:return c=i.stateNode,bs(),mt(cr),mt(Lt),Lu(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(Go(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Fr!==null&&(Nd(Fr),Fr=null))),fd(t,i),Zt(i),null;case 5:Wu(i);var h=Ci(Ea.current);if(a=i.type,t!==null&&i.stateNode!=null)xp(t,i,a,c,h),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(n(166));return Zt(i),null}if(t=Ci(Xr.current),Go(i)){c=i.stateNode,a=i.type;var x=i.memoizedProps;switch(c[Dr]=i,c[wa]=x,t=(i.mode&1)!==0,a){case"dialog":pt("cancel",c),pt("close",c);break;case"iframe":case"object":case"embed":pt("load",c);break;case"video":case"audio":for(h=0;h<ga.length;h++)pt(ga[h],c);break;case"source":pt("error",c);break;case"img":case"image":case"link":pt("error",c),pt("load",c);break;case"details":pt("toggle",c);break;case"input":ie(c,x),pt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!x.multiple},pt("invalid",c);break;case"textarea":je(c,x),pt("invalid",c)}Ye(a,x),h=null;for(var C in x)if(x.hasOwnProperty(C)){var Y=x[C];C==="children"?typeof Y=="string"?c.textContent!==Y&&(x.suppressHydrationWarning!==!0&&Uo(c.textContent,Y,t),h=["children",Y]):typeof Y=="number"&&c.textContent!==""+Y&&(x.suppressHydrationWarning!==!0&&Uo(c.textContent,Y,t),h=["children",""+Y]):o.hasOwnProperty(C)&&Y!=null&&C==="onScroll"&&pt("scroll",c)}switch(a){case"input":U(c),m(c,x,!0);break;case"textarea":U(c),Ie(c);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(c.onclick=Fo)}c=h,i.updateQueue=c,c!==null&&(i.flags|=4)}else{C=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Qe(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=C.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=C.createElement(a,{is:c.is}):(t=C.createElement(a),a==="select"&&(C=t,c.multiple?C.multiple=!0:c.size&&(C.size=c.size))):t=C.createElementNS(t,a),t[Dr]=i,t[wa]=c,yp(t,i,!1,!1),i.stateNode=t;e:{switch(C=Ge(a,c),a){case"dialog":pt("cancel",t),pt("close",t),h=c;break;case"iframe":case"object":case"embed":pt("load",t),h=c;break;case"video":case"audio":for(h=0;h<ga.length;h++)pt(ga[h],t);h=c;break;case"source":pt("error",t),h=c;break;case"img":case"image":case"link":pt("error",t),pt("load",t),h=c;break;case"details":pt("toggle",t),h=c;break;case"input":ie(t,c),h=D(t,c),pt("invalid",t);break;case"option":h=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},h=Ee({},c,{value:void 0}),pt("invalid",t);break;case"textarea":je(t,c),h=he(t,c),pt("invalid",t);break;default:h=c}Ye(a,h),Y=h;for(x in Y)if(Y.hasOwnProperty(x)){var te=Y[x];x==="style"?Le(t,te):x==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,te!=null&&v(t,te)):x==="children"?typeof te=="string"?(a!=="textarea"||te!=="")&&V(t,te):typeof te=="number"&&V(t,""+te):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?te!=null&&x==="onScroll"&&pt("scroll",t):te!=null&&J(t,x,te,C))}switch(a){case"input":U(t),m(t,c,!1);break;case"textarea":U(t),Ie(t);break;case"option":c.value!=null&&t.setAttribute("value",""+me(c.value));break;case"select":t.multiple=!!c.multiple,x=c.value,x!=null?Q(t,!!c.multiple,x,!1):c.defaultValue!=null&&Q(t,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Fo)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Zt(i),null;case 6:if(t&&i.stateNode!=null)wp(t,i,t.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(n(166));if(a=Ci(Ea.current),Ci(Xr.current),Go(i)){if(c=i.stateNode,a=i.memoizedProps,c[Dr]=i,(x=c.nodeValue!==a)&&(t=vr,t!==null))switch(t.tag){case 3:Uo(c.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Uo(c.nodeValue,a,(t.mode&1)!==0)}x&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Dr]=i,i.stateNode=c}return Zt(i),null;case 13:if(mt(vt),c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xt&&br!==null&&(i.mode&1)!==0&&(i.flags&128)===0)_h(),ys(),i.flags|=98560,x=!1;else if(x=Go(i),c!==null&&c.dehydrated!==null){if(t===null){if(!x)throw Error(n(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Dr]=i}else ys(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Zt(i),x=!1}else Fr!==null&&(Nd(Fr),Fr=null),x=!0;if(!x)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(t===null||(vt.current&1)!==0?Pt===0&&(Pt=3):Sd())),i.updateQueue!==null&&(i.flags|=4),Zt(i),null);case 4:return bs(),fd(t,i),t===null&&ya(i.stateNode.containerInfo),Zt(i),null;case 10:return zu(i.type._context),Zt(i),null;case 17:return ur(i.type)&&$o(),Zt(i),null;case 19:if(mt(vt),x=i.memoizedState,x===null)return Zt(i),null;if(c=(i.flags&128)!==0,C=x.rendering,C===null)if(c)Ta(x,!1);else{if(Pt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(C=Qo(t),C!==null){for(i.flags|=128,Ta(x,!1),c=C.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)x=a,t=c,x.flags&=14680066,C=x.alternate,C===null?(x.childLanes=0,x.lanes=t,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=C.childLanes,x.lanes=C.lanes,x.child=C.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=C.memoizedProps,x.memoizedState=C.memoizedState,x.updateQueue=C.updateQueue,x.type=C.type,t=C.dependencies,x.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return ht(vt,vt.current&1|2),i.child}t=t.sibling}x.tail!==null&&He()>ks&&(i.flags|=128,c=!0,Ta(x,!1),i.lanes=4194304)}else{if(!c)if(t=Qo(C),t!==null){if(i.flags|=128,c=!0,a=t.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Ta(x,!0),x.tail===null&&x.tailMode==="hidden"&&!C.alternate&&!xt)return Zt(i),null}else 2*He()-x.renderingStartTime>ks&&a!==1073741824&&(i.flags|=128,c=!0,Ta(x,!1),i.lanes=4194304);x.isBackwards?(C.sibling=i.child,i.child=C):(a=x.last,a!==null?a.sibling=C:i.child=C,x.last=C)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=He(),i.sibling=null,a=vt.current,ht(vt,c?a&1|2:a&1),i):(Zt(i),null);case 22:case 23:return kd(),c=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(_r&1073741824)!==0&&(Zt(i),i.subtreeFlags&6&&(i.flags|=8192)):Zt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function ww(t,i){switch(Mu(i),i.tag){case 1:return ur(i.type)&&$o(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return bs(),mt(cr),mt(Lt),Lu(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 5:return Wu(i),null;case 13:if(mt(vt),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(n(340));ys()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return mt(vt),null;case 4:return bs(),null;case 10:return zu(i.type._context),null;case 22:case 23:return kd(),null;case 24:return null;default:return null}}var sl=!1,Qt=!1,vw=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Ns(t,i){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Et(t,i,c)}else a.current=null}function hd(t,i,a){try{a()}catch(c){Et(t,i,c)}}var vp=!1;function bw(t,i){if(ku=ko,t=X0(),yu(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,x=c.focusNode;c=c.focusOffset;try{a.nodeType,x.nodeType}catch{a=null;break e}var C=0,Y=-1,te=-1,ve=0,Se=0,Ae=t,ke=null;t:for(;;){for(var Me;Ae!==a||h!==0&&Ae.nodeType!==3||(Y=C+h),Ae!==x||c!==0&&Ae.nodeType!==3||(te=C+c),Ae.nodeType===3&&(C+=Ae.nodeValue.length),(Me=Ae.firstChild)!==null;)ke=Ae,Ae=Me;for(;;){if(Ae===t)break t;if(ke===a&&++ve===h&&(Y=C),ke===x&&++Se===c&&(te=C),(Me=Ae.nextSibling)!==null)break;Ae=ke,ke=Ae.parentNode}Ae=Me}a=Y===-1||te===-1?null:{start:Y,end:te}}else a=null}a=a||{start:0,end:0}}else a=null;for(Su={focusedElem:t,selectionRange:a},ko=!1,Ue=i;Ue!==null;)if(i=Ue,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ue=t;else for(;Ue!==null;){i=Ue;try{var Fe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Fe!==null){var $e=Fe.memoizedProps,jt=Fe.memoizedState,pe=i.stateNode,oe=pe.getSnapshotBeforeUpdate(i.elementType===i.type?$e:Ir(i.type,$e),jt);pe.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var ye=i.stateNode.containerInfo;ye.nodeType===1?ye.textContent="":ye.nodeType===9&&ye.documentElement&&ye.removeChild(ye.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Te){Et(i,i.return,Te)}if(t=i.sibling,t!==null){t.return=i.return,Ue=t;break}Ue=i.return}return Fe=vp,vp=!1,Fe}function Ca(t,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&t)===t){var x=h.destroy;h.destroy=void 0,x!==void 0&&hd(i,a,x)}h=h.next}while(h!==c)}}function al(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&t)===t){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function pd(t){var i=t.ref;if(i!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof i=="function"?i(t):i.current=t}}function bp(t){var i=t.alternate;i!==null&&(t.alternate=null,bp(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[Dr],delete i[wa],delete i[Cu],delete i[nw],delete i[iw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _p(t){return t.tag===5||t.tag===3||t.tag===4}function Np(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_p(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function md(t,i,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fo));else if(c!==4&&(t=t.child,t!==null))for(md(t,i,a),t=t.sibling;t!==null;)md(t,i,a),t=t.sibling}function gd(t,i,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(gd(t,i,a),t=t.sibling;t!==null;)gd(t,i,a),t=t.sibling}var Vt=null,$r=!1;function Yn(t,i,a){for(a=a.child;a!==null;)Ep(t,i,a),a=a.sibling}function Ep(t,i,a){if(Qr&&typeof Qr.onCommitFiberUnmount=="function")try{Qr.onCommitFiberUnmount(wo,a)}catch{}switch(a.tag){case 5:Qt||Ns(a,i);case 6:var c=Vt,h=$r;Vt=null,Yn(t,i,a),Vt=c,$r=h,Vt!==null&&($r?(t=Vt,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):Vt.removeChild(a.stateNode));break;case 18:Vt!==null&&($r?(t=Vt,a=a.stateNode,t.nodeType===8?Tu(t.parentNode,a):t.nodeType===1&&Tu(t,a),la(t)):Tu(Vt,a.stateNode));break;case 4:c=Vt,h=$r,Vt=a.stateNode.containerInfo,$r=!0,Yn(t,i,a),Vt=c,$r=h;break;case 0:case 11:case 14:case 15:if(!Qt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var x=h,C=x.destroy;x=x.tag,C!==void 0&&((x&2)!==0||(x&4)!==0)&&hd(a,i,C),h=h.next}while(h!==c)}Yn(t,i,a);break;case 1:if(!Qt&&(Ns(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(Y){Et(a,i,Y)}Yn(t,i,a);break;case 21:Yn(t,i,a);break;case 22:a.mode&1?(Qt=(c=Qt)||a.memoizedState!==null,Yn(t,i,a),Qt=c):Yn(t,i,a);break;default:Yn(t,i,a)}}function kp(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new vw),i.forEach(function(c){var h=Cw.bind(null,t,c);a.has(c)||(a.add(c),c.then(h,h))})}}function zr(t,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];try{var x=t,C=i,Y=C;e:for(;Y!==null;){switch(Y.tag){case 5:Vt=Y.stateNode,$r=!1;break e;case 3:Vt=Y.stateNode.containerInfo,$r=!0;break e;case 4:Vt=Y.stateNode.containerInfo,$r=!0;break e}Y=Y.return}if(Vt===null)throw Error(n(160));Ep(x,C,h),Vt=null,$r=!1;var te=h.alternate;te!==null&&(te.return=null),h.return=null}catch(ve){Et(h,i,ve)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Sp(i,t),i=i.sibling}function Sp(t,i){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zr(i,t),en(t),c&4){try{Ca(3,t,t.return),al(3,t)}catch($e){Et(t,t.return,$e)}try{Ca(5,t,t.return)}catch($e){Et(t,t.return,$e)}}break;case 1:zr(i,t),en(t),c&512&&a!==null&&Ns(a,a.return);break;case 5:if(zr(i,t),en(t),c&512&&a!==null&&Ns(a,a.return),t.flags&32){var h=t.stateNode;try{V(h,"")}catch($e){Et(t,t.return,$e)}}if(c&4&&(h=t.stateNode,h!=null)){var x=t.memoizedProps,C=a!==null?a.memoizedProps:x,Y=t.type,te=t.updateQueue;if(t.updateQueue=null,te!==null)try{Y==="input"&&x.type==="radio"&&x.name!=null&&S(h,x),Ge(Y,C);var ve=Ge(Y,x);for(C=0;C<te.length;C+=2){var Se=te[C],Ae=te[C+1];Se==="style"?Le(h,Ae):Se==="dangerouslySetInnerHTML"?v(h,Ae):Se==="children"?V(h,Ae):J(h,Se,Ae,ve)}switch(Y){case"input":p(h,x);break;case"textarea":Oe(h,x);break;case"select":var ke=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!x.multiple;var Me=x.value;Me!=null?Q(h,!!x.multiple,Me,!1):ke!==!!x.multiple&&(x.defaultValue!=null?Q(h,!!x.multiple,x.defaultValue,!0):Q(h,!!x.multiple,x.multiple?[]:"",!1))}h[wa]=x}catch($e){Et(t,t.return,$e)}}break;case 6:if(zr(i,t),en(t),c&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,x=t.memoizedProps;try{h.nodeValue=x}catch($e){Et(t,t.return,$e)}}break;case 3:if(zr(i,t),en(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{la(i.containerInfo)}catch($e){Et(t,t.return,$e)}break;case 4:zr(i,t),en(t);break;case 13:zr(i,t),en(t),h=t.child,h.flags&8192&&(x=h.memoizedState!==null,h.stateNode.isHidden=x,!x||h.alternate!==null&&h.alternate.memoizedState!==null||(wd=He())),c&4&&kp(t);break;case 22:if(Se=a!==null&&a.memoizedState!==null,t.mode&1?(Qt=(ve=Qt)||Se,zr(i,t),Qt=ve):zr(i,t),en(t),c&8192){if(ve=t.memoizedState!==null,(t.stateNode.isHidden=ve)&&!Se&&(t.mode&1)!==0)for(Ue=t,Se=t.child;Se!==null;){for(Ae=Ue=Se;Ue!==null;){switch(ke=Ue,Me=ke.child,ke.tag){case 0:case 11:case 14:case 15:Ca(4,ke,ke.return);break;case 1:Ns(ke,ke.return);var Fe=ke.stateNode;if(typeof Fe.componentWillUnmount=="function"){c=ke,a=ke.return;try{i=c,Fe.props=i.memoizedProps,Fe.state=i.memoizedState,Fe.componentWillUnmount()}catch($e){Et(c,a,$e)}}break;case 5:Ns(ke,ke.return);break;case 22:if(ke.memoizedState!==null){Tp(Ae);continue}}Me!==null?(Me.return=ke,Ue=Me):Tp(Ae)}Se=Se.sibling}e:for(Se=null,Ae=t;;){if(Ae.tag===5){if(Se===null){Se=Ae;try{h=Ae.stateNode,ve?(x=h.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(Y=Ae.stateNode,te=Ae.memoizedProps.style,C=te!=null&&te.hasOwnProperty("display")?te.display:null,Y.style.display=xe("display",C))}catch($e){Et(t,t.return,$e)}}}else if(Ae.tag===6){if(Se===null)try{Ae.stateNode.nodeValue=ve?"":Ae.memoizedProps}catch($e){Et(t,t.return,$e)}}else if((Ae.tag!==22&&Ae.tag!==23||Ae.memoizedState===null||Ae===t)&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===t)break e;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===t)break e;Se===Ae&&(Se=null),Ae=Ae.return}Se===Ae&&(Se=null),Ae.sibling.return=Ae.return,Ae=Ae.sibling}}break;case 19:zr(i,t),en(t),c&4&&kp(t);break;case 21:break;default:zr(i,t),en(t)}}function en(t){var i=t.flags;if(i&2){try{e:{for(var a=t.return;a!==null;){if(_p(a)){var c=a;break e}a=a.return}throw Error(n(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(V(h,""),c.flags&=-33);var x=Np(t);gd(t,x,h);break;case 3:case 4:var C=c.stateNode.containerInfo,Y=Np(t);md(t,Y,C);break;default:throw Error(n(161))}}catch(te){Et(t,t.return,te)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function _w(t,i,a){Ue=t,jp(t)}function jp(t,i,a){for(var c=(t.mode&1)!==0;Ue!==null;){var h=Ue,x=h.child;if(h.tag===22&&c){var C=h.memoizedState!==null||sl;if(!C){var Y=h.alternate,te=Y!==null&&Y.memoizedState!==null||Qt;Y=sl;var ve=Qt;if(sl=C,(Qt=te)&&!ve)for(Ue=h;Ue!==null;)C=Ue,te=C.child,C.tag===22&&C.memoizedState!==null?Cp(h):te!==null?(te.return=C,Ue=te):Cp(h);for(;x!==null;)Ue=x,jp(x),x=x.sibling;Ue=h,sl=Y,Qt=ve}Ap(t)}else(h.subtreeFlags&8772)!==0&&x!==null?(x.return=h,Ue=x):Ap(t)}}function Ap(t){for(;Ue!==null;){var i=Ue;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Qt||al(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Qt)if(a===null)c.componentDidMount();else{var h=i.elementType===i.type?a.memoizedProps:Ir(i.type,a.memoizedProps);c.componentDidUpdate(h,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var x=i.updateQueue;x!==null&&Th(i,x,c);break;case 3:var C=i.updateQueue;if(C!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Th(i,C,a)}break;case 5:var Y=i.stateNode;if(a===null&&i.flags&4){a=Y;var te=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":te.autoFocus&&a.focus();break;case"img":te.src&&(a.src=te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ve=i.alternate;if(ve!==null){var Se=ve.memoizedState;if(Se!==null){var Ae=Se.dehydrated;Ae!==null&&la(Ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Qt||i.flags&512&&pd(i)}catch(ke){Et(i,i.return,ke)}}if(i===t){Ue=null;break}if(a=i.sibling,a!==null){a.return=i.return,Ue=a;break}Ue=i.return}}function Tp(t){for(;Ue!==null;){var i=Ue;if(i===t){Ue=null;break}var a=i.sibling;if(a!==null){a.return=i.return,Ue=a;break}Ue=i.return}}function Cp(t){for(;Ue!==null;){var i=Ue;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{al(4,i)}catch(te){Et(i,a,te)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var h=i.return;try{c.componentDidMount()}catch(te){Et(i,h,te)}}var x=i.return;try{pd(i)}catch(te){Et(i,x,te)}break;case 5:var C=i.return;try{pd(i)}catch(te){Et(i,C,te)}}}catch(te){Et(i,i.return,te)}if(i===t){Ue=null;break}var Y=i.sibling;if(Y!==null){Y.return=i.return,Ue=Y;break}Ue=i.return}}var Nw=Math.ceil,ol=ue.ReactCurrentDispatcher,yd=ue.ReactCurrentOwner,Tr=ue.ReactCurrentBatchConfig,st=0,Ft=null,Ct=null,Ht=0,_r=0,Es=qn(0),Pt=0,Ba=null,Ri=0,ll=0,xd=0,Ra=null,fr=null,wd=0,ks=1/0,wn=null,cl=!1,vd=null,Zn=null,ul=!1,Qn=null,dl=0,Pa=0,bd=null,fl=-1,hl=0;function nr(){return(st&6)!==0?He():fl!==-1?fl:fl=He()}function Dn(t){return(t.mode&1)===0?1:(st&2)!==0&&Ht!==0?Ht&-Ht:aw.transition!==null?(hl===0&&(hl=N0()),hl):(t=ut,t!==0||(t=window.event,t=t===void 0?16:R0(t.type)),t)}function Vr(t,i,a,c){if(50<Pa)throw Pa=0,bd=null,Error(n(185));na(t,a,c),((st&2)===0||t!==Ft)&&(t===Ft&&((st&2)===0&&(ll|=a),Pt===4&&Xn(t,Ht)),hr(t,c),a===1&&st===0&&(i.mode&1)===0&&(ks=He()+500,Vo&&Wn()))}function hr(t,i){var a=t.callbackNode;a1(t,i);var c=_o(t,t===Ft?Ht:0);if(c===0)a!==null&&xo(a),t.callbackNode=null,t.callbackPriority=0;else if(i=c&-c,t.callbackPriority!==i){if(a!=null&&xo(a),i===1)t.tag===0?sw(Rp.bind(null,t)):yh(Rp.bind(null,t)),tw(function(){(st&6)===0&&Wn()}),a=null;else{switch(E0(c)){case 1:a=Je;break;case 4:a=Ei;break;case 16:a=Zr;break;case 536870912:a=_0;break;default:a=Zr}a=zp(a,Bp.bind(null,t))}t.callbackPriority=i,t.callbackNode=a}}function Bp(t,i){if(fl=-1,hl=0,(st&6)!==0)throw Error(n(327));var a=t.callbackNode;if(Ss()&&t.callbackNode!==a)return null;var c=_o(t,t===Ft?Ht:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||i)i=pl(t,c);else{i=c;var h=st;st|=2;var x=Mp();(Ft!==t||Ht!==i)&&(wn=null,ks=He()+500,Mi(t,i));do try{Sw();break}catch(Y){Pp(t,Y)}while(!0);$u(),ol.current=x,st=h,Ct!==null?i=0:(Ft=null,Ht=0,i=Pt)}if(i!==0){if(i===2&&(h=tu(t),h!==0&&(c=h,i=_d(t,h))),i===1)throw a=Ba,Mi(t,0),Xn(t,c),hr(t,He()),a;if(i===6)Xn(t,c);else{if(h=t.current.alternate,(c&30)===0&&!Ew(h)&&(i=pl(t,c),i===2&&(x=tu(t),x!==0&&(c=x,i=_d(t,x))),i===1))throw a=Ba,Mi(t,0),Xn(t,c),hr(t,He()),a;switch(t.finishedWork=h,t.finishedLanes=c,i){case 0:case 1:throw Error(n(345));case 2:Oi(t,fr,wn);break;case 3:if(Xn(t,c),(c&130023424)===c&&(i=wd+500-He(),10<i)){if(_o(t,0)!==0)break;if(h=t.suspendedLanes,(h&c)!==c){nr(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Au(Oi.bind(null,t,fr,wn),i);break}Oi(t,fr,wn);break;case 4:if(Xn(t,c),(c&4194240)===c)break;for(i=t.eventTimes,h=-1;0<c;){var C=31-Or(c);x=1<<C,C=i[C],C>h&&(h=C),c&=~x}if(c=h,c=He()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Nw(c/1960))-c,10<c){t.timeoutHandle=Au(Oi.bind(null,t,fr,wn),c);break}Oi(t,fr,wn);break;case 5:Oi(t,fr,wn);break;default:throw Error(n(329))}}}return hr(t,He()),t.callbackNode===a?Bp.bind(null,t):null}function _d(t,i){var a=Ra;return t.current.memoizedState.isDehydrated&&(Mi(t,i).flags|=256),t=pl(t,i),t!==2&&(i=fr,fr=a,i!==null&&Nd(i)),t}function Nd(t){fr===null?fr=t:fr.push.apply(fr,t)}function Ew(t){for(var i=t;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var h=a[c],x=h.getSnapshot;h=h.value;try{if(!Ur(x(),h))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xn(t,i){for(i&=~xd,i&=~ll,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var a=31-Or(i),c=1<<a;t[a]=-1,i&=~c}}function Rp(t){if((st&6)!==0)throw Error(n(327));Ss();var i=_o(t,0);if((i&1)===0)return hr(t,He()),null;var a=pl(t,i);if(t.tag!==0&&a===2){var c=tu(t);c!==0&&(i=c,a=_d(t,c))}if(a===1)throw a=Ba,Mi(t,0),Xn(t,i),hr(t,He()),a;if(a===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,Oi(t,fr,wn),hr(t,He()),null}function Ed(t,i){var a=st;st|=1;try{return t(i)}finally{st=a,st===0&&(ks=He()+500,Vo&&Wn())}}function Pi(t){Qn!==null&&Qn.tag===0&&(st&6)===0&&Ss();var i=st;st|=1;var a=Tr.transition,c=ut;try{if(Tr.transition=null,ut=1,t)return t()}finally{ut=c,Tr.transition=a,st=i,(st&6)===0&&Wn()}}function kd(){_r=Es.current,mt(Es)}function Mi(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,ew(a)),Ct!==null)for(a=Ct.return;a!==null;){var c=a;switch(Mu(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&$o();break;case 3:bs(),mt(cr),mt(Lt),Lu();break;case 5:Wu(c);break;case 4:bs();break;case 13:mt(vt);break;case 19:mt(vt);break;case 10:zu(c.type._context);break;case 22:case 23:kd()}a=a.return}if(Ft=t,Ct=t=Jn(t.current,null),Ht=_r=i,Pt=0,Ba=null,xd=ll=Ri=0,fr=Ra=null,Ti!==null){for(i=0;i<Ti.length;i++)if(a=Ti[i],c=a.interleaved,c!==null){a.interleaved=null;var h=c.next,x=a.pending;if(x!==null){var C=x.next;x.next=h,c.next=C}a.pending=c}Ti=null}return t}function Pp(t,i){do{var a=Ct;try{if($u(),Do.current=tl,Xo){for(var c=bt.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Xo=!1}if(Bi=0,Ut=Rt=bt=null,ka=!1,Sa=0,yd.current=null,a===null||a.return===null){Pt=1,Ba=i,Ct=null;break}e:{var x=t,C=a.return,Y=a,te=i;if(i=Ht,Y.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var ve=te,Se=Y,Ae=Se.tag;if((Se.mode&1)===0&&(Ae===0||Ae===11||Ae===15)){var ke=Se.alternate;ke?(Se.updateQueue=ke.updateQueue,Se.memoizedState=ke.memoizedState,Se.lanes=ke.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var Me=ip(C);if(Me!==null){Me.flags&=-257,sp(Me,C,Y,x,i),Me.mode&1&&np(x,ve,i),i=Me,te=ve;var Fe=i.updateQueue;if(Fe===null){var $e=new Set;$e.add(te),i.updateQueue=$e}else Fe.add(te);break e}else{if((i&1)===0){np(x,ve,i),Sd();break e}te=Error(n(426))}}else if(xt&&Y.mode&1){var jt=ip(C);if(jt!==null){(jt.flags&65536)===0&&(jt.flags|=256),sp(jt,C,Y,x,i),Fu(_s(te,Y));break e}}x=te=_s(te,Y),Pt!==4&&(Pt=2),Ra===null?Ra=[x]:Ra.push(x),x=C;do{switch(x.tag){case 3:x.flags|=65536,i&=-i,x.lanes|=i;var pe=tp(x,te,i);Ah(x,pe);break e;case 1:Y=te;var oe=x.type,ye=x.stateNode;if((x.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||ye!==null&&typeof ye.componentDidCatch=="function"&&(Zn===null||!Zn.has(ye)))){x.flags|=65536,i&=-i,x.lanes|=i;var Te=rp(x,Y,i);Ah(x,Te);break e}}x=x.return}while(x!==null)}Up(a)}catch(ze){i=ze,Ct===a&&a!==null&&(Ct=a=a.return);continue}break}while(!0)}function Mp(){var t=ol.current;return ol.current=tl,t===null?tl:t}function Sd(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Ft===null||(Ri&268435455)===0&&(ll&268435455)===0||Xn(Ft,Ht)}function pl(t,i){var a=st;st|=2;var c=Mp();(Ft!==t||Ht!==i)&&(wn=null,Mi(t,i));do try{kw();break}catch(h){Pp(t,h)}while(!0);if($u(),st=a,ol.current=c,Ct!==null)throw Error(n(261));return Ft=null,Ht=0,Pt}function kw(){for(;Ct!==null;)Op(Ct)}function Sw(){for(;Ct!==null&&!eu();)Op(Ct)}function Op(t){var i=$p(t.alternate,t,_r);t.memoizedProps=t.pendingProps,i===null?Up(t):Ct=i,yd.current=null}function Up(t){var i=t;do{var a=i.alternate;if(t=i.return,(i.flags&32768)===0){if(a=xw(a,i,_r),a!==null){Ct=a;return}}else{if(a=ww(a,i),a!==null){a.flags&=32767,Ct=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pt=6,Ct=null;return}}if(i=i.sibling,i!==null){Ct=i;return}Ct=i=t}while(i!==null);Pt===0&&(Pt=5)}function Oi(t,i,a){var c=ut,h=Tr.transition;try{Tr.transition=null,ut=1,jw(t,i,a,c)}finally{Tr.transition=h,ut=c}return null}function jw(t,i,a,c){do Ss();while(Qn!==null);if((st&6)!==0)throw Error(n(327));a=t.finishedWork;var h=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var x=a.lanes|a.childLanes;if(o1(t,x),t===Ft&&(Ct=Ft=null,Ht=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||ul||(ul=!0,zp(Zr,function(){return Ss(),null})),x=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||x){x=Tr.transition,Tr.transition=null;var C=ut;ut=1;var Y=st;st|=4,yd.current=null,bw(t,a),Sp(a,t),L1(Su),ko=!!ku,Su=ku=null,t.current=a,_w(a),ee(),st=Y,ut=C,Tr.transition=x}else t.current=a;if(ul&&(ul=!1,Qn=t,dl=h),x=t.pendingLanes,x===0&&(Zn=null),t1(a.stateNode),hr(t,He()),i!==null)for(c=t.onRecoverableError,a=0;a<i.length;a++)h=i[a],c(h.value,{componentStack:h.stack,digest:h.digest});if(cl)throw cl=!1,t=vd,vd=null,t;return(dl&1)!==0&&t.tag!==0&&Ss(),x=t.pendingLanes,(x&1)!==0?t===bd?Pa++:(Pa=0,bd=t):Pa=0,Wn(),null}function Ss(){if(Qn!==null){var t=E0(dl),i=Tr.transition,a=ut;try{if(Tr.transition=null,ut=16>t?16:t,Qn===null)var c=!1;else{if(t=Qn,Qn=null,dl=0,(st&6)!==0)throw Error(n(331));var h=st;for(st|=4,Ue=t.current;Ue!==null;){var x=Ue,C=x.child;if((Ue.flags&16)!==0){var Y=x.deletions;if(Y!==null){for(var te=0;te<Y.length;te++){var ve=Y[te];for(Ue=ve;Ue!==null;){var Se=Ue;switch(Se.tag){case 0:case 11:case 15:Ca(8,Se,x)}var Ae=Se.child;if(Ae!==null)Ae.return=Se,Ue=Ae;else for(;Ue!==null;){Se=Ue;var ke=Se.sibling,Me=Se.return;if(bp(Se),Se===ve){Ue=null;break}if(ke!==null){ke.return=Me,Ue=ke;break}Ue=Me}}}var Fe=x.alternate;if(Fe!==null){var $e=Fe.child;if($e!==null){Fe.child=null;do{var jt=$e.sibling;$e.sibling=null,$e=jt}while($e!==null)}}Ue=x}}if((x.subtreeFlags&2064)!==0&&C!==null)C.return=x,Ue=C;else e:for(;Ue!==null;){if(x=Ue,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Ca(9,x,x.return)}var pe=x.sibling;if(pe!==null){pe.return=x.return,Ue=pe;break e}Ue=x.return}}var oe=t.current;for(Ue=oe;Ue!==null;){C=Ue;var ye=C.child;if((C.subtreeFlags&2064)!==0&&ye!==null)ye.return=C,Ue=ye;else e:for(C=oe;Ue!==null;){if(Y=Ue,(Y.flags&2048)!==0)try{switch(Y.tag){case 0:case 11:case 15:al(9,Y)}}catch(ze){Et(Y,Y.return,ze)}if(Y===C){Ue=null;break e}var Te=Y.sibling;if(Te!==null){Te.return=Y.return,Ue=Te;break e}Ue=Y.return}}if(st=h,Wn(),Qr&&typeof Qr.onPostCommitFiberRoot=="function")try{Qr.onPostCommitFiberRoot(wo,t)}catch{}c=!0}return c}finally{ut=a,Tr.transition=i}}return!1}function Fp(t,i,a){i=_s(a,i),i=tp(t,i,1),t=Ln(t,i,1),i=nr(),t!==null&&(na(t,1,i),hr(t,i))}function Et(t,i,a){if(t.tag===3)Fp(t,t,a);else for(;i!==null;){if(i.tag===3){Fp(i,t,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Zn===null||!Zn.has(c))){t=_s(a,t),t=rp(i,t,1),i=Ln(i,t,1),t=nr(),i!==null&&(na(i,1,t),hr(i,t));break}}i=i.return}}function Aw(t,i,a){var c=t.pingCache;c!==null&&c.delete(i),i=nr(),t.pingedLanes|=t.suspendedLanes&a,Ft===t&&(Ht&a)===a&&(Pt===4||Pt===3&&(Ht&130023424)===Ht&&500>He()-wd?Mi(t,0):xd|=a),hr(t,i)}function Ip(t,i){i===0&&((t.mode&1)===0?i=1:(i=bo,bo<<=1,(bo&130023424)===0&&(bo=4194304)));var a=nr();t=gn(t,i),t!==null&&(na(t,i,a),hr(t,a))}function Tw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Ip(t,a)}function Cw(t,i){var a=0;switch(t.tag){case 13:var c=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(i),Ip(t,a)}var $p;$p=function(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps||cr.current)dr=!0;else{if((t.lanes&a)===0&&(i.flags&128)===0)return dr=!1,yw(t,i,a);dr=(t.flags&131072)!==0}else dr=!1,xt&&(i.flags&1048576)!==0&&xh(i,qo,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;il(t,i),t=i.pendingProps;var h=ps(i,Lt.current);vs(i,a),h=Qu(null,i,c,t,h,a);var x=Du();return i.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,ur(c)?(x=!0,zo(i)):x=!1,i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,qu(i),h.updater=rl,i.stateNode=h,h._reactInternals=i,nd(i,c,t,a),i=od(null,i,c,!0,x,a)):(i.tag=0,xt&&x&&Pu(i),rr(null,i,h,a),i=i.child),i;case 16:c=i.elementType;e:{switch(il(t,i),t=i.pendingProps,h=c._init,c=h(c._payload),i.type=c,h=i.tag=Rw(c),t=Ir(c,t),h){case 0:i=ad(null,i,c,t,a);break e;case 1:i=dp(null,i,c,t,a);break e;case 11:i=ap(null,i,c,t,a);break e;case 14:i=op(null,i,c,Ir(c.type,t),a);break e}throw Error(n(306,c,""))}return i;case 0:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:Ir(c,h),ad(t,i,c,h,a);case 1:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:Ir(c,h),dp(t,i,c,h,a);case 3:e:{if(fp(i),t===null)throw Error(n(387));c=i.pendingProps,x=i.memoizedState,h=x.element,jh(t,i),Zo(i,c,null,a);var C=i.memoizedState;if(c=C.element,x.isDehydrated)if(x={element:c,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){h=_s(Error(n(423)),i),i=hp(t,i,c,a,h);break e}else if(c!==h){h=_s(Error(n(424)),i),i=hp(t,i,c,a,h);break e}else for(br=Hn(i.stateNode.containerInfo.firstChild),vr=i,xt=!0,Fr=null,a=kh(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ys(),c===h){i=xn(t,i,a);break e}rr(t,i,c,a)}i=i.child}return i;case 5:return Ch(i),t===null&&Uu(i),c=i.type,h=i.pendingProps,x=t!==null?t.memoizedProps:null,C=h.children,ju(c,h)?C=null:x!==null&&ju(c,x)&&(i.flags|=32),up(t,i),rr(t,i,C,a),i.child;case 6:return t===null&&Uu(i),null;case 13:return pp(t,i,a);case 4:return Gu(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=xs(i,null,c,a):rr(t,i,c,a),i.child;case 11:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:Ir(c,h),ap(t,i,c,h,a);case 7:return rr(t,i,i.pendingProps,a),i.child;case 8:return rr(t,i,i.pendingProps.children,a),i.child;case 12:return rr(t,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,h=i.pendingProps,x=i.memoizedProps,C=h.value,ht(Ko,c._currentValue),c._currentValue=C,x!==null)if(Ur(x.value,C)){if(x.children===h.children&&!cr.current){i=xn(t,i,a);break e}}else for(x=i.child,x!==null&&(x.return=i);x!==null;){var Y=x.dependencies;if(Y!==null){C=x.child;for(var te=Y.firstContext;te!==null;){if(te.context===c){if(x.tag===1){te=yn(-1,a&-a),te.tag=2;var ve=x.updateQueue;if(ve!==null){ve=ve.shared;var Se=ve.pending;Se===null?te.next=te:(te.next=Se.next,Se.next=te),ve.pending=te}}x.lanes|=a,te=x.alternate,te!==null&&(te.lanes|=a),Vu(x.return,a,i),Y.lanes|=a;break}te=te.next}}else if(x.tag===10)C=x.type===i.type?null:x.child;else if(x.tag===18){if(C=x.return,C===null)throw Error(n(341));C.lanes|=a,Y=C.alternate,Y!==null&&(Y.lanes|=a),Vu(C,a,i),C=x.sibling}else C=x.child;if(C!==null)C.return=x;else for(C=x;C!==null;){if(C===i){C=null;break}if(x=C.sibling,x!==null){x.return=C.return,C=x;break}C=C.return}x=C}rr(t,i,h.children,a),i=i.child}return i;case 9:return h=i.type,c=i.pendingProps.children,vs(i,a),h=jr(h),c=c(h),i.flags|=1,rr(t,i,c,a),i.child;case 14:return c=i.type,h=Ir(c,i.pendingProps),h=Ir(c.type,h),op(t,i,c,h,a);case 15:return lp(t,i,i.type,i.pendingProps,a);case 17:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:Ir(c,h),il(t,i),i.tag=1,ur(c)?(t=!0,zo(i)):t=!1,vs(i,a),Jh(i,c,h),nd(i,c,h,a),od(null,i,c,!0,t,a);case 19:return gp(t,i,a);case 22:return cp(t,i,a)}throw Error(n(156,i.tag))};function zp(t,i){return ct(t,i)}function Bw(t,i,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(t,i,a,c){return new Bw(t,i,a,c)}function jd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Rw(t){if(typeof t=="function")return jd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ge)return 11;if(t===Z)return 14}return 2}function Jn(t,i){var a=t.alternate;return a===null?(a=Cr(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function ml(t,i,a,c,h,x){var C=2;if(c=t,typeof t=="function")jd(t)&&(C=1);else if(typeof t=="string")C=5;else e:switch(t){case le:return Ui(a.children,h,x,i);case z:C=8,h|=8;break;case q:return t=Cr(12,a,i,h|2),t.elementType=q,t.lanes=x,t;case E:return t=Cr(13,a,i,h),t.elementType=E,t.lanes=x,t;case I:return t=Cr(19,a,i,h),t.elementType=I,t.lanes=x,t;case fe:return gl(a,h,x,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H:C=10;break e;case ce:C=9;break e;case ge:C=11;break e;case Z:C=14;break e;case ne:C=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return i=Cr(C,a,i,h),i.elementType=t,i.type=c,i.lanes=x,i}function Ui(t,i,a,c){return t=Cr(7,t,c,i),t.lanes=a,t}function gl(t,i,a,c){return t=Cr(22,t,c,i),t.elementType=fe,t.lanes=a,t.stateNode={isHidden:!1},t}function Ad(t,i,a){return t=Cr(6,t,null,i),t.lanes=a,t}function Td(t,i,a){return i=Cr(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Pw(t,i,a,c,h){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ru(0),this.expirationTimes=ru(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ru(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Cd(t,i,a,c,h,x,C,Y,te){return t=new Pw(t,i,a,Y,te),i===1?(i=1,x===!0&&(i|=8)):i=0,x=Cr(3,null,null,i),t.current=x,x.stateNode=t,x.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},qu(x),t}function Mw(t,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:c==null?null:""+c,children:t,containerInfo:i,implementation:a}}function Vp(t){if(!t)return Gn;t=t._reactInternals;e:{if(dn(t)!==t||t.tag!==1)throw Error(n(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(ur(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(t.tag===1){var a=t.type;if(ur(a))return mh(t,a,i)}return i}function Hp(t,i,a,c,h,x,C,Y,te){return t=Cd(a,c,!0,t,h,x,C,Y,te),t.context=Vp(null),a=t.current,c=nr(),h=Dn(a),x=yn(c,h),x.callback=i??null,Ln(a,x,h),t.current.lanes=h,na(t,h,c),hr(t,c),t}function yl(t,i,a,c){var h=i.current,x=nr(),C=Dn(h);return a=Vp(a),i.context===null?i.context=a:i.pendingContext=a,i=yn(x,C),i.payload={element:t},c=c===void 0?null:c,c!==null&&(i.callback=c),t=Ln(h,i,C),t!==null&&(Vr(t,h,C,x),Yo(t,h,C)),C}function xl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Bd(t,i){qp(t,i),(t=t.alternate)&&qp(t,i)}function Ow(){return null}var Gp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rd(t){this._internalRoot=t}wl.prototype.render=Rd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(n(409));yl(t,i,null,null)},wl.prototype.unmount=Rd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Pi(function(){yl(null,t,null,null)}),i[fn]=null}};function wl(t){this._internalRoot=t}wl.prototype.unstable_scheduleHydration=function(t){if(t){var i=j0();t={blockedOn:null,target:t,priority:i};for(var a=0;a<$n.length&&i!==0&&i<$n[a].priority;a++);$n.splice(a,0,t),a===0&&C0(t)}};function Pd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wp(){}function Uw(t,i,a,c,h){if(h){if(typeof c=="function"){var x=c;c=function(){var ve=xl(C);x.call(ve)}}var C=Hp(i,c,t,0,null,!1,!1,"",Wp);return t._reactRootContainer=C,t[fn]=C.current,ya(t.nodeType===8?t.parentNode:t),Pi(),C}for(;h=t.lastChild;)t.removeChild(h);if(typeof c=="function"){var Y=c;c=function(){var ve=xl(te);Y.call(ve)}}var te=Cd(t,0,!1,null,null,!1,!1,"",Wp);return t._reactRootContainer=te,t[fn]=te.current,ya(t.nodeType===8?t.parentNode:t),Pi(function(){yl(i,te,a,c)}),te}function bl(t,i,a,c,h){var x=a._reactRootContainer;if(x){var C=x;if(typeof h=="function"){var Y=h;h=function(){var te=xl(C);Y.call(te)}}yl(i,C,t,h)}else C=Uw(a,i,t,h,c);return xl(C)}k0=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var a=ra(i.pendingLanes);a!==0&&(nu(i,a|1),hr(i,He()),(st&6)===0&&(ks=He()+500,Wn()))}break;case 13:Pi(function(){var c=gn(t,1);if(c!==null){var h=nr();Vr(c,t,1,h)}}),Bd(t,1)}},iu=function(t){if(t.tag===13){var i=gn(t,134217728);if(i!==null){var a=nr();Vr(i,t,134217728,a)}Bd(t,134217728)}},S0=function(t){if(t.tag===13){var i=Dn(t),a=gn(t,i);if(a!==null){var c=nr();Vr(a,t,i,c)}Bd(t,i)}},j0=function(){return ut},A0=function(t,i){var a=ut;try{return ut=t,i()}finally{ut=a}},_i=function(t,i,a){switch(i){case"input":if(p(t,a),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==t&&c.form===t.form){var h=Io(c);if(!h)throw Error(n(90));L(c),p(c,h)}}}break;case"textarea":Oe(t,a);break;case"select":i=a.value,i!=null&&Q(t,!!a.multiple,i,!1)}},Yc=Ed,Zc=Pi;var Fw={usingClientEntryPoint:!1,Events:[va,fs,Io,ts,Mr,Ed]},Ma={findFiberByHostInstance:ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Iw={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ue.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=go(t),t===null?null:t.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||Ow,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_l.isDisabled&&_l.supportsFiber)try{wo=_l.inject(Iw),Qr=_l}catch{}}return pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fw,pr.createPortal=function(t,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pd(i))throw Error(n(200));return Mw(t,i,null,a)},pr.createRoot=function(t,i){if(!Pd(t))throw Error(n(299));var a=!1,c="",h=Gp;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(h=i.onRecoverableError)),i=Cd(t,1,!1,null,null,a,!1,c,h),t[fn]=i.current,ya(t.nodeType===8?t.parentNode:t),new Rd(i)},pr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=go(i),t=t===null?null:t.stateNode,t},pr.flushSync=function(t){return Pi(t)},pr.hydrate=function(t,i,a){if(!vl(i))throw Error(n(200));return bl(null,t,i,!0,a)},pr.hydrateRoot=function(t,i,a){if(!Pd(t))throw Error(n(405));var c=a!=null&&a.hydratedSources||null,h=!1,x="",C=Gp;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(x=a.identifierPrefix),a.onRecoverableError!==void 0&&(C=a.onRecoverableError)),i=Hp(i,null,t,1,a??null,h,!1,x,C),t[fn]=i.current,ya(t),c)for(t=0;t<c.length;t++)a=c[t],h=a._getVersion,h=h(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,h]:i.mutableSourceEagerHydrationData.push(a,h);return new wl(i)},pr.render=function(t,i,a){if(!vl(i))throw Error(n(200));return bl(null,t,i,!1,a)},pr.unmountComponentAtNode=function(t){if(!vl(t))throw Error(n(40));return t._reactRootContainer?(Pi(function(){bl(null,null,t,!1,function(){t._reactRootContainer=null,t[fn]=null})}),!0):!1},pr.unstable_batchedUpdates=Ed,pr.unstable_renderSubtreeIntoContainer=function(t,i,a,c){if(!vl(a))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return bl(t,i,a,!1,c)},pr.version="18.3.1-next-f1338f8080-20240426",pr}var Jp;function Bg(){if(Jp)return Ud.exports;Jp=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Ud.exports=Qw(),Ud.exports}var em;function Dw(){if(em)return Nl;em=1;var e=Bg();return Nl.createRoot=e.createRoot,Nl.hydrateRoot=e.hydrateRoot,Nl}var Xw=Dw();const Jw=Xf(Xw);Bg();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cc(){return cc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},cc.apply(this,arguments)}var mi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(mi||(mi={}));const tm="popstate";function ev(e){e===void 0&&(e={});function r(s,o){let{pathname:d,search:f,hash:u}=s.location;return jf("",{pathname:d,search:f,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Pg(o)}return rv(r,n,null,e)}function xr(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function Rg(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function tv(){return Math.random().toString(36).substr(2,8)}function rm(e,r){return{usr:e.state,key:e.key,idx:r}}function jf(e,r,n,s){return n===void 0&&(n=null),cc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?Sc(r):r,{state:n,key:r&&r.key||s||tv()})}function Pg(e){let{pathname:r="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Sc(e){let r={};if(e){let n=e.indexOf("#");n>=0&&(r.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(r.search=e.substr(s),e=e.substr(0,s)),e&&(r.pathname=e)}return r}function rv(e,r,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:d=!1}=s,f=o.history,u=mi.Pop,g=null,_=N();_==null&&(_=0,f.replaceState(cc({},f.state,{idx:_}),""));function N(){return(f.state||{idx:null}).idx}function w(){u=mi.Pop;let B=N(),$=B==null?null:B-_;_=B,g&&g({action:u,location:M.location,delta:$})}function k(B,$){u=mi.Push;let W=jf(M.location,B,$);_=N()+1;let J=rm(W,_),ue=M.createHref(W);try{f.pushState(J,"",ue)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;o.location.assign(ue)}d&&g&&g({action:u,location:M.location,delta:1})}function j(B,$){u=mi.Replace;let W=jf(M.location,B,$);_=N();let J=rm(W,_),ue=M.createHref(W);f.replaceState(J,"",ue),d&&g&&g({action:u,location:M.location,delta:0})}function b(B){let $=o.location.origin!=="null"?o.location.origin:o.location.href,W=typeof B=="string"?B:Pg(B);return W=W.replace(/ $/,"%20"),xr($,"No window.location.(origin|href) available to create URL for href: "+W),new URL(W,$)}let M={get action(){return u},get location(){return e(o,f)},listen(B){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(tm,w),g=B,()=>{o.removeEventListener(tm,w),g=null}},createHref(B){return r(o,B)},createURL:b,encodeLocation(B){let $=b(B);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:k,replace:j,go(B){return f.go(B)}};return M}var nm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(nm||(nm={}));function nv(e,r,n){return n===void 0&&(n="/"),iv(e,r,n)}function iv(e,r,n,s){let o=typeof r=="string"?Sc(r):r,d=Ug(o.pathname||"/",n);if(d==null)return null;let f=Mg(e);sv(f);let u=null;for(let g=0;u==null&&g<f.length;++g){let _=yv(d);u=pv(f[g],_)}return u}function Mg(e,r,n,s){r===void 0&&(r=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(d,f,u)=>{let g={relativePath:u===void 0?d.path||"":u,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};g.relativePath.startsWith("/")&&(xr(g.relativePath.startsWith(s),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(s.length));let _=qs([s,g.relativePath]),N=n.concat(g);d.children&&d.children.length>0&&(xr(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),Mg(d.children,r,N,_)),!(d.path==null&&!d.index)&&r.push({path:_,score:fv(_,d.index),routesMeta:N})};return e.forEach((d,f)=>{var u;if(d.path===""||!((u=d.path)!=null&&u.includes("?")))o(d,f);else for(let g of Og(d.path))o(d,f,g)}),r}function Og(e){let r=e.split("/");if(r.length===0)return[];let[n,...s]=r,o=n.endsWith("?"),d=n.replace(/\?$/,"");if(s.length===0)return o?[d,""]:[d];let f=Og(s.join("/")),u=[];return u.push(...f.map(g=>g===""?d:[d,g].join("/"))),o&&u.push(...f),u.map(g=>e.startsWith("/")&&g===""?"/":g)}function sv(e){e.sort((r,n)=>r.score!==n.score?n.score-r.score:hv(r.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const av=/^:[\w-]+$/,ov=3,lv=2,cv=1,uv=10,dv=-2,im=e=>e==="*";function fv(e,r){let n=e.split("/"),s=n.length;return n.some(im)&&(s+=dv),r&&(s+=lv),n.filter(o=>!im(o)).reduce((o,d)=>o+(av.test(d)?ov:d===""?cv:uv),s)}function hv(e,r){return e.length===r.length&&e.slice(0,-1).every((s,o)=>s===r[o])?e[e.length-1]-r[r.length-1]:0}function pv(e,r,n){let{routesMeta:s}=e,o={},d="/",f=[];for(let u=0;u<s.length;++u){let g=s[u],_=u===s.length-1,N=d==="/"?r:r.slice(d.length)||"/",w=mv({path:g.relativePath,caseSensitive:g.caseSensitive,end:_},N),k=g.route;if(!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:qs([d,w.pathname]),pathnameBase:xv(qs([d,w.pathnameBase])),route:k}),w.pathnameBase!=="/"&&(d=qs([d,w.pathnameBase]))}return f}function mv(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=gv(e.path,e.caseSensitive,e.end),o=r.match(n);if(!o)return null;let d=o[0],f=d.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:s.reduce((_,N,w)=>{let{paramName:k,isOptional:j}=N;if(k==="*"){let M=u[w]||"";f=d.slice(0,d.length-M.length).replace(/(.)\/+$/,"$1")}const b=u[w];return j&&!b?_[k]=void 0:_[k]=(b||"").replace(/%2F/g,"/"),_},{}),pathname:d,pathnameBase:f,pattern:e}}function gv(e,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),Rg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,u,g)=>(s.push({paramName:u,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),s]}function yv(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Rg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function Ug(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}const qs=e=>e.join("/").replace(/\/\/+/g,"/"),xv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function wv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Fg=["post","put","patch","delete"];new Set(Fg);const vv=["get",...Fg];new Set(vv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},uc.apply(this,arguments)}const bv=K.createContext(null),_v=K.createContext(null),Ig=K.createContext(null),jc=K.createContext(null),Ac=K.createContext({outlet:null,matches:[],isDataRoute:!1}),$g=K.createContext(null);function e0(){return K.useContext(jc)!=null}function Nv(){return e0()||xr(!1),K.useContext(jc).location}function Ev(e,r){return kv(e,r)}function kv(e,r,n,s){e0()||xr(!1);let{navigator:o}=K.useContext(Ig),{matches:d}=K.useContext(Ac),f=d[d.length-1],u=f?f.params:{};f&&f.pathname;let g=f?f.pathnameBase:"/";f&&f.route;let _=Nv(),N;if(r){var w;let B=typeof r=="string"?Sc(r):r;g==="/"||(w=B.pathname)!=null&&w.startsWith(g)||xr(!1),N=B}else N=_;let k=N.pathname||"/",j=k;if(g!=="/"){let B=g.replace(/^\//,"").split("/");j="/"+k.replace(/^\//,"").split("/").slice(B.length).join("/")}let b=nv(e,{pathname:j}),M=Cv(b&&b.map(B=>Object.assign({},B,{params:Object.assign({},u,B.params),pathname:qs([g,o.encodeLocation?o.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:qs([g,o.encodeLocation?o.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),d,n,s);return r&&M?K.createElement(jc.Provider,{value:{location:uc({pathname:"/",search:"",hash:"",state:null,key:"default"},N),navigationType:mi.Pop}},M):M}function Sv(){let e=Mv(),r=wv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},r),n?K.createElement("pre",{style:o},n):null,null)}const jv=K.createElement(Sv,null);class Av extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?K.createElement(Ac.Provider,{value:this.props.routeContext},K.createElement($g.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Tv(e){let{routeContext:r,match:n,children:s}=e,o=K.useContext(bv);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),K.createElement(Ac.Provider,{value:r},s)}function Cv(e,r,n,s){var o;if(r===void 0&&(r=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var d;if(!n)return null;if(n.errors)e=n.matches;else if((d=s)!=null&&d.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let f=e,u=(o=n)==null?void 0:o.errors;if(u!=null){let N=f.findIndex(w=>w.route.id&&(u==null?void 0:u[w.route.id])!==void 0);N>=0||xr(!1),f=f.slice(0,Math.min(f.length,N+1))}let g=!1,_=-1;if(n&&s&&s.v7_partialHydration)for(let N=0;N<f.length;N++){let w=f[N];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(_=N),w.route.id){let{loaderData:k,errors:j}=n,b=w.route.loader&&k[w.route.id]===void 0&&(!j||j[w.route.id]===void 0);if(w.route.lazy||b){g=!0,_>=0?f=f.slice(0,_+1):f=[f[0]];break}}}return f.reduceRight((N,w,k)=>{let j,b=!1,M=null,B=null;n&&(j=u&&w.route.id?u[w.route.id]:void 0,M=w.route.errorElement||jv,g&&(_<0&&k===0?(Ov("route-fallback"),b=!0,B=null):_===k&&(b=!0,B=w.route.hydrateFallbackElement||null)));let $=r.concat(f.slice(0,k+1)),W=()=>{let J;return j?J=M:b?J=B:w.route.Component?J=K.createElement(w.route.Component,null):w.route.element?J=w.route.element:J=N,K.createElement(Tv,{match:w,routeContext:{outlet:N,matches:$,isDataRoute:n!=null},children:J})};return n&&(w.route.ErrorBoundary||w.route.errorElement||k===0)?K.createElement(Av,{location:n.location,revalidation:n.revalidation,component:M,error:j,children:W(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):W()},null)}var zg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zg||{});function Bv(e){let r=K.useContext(_v);return r||xr(!1),r}function Rv(e){let r=K.useContext(Ac);return r||xr(!1),r}function Pv(e){let r=Rv(),n=r.matches[r.matches.length-1];return n.route.id||xr(!1),n.route.id}function Mv(){var e;let r=K.useContext($g),n=Bv(zg.UseRouteError),s=Pv();return r!==void 0?r:(e=n.errors)==null?void 0:e[s]}const sm={};function Ov(e,r,n){sm[e]||(sm[e]=!0)}function Uv(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Af(e){xr(!1)}function Fv(e){let{basename:r="/",children:n=null,location:s,navigationType:o=mi.Pop,navigator:d,static:f=!1,future:u}=e;e0()&&xr(!1);let g=r.replace(/^\/*/,"/"),_=K.useMemo(()=>({basename:g,navigator:d,static:f,future:uc({v7_relativeSplatPath:!1},u)}),[g,u,d,f]);typeof s=="string"&&(s=Sc(s));let{pathname:N="/",search:w="",hash:k="",state:j=null,key:b="default"}=s,M=K.useMemo(()=>{let B=Ug(N,g);return B==null?null:{location:{pathname:B,search:w,hash:k,state:j,key:b},navigationType:o}},[g,N,w,k,j,b,o]);return M==null?null:K.createElement(Ig.Provider,{value:_},K.createElement(jc.Provider,{children:n,value:M}))}function Iv(e){let{children:r,location:n}=e;return Ev(Tf(r),n)}new Promise(()=>{});function Tf(e,r){r===void 0&&(r=[]);let n=[];return K.Children.forEach(e,(s,o)=>{if(!K.isValidElement(s))return;let d=[...r,o];if(s.type===K.Fragment){n.push.apply(n,Tf(s.props.children,d));return}s.type!==Af&&xr(!1),!s.props.index||!s.props.children||xr(!1);let f={id:s.props.id||d.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Tf(s.props.children,d)),n.push(f)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const $v="6";try{window.__reactRouterVersion=$v}catch{}const zv="startTransition",am=Lw[zv];function Vv(e){let{basename:r,children:n,future:s,window:o}=e,d=K.useRef();d.current==null&&(d.current=ev({window:o,v5Compat:!0}));let f=d.current,[u,g]=K.useState({action:f.action,location:f.location}),{v7_startTransition:_}=s||{},N=K.useCallback(w=>{_&&am?am(()=>g(w)):g(w)},[g,_]);return K.useLayoutEffect(()=>f.listen(N),[f,N]),K.useEffect(()=>Uv(s),[s]),K.createElement(Fv,{basename:r,children:n,location:u.location,navigationType:u.action,navigator:f,future:s})}var om;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(om||(om={}));var lm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(lm||(lm={}));var $d={},Ua={},cm;function Vg(){if(cm)return Ua;cm=1,Ua.byteLength=u,Ua.toByteArray=_,Ua.fromByteArray=k;for(var e=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,d=s.length;o<d;++o)e[o]=s[o],r[s.charCodeAt(o)]=o;r[45]=62,r[95]=63;function f(j){var b=j.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var M=j.indexOf("=");M===-1&&(M=b);var B=M===b?0:4-M%4;return[M,B]}function u(j){var b=f(j),M=b[0],B=b[1];return(M+B)*3/4-B}function g(j,b,M){return(b+M)*3/4-M}function _(j){var b,M=f(j),B=M[0],$=M[1],W=new n(g(j,B,$)),J=0,ue=$>0?B-4:B,F;for(F=0;F<ue;F+=4)b=r[j.charCodeAt(F)]<<18|r[j.charCodeAt(F+1)]<<12|r[j.charCodeAt(F+2)]<<6|r[j.charCodeAt(F+3)],W[J++]=b>>16&255,W[J++]=b>>8&255,W[J++]=b&255;return $===2&&(b=r[j.charCodeAt(F)]<<2|r[j.charCodeAt(F+1)]>>4,W[J++]=b&255),$===1&&(b=r[j.charCodeAt(F)]<<10|r[j.charCodeAt(F+1)]<<4|r[j.charCodeAt(F+2)]>>2,W[J++]=b>>8&255,W[J++]=b&255),W}function N(j){return e[j>>18&63]+e[j>>12&63]+e[j>>6&63]+e[j&63]}function w(j,b,M){for(var B,$=[],W=b;W<M;W+=3)B=(j[W]<<16&16711680)+(j[W+1]<<8&65280)+(j[W+2]&255),$.push(N(B));return $.join("")}function k(j){for(var b,M=j.length,B=M%3,$=[],W=16383,J=0,ue=M-B;J<ue;J+=W)$.push(w(j,J,J+W>ue?ue:J+W));return B===1?(b=j[M-1],$.push(e[b>>2]+e[b<<4&63]+"==")):B===2&&(b=(j[M-2]<<8)+j[M-1],$.push(e[b>>10]+e[b>>4&63]+e[b<<2&63]+"=")),$.join("")}return Ua}var El={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var um;function t0(){return um||(um=1,El.read=function(e,r,n,s,o){var d,f,u=o*8-s-1,g=(1<<u)-1,_=g>>1,N=-7,w=n?o-1:0,k=n?-1:1,j=e[r+w];for(w+=k,d=j&(1<<-N)-1,j>>=-N,N+=u;N>0;d=d*256+e[r+w],w+=k,N-=8);for(f=d&(1<<-N)-1,d>>=-N,N+=s;N>0;f=f*256+e[r+w],w+=k,N-=8);if(d===0)d=1-_;else{if(d===g)return f?NaN:(j?-1:1)*(1/0);f=f+Math.pow(2,s),d=d-_}return(j?-1:1)*f*Math.pow(2,d-s)},El.write=function(e,r,n,s,o,d){var f,u,g,_=d*8-o-1,N=(1<<_)-1,w=N>>1,k=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,j=s?0:d-1,b=s?1:-1,M=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(u=isNaN(r)?1:0,f=N):(f=Math.floor(Math.log(r)/Math.LN2),r*(g=Math.pow(2,-f))<1&&(f--,g*=2),f+w>=1?r+=k/g:r+=k*Math.pow(2,1-w),r*g>=2&&(f++,g/=2),f+w>=N?(u=0,f=N):f+w>=1?(u=(r*g-1)*Math.pow(2,o),f=f+w):(u=r*Math.pow(2,w-1)*Math.pow(2,o),f=0));o>=8;e[n+j]=u&255,j+=b,u/=256,o-=8);for(f=f<<o|u,_+=o;_>0;e[n+j]=f&255,j+=b,f/=256,_-=8);e[n+j-b]|=M*128}),El}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var dm;function Hv(){return dm||(dm=1,function(e){const r=Vg(),n=t0(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=W,e.INSPECT_MAX_BYTES=50;const o=2147483647;e.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=d(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{const A=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(A,y),A.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function f(A){if(A>o)throw new RangeError('The value "'+A+'" is invalid for option "size"');const y=new Uint8Array(A);return Object.setPrototypeOf(y,u.prototype),y}function u(A,y,v){if(typeof A=="number"){if(typeof y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(A)}return g(A,y,v)}u.poolSize=8192;function g(A,y,v){if(typeof A=="string")return k(A,y);if(ArrayBuffer.isView(A))return b(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(he(A,ArrayBuffer)||A&&he(A.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(he(A,SharedArrayBuffer)||A&&he(A.buffer,SharedArrayBuffer)))return M(A,y,v);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const V=A.valueOf&&A.valueOf();if(V!=null&&V!==A)return u.from(V,y,v);const ae=B(A);if(ae)return ae;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return u.from(A[Symbol.toPrimitive]("string"),y,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}u.from=function(A,y,v){return g(A,y,v)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function _(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function N(A,y,v){return _(A),A<=0?f(A):y!==void 0?typeof v=="string"?f(A).fill(y,v):f(A).fill(y):f(A)}u.alloc=function(A,y,v){return N(A,y,v)};function w(A){return _(A),f(A<0?0:$(A)|0)}u.allocUnsafe=function(A){return w(A)},u.allocUnsafeSlow=function(A){return w(A)};function k(A,y){if((typeof y!="string"||y==="")&&(y="utf8"),!u.isEncoding(y))throw new TypeError("Unknown encoding: "+y);const v=J(A,y)|0;let V=f(v);const ae=V.write(A,y);return ae!==v&&(V=V.slice(0,ae)),V}function j(A){const y=A.length<0?0:$(A.length)|0,v=f(y);for(let V=0;V<y;V+=1)v[V]=A[V]&255;return v}function b(A){if(he(A,Uint8Array)){const y=new Uint8Array(A);return M(y.buffer,y.byteOffset,y.byteLength)}return j(A)}function M(A,y,v){if(y<0||A.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<y+(v||0))throw new RangeError('"length" is outside of buffer bounds');let V;return y===void 0&&v===void 0?V=new Uint8Array(A):v===void 0?V=new Uint8Array(A,y):V=new Uint8Array(A,y,v),Object.setPrototypeOf(V,u.prototype),V}function B(A){if(u.isBuffer(A)){const y=$(A.length)|0,v=f(y);return v.length===0||A.copy(v,0,0,y),v}if(A.length!==void 0)return typeof A.length!="number"||je(A.length)?f(0):j(A);if(A.type==="Buffer"&&Array.isArray(A.data))return j(A.data)}function $(A){if(A>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return A|0}function W(A){return+A!=A&&(A=0),u.alloc(+A)}u.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==u.prototype},u.compare=function(y,v){if(he(y,Uint8Array)&&(y=u.from(y,y.offset,y.byteLength)),he(v,Uint8Array)&&(v=u.from(v,v.offset,v.byteLength)),!u.isBuffer(y)||!u.isBuffer(v))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===v)return 0;let V=y.length,ae=v.length;for(let we=0,xe=Math.min(V,ae);we<xe;++we)if(y[we]!==v[we]){V=y[we],ae=v[we];break}return V<ae?-1:ae<V?1:0},u.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(y,v){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return u.alloc(0);let V;if(v===void 0)for(v=0,V=0;V<y.length;++V)v+=y[V].length;const ae=u.allocUnsafe(v);let we=0;for(V=0;V<y.length;++V){let xe=y[V];if(he(xe,Uint8Array))we+xe.length>ae.length?(u.isBuffer(xe)||(xe=u.from(xe)),xe.copy(ae,we)):Uint8Array.prototype.set.call(ae,xe,we);else if(u.isBuffer(xe))xe.copy(ae,we);else throw new TypeError('"list" argument must be an Array of Buffers');we+=xe.length}return ae};function J(A,y){if(u.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||he(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const v=A.length,V=arguments.length>2&&arguments[2]===!0;if(!V&&v===0)return 0;let ae=!1;for(;;)switch(y){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return p(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return P(A).length;default:if(ae)return V?-1:p(A).length;y=(""+y).toLowerCase(),ae=!0}}u.byteLength=J;function ue(A,y,v){let V=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,y>>>=0,v<=y))return"";for(A||(A="utf8");;)switch(A){case"hex":return _e(this,y,v);case"utf8":case"utf-8":return I(this,y,v);case"ascii":return fe(this,y,v);case"latin1":case"binary":return se(this,y,v);case"base64":return E(this,y,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee(this,y,v);default:if(V)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),V=!0}}u.prototype._isBuffer=!0;function F(A,y,v){const V=A[y];A[y]=A[v],A[v]=V}u.prototype.swap16=function(){const y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let v=0;v<y;v+=2)F(this,v,v+1);return this},u.prototype.swap32=function(){const y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let v=0;v<y;v+=4)F(this,v,v+3),F(this,v+1,v+2);return this},u.prototype.swap64=function(){const y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let v=0;v<y;v+=8)F(this,v,v+7),F(this,v+1,v+6),F(this,v+2,v+5),F(this,v+3,v+4);return this},u.prototype.toString=function(){const y=this.length;return y===0?"":arguments.length===0?I(this,0,y):ue.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(y){if(!u.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:u.compare(this,y)===0},u.prototype.inspect=function(){let y="";const v=e.INSPECT_MAX_BYTES;return y=this.toString("hex",0,v).replace(/(.{2})/g,"$1 ").trim(),this.length>v&&(y+=" ... "),"<Buffer "+y+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(y,v,V,ae,we){if(he(y,Uint8Array)&&(y=u.from(y,y.offset,y.byteLength)),!u.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(v===void 0&&(v=0),V===void 0&&(V=y?y.length:0),ae===void 0&&(ae=0),we===void 0&&(we=this.length),v<0||V>y.length||ae<0||we>this.length)throw new RangeError("out of range index");if(ae>=we&&v>=V)return 0;if(ae>=we)return-1;if(v>=V)return 1;if(v>>>=0,V>>>=0,ae>>>=0,we>>>=0,this===y)return 0;let xe=we-ae,Le=V-v;const De=Math.min(xe,Le),Ye=this.slice(ae,we),Ge=y.slice(v,V);for(let it=0;it<De;++it)if(Ye[it]!==Ge[it]){xe=Ye[it],Le=Ge[it];break}return xe<Le?-1:Le<xe?1:0};function re(A,y,v,V,ae){if(A.length===0)return-1;if(typeof v=="string"?(V=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,je(v)&&(v=ae?0:A.length-1),v<0&&(v=A.length+v),v>=A.length){if(ae)return-1;v=A.length-1}else if(v<0)if(ae)v=0;else return-1;if(typeof y=="string"&&(y=u.from(y,V)),u.isBuffer(y))return y.length===0?-1:le(A,y,v,V,ae);if(typeof y=="number")return y=y&255,typeof Uint8Array.prototype.indexOf=="function"?ae?Uint8Array.prototype.indexOf.call(A,y,v):Uint8Array.prototype.lastIndexOf.call(A,y,v):le(A,[y],v,V,ae);throw new TypeError("val must be string, number or Buffer")}function le(A,y,v,V,ae){let we=1,xe=A.length,Le=y.length;if(V!==void 0&&(V=String(V).toLowerCase(),V==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(A.length<2||y.length<2)return-1;we=2,xe/=2,Le/=2,v/=2}function De(Ge,it){return we===1?Ge[it]:Ge.readUInt16BE(it*we)}let Ye;if(ae){let Ge=-1;for(Ye=v;Ye<xe;Ye++)if(De(A,Ye)===De(y,Ge===-1?0:Ye-Ge)){if(Ge===-1&&(Ge=Ye),Ye-Ge+1===Le)return Ge*we}else Ge!==-1&&(Ye-=Ye-Ge),Ge=-1}else for(v+Le>xe&&(v=xe-Le),Ye=v;Ye>=0;Ye--){let Ge=!0;for(let it=0;it<Le;it++)if(De(A,Ye+it)!==De(y,it)){Ge=!1;break}if(Ge)return Ye}return-1}u.prototype.includes=function(y,v,V){return this.indexOf(y,v,V)!==-1},u.prototype.indexOf=function(y,v,V){return re(this,y,v,V,!0)},u.prototype.lastIndexOf=function(y,v,V){return re(this,y,v,V,!1)};function z(A,y,v,V){v=Number(v)||0;const ae=A.length-v;V?(V=Number(V),V>ae&&(V=ae)):V=ae;const we=y.length;V>we/2&&(V=we/2);let xe;for(xe=0;xe<V;++xe){const Le=parseInt(y.substr(xe*2,2),16);if(je(Le))return xe;A[v+xe]=Le}return xe}function q(A,y,v,V){return Q(p(y,A.length-v),A,v,V)}function H(A,y,v,V){return Q(m(y),A,v,V)}function ce(A,y,v,V){return Q(P(y),A,v,V)}function ge(A,y,v,V){return Q(T(y,A.length-v),A,v,V)}u.prototype.write=function(y,v,V,ae){if(v===void 0)ae="utf8",V=this.length,v=0;else if(V===void 0&&typeof v=="string")ae=v,V=this.length,v=0;else if(isFinite(v))v=v>>>0,isFinite(V)?(V=V>>>0,ae===void 0&&(ae="utf8")):(ae=V,V=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const we=this.length-v;if((V===void 0||V>we)&&(V=we),y.length>0&&(V<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");ae||(ae="utf8");let xe=!1;for(;;)switch(ae){case"hex":return z(this,y,v,V);case"utf8":case"utf-8":return q(this,y,v,V);case"ascii":case"latin1":case"binary":return H(this,y,v,V);case"base64":return ce(this,y,v,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ge(this,y,v,V);default:if(xe)throw new TypeError("Unknown encoding: "+ae);ae=(""+ae).toLowerCase(),xe=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(A,y,v){return y===0&&v===A.length?r.fromByteArray(A):r.fromByteArray(A.slice(y,v))}function I(A,y,v){v=Math.min(A.length,v);const V=[];let ae=y;for(;ae<v;){const we=A[ae];let xe=null,Le=we>239?4:we>223?3:we>191?2:1;if(ae+Le<=v){let De,Ye,Ge,it;switch(Le){case 1:we<128&&(xe=we);break;case 2:De=A[ae+1],(De&192)===128&&(it=(we&31)<<6|De&63,it>127&&(xe=it));break;case 3:De=A[ae+1],Ye=A[ae+2],(De&192)===128&&(Ye&192)===128&&(it=(we&15)<<12|(De&63)<<6|Ye&63,it>2047&&(it<55296||it>57343)&&(xe=it));break;case 4:De=A[ae+1],Ye=A[ae+2],Ge=A[ae+3],(De&192)===128&&(Ye&192)===128&&(Ge&192)===128&&(it=(we&15)<<18|(De&63)<<12|(Ye&63)<<6|Ge&63,it>65535&&it<1114112&&(xe=it))}}xe===null?(xe=65533,Le=1):xe>65535&&(xe-=65536,V.push(xe>>>10&1023|55296),xe=56320|xe&1023),V.push(xe),ae+=Le}return ne(V)}const Z=4096;function ne(A){const y=A.length;if(y<=Z)return String.fromCharCode.apply(String,A);let v="",V=0;for(;V<y;)v+=String.fromCharCode.apply(String,A.slice(V,V+=Z));return v}function fe(A,y,v){let V="";v=Math.min(A.length,v);for(let ae=y;ae<v;++ae)V+=String.fromCharCode(A[ae]&127);return V}function se(A,y,v){let V="";v=Math.min(A.length,v);for(let ae=y;ae<v;++ae)V+=String.fromCharCode(A[ae]);return V}function _e(A,y,v){const V=A.length;(!y||y<0)&&(y=0),(!v||v<0||v>V)&&(v=V);let ae="";for(let we=y;we<v;++we)ae+=Oe[A[we]];return ae}function Ee(A,y,v){const V=A.slice(y,v);let ae="";for(let we=0;we<V.length-1;we+=2)ae+=String.fromCharCode(V[we]+V[we+1]*256);return ae}u.prototype.slice=function(y,v){const V=this.length;y=~~y,v=v===void 0?V:~~v,y<0?(y+=V,y<0&&(y=0)):y>V&&(y=V),v<0?(v+=V,v<0&&(v=0)):v>V&&(v=V),v<y&&(v=y);const ae=this.subarray(y,v);return Object.setPrototypeOf(ae,u.prototype),ae};function G(A,y,v){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+y>v)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(y,v,V){y=y>>>0,v=v>>>0,V||G(y,v,this.length);let ae=this[y],we=1,xe=0;for(;++xe<v&&(we*=256);)ae+=this[y+xe]*we;return ae},u.prototype.readUintBE=u.prototype.readUIntBE=function(y,v,V){y=y>>>0,v=v>>>0,V||G(y,v,this.length);let ae=this[y+--v],we=1;for(;v>0&&(we*=256);)ae+=this[y+--v]*we;return ae},u.prototype.readUint8=u.prototype.readUInt8=function(y,v){return y=y>>>0,v||G(y,1,this.length),this[y]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(y,v){return y=y>>>0,v||G(y,2,this.length),this[y]|this[y+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(y,v){return y=y>>>0,v||G(y,2,this.length),this[y]<<8|this[y+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(y,v){return y=y>>>0,v||G(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(y,v){return y=y>>>0,v||G(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},u.prototype.readBigUInt64LE=Ie(function(y){y=y>>>0,X(y,"offset");const v=this[y],V=this[y+7];(v===void 0||V===void 0)&&D(y,this.length-8);const ae=v+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24,we=this[++y]+this[++y]*2**8+this[++y]*2**16+V*2**24;return BigInt(ae)+(BigInt(we)<<BigInt(32))}),u.prototype.readBigUInt64BE=Ie(function(y){y=y>>>0,X(y,"offset");const v=this[y],V=this[y+7];(v===void 0||V===void 0)&&D(y,this.length-8);const ae=v*2**24+this[++y]*2**16+this[++y]*2**8+this[++y],we=this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+V;return(BigInt(ae)<<BigInt(32))+BigInt(we)}),u.prototype.readIntLE=function(y,v,V){y=y>>>0,v=v>>>0,V||G(y,v,this.length);let ae=this[y],we=1,xe=0;for(;++xe<v&&(we*=256);)ae+=this[y+xe]*we;return we*=128,ae>=we&&(ae-=Math.pow(2,8*v)),ae},u.prototype.readIntBE=function(y,v,V){y=y>>>0,v=v>>>0,V||G(y,v,this.length);let ae=v,we=1,xe=this[y+--ae];for(;ae>0&&(we*=256);)xe+=this[y+--ae]*we;return we*=128,xe>=we&&(xe-=Math.pow(2,8*v)),xe},u.prototype.readInt8=function(y,v){return y=y>>>0,v||G(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},u.prototype.readInt16LE=function(y,v){y=y>>>0,v||G(y,2,this.length);const V=this[y]|this[y+1]<<8;return V&32768?V|4294901760:V},u.prototype.readInt16BE=function(y,v){y=y>>>0,v||G(y,2,this.length);const V=this[y+1]|this[y]<<8;return V&32768?V|4294901760:V},u.prototype.readInt32LE=function(y,v){return y=y>>>0,v||G(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},u.prototype.readInt32BE=function(y,v){return y=y>>>0,v||G(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},u.prototype.readBigInt64LE=Ie(function(y){y=y>>>0,X(y,"offset");const v=this[y],V=this[y+7];(v===void 0||V===void 0)&&D(y,this.length-8);const ae=this[y+4]+this[y+5]*2**8+this[y+6]*2**16+(V<<24);return(BigInt(ae)<<BigInt(32))+BigInt(v+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24)}),u.prototype.readBigInt64BE=Ie(function(y){y=y>>>0,X(y,"offset");const v=this[y],V=this[y+7];(v===void 0||V===void 0)&&D(y,this.length-8);const ae=(v<<24)+this[++y]*2**16+this[++y]*2**8+this[++y];return(BigInt(ae)<<BigInt(32))+BigInt(this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+V)}),u.prototype.readFloatLE=function(y,v){return y=y>>>0,v||G(y,4,this.length),n.read(this,y,!0,23,4)},u.prototype.readFloatBE=function(y,v){return y=y>>>0,v||G(y,4,this.length),n.read(this,y,!1,23,4)},u.prototype.readDoubleLE=function(y,v){return y=y>>>0,v||G(y,8,this.length),n.read(this,y,!0,52,8)},u.prototype.readDoubleBE=function(y,v){return y=y>>>0,v||G(y,8,this.length),n.read(this,y,!1,52,8)};function de(A,y,v,V,ae,we){if(!u.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>ae||y<we)throw new RangeError('"value" argument is out of bounds');if(v+V>A.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(y,v,V,ae){if(y=+y,v=v>>>0,V=V>>>0,!ae){const Le=Math.pow(2,8*V)-1;de(this,y,v,V,Le,0)}let we=1,xe=0;for(this[v]=y&255;++xe<V&&(we*=256);)this[v+xe]=y/we&255;return v+V},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(y,v,V,ae){if(y=+y,v=v>>>0,V=V>>>0,!ae){const Le=Math.pow(2,8*V)-1;de(this,y,v,V,Le,0)}let we=V-1,xe=1;for(this[v+we]=y&255;--we>=0&&(xe*=256);)this[v+we]=y/xe&255;return v+V},u.prototype.writeUint8=u.prototype.writeUInt8=function(y,v,V){return y=+y,v=v>>>0,V||de(this,y,v,1,255,0),this[v]=y&255,v+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(y,v,V){return y=+y,v=v>>>0,V||de(this,y,v,2,65535,0),this[v]=y&255,this[v+1]=y>>>8,v+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(y,v,V){return y=+y,v=v>>>0,V||de(this,y,v,2,65535,0),this[v]=y>>>8,this[v+1]=y&255,v+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(y,v,V){return y=+y,v=v>>>0,V||de(this,y,v,4,4294967295,0),this[v+3]=y>>>24,this[v+2]=y>>>16,this[v+1]=y>>>8,this[v]=y&255,v+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(y,v,V){return y=+y,v=v>>>0,V||de(this,y,v,4,4294967295,0),this[v]=y>>>24,this[v+1]=y>>>16,this[v+2]=y>>>8,this[v+3]=y&255,v+4};function Re(A,y,v,V,ae){L(y,V,ae,A,v,7);let we=Number(y&BigInt(4294967295));A[v++]=we,we=we>>8,A[v++]=we,we=we>>8,A[v++]=we,we=we>>8,A[v++]=we;let xe=Number(y>>BigInt(32)&BigInt(4294967295));return A[v++]=xe,xe=xe>>8,A[v++]=xe,xe=xe>>8,A[v++]=xe,xe=xe>>8,A[v++]=xe,v}function O(A,y,v,V,ae){L(y,V,ae,A,v,7);let we=Number(y&BigInt(4294967295));A[v+7]=we,we=we>>8,A[v+6]=we,we=we>>8,A[v+5]=we,we=we>>8,A[v+4]=we;let xe=Number(y>>BigInt(32)&BigInt(4294967295));return A[v+3]=xe,xe=xe>>8,A[v+2]=xe,xe=xe>>8,A[v+1]=xe,xe=xe>>8,A[v]=xe,v+8}u.prototype.writeBigUInt64LE=Ie(function(y,v=0){return Re(this,y,v,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Ie(function(y,v=0){return O(this,y,v,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(y,v,V,ae){if(y=+y,v=v>>>0,!ae){const De=Math.pow(2,8*V-1);de(this,y,v,V,De-1,-De)}let we=0,xe=1,Le=0;for(this[v]=y&255;++we<V&&(xe*=256);)y<0&&Le===0&&this[v+we-1]!==0&&(Le=1),this[v+we]=(y/xe>>0)-Le&255;return v+V},u.prototype.writeIntBE=function(y,v,V,ae){if(y=+y,v=v>>>0,!ae){const De=Math.pow(2,8*V-1);de(this,y,v,V,De-1,-De)}let we=V-1,xe=1,Le=0;for(this[v+we]=y&255;--we>=0&&(xe*=256);)y<0&&Le===0&&this[v+we+1]!==0&&(Le=1),this[v+we]=(y/xe>>0)-Le&255;return v+V},u.prototype.writeInt8=function(y,v,V){return y=+y,v=v>>>0,V||de(this,y,v,1,127,-128),y<0&&(y=255+y+1),this[v]=y&255,v+1},u.prototype.writeInt16LE=function(y,v,V){return y=+y,v=v>>>0,V||de(this,y,v,2,32767,-32768),this[v]=y&255,this[v+1]=y>>>8,v+2},u.prototype.writeInt16BE=function(y,v,V){return y=+y,v=v>>>0,V||de(this,y,v,2,32767,-32768),this[v]=y>>>8,this[v+1]=y&255,v+2},u.prototype.writeInt32LE=function(y,v,V){return y=+y,v=v>>>0,V||de(this,y,v,4,2147483647,-2147483648),this[v]=y&255,this[v+1]=y>>>8,this[v+2]=y>>>16,this[v+3]=y>>>24,v+4},u.prototype.writeInt32BE=function(y,v,V){return y=+y,v=v>>>0,V||de(this,y,v,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[v]=y>>>24,this[v+1]=y>>>16,this[v+2]=y>>>8,this[v+3]=y&255,v+4},u.prototype.writeBigInt64LE=Ie(function(y,v=0){return Re(this,y,v,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Ie(function(y,v=0){return O(this,y,v,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Pe(A,y,v,V,ae,we){if(v+V>A.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function Ce(A,y,v,V,ae){return y=+y,v=v>>>0,ae||Pe(A,y,v,4),n.write(A,y,v,V,23,4),v+4}u.prototype.writeFloatLE=function(y,v,V){return Ce(this,y,v,!0,V)},u.prototype.writeFloatBE=function(y,v,V){return Ce(this,y,v,!1,V)};function be(A,y,v,V,ae){return y=+y,v=v>>>0,ae||Pe(A,y,v,8),n.write(A,y,v,V,52,8),v+8}u.prototype.writeDoubleLE=function(y,v,V){return be(this,y,v,!0,V)},u.prototype.writeDoubleBE=function(y,v,V){return be(this,y,v,!1,V)},u.prototype.copy=function(y,v,V,ae){if(!u.isBuffer(y))throw new TypeError("argument should be a Buffer");if(V||(V=0),!ae&&ae!==0&&(ae=this.length),v>=y.length&&(v=y.length),v||(v=0),ae>0&&ae<V&&(ae=V),ae===V||y.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("sourceEnd out of bounds");ae>this.length&&(ae=this.length),y.length-v<ae-V&&(ae=y.length-v+V);const we=ae-V;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(v,V,ae):Uint8Array.prototype.set.call(y,this.subarray(V,ae),v),we},u.prototype.fill=function(y,v,V,ae){if(typeof y=="string"){if(typeof v=="string"?(ae=v,v=0,V=this.length):typeof V=="string"&&(ae=V,V=this.length),ae!==void 0&&typeof ae!="string")throw new TypeError("encoding must be a string");if(typeof ae=="string"&&!u.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);if(y.length===1){const xe=y.charCodeAt(0);(ae==="utf8"&&xe<128||ae==="latin1")&&(y=xe)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(v<0||this.length<v||this.length<V)throw new RangeError("Out of range index");if(V<=v)return this;v=v>>>0,V=V===void 0?this.length:V>>>0,y||(y=0);let we;if(typeof y=="number")for(we=v;we<V;++we)this[we]=y;else{const xe=u.isBuffer(y)?y:u.from(y,ae),Le=xe.length;if(Le===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for(we=0;we<V-v;++we)this[we+v]=xe[we%Le]}return this};const me={};function Ne(A,y,v){me[A]=class extends v{constructor(){super(),Object.defineProperty(this,"message",{value:y.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(ae){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ae,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}Ne("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ne("ERR_INVALID_ARG_TYPE",function(A,y){return`The "${A}" argument must be of type number. Received type ${typeof y}`},TypeError),Ne("ERR_OUT_OF_RANGE",function(A,y,v){let V=`The value of "${A}" is out of range.`,ae=v;return Number.isInteger(v)&&Math.abs(v)>2**32?ae=R(String(v)):typeof v=="bigint"&&(ae=String(v),(v>BigInt(2)**BigInt(32)||v<-(BigInt(2)**BigInt(32)))&&(ae=R(ae)),ae+="n"),V+=` It must be ${y}. Received ${ae}`,V},RangeError);function R(A){let y="",v=A.length;const V=A[0]==="-"?1:0;for(;v>=V+4;v-=3)y=`_${A.slice(v-3,v)}${y}`;return`${A.slice(0,v)}${y}`}function U(A,y,v){X(y,"offset"),(A[y]===void 0||A[y+v]===void 0)&&D(y,A.length-(v+1))}function L(A,y,v,V,ae,we){if(A>v||A<y){const xe=typeof y=="bigint"?"n":"";let Le;throw y===0||y===BigInt(0)?Le=`>= 0${xe} and < 2${xe} ** ${(we+1)*8}${xe}`:Le=`>= -(2${xe} ** ${(we+1)*8-1}${xe}) and < 2 ** ${(we+1)*8-1}${xe}`,new me.ERR_OUT_OF_RANGE("value",Le,A)}U(V,ae,we)}function X(A,y){if(typeof A!="number")throw new me.ERR_INVALID_ARG_TYPE(y,"number",A)}function D(A,y,v){throw Math.floor(A)!==A?(X(A,v),new me.ERR_OUT_OF_RANGE("offset","an integer",A)):y<0?new me.ERR_BUFFER_OUT_OF_BOUNDS:new me.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${y}`,A)}const ie=/[^+/0-9A-Za-z-_]/g;function S(A){if(A=A.split("=")[0],A=A.trim().replace(ie,""),A.length<2)return"";for(;A.length%4!==0;)A=A+"=";return A}function p(A,y){y=y||1/0;let v;const V=A.length;let ae=null;const we=[];for(let xe=0;xe<V;++xe){if(v=A.charCodeAt(xe),v>55295&&v<57344){if(!ae){if(v>56319){(y-=3)>-1&&we.push(239,191,189);continue}else if(xe+1===V){(y-=3)>-1&&we.push(239,191,189);continue}ae=v;continue}if(v<56320){(y-=3)>-1&&we.push(239,191,189),ae=v;continue}v=(ae-55296<<10|v-56320)+65536}else ae&&(y-=3)>-1&&we.push(239,191,189);if(ae=null,v<128){if((y-=1)<0)break;we.push(v)}else if(v<2048){if((y-=2)<0)break;we.push(v>>6|192,v&63|128)}else if(v<65536){if((y-=3)<0)break;we.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((y-=4)<0)break;we.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return we}function m(A){const y=[];for(let v=0;v<A.length;++v)y.push(A.charCodeAt(v)&255);return y}function T(A,y){let v,V,ae;const we=[];for(let xe=0;xe<A.length&&!((y-=2)<0);++xe)v=A.charCodeAt(xe),V=v>>8,ae=v%256,we.push(ae),we.push(V);return we}function P(A){return r.toByteArray(S(A))}function Q(A,y,v,V){let ae;for(ae=0;ae<V&&!(ae+v>=y.length||ae>=A.length);++ae)y[ae+v]=A[ae];return ae}function he(A,y){return A instanceof y||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===y.name}function je(A){return A!==A}const Oe=function(){const A="0123456789abcdef",y=new Array(256);for(let v=0;v<16;++v){const V=v*16;for(let ae=0;ae<16;++ae)y[V+ae]=A[v]+A[ae]}return y}();function Ie(A){return typeof BigInt>"u"?Qe:A}function Qe(){throw new Error("BigInt not supported")}}($d)),$d}var qv=Hv(),Cf;(function(e){e[e.SysFatal=1]="SysFatal",e[e.SysTransient=2]="SysTransient",e[e.DestinationInvalid=3]="DestinationInvalid",e[e.CanisterReject=4]="CanisterReject",e[e.CanisterError=5]="CanisterError"})(Cf||(Cf={}));const Gv="modulepreload",Wv=function(e){return"/"+e},fm={},Kv=function(r,n,s){let o=Promise.resolve();if(n&&n.length>0){let f=function(_){return Promise.all(_.map(N=>Promise.resolve(N).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),g=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=f(n.map(_=>{if(_=Wv(_),_ in fm)return;fm[_]=!0;const N=_.endsWith(".css"),w=N?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${w}`))return;const k=document.createElement("link");if(k.rel=N?"stylesheet":Gv,N||(k.as="script"),k.crossOrigin="",k.href=_,g&&k.setAttribute("nonce",g),document.head.appendChild(k),N)return new Promise((j,b)=>{k.addEventListener("load",j),k.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${_}`)))})}))}function d(f){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=f,window.dispatchEvent(u),!u.defaultPrevented)throw f}return o.then(f=>{for(const u of f||[])u.status==="rejected"&&d(u.reason);return r().catch(d)})},dc="abcdefghijklmnopqrstuvwxyz234567",Ys=Object.create(null);for(let e=0;e<dc.length;e++)Ys[dc[e]]=e;Ys[0]=Ys.o;Ys[1]=Ys.i;function Lv(e){let r=0,n=0,s="";function o(d){return r<0?n|=d>>-r:n=d<<r&248,r>3?(r-=8,1):(r<4&&(s+=dc[n>>3],r+=5),0)}for(let d=0;d<e.length;)d+=o(e[d]);return s+(r<0?dc[n>>3]:"")}function Yv(e){let r=0,n=0;const s=new Uint8Array(e.length*4/3|0);let o=0;function d(f){let u=Ys[f.toLowerCase()];if(u===void 0)throw new Error(`Invalid character: ${JSON.stringify(f)}`);u<<=3,n|=u>>>r,r+=5,r>=8&&(s[o++]=n,r-=8,r>0?n=u<<5-r&255:n=0)}for(const f of e)d(f);return s.slice(0,o)}const Zv=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function Qv(e){const r=new Uint8Array(e);let n=-1;for(let s=0;s<r.length;s++){const d=(r[s]^n)&255;n=Zv[d]^n>>>8}return(n^-1)>>>0}const js=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function r0(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Dv(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Kt(e,...r){if(!r0(e))throw new Error("Uint8Array expected");if(r.length>0&&!r.includes(e.length))throw new Error("Uint8Array expected of length "+r+", got length="+e.length)}function hm(e,r=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(r&&e.finished)throw new Error("Hash#digest() has already been called")}function Xv(e,r){Kt(e);const n=r.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Da(...e){for(let r=0;r<e.length;r++)e[r].fill(0)}function zd(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function tn(e,r){return e<<32-r|e>>>r}const Hg=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Jv=Array.from({length:256},(e,r)=>r.toString(16).padStart(2,"0"));function Zs(e){if(Kt(e),Hg)return e.toHex();let r="";for(let n=0;n<e.length;n++)r+=Jv[e[n]];return r}const vn={_0:48,_9:57,A:65,F:70,a:97,f:102};function pm(e){if(e>=vn._0&&e<=vn._9)return e-vn._0;if(e>=vn.A&&e<=vn.F)return e-(vn.A-10);if(e>=vn.a&&e<=vn.f)return e-(vn.a-10)}function qg(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Hg)return Uint8Array.fromHex(e);const r=e.length,n=r/2;if(r%2)throw new Error("hex string expected, got unpadded hex of length "+r);const s=new Uint8Array(n);for(let o=0,d=0;o<n;o++,d+=2){const f=pm(e.charCodeAt(d)),u=pm(e.charCodeAt(d+1));if(f===void 0||u===void 0){const g=e[d]+e[d+1];throw new Error('hex string expected, got non-hex character "'+g+'" at index '+d)}s[o]=f*16+u}return s}function Tc(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Gg(e){return typeof e=="string"&&(e=Tc(e)),Kt(e),e}function At(...e){let r=0;for(let s=0;s<e.length;s++){const o=e[s];Kt(o),r+=o.length}const n=new Uint8Array(r);for(let s=0,o=0;s<e.length;s++){const d=e[s];n.set(d,o),o+=d.length}return n}class e2{}function n0(e){const r=s=>e().update(Gg(s)).digest(),n=e();return r.outputLen=n.outputLen,r.blockLen=n.blockLen,r.create=()=>e(),r}function Wg(e=32){if(js&&typeof js.getRandomValues=="function")return js.getRandomValues(new Uint8Array(e));if(js&&typeof js.randomBytes=="function")return Uint8Array.from(js.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function t2(e,r,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(r,n,s);const o=BigInt(32),d=BigInt(4294967295),f=Number(n>>o&d),u=Number(n&d),g=s?4:0,_=s?0:4;e.setUint32(r+g,f,s),e.setUint32(r+_,u,s)}function r2(e,r,n){return e&r^~e&n}function n2(e,r,n){return e&r^e&n^r&n}class Kg extends e2{constructor(r,n,s,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=r,this.outputLen=n,this.padOffset=s,this.isLE=o,this.buffer=new Uint8Array(r),this.view=zd(this.buffer)}update(r){hm(this),r=Gg(r),Kt(r);const{view:n,buffer:s,blockLen:o}=this,d=r.length;for(let f=0;f<d;){const u=Math.min(o-this.pos,d-f);if(u===o){const g=zd(r);for(;o<=d-f;f+=o)this.process(g,f);continue}s.set(r.subarray(f,f+u),this.pos),this.pos+=u,f+=u,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=r.length,this.roundClean(),this}digestInto(r){hm(this),Xv(r,this),this.finished=!0;const{buffer:n,view:s,blockLen:o,isLE:d}=this;let{pos:f}=this;n[f++]=128,Da(this.buffer.subarray(f)),this.padOffset>o-f&&(this.process(s,0),f=0);for(let w=f;w<o;w++)n[w]=0;t2(s,o-8,BigInt(this.length*8),d),this.process(s,0);const u=zd(r),g=this.outputLen;if(g%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const _=g/4,N=this.get();if(_>N.length)throw new Error("_sha2: outputLen bigger than state");for(let w=0;w<_;w++)u.setUint32(4*w,N[w],d)}digest(){const{buffer:r,outputLen:n}=this;this.digestInto(r);const s=r.slice(0,n);return this.destroy(),s}_cloneInto(r){r||(r=new this.constructor),r.set(...this.get());const{blockLen:n,buffer:s,length:o,finished:d,destroyed:f,pos:u}=this;return r.destroyed=f,r.finished=d,r.length=o,r.pos=u,o%n&&r.buffer.set(s),r}clone(){return this._cloneInto()}}const ti=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ri=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),Dt=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),kl=BigInt(2**32-1),mm=BigInt(32);function i2(e,r=!1){return r?{h:Number(e&kl),l:Number(e>>mm&kl)}:{h:Number(e>>mm&kl)|0,l:Number(e&kl)|0}}function s2(e,r=!1){const n=e.length;let s=new Uint32Array(n),o=new Uint32Array(n);for(let d=0;d<n;d++){const{h:f,l:u}=i2(e[d],r);[s[d],o[d]]=[f,u]}return[s,o]}const gm=(e,r,n)=>e>>>n,ym=(e,r,n)=>e<<32-n|r>>>n,As=(e,r,n)=>e>>>n|r<<32-n,Ts=(e,r,n)=>e<<32-n|r>>>n,Sl=(e,r,n)=>e<<64-n|r>>>n-32,jl=(e,r,n)=>e>>>n-32|r<<64-n;function bn(e,r,n,s){const o=(r>>>0)+(s>>>0);return{h:e+n+(o/2**32|0)|0,l:o|0}}const a2=(e,r,n)=>(e>>>0)+(r>>>0)+(n>>>0),o2=(e,r,n,s)=>r+n+s+(e/2**32|0)|0,l2=(e,r,n,s)=>(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),c2=(e,r,n,s,o)=>r+n+s+o+(e/2**32|0)|0,u2=(e,r,n,s,o)=>(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0)+(o>>>0),d2=(e,r,n,s,o,d)=>r+n+s+o+d+(e/2**32|0)|0,f2=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ni=new Uint32Array(64);class Lg extends Kg{constructor(r=32){super(64,r,8,!1),this.A=ti[0]|0,this.B=ti[1]|0,this.C=ti[2]|0,this.D=ti[3]|0,this.E=ti[4]|0,this.F=ti[5]|0,this.G=ti[6]|0,this.H=ti[7]|0}get(){const{A:r,B:n,C:s,D:o,E:d,F:f,G:u,H:g}=this;return[r,n,s,o,d,f,u,g]}set(r,n,s,o,d,f,u,g){this.A=r|0,this.B=n|0,this.C=s|0,this.D=o|0,this.E=d|0,this.F=f|0,this.G=u|0,this.H=g|0}process(r,n){for(let w=0;w<16;w++,n+=4)ni[w]=r.getUint32(n,!1);for(let w=16;w<64;w++){const k=ni[w-15],j=ni[w-2],b=tn(k,7)^tn(k,18)^k>>>3,M=tn(j,17)^tn(j,19)^j>>>10;ni[w]=M+ni[w-7]+b+ni[w-16]|0}let{A:s,B:o,C:d,D:f,E:u,F:g,G:_,H:N}=this;for(let w=0;w<64;w++){const k=tn(u,6)^tn(u,11)^tn(u,25),j=N+k+r2(u,g,_)+f2[w]+ni[w]|0,M=(tn(s,2)^tn(s,13)^tn(s,22))+n2(s,o,d)|0;N=_,_=g,g=u,u=f+j|0,f=d,d=o,o=s,s=j+M|0}s=s+this.A|0,o=o+this.B|0,d=d+this.C|0,f=f+this.D|0,u=u+this.E|0,g=g+this.F|0,_=_+this.G|0,N=N+this.H|0,this.set(s,o,d,f,u,g,_,N)}roundClean(){Da(ni)}destroy(){this.set(0,0,0,0,0,0,0,0),Da(this.buffer)}}class h2 extends Lg{constructor(){super(28),this.A=ri[0]|0,this.B=ri[1]|0,this.C=ri[2]|0,this.D=ri[3]|0,this.E=ri[4]|0,this.F=ri[5]|0,this.G=ri[6]|0,this.H=ri[7]|0}}const Yg=s2(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),p2=Yg[0],m2=Yg[1],ii=new Uint32Array(80),si=new Uint32Array(80);class g2 extends Kg{constructor(r=64){super(128,r,16,!1),this.Ah=Dt[0]|0,this.Al=Dt[1]|0,this.Bh=Dt[2]|0,this.Bl=Dt[3]|0,this.Ch=Dt[4]|0,this.Cl=Dt[5]|0,this.Dh=Dt[6]|0,this.Dl=Dt[7]|0,this.Eh=Dt[8]|0,this.El=Dt[9]|0,this.Fh=Dt[10]|0,this.Fl=Dt[11]|0,this.Gh=Dt[12]|0,this.Gl=Dt[13]|0,this.Hh=Dt[14]|0,this.Hl=Dt[15]|0}get(){const{Ah:r,Al:n,Bh:s,Bl:o,Ch:d,Cl:f,Dh:u,Dl:g,Eh:_,El:N,Fh:w,Fl:k,Gh:j,Gl:b,Hh:M,Hl:B}=this;return[r,n,s,o,d,f,u,g,_,N,w,k,j,b,M,B]}set(r,n,s,o,d,f,u,g,_,N,w,k,j,b,M,B){this.Ah=r|0,this.Al=n|0,this.Bh=s|0,this.Bl=o|0,this.Ch=d|0,this.Cl=f|0,this.Dh=u|0,this.Dl=g|0,this.Eh=_|0,this.El=N|0,this.Fh=w|0,this.Fl=k|0,this.Gh=j|0,this.Gl=b|0,this.Hh=M|0,this.Hl=B|0}process(r,n){for(let J=0;J<16;J++,n+=4)ii[J]=r.getUint32(n),si[J]=r.getUint32(n+=4);for(let J=16;J<80;J++){const ue=ii[J-15]|0,F=si[J-15]|0,re=As(ue,F,1)^As(ue,F,8)^gm(ue,F,7),le=Ts(ue,F,1)^Ts(ue,F,8)^ym(ue,F,7),z=ii[J-2]|0,q=si[J-2]|0,H=As(z,q,19)^Sl(z,q,61)^gm(z,q,6),ce=Ts(z,q,19)^jl(z,q,61)^ym(z,q,6),ge=l2(le,ce,si[J-7],si[J-16]),E=c2(ge,re,H,ii[J-7],ii[J-16]);ii[J]=E|0,si[J]=ge|0}let{Ah:s,Al:o,Bh:d,Bl:f,Ch:u,Cl:g,Dh:_,Dl:N,Eh:w,El:k,Fh:j,Fl:b,Gh:M,Gl:B,Hh:$,Hl:W}=this;for(let J=0;J<80;J++){const ue=As(w,k,14)^As(w,k,18)^Sl(w,k,41),F=Ts(w,k,14)^Ts(w,k,18)^jl(w,k,41),re=w&j^~w&M,le=k&b^~k&B,z=u2(W,F,le,m2[J],si[J]),q=d2(z,$,ue,re,p2[J],ii[J]),H=z|0,ce=As(s,o,28)^Sl(s,o,34)^Sl(s,o,39),ge=Ts(s,o,28)^jl(s,o,34)^jl(s,o,39),E=s&d^s&u^d&u,I=o&f^o&g^f&g;$=M|0,W=B|0,M=j|0,B=b|0,j=w|0,b=k|0,{h:w,l:k}=bn(_|0,N|0,q|0,H|0),_=u|0,N=g|0,u=d|0,g=f|0,d=s|0,f=o|0;const Z=a2(H,ge,I);s=o2(Z,q,ce,E),o=Z|0}({h:s,l:o}=bn(this.Ah|0,this.Al|0,s|0,o|0)),{h:d,l:f}=bn(this.Bh|0,this.Bl|0,d|0,f|0),{h:u,l:g}=bn(this.Ch|0,this.Cl|0,u|0,g|0),{h:_,l:N}=bn(this.Dh|0,this.Dl|0,_|0,N|0),{h:w,l:k}=bn(this.Eh|0,this.El|0,w|0,k|0),{h:j,l:b}=bn(this.Fh|0,this.Fl|0,j|0,b|0),{h:M,l:B}=bn(this.Gh|0,this.Gl|0,M|0,B|0),{h:$,l:W}=bn(this.Hh|0,this.Hl|0,$|0,W|0),this.set(s,o,d,f,u,g,_,N,w,k,j,b,M,B,$,W)}roundClean(){Da(ii,si)}destroy(){Da(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const i0=n0(()=>new Lg),y2=n0(()=>new h2),x2=n0(()=>new g2),w2=i0,v2=y2;function b2(e){return v2.create().update(new Uint8Array(e)).digest()}const Al="__principal__",_2=2,xm=4,N2="aaaaa-aa",E2=e=>{var r;return new Uint8Array(((r=e.match(/.{1,2}/g))!==null&&r!==void 0?r:[]).map(n=>parseInt(n,16)))},k2=e=>e.reduce((r,n)=>r+n.toString(16).padStart(2,"0"),"");let et=class Fl{constructor(r){this._arr=r,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([xm]))}static managementCanister(){return this.fromText(N2)}static selfAuthenticating(r){const n=b2(r);return new this(new Uint8Array([...n,_2]))}static from(r){if(typeof r=="string")return Fl.fromText(r);if(Object.getPrototypeOf(r)===Uint8Array.prototype)return new Fl(r);if(typeof r=="object"&&r!==null&&r._isPrincipal===!0)return new Fl(r._arr);throw new Error(`Impossible to convert ${JSON.stringify(r)} to Principal.`)}static fromHex(r){return new this(E2(r))}static fromText(r){let n=r;if(r.includes(Al)){const f=JSON.parse(r);Al in f&&(n=f[Al])}const s=n.toLowerCase().replace(/-/g,"");let o=Yv(s);o=o.slice(4,o.length);const d=new this(o);if(d.toText()!==n)throw new Error(`Principal "${d.toText()}" does not have a valid checksum (original value "${n}" may not be a valid Principal ID).`);return d}static fromUint8Array(r){return new this(r)}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===xm}toUint8Array(){return this._arr}toHex(){return k2(this._arr).toUpperCase()}toText(){const r=new ArrayBuffer(4);new DataView(r).setUint32(0,Qv(this._arr));const s=new Uint8Array(r),o=Uint8Array.from(this._arr),d=new Uint8Array([...s,...o]),u=Lv(d).match(/.{1,5}/g);if(!u)throw new Error;return u.join("-")}toString(){return this.toText()}toJSON(){return{[Al]:this.toText()}}compareTo(r){for(let n=0;n<Math.min(this._arr.length,r._arr.length);n++){if(this._arr[n]<r._arr[n])return"lt";if(this._arr[n]>r._arr[n])return"gt"}return this._arr.length<r._arr.length?"lt":this._arr.length>r._arr.length?"gt":"eq"}ltEq(r){const n=this.compareTo(r);return n=="lt"||n=="eq"}gtEq(r){const n=this.compareTo(r);return n=="gt"||n=="eq"}};function Kr(...e){const r=new Uint8Array(e.reduce((s,o)=>s+o.byteLength,0));let n=0;for(const s of e)r.set(new Uint8Array(s),n),n+=s.byteLength;return r.buffer}function wt(e){return[...new Uint8Array(e)].map(r=>r.toString(16).padStart(2,"0")).join("")}const S2=new RegExp(/^[0-9a-fA-F]+$/);function Pn(e){if(!S2.test(e))throw new Error("Invalid hexadecimal string.");const r=[...e].reduce((n,s,o)=>(n[o/2|0]=(n[o/2|0]||"")+s,n),[]).map(n=>Number.parseInt(n,16));return new Uint8Array(r).buffer}function Zg(e,r){if(e.byteLength!==r.byteLength)return e.byteLength-r.byteLength;const n=new Uint8Array(e),s=new Uint8Array(r);for(let o=0;o<n.length;o++)if(n[o]!==s[o])return n[o]-s[o];return 0}function ao(e,r){return Zg(e,r)===0}function Ya(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function Tn(e){return e instanceof Uint8Array?Ya(e):e instanceof ArrayBuffer?e:Array.isArray(e)?Ya(new Uint8Array(e)):"buffer"in e?Tn(e.buffer):Ya(new Uint8Array(e))}class kt extends Error{constructor(r){super(r),this.message=r,this.name="AgentError",this.__proto__=kt.prototype,Object.setPrototypeOf(this,kt.prototype)}}function dt(...e){const r=new Uint8Array(e.reduce((s,o)=>s+o.byteLength,0));let n=0;for(const s of e)r.set(new Uint8Array(s),n),n+=s.byteLength;return r}class Js{constructor(r,n=(r==null?void 0:r.byteLength)||0){this._buffer=Li(r||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,n)}save(){return this._view}restore(r){this._view=r}get buffer(){return Li(this._view.slice())}get byteLength(){return this._view.byteLength}read(r){const n=this._view.subarray(0,r);return this._view=this._view.subarray(r),n.slice().buffer}readUint8(){const r=this._view[0];return this._view=this._view.subarray(1),r}write(r){const n=new Uint8Array(r),s=this._view.byteLength;this._view.byteOffset+this._view.byteLength+n.byteLength>=this._buffer.byteLength?this.alloc(n.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+n.byteLength),this._view.set(n,s)}get end(){return this._view.byteLength===0}alloc(r){const n=new ArrayBuffer((this._buffer.byteLength+r)*1.2|0),s=new Uint8Array(n,0,this._view.byteLength+r);s.set(this._view),this._buffer=n,this._view=s}}function Vd(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function Li(e){return e instanceof Uint8Array?Vd(e):e instanceof ArrayBuffer?e:Array.isArray(e)?Vd(new Uint8Array(e)):"buffer"in e?Li(e.buffer):Vd(new Uint8Array(e))}function j2(e){const n=new TextEncoder().encode(e);let s=0;for(const o of n)s=(s*223+o)%2**32;return s}function cn(e){if(/^_\d+_$/.test(e)||/^_0x[0-9a-fA-F]+_$/.test(e)){const r=+e.slice(1,-1);if(Number.isSafeInteger(r)&&r>=0&&r<2**32)return r}return j2(e)}function Qg(){throw new Error("unexpected end of buffer")}function Yi(e,r){return e.byteLength<r&&Qg(),e.read(r)}function Zi(e){const r=e.readUint8();return r===void 0&&Qg(),r}function St(e){if(typeof e=="number"&&(e=BigInt(e)),e<BigInt(0))throw new Error("Cannot leb encode negative values.");const r=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,n=new Js(new ArrayBuffer(r),0);for(;;){const s=Number(e&BigInt(127));if(e/=BigInt(128),e===BigInt(0)){n.write(new Uint8Array([s]));break}else n.write(new Uint8Array([s|128]))}return n.buffer}function $t(e){let r=BigInt(1),n=BigInt(0),s;do s=Zi(e),n+=BigInt(s&127).valueOf()*r,r*=BigInt(128);while(s>=128);return n}function Ot(e){typeof e=="number"&&(e=BigInt(e));const r=e<BigInt(0);r&&(e=-e-BigInt(1));const n=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,s=new Js(new ArrayBuffer(n),0);for(;;){const d=o(e);if(e/=BigInt(128),r&&e===BigInt(0)&&(d&64)!==0||!r&&e===BigInt(0)&&(d&64)===0){s.write(new Uint8Array([d]));break}else s.write(new Uint8Array([d|128]))}function o(d){const f=d%BigInt(128);return Number(r?BigInt(128)-f-BigInt(1):f)}return s.buffer}function ci(e){const r=new Uint8Array(e.buffer);let n=0;for(;n<r.byteLength;n++)if(r[n]<128){if((r[n]&64)===0)return $t(e);break}const s=new Uint8Array(Yi(e,n+1));let o=BigInt(0);for(let d=s.byteLength-1;d>=0;d--)o=o*BigInt(128)+BigInt(128-(s[d]&127)-1);return-o-BigInt(1)}function A2(e,r){if(BigInt(e)<BigInt(0))throw new Error("Cannot write negative values.");return Dg(e,r)}function Dg(e,r){e=BigInt(e);const n=new Js(new ArrayBuffer(Math.min(1,r)),0);let s=0,o=BigInt(256),d=BigInt(0),f=Number(e%o);for(n.write(new Uint8Array([f]));++s<r;)e<0&&d===BigInt(0)&&f!==0&&(d=BigInt(1)),f=Number((e/o-d)%BigInt(256)),n.write(new Uint8Array([f])),o*=BigInt(256);return n.buffer}function Xg(e,r){let n=BigInt(Zi(e)),s=BigInt(1),o=0;for(;++o<r;){s*=BigInt(256);const d=BigInt(Zi(e));n=n+s*d}return n}function T2(e,r){let n=Xg(e,r);const s=BigInt(2)**(BigInt(8)*BigInt(r-1)+BigInt(7));return n>=s&&(n-=s*BigInt(2)),n}function Bf(e){const r=BigInt(e);if(e<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<r}const Il="DIDL",wm=400;function Xa(e,r,n){return e.map((s,o)=>n(s,r[o]))}class C2{constructor(){this._typs=[],this._idx=new Map}has(r){return this._idx.has(r.name)}add(r,n){const s=this._typs.length;this._idx.set(r.name,s),this._typs.push(n)}merge(r,n){const s=this._idx.get(r.name),o=this._idx.get(n);if(s===void 0)throw new Error("Missing type index for "+r);if(o===void 0)throw new Error("Missing type index for "+n);this._typs[s]=this._typs[o],this._typs.splice(o,1),this._idx.delete(n)}encode(){const r=St(this._typs.length),n=dt(...this._typs);return dt(r,n)}indexOf(r){if(!this._idx.has(r))throw new Error("Missing type index for "+r);return Ot(this._idx.get(r)||0)}}class B2{visitType(r,n){throw new Error("Not implemented")}visitPrimitive(r,n){return this.visitType(r,n)}visitEmpty(r,n){return this.visitPrimitive(r,n)}visitBool(r,n){return this.visitPrimitive(r,n)}visitNull(r,n){return this.visitPrimitive(r,n)}visitReserved(r,n){return this.visitPrimitive(r,n)}visitText(r,n){return this.visitPrimitive(r,n)}visitNumber(r,n){return this.visitPrimitive(r,n)}visitInt(r,n){return this.visitNumber(r,n)}visitNat(r,n){return this.visitNumber(r,n)}visitFloat(r,n){return this.visitPrimitive(r,n)}visitFixedInt(r,n){return this.visitNumber(r,n)}visitFixedNat(r,n){return this.visitNumber(r,n)}visitPrincipal(r,n){return this.visitPrimitive(r,n)}visitConstruct(r,n){return this.visitType(r,n)}visitVec(r,n,s){return this.visitConstruct(r,s)}visitOpt(r,n,s){return this.visitConstruct(r,s)}visitRecord(r,n,s){return this.visitConstruct(r,s)}visitTuple(r,n,s){const o=n.map((d,f)=>[`_${f}_`,d]);return this.visitRecord(r,o,s)}visitVariant(r,n,s){return this.visitConstruct(r,s)}visitRec(r,n,s){return this.visitConstruct(n,s)}visitFunc(r,n){return this.visitConstruct(r,n)}visitService(r,n){return this.visitConstruct(r,n)}}class Cc{display(){return this.name}valueToString(r){return Tt(r)}buildTypeTable(r){r.has(this)||this._buildTypeTableImpl(r)}}class Pr extends Cc{checkType(r){if(this.name!==r.name)throw new Error(`type mismatch: type on the wire ${r.name}, expect type ${this.name}`);return r}_buildTypeTableImpl(r){}}class bi extends Cc{checkType(r){if(r instanceof Mn){const n=r.getType();if(typeof n>"u")throw new Error("type mismatch with uninitialized type");return n}throw new Error(`type mismatch: type on the wire ${r.name}, expect type ${this.name}`)}encodeType(r){return r.indexOf(this.name)}}class Jg extends Pr{accept(r,n){return r.visitEmpty(this,n)}covariant(r){throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return Ot(-17)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}}class ey extends Cc{checkType(r){throw new Error("Method not implemented for unknown.")}accept(r,n){throw r.visitType(this,n)}covariant(r){throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(r,n){let s=n.decodeValue(r,n);Object(s)!==s&&(s=Object(s));let o;return n instanceof Mn?o=()=>n.getType():o=()=>n,Object.defineProperty(s,"type",{value:o,writable:!0,enumerable:!1,configurable:!0}),s}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}}class ty extends Pr{accept(r,n){return r.visitBool(this,n)}covariant(r){if(typeof r=="boolean")return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){return new Uint8Array([r?1:0])}encodeType(){return Ot(-2)}decodeValue(r,n){switch(this.checkType(n),Zi(r)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}}class fc extends Pr{accept(r,n){return r.visitNull(this,n)}covariant(r){if(r===null)return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(){return new ArrayBuffer(0)}encodeType(){return Ot(-1)}decodeValue(r,n){return this.checkType(n),null}get name(){return"null"}}class Qs extends Pr{accept(r,n){return r.visitReserved(this,n)}covariant(r){return!0}encodeValue(){return new ArrayBuffer(0)}encodeType(){return Ot(-16)}decodeValue(r,n){return n.name!==this.name&&n.decodeValue(r,n),null}get name(){return"reserved"}}class ry extends Pr{accept(r,n){return r.visitText(this,n)}covariant(r){if(typeof r=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){const n=new TextEncoder().encode(r),s=St(n.byteLength);return dt(s,n)}encodeType(){return Ot(-15)}decodeValue(r,n){this.checkType(n);const s=$t(r),o=Yi(r,Number(s));return new TextDecoder("utf8",{fatal:!0}).decode(o)}get name(){return"text"}valueToString(r){return'"'+r+'"'}}class ny extends Pr{accept(r,n){return r.visitInt(this,n)}covariant(r){if(typeof r=="bigint"||Number.isInteger(r))return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){return Ot(r)}encodeType(){return Ot(-4)}decodeValue(r,n){return this.checkType(n),ci(r)}get name(){return"int"}valueToString(r){return r.toString()}}class iy extends Pr{accept(r,n){return r.visitNat(this,n)}covariant(r){if(typeof r=="bigint"&&r>=BigInt(0)||Number.isInteger(r)&&r>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){return St(r)}encodeType(){return Ot(-3)}decodeValue(r,n){return this.checkType(n),$t(r)}get name(){return"nat"}valueToString(r){return r.toString()}}class s0 extends Pr{constructor(r){if(super(),this._bits=r,r!==32&&r!==64)throw new Error("not a valid float type")}accept(r,n){return r.visitFloat(this,n)}covariant(r){if(typeof r=="number"||r instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){const n=new ArrayBuffer(this._bits/8),s=new DataView(n);return this._bits===32?s.setFloat32(0,r,!0):s.setFloat64(0,r,!0),n}encodeType(){const r=this._bits===32?-13:-14;return Ot(r)}decodeValue(r,n){this.checkType(n);const s=Yi(r,this._bits/8),o=new DataView(s);return this._bits===32?o.getFloat32(0,!0):o.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(r){return r.toString()}}class Qi extends Pr{constructor(r){super(),this._bits=r}accept(r,n){return r.visitFixedInt(this,n)}covariant(r){const n=Bf(this._bits-1)*BigInt(-1),s=Bf(this._bits-1)-BigInt(1);let o=!1;if(typeof r=="bigint")o=r>=n&&r<=s;else if(Number.isInteger(r)){const d=BigInt(r);o=d>=n&&d<=s}else o=!1;if(o)return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){return Dg(r,this._bits/8)}encodeType(){const r=Math.log2(this._bits)-3;return Ot(-9-r)}decodeValue(r,n){this.checkType(n);const s=T2(r,this._bits/8);return this._bits<=32?Number(s):s}get name(){return`int${this._bits}`}valueToString(r){return r.toString()}}class yi extends Pr{constructor(r){super(),this._bits=r}accept(r,n){return r.visitFixedNat(this,n)}covariant(r){const n=Bf(this._bits);let s=!1;if(typeof r=="bigint"&&r>=BigInt(0)?s=r<n:Number.isInteger(r)&&r>=0?s=BigInt(r)<n:s=!1,s)return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){return A2(r,this._bits/8)}encodeType(){const r=Math.log2(this._bits)-3;return Ot(-5-r)}decodeValue(r,n){this.checkType(n);const s=Xg(r,this._bits/8);return this._bits<=32?Number(s):s}get name(){return`nat${this._bits}`}valueToString(r){return r.toString()}}class Bc extends bi{constructor(r){super(),this._type=r,this._blobOptimization=!1,r instanceof yi&&r._bits===8&&(this._blobOptimization=!0)}accept(r,n){return r.visitVec(this,this._type,n)}covariant(r){const n=this._type instanceof yi?this._type._bits:this._type instanceof Qi?this._type._bits:0;if(ArrayBuffer.isView(r)&&n==r.BYTES_PER_ELEMENT*8||Array.isArray(r)&&r.every((s,o)=>{try{return this._type.covariant(s)}catch(d){throw new Error(`Invalid ${this.display()} argument: 

index ${o} -> ${d.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){const n=St(r.length);if(this._blobOptimization)return dt(n,new Uint8Array(r));if(ArrayBuffer.isView(r))return dt(n,new Uint8Array(r.buffer));const s=new Js(new ArrayBuffer(n.byteLength+r.length),0);s.write(n);for(const o of r){const d=this._type.encodeValue(o);s.write(new Uint8Array(d))}return s.buffer}_buildTypeTableImpl(r){this._type.buildTypeTable(r);const n=Ot(-19),s=this._type.encodeType(r);r.add(this,dt(n,s))}decodeValue(r,n){const s=this.checkType(n);if(!(s instanceof Bc))throw new Error("Not a vector type");const o=Number($t(r));if(this._type instanceof yi){if(this._type._bits==8)return new Uint8Array(r.read(o));if(this._type._bits==16)return new Uint16Array(r.read(o*2));if(this._type._bits==32)return new Uint32Array(r.read(o*4));if(this._type._bits==64)return new BigUint64Array(r.read(o*8))}if(this._type instanceof Qi){if(this._type._bits==8)return new Int8Array(r.read(o));if(this._type._bits==16)return new Int16Array(r.read(o*2));if(this._type._bits==32)return new Int32Array(r.read(o*4));if(this._type._bits==64)return new BigInt64Array(r.read(o*8))}const d=[];for(let f=0;f<o;f++)d.push(this._type.decodeValue(r,s._type));return d}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(r){return"vec {"+r.map(s=>this._type.valueToString(s)).join("; ")+"}"}}class Di extends bi{constructor(r){super(),this._type=r}accept(r,n){return r.visitOpt(this,this._type,n)}covariant(r){try{if(Array.isArray(r)&&(r.length===0||r.length===1&&this._type.covariant(r[0])))return!0}catch(n){throw new Error(`Invalid ${this.display()} argument: ${Tt(r)} 

-> ${n.message}`)}throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){return r.length===0?new Uint8Array([0]):dt(new Uint8Array([1]),this._type.encodeValue(r[0]))}_buildTypeTableImpl(r){this._type.buildTypeTable(r);const n=Ot(-18),s=this._type.encodeType(r);r.add(this,dt(n,s))}decodeValue(r,n){if(n instanceof fc)return[];if(n instanceof Qs)return[];let s=n;if(n instanceof Mn){const o=n.getType();if(typeof o>"u")throw new Error("type mismatch with uninitialized type");s=o}if(s instanceof Di)switch(Zi(r)){case 0:return[];case 1:{const o=r.save();try{return[this._type.decodeValue(r,s._type)]}catch{return r.restore(o),s._type.decodeValue(r,s._type),[]}}default:throw new Error("Not an option value")}else{if(this._type instanceof fc||this._type instanceof Di||this._type instanceof Qs)return s.decodeValue(r,s),[];{const o=r.save();try{return[this._type.decodeValue(r,n)]}catch{return r.restore(o),s.decodeValue(r,n),[]}}}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(r){return r.length===0?"null":`opt ${this._type.valueToString(r[0])}`}}class oo extends bi{constructor(r={}){super(),this._fields=Object.entries(r).sort((n,s)=>cn(n[0])-cn(s[0]))}accept(r,n){return r.visitRecord(this,this._fields,n)}tryAsTuple(){const r=[];for(let n=0;n<this._fields.length;n++){const[s,o]=this._fields[n];if(s!==`_${n}_`)return null;r.push(o)}return r}covariant(r){if(typeof r=="object"&&this._fields.every(([n,s])=>{if(!r.hasOwnProperty(n))throw new Error(`Record is missing key "${n}".`);try{return s.covariant(r[n])}catch(o){throw new Error(`Invalid ${this.display()} argument: 

field ${n} -> ${o.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){const n=this._fields.map(([o])=>r[o]),s=Xa(this._fields,n,([,o],d)=>o.encodeValue(d));return dt(...s)}_buildTypeTableImpl(r){this._fields.forEach(([d,f])=>f.buildTypeTable(r));const n=Ot(-20),s=St(this._fields.length),o=this._fields.map(([d,f])=>dt(St(cn(d)),f.encodeType(r)));r.add(this,dt(n,s,dt(...o)))}decodeValue(r,n){const s=this.checkType(n);if(!(s instanceof oo))throw new Error("Not a record type");const o={};let d=0,f=0;for(;f<s._fields.length;){const[u,g]=s._fields[f];if(d>=this._fields.length){g.decodeValue(r,g),f++;continue}const[_,N]=this._fields[d],w=cn(this._fields[d][0]),k=cn(u);if(w===k)o[_]=N.decodeValue(r,g),d++,f++;else if(k>w)if(N instanceof Di||N instanceof Qs)o[_]=[],d++;else throw new Error("Cannot find required field "+_);else g.decodeValue(r,g),f++}for(const[u,g]of this._fields.slice(d))if(g instanceof Di||g instanceof Qs)o[u]=[];else throw new Error("Cannot find required field "+u);return o}get name(){return`record {${this._fields.map(([n,s])=>n+":"+s.name).join("; ")}}`}display(){return`record {${this._fields.map(([n,s])=>n+":"+s.display()).join("; ")}}`}valueToString(r){const n=this._fields.map(([o])=>r[o]);return`record {${Xa(this._fields,n,([o,d],f)=>o+"="+d.valueToString(f)).join("; ")}}`}}class Rc extends oo{constructor(r){const n={};r.forEach((s,o)=>n["_"+o+"_"]=s),super(n),this._components=r}accept(r,n){return r.visitTuple(this,this._components,n)}covariant(r){if(Array.isArray(r)&&r.length>=this._fields.length&&this._components.every((n,s)=>{try{return n.covariant(r[s])}catch(o){throw new Error(`Invalid ${this.display()} argument: 

index ${s} -> ${o.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){const n=Xa(this._components,r,(s,o)=>s.encodeValue(o));return dt(...n)}decodeValue(r,n){const s=this.checkType(n);if(!(s instanceof Rc))throw new Error("not a tuple type");if(s._components.length<this._components.length)throw new Error("tuple mismatch");const o=[];for(const[d,f]of s._components.entries())d>=this._components.length?f.decodeValue(r,f):o.push(this._components[d].decodeValue(r,f));return o}display(){return`record {${this._components.map(n=>n.display()).join("; ")}}`}valueToString(r){return`record {${Xa(this._components,r,(s,o)=>s.valueToString(o)).join("; ")}}`}}class Pc extends bi{constructor(r={}){super(),this._fields=Object.entries(r).sort((n,s)=>cn(n[0])-cn(s[0]))}accept(r,n){return r.visitVariant(this,this._fields,n)}covariant(r){if(typeof r=="object"&&Object.entries(r).length===1&&this._fields.every(([n,s])=>{try{return!r.hasOwnProperty(n)||s.covariant(r[n])}catch(o){throw new Error(`Invalid ${this.display()} argument: 

variant ${n} -> ${o.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){for(let n=0;n<this._fields.length;n++){const[s,o]=this._fields[n];if(r.hasOwnProperty(s)){const d=St(n),f=o.encodeValue(r[s]);return dt(d,f)}}throw Error("Variant has no data: "+r)}_buildTypeTableImpl(r){this._fields.forEach(([,d])=>{d.buildTypeTable(r)});const n=Ot(-21),s=St(this._fields.length),o=this._fields.map(([d,f])=>dt(St(cn(d)),f.encodeType(r)));r.add(this,dt(n,s,...o))}decodeValue(r,n){const s=this.checkType(n);if(!(s instanceof Pc))throw new Error("Not a variant type");const o=Number($t(r));if(o>=s._fields.length)throw Error("Invalid variant index: "+o);const[d,f]=s._fields[o];for(const[u,g]of this._fields)if(cn(d)===cn(u)){const _=g.decodeValue(r,f);return{[u]:_}}throw new Error("Cannot find field hash "+d)}get name(){return`variant {${this._fields.map(([n,s])=>n+":"+s.name).join("; ")}}`}display(){return`variant {${this._fields.map(([n,s])=>n+(s.name==="null"?"":`:${s.display()}`)).join("; ")}}`}valueToString(r){for(const[n,s]of this._fields)if(r.hasOwnProperty(n)){const o=s.valueToString(r[n]);return o==="null"?`variant {${n}}`:`variant {${n}=${o}}`}throw new Error("Variant has no data: "+r)}}class Mn extends bi{constructor(){super(...arguments),this._id=Mn._counter++,this._type=void 0}accept(r,n){if(!this._type)throw Error("Recursive type uninitialized.");return r.visitRec(this,this._type,n)}fill(r){this._type=r}getType(){return this._type}covariant(r){if(this._type&&this._type.covariant(r))return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(r)}_buildTypeTableImpl(r){if(!this._type)throw Error("Recursive type uninitialized.");r.add(this,new Uint8Array([])),this._type.buildTypeTable(r),r.merge(this,this._type.name)}decodeValue(r,n){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(r,n)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`${this.name}.${this._type.name}`}valueToString(r){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(r)}}Mn._counter=0;function a0(e){if(Zi(e)!==1)throw new Error("Cannot decode principal");const n=Number($t(e));return et.fromUint8Array(new Uint8Array(Yi(e,n)))}class sy extends Pr{accept(r,n){return r.visitPrincipal(this,n)}covariant(r){if(r&&r._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){const n=r.toUint8Array(),s=St(n.byteLength);return dt(new Uint8Array([1]),s,n)}encodeType(){return Ot(-24)}decodeValue(r,n){return this.checkType(n),a0(r)}get name(){return"principal"}valueToString(r){return`${this.name} "${r.toText()}"`}}class o0 extends bi{constructor(r,n,s=[]){super(),this.argTypes=r,this.retTypes=n,this.annotations=s}static argsToString(r,n){if(r.length!==n.length)throw new Error("arity mismatch");return"("+r.map((s,o)=>s.valueToString(n[o])).join(", ")+")"}accept(r,n){return r.visitFunc(this,n)}covariant(r){if(Array.isArray(r)&&r.length===2&&r[0]&&r[0]._isPrincipal&&typeof r[1]=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue([r,n]){const s=r.toUint8Array(),o=St(s.byteLength),d=dt(new Uint8Array([1]),o,s),f=new TextEncoder().encode(n),u=St(f.byteLength);return dt(new Uint8Array([1]),d,u,f)}_buildTypeTableImpl(r){this.argTypes.forEach(_=>_.buildTypeTable(r)),this.retTypes.forEach(_=>_.buildTypeTable(r));const n=Ot(-22),s=St(this.argTypes.length),o=dt(...this.argTypes.map(_=>_.encodeType(r))),d=St(this.retTypes.length),f=dt(...this.retTypes.map(_=>_.encodeType(r))),u=St(this.annotations.length),g=dt(...this.annotations.map(_=>this.encodeAnnotation(_)));r.add(this,dt(n,s,o,d,f,u,g))}decodeValue(r){if(Zi(r)!==1)throw new Error("Cannot decode function reference");const s=a0(r),o=Number($t(r)),d=Yi(r,o),u=new TextDecoder("utf8",{fatal:!0}).decode(d);return[s,u]}get name(){const r=this.argTypes.map(o=>o.name).join(", "),n=this.retTypes.map(o=>o.name).join(", "),s=" "+this.annotations.join(" ");return`(${r}) -> (${n})${s}`}valueToString([r,n]){return`func "${r.toText()}".${n}`}display(){const r=this.argTypes.map(o=>o.display()).join(", "),n=this.retTypes.map(o=>o.display()).join(", "),s=" "+this.annotations.join(" ");return`(${r})  (${n})${s}`}encodeAnnotation(r){if(r==="query")return new Uint8Array([1]);if(r==="oneway")return new Uint8Array([2]);if(r==="composite_query")return new Uint8Array([3]);throw new Error("Illegal function annotation")}}class ay extends bi{constructor(r){super(),this._fields=Object.entries(r).sort((n,s)=>n[0]<s[0]?-1:n[0]>s[0]?1:0)}accept(r,n){return r.visitService(this,n)}covariant(r){if(r&&r._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${Tt(r)}`)}encodeValue(r){const n=r.toUint8Array(),s=St(n.length);return dt(new Uint8Array([1]),s,n)}_buildTypeTableImpl(r){this._fields.forEach(([d,f])=>f.buildTypeTable(r));const n=Ot(-23),s=St(this._fields.length),o=this._fields.map(([d,f])=>{const u=new TextEncoder().encode(d),g=St(u.length);return dt(g,u,f.encodeType(r))});r.add(this,dt(n,s,...o))}decodeValue(r){return a0(r)}get name(){return`service {${this._fields.map(([n,s])=>n+":"+s.name).join("; ")}}`}valueToString(r){return`service "${r.toText()}"`}}function Tt(e){const r=JSON.stringify(e,(n,s)=>typeof s=="bigint"?`BigInt(${s})`:s);return r&&r.length>wm?r.substring(0,wm-3)+"...":r}function Rf(e,r){if(r.length<e.length)throw Error("Wrong number of message arguments");const n=new C2;e.forEach(g=>g.buildTypeTable(n));const s=new TextEncoder().encode(Il),o=n.encode(),d=St(r.length),f=dt(...e.map(g=>g.encodeType(n))),u=dt(...Xa(e,r,(g,_)=>{try{g.covariant(_)}catch(N){throw new Error(N.message+`

`)}return g.encodeValue(_)}));return dt(s,o,d,f,u)}function oy(e,r){const n=new Js(r);if(r.byteLength<Il.length)throw new Error("Message length smaller than magic number");const s=Yi(n,Il.length),o=new TextDecoder().decode(s);if(o!==Il)throw new Error("Wrong magic number: "+JSON.stringify(o));function d(j){const b=[],M=Number($t(j));for(let W=0;W<M;W++){const J=Number(ci(j));switch(J){case-18:case-19:{const ue=Number(ci(j));b.push([J,ue]);break}case-20:case-21:{const ue=[];let F=Number($t(j)),re;for(;F--;){const le=Number($t(j));if(le>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if(typeof re=="number"&&re>=le)throw new Error("field id collision or not sorted");re=le;const z=Number(ci(j));ue.push([le,z])}b.push([J,ue]);break}case-22:{const ue=[];let F=Number($t(j));for(;F--;)ue.push(Number(ci(j)));const re=[];let le=Number($t(j));for(;le--;)re.push(Number(ci(j)));const z=[];let q=Number($t(j));for(;q--;)switch(Number($t(j))){case 1:{z.push("query");break}case 2:{z.push("oneway");break}case 3:{z.push("composite_query");break}default:throw new Error("unknown annotation")}b.push([J,[ue,re,z]]);break}case-23:{let ue=Number($t(j));const F=[];for(;ue--;){const re=Number($t(j)),le=new TextDecoder().decode(Yi(j,re)),z=ci(j);F.push([le,z])}b.push([J,F]);break}default:throw new Error("Illegal op_code: "+J)}}const B=[],$=Number($t(j));for(let W=0;W<$;W++)B.push(Number(ci(j)));return[b,B]}const[f,u]=d(n);if(u.length<e.length)throw new Error("Wrong number of return values");const g=f.map(j=>By());function _(j){if(j<-24)throw new Error("future value not supported");if(j<0)switch(j){case-1:return dy;case-2:return uy;case-3:return py;case-4:return hy;case-5:return by;case-6:return _y;case-7:return Ny;case-8:return Ey;case-9:return yy;case-10:return xy;case-11:return wy;case-12:return vy;case-13:return my;case-14:return gy;case-15:return fy;case-16:return cy;case-17:return ly;case-24:return ky;default:throw new Error("Illegal op_code: "+j)}if(j>=f.length)throw new Error("type index out of range");return g[j]}function N(j){switch(j[0]){case-19:{const b=_(j[1]);return jy(b)}case-18:{const b=_(j[1]);return Ay(b)}case-20:{const b={};for(const[$,W]of j[1]){const J=`_${$}_`;b[J]=_(W)}const M=Ty(b),B=M.tryAsTuple();return Array.isArray(B)?Sy(...B):M}case-21:{const b={};for(const[M,B]of j[1]){const $=`_${M}_`;b[$]=_(B)}return Cy(b)}case-22:{const[b,M,B]=j[1];return Ry(b.map($=>_($)),M.map($=>_($)),B)}case-23:{const b={},M=j[1];for(const[B,$]of M){let W=_($);if(W instanceof Mn&&(W=W.getType()),!(W instanceof o0))throw new Error("Illegal service definition: services can only contain functions");b[B]=W}return Py(b)}default:throw new Error("Illegal op_code: "+j[0])}}f.forEach((j,b)=>{if(j[0]===-22){const M=N(j);g[b].fill(M)}}),f.forEach((j,b)=>{if(j[0]!==-22){const M=N(j);g[b].fill(M)}});const w=u.map(j=>_(j)),k=e.map((j,b)=>j.decodeValue(n,w[b]));for(let j=e.length;j<w.length;j++)w[j].decodeValue(n,w[j]);if(n.byteLength>0)throw new Error("decode: Left-over bytes");return k}const ly=new Jg,cy=new Qs,R2=new ey,uy=new ty,dy=new fc,fy=new ry,hy=new ny,py=new iy,my=new s0(32),gy=new s0(64),yy=new Qi(8),xy=new Qi(16),wy=new Qi(32),vy=new Qi(64),by=new yi(8),_y=new yi(16),Ny=new yi(32),Ey=new yi(64),ky=new sy;function Sy(...e){return new Rc(e)}function jy(e){return new Bc(e)}function Ay(e){return new Di(e)}function Ty(e){return new oo(e)}function Cy(e){return new Pc(e)}function By(){return new Mn}function Ry(e,r,n=[]){return new o0(e,r,n)}function Py(e){return new ay(e)}const P2=Object.freeze(Object.defineProperty({__proto__:null,Bool:uy,BoolClass:ty,ConstructType:bi,Empty:ly,EmptyClass:Jg,FixedIntClass:Qi,FixedNatClass:yi,Float32:my,Float64:gy,FloatClass:s0,Func:Ry,FuncClass:o0,Int:hy,Int16:xy,Int32:wy,Int64:vy,Int8:yy,IntClass:ny,Nat:py,Nat16:_y,Nat32:Ny,Nat64:Ey,Nat8:by,NatClass:iy,Null:dy,NullClass:fc,Opt:Ay,OptClass:Di,PrimitiveType:Pr,Principal:ky,PrincipalClass:sy,Rec:By,RecClass:Mn,Record:Ty,RecordClass:oo,Reserved:cy,ReservedClass:Qs,Service:Py,ServiceClass:ay,Text:fy,TextClass:ry,Tuple:Sy,TupleClass:Rc,Type:Cc,Unknown:R2,UnknownClass:ey,Variant:Cy,VariantClass:Pc,Vec:jy,VecClass:Bc,Visitor:B2,decode:oy,encode:Rf},Symbol.toStringTag,{value:"Module"}));var Hd={},qd={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var vm;function Mc(){return vm||(vm=1,function(e){var r=Vg(),n=t0(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=W,e.INSPECT_MAX_BYTES=50;var o=2147483647;e.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=d(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{var S=new Uint8Array(1),p={foo:function(){return 42}};return Object.setPrototypeOf(p,Uint8Array.prototype),Object.setPrototypeOf(S,p),S.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function f(S){if(S>o)throw new RangeError('The value "'+S+'" is invalid for option "size"');var p=new Uint8Array(S);return Object.setPrototypeOf(p,u.prototype),p}function u(S,p,m){if(typeof S=="number"){if(typeof p=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(S)}return g(S,p,m)}u.poolSize=8192;function g(S,p,m){if(typeof S=="string")return k(S,p);if(ArrayBuffer.isView(S))return b(S);if(S==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(X(S,ArrayBuffer)||S&&X(S.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(X(S,SharedArrayBuffer)||S&&X(S.buffer,SharedArrayBuffer)))return M(S,p,m);if(typeof S=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var T=S.valueOf&&S.valueOf();if(T!=null&&T!==S)return u.from(T,p,m);var P=B(S);if(P)return P;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof S[Symbol.toPrimitive]=="function")return u.from(S[Symbol.toPrimitive]("string"),p,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}u.from=function(S,p,m){return g(S,p,m)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function _(S){if(typeof S!="number")throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function N(S,p,m){return _(S),S<=0?f(S):p!==void 0?typeof m=="string"?f(S).fill(p,m):f(S).fill(p):f(S)}u.alloc=function(S,p,m){return N(S,p,m)};function w(S){return _(S),f(S<0?0:$(S)|0)}u.allocUnsafe=function(S){return w(S)},u.allocUnsafeSlow=function(S){return w(S)};function k(S,p){if((typeof p!="string"||p==="")&&(p="utf8"),!u.isEncoding(p))throw new TypeError("Unknown encoding: "+p);var m=J(S,p)|0,T=f(m),P=T.write(S,p);return P!==m&&(T=T.slice(0,P)),T}function j(S){for(var p=S.length<0?0:$(S.length)|0,m=f(p),T=0;T<p;T+=1)m[T]=S[T]&255;return m}function b(S){if(X(S,Uint8Array)){var p=new Uint8Array(S);return M(p.buffer,p.byteOffset,p.byteLength)}return j(S)}function M(S,p,m){if(p<0||S.byteLength<p)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<p+(m||0))throw new RangeError('"length" is outside of buffer bounds');var T;return p===void 0&&m===void 0?T=new Uint8Array(S):m===void 0?T=new Uint8Array(S,p):T=new Uint8Array(S,p,m),Object.setPrototypeOf(T,u.prototype),T}function B(S){if(u.isBuffer(S)){var p=$(S.length)|0,m=f(p);return m.length===0||S.copy(m,0,0,p),m}if(S.length!==void 0)return typeof S.length!="number"||D(S.length)?f(0):j(S);if(S.type==="Buffer"&&Array.isArray(S.data))return j(S.data)}function $(S){if(S>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return S|0}function W(S){return+S!=S&&(S=0),u.alloc(+S)}u.isBuffer=function(p){return p!=null&&p._isBuffer===!0&&p!==u.prototype},u.compare=function(p,m){if(X(p,Uint8Array)&&(p=u.from(p,p.offset,p.byteLength)),X(m,Uint8Array)&&(m=u.from(m,m.offset,m.byteLength)),!u.isBuffer(p)||!u.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===m)return 0;for(var T=p.length,P=m.length,Q=0,he=Math.min(T,P);Q<he;++Q)if(p[Q]!==m[Q]){T=p[Q],P=m[Q];break}return T<P?-1:P<T?1:0},u.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(p,m){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return u.alloc(0);var T;if(m===void 0)for(m=0,T=0;T<p.length;++T)m+=p[T].length;var P=u.allocUnsafe(m),Q=0;for(T=0;T<p.length;++T){var he=p[T];if(X(he,Uint8Array))Q+he.length>P.length?u.from(he).copy(P,Q):Uint8Array.prototype.set.call(P,he,Q);else if(u.isBuffer(he))he.copy(P,Q);else throw new TypeError('"list" argument must be an Array of Buffers');Q+=he.length}return P};function J(S,p){if(u.isBuffer(S))return S.length;if(ArrayBuffer.isView(S)||X(S,ArrayBuffer))return S.byteLength;if(typeof S!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);var m=S.length,T=arguments.length>2&&arguments[2]===!0;if(!T&&m===0)return 0;for(var P=!1;;)switch(p){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return me(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return U(S).length;default:if(P)return T?-1:me(S).length;p=(""+p).toLowerCase(),P=!0}}u.byteLength=J;function ue(S,p,m){var T=!1;if((p===void 0||p<0)&&(p=0),p>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,p>>>=0,m<=p))return"";for(S||(S="utf8");;)switch(S){case"hex":return _e(this,p,m);case"utf8":case"utf-8":return I(this,p,m);case"ascii":return fe(this,p,m);case"latin1":case"binary":return se(this,p,m);case"base64":return E(this,p,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee(this,p,m);default:if(T)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),T=!0}}u.prototype._isBuffer=!0;function F(S,p,m){var T=S[p];S[p]=S[m],S[m]=T}u.prototype.swap16=function(){var p=this.length;if(p%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var m=0;m<p;m+=2)F(this,m,m+1);return this},u.prototype.swap32=function(){var p=this.length;if(p%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var m=0;m<p;m+=4)F(this,m,m+3),F(this,m+1,m+2);return this},u.prototype.swap64=function(){var p=this.length;if(p%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var m=0;m<p;m+=8)F(this,m,m+7),F(this,m+1,m+6),F(this,m+2,m+5),F(this,m+3,m+4);return this},u.prototype.toString=function(){var p=this.length;return p===0?"":arguments.length===0?I(this,0,p):ue.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(p){if(!u.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p?!0:u.compare(this,p)===0},u.prototype.inspect=function(){var p="",m=e.INSPECT_MAX_BYTES;return p=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(p+=" ... "),"<Buffer "+p+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(p,m,T,P,Q){if(X(p,Uint8Array)&&(p=u.from(p,p.offset,p.byteLength)),!u.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(m===void 0&&(m=0),T===void 0&&(T=p?p.length:0),P===void 0&&(P=0),Q===void 0&&(Q=this.length),m<0||T>p.length||P<0||Q>this.length)throw new RangeError("out of range index");if(P>=Q&&m>=T)return 0;if(P>=Q)return-1;if(m>=T)return 1;if(m>>>=0,T>>>=0,P>>>=0,Q>>>=0,this===p)return 0;for(var he=Q-P,je=T-m,Oe=Math.min(he,je),Ie=this.slice(P,Q),Qe=p.slice(m,T),A=0;A<Oe;++A)if(Ie[A]!==Qe[A]){he=Ie[A],je=Qe[A];break}return he<je?-1:je<he?1:0};function re(S,p,m,T,P){if(S.length===0)return-1;if(typeof m=="string"?(T=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,D(m)&&(m=P?0:S.length-1),m<0&&(m=S.length+m),m>=S.length){if(P)return-1;m=S.length-1}else if(m<0)if(P)m=0;else return-1;if(typeof p=="string"&&(p=u.from(p,T)),u.isBuffer(p))return p.length===0?-1:le(S,p,m,T,P);if(typeof p=="number")return p=p&255,typeof Uint8Array.prototype.indexOf=="function"?P?Uint8Array.prototype.indexOf.call(S,p,m):Uint8Array.prototype.lastIndexOf.call(S,p,m):le(S,[p],m,T,P);throw new TypeError("val must be string, number or Buffer")}function le(S,p,m,T,P){var Q=1,he=S.length,je=p.length;if(T!==void 0&&(T=String(T).toLowerCase(),T==="ucs2"||T==="ucs-2"||T==="utf16le"||T==="utf-16le")){if(S.length<2||p.length<2)return-1;Q=2,he/=2,je/=2,m/=2}function Oe(v,V){return Q===1?v[V]:v.readUInt16BE(V*Q)}var Ie;if(P){var Qe=-1;for(Ie=m;Ie<he;Ie++)if(Oe(S,Ie)===Oe(p,Qe===-1?0:Ie-Qe)){if(Qe===-1&&(Qe=Ie),Ie-Qe+1===je)return Qe*Q}else Qe!==-1&&(Ie-=Ie-Qe),Qe=-1}else for(m+je>he&&(m=he-je),Ie=m;Ie>=0;Ie--){for(var A=!0,y=0;y<je;y++)if(Oe(S,Ie+y)!==Oe(p,y)){A=!1;break}if(A)return Ie}return-1}u.prototype.includes=function(p,m,T){return this.indexOf(p,m,T)!==-1},u.prototype.indexOf=function(p,m,T){return re(this,p,m,T,!0)},u.prototype.lastIndexOf=function(p,m,T){return re(this,p,m,T,!1)};function z(S,p,m,T){m=Number(m)||0;var P=S.length-m;T?(T=Number(T),T>P&&(T=P)):T=P;var Q=p.length;T>Q/2&&(T=Q/2);for(var he=0;he<T;++he){var je=parseInt(p.substr(he*2,2),16);if(D(je))return he;S[m+he]=je}return he}function q(S,p,m,T){return L(me(p,S.length-m),S,m,T)}function H(S,p,m,T){return L(Ne(p),S,m,T)}function ce(S,p,m,T){return L(U(p),S,m,T)}function ge(S,p,m,T){return L(R(p,S.length-m),S,m,T)}u.prototype.write=function(p,m,T,P){if(m===void 0)P="utf8",T=this.length,m=0;else if(T===void 0&&typeof m=="string")P=m,T=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(T)?(T=T>>>0,P===void 0&&(P="utf8")):(P=T,T=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Q=this.length-m;if((T===void 0||T>Q)&&(T=Q),p.length>0&&(T<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");P||(P="utf8");for(var he=!1;;)switch(P){case"hex":return z(this,p,m,T);case"utf8":case"utf-8":return q(this,p,m,T);case"ascii":case"latin1":case"binary":return H(this,p,m,T);case"base64":return ce(this,p,m,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ge(this,p,m,T);default:if(he)throw new TypeError("Unknown encoding: "+P);P=(""+P).toLowerCase(),he=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(S,p,m){return p===0&&m===S.length?r.fromByteArray(S):r.fromByteArray(S.slice(p,m))}function I(S,p,m){m=Math.min(S.length,m);for(var T=[],P=p;P<m;){var Q=S[P],he=null,je=Q>239?4:Q>223?3:Q>191?2:1;if(P+je<=m){var Oe,Ie,Qe,A;switch(je){case 1:Q<128&&(he=Q);break;case 2:Oe=S[P+1],(Oe&192)===128&&(A=(Q&31)<<6|Oe&63,A>127&&(he=A));break;case 3:Oe=S[P+1],Ie=S[P+2],(Oe&192)===128&&(Ie&192)===128&&(A=(Q&15)<<12|(Oe&63)<<6|Ie&63,A>2047&&(A<55296||A>57343)&&(he=A));break;case 4:Oe=S[P+1],Ie=S[P+2],Qe=S[P+3],(Oe&192)===128&&(Ie&192)===128&&(Qe&192)===128&&(A=(Q&15)<<18|(Oe&63)<<12|(Ie&63)<<6|Qe&63,A>65535&&A<1114112&&(he=A))}}he===null?(he=65533,je=1):he>65535&&(he-=65536,T.push(he>>>10&1023|55296),he=56320|he&1023),T.push(he),P+=je}return ne(T)}var Z=4096;function ne(S){var p=S.length;if(p<=Z)return String.fromCharCode.apply(String,S);for(var m="",T=0;T<p;)m+=String.fromCharCode.apply(String,S.slice(T,T+=Z));return m}function fe(S,p,m){var T="";m=Math.min(S.length,m);for(var P=p;P<m;++P)T+=String.fromCharCode(S[P]&127);return T}function se(S,p,m){var T="";m=Math.min(S.length,m);for(var P=p;P<m;++P)T+=String.fromCharCode(S[P]);return T}function _e(S,p,m){var T=S.length;(!p||p<0)&&(p=0),(!m||m<0||m>T)&&(m=T);for(var P="",Q=p;Q<m;++Q)P+=ie[S[Q]];return P}function Ee(S,p,m){for(var T=S.slice(p,m),P="",Q=0;Q<T.length-1;Q+=2)P+=String.fromCharCode(T[Q]+T[Q+1]*256);return P}u.prototype.slice=function(p,m){var T=this.length;p=~~p,m=m===void 0?T:~~m,p<0?(p+=T,p<0&&(p=0)):p>T&&(p=T),m<0?(m+=T,m<0&&(m=0)):m>T&&(m=T),m<p&&(m=p);var P=this.subarray(p,m);return Object.setPrototypeOf(P,u.prototype),P};function G(S,p,m){if(S%1!==0||S<0)throw new RangeError("offset is not uint");if(S+p>m)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(p,m,T){p=p>>>0,m=m>>>0,T||G(p,m,this.length);for(var P=this[p],Q=1,he=0;++he<m&&(Q*=256);)P+=this[p+he]*Q;return P},u.prototype.readUintBE=u.prototype.readUIntBE=function(p,m,T){p=p>>>0,m=m>>>0,T||G(p,m,this.length);for(var P=this[p+--m],Q=1;m>0&&(Q*=256);)P+=this[p+--m]*Q;return P},u.prototype.readUint8=u.prototype.readUInt8=function(p,m){return p=p>>>0,m||G(p,1,this.length),this[p]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(p,m){return p=p>>>0,m||G(p,2,this.length),this[p]|this[p+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(p,m){return p=p>>>0,m||G(p,2,this.length),this[p]<<8|this[p+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(p,m){return p=p>>>0,m||G(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+this[p+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(p,m){return p=p>>>0,m||G(p,4,this.length),this[p]*16777216+(this[p+1]<<16|this[p+2]<<8|this[p+3])},u.prototype.readIntLE=function(p,m,T){p=p>>>0,m=m>>>0,T||G(p,m,this.length);for(var P=this[p],Q=1,he=0;++he<m&&(Q*=256);)P+=this[p+he]*Q;return Q*=128,P>=Q&&(P-=Math.pow(2,8*m)),P},u.prototype.readIntBE=function(p,m,T){p=p>>>0,m=m>>>0,T||G(p,m,this.length);for(var P=m,Q=1,he=this[p+--P];P>0&&(Q*=256);)he+=this[p+--P]*Q;return Q*=128,he>=Q&&(he-=Math.pow(2,8*m)),he},u.prototype.readInt8=function(p,m){return p=p>>>0,m||G(p,1,this.length),this[p]&128?(255-this[p]+1)*-1:this[p]},u.prototype.readInt16LE=function(p,m){p=p>>>0,m||G(p,2,this.length);var T=this[p]|this[p+1]<<8;return T&32768?T|4294901760:T},u.prototype.readInt16BE=function(p,m){p=p>>>0,m||G(p,2,this.length);var T=this[p+1]|this[p]<<8;return T&32768?T|4294901760:T},u.prototype.readInt32LE=function(p,m){return p=p>>>0,m||G(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},u.prototype.readInt32BE=function(p,m){return p=p>>>0,m||G(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},u.prototype.readFloatLE=function(p,m){return p=p>>>0,m||G(p,4,this.length),n.read(this,p,!0,23,4)},u.prototype.readFloatBE=function(p,m){return p=p>>>0,m||G(p,4,this.length),n.read(this,p,!1,23,4)},u.prototype.readDoubleLE=function(p,m){return p=p>>>0,m||G(p,8,this.length),n.read(this,p,!0,52,8)},u.prototype.readDoubleBE=function(p,m){return p=p>>>0,m||G(p,8,this.length),n.read(this,p,!1,52,8)};function de(S,p,m,T,P,Q){if(!u.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(p>P||p<Q)throw new RangeError('"value" argument is out of bounds');if(m+T>S.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(p,m,T,P){if(p=+p,m=m>>>0,T=T>>>0,!P){var Q=Math.pow(2,8*T)-1;de(this,p,m,T,Q,0)}var he=1,je=0;for(this[m]=p&255;++je<T&&(he*=256);)this[m+je]=p/he&255;return m+T},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(p,m,T,P){if(p=+p,m=m>>>0,T=T>>>0,!P){var Q=Math.pow(2,8*T)-1;de(this,p,m,T,Q,0)}var he=T-1,je=1;for(this[m+he]=p&255;--he>=0&&(je*=256);)this[m+he]=p/je&255;return m+T},u.prototype.writeUint8=u.prototype.writeUInt8=function(p,m,T){return p=+p,m=m>>>0,T||de(this,p,m,1,255,0),this[m]=p&255,m+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(p,m,T){return p=+p,m=m>>>0,T||de(this,p,m,2,65535,0),this[m]=p&255,this[m+1]=p>>>8,m+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(p,m,T){return p=+p,m=m>>>0,T||de(this,p,m,2,65535,0),this[m]=p>>>8,this[m+1]=p&255,m+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(p,m,T){return p=+p,m=m>>>0,T||de(this,p,m,4,4294967295,0),this[m+3]=p>>>24,this[m+2]=p>>>16,this[m+1]=p>>>8,this[m]=p&255,m+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(p,m,T){return p=+p,m=m>>>0,T||de(this,p,m,4,4294967295,0),this[m]=p>>>24,this[m+1]=p>>>16,this[m+2]=p>>>8,this[m+3]=p&255,m+4},u.prototype.writeIntLE=function(p,m,T,P){if(p=+p,m=m>>>0,!P){var Q=Math.pow(2,8*T-1);de(this,p,m,T,Q-1,-Q)}var he=0,je=1,Oe=0;for(this[m]=p&255;++he<T&&(je*=256);)p<0&&Oe===0&&this[m+he-1]!==0&&(Oe=1),this[m+he]=(p/je>>0)-Oe&255;return m+T},u.prototype.writeIntBE=function(p,m,T,P){if(p=+p,m=m>>>0,!P){var Q=Math.pow(2,8*T-1);de(this,p,m,T,Q-1,-Q)}var he=T-1,je=1,Oe=0;for(this[m+he]=p&255;--he>=0&&(je*=256);)p<0&&Oe===0&&this[m+he+1]!==0&&(Oe=1),this[m+he]=(p/je>>0)-Oe&255;return m+T},u.prototype.writeInt8=function(p,m,T){return p=+p,m=m>>>0,T||de(this,p,m,1,127,-128),p<0&&(p=255+p+1),this[m]=p&255,m+1},u.prototype.writeInt16LE=function(p,m,T){return p=+p,m=m>>>0,T||de(this,p,m,2,32767,-32768),this[m]=p&255,this[m+1]=p>>>8,m+2},u.prototype.writeInt16BE=function(p,m,T){return p=+p,m=m>>>0,T||de(this,p,m,2,32767,-32768),this[m]=p>>>8,this[m+1]=p&255,m+2},u.prototype.writeInt32LE=function(p,m,T){return p=+p,m=m>>>0,T||de(this,p,m,4,2147483647,-2147483648),this[m]=p&255,this[m+1]=p>>>8,this[m+2]=p>>>16,this[m+3]=p>>>24,m+4},u.prototype.writeInt32BE=function(p,m,T){return p=+p,m=m>>>0,T||de(this,p,m,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),this[m]=p>>>24,this[m+1]=p>>>16,this[m+2]=p>>>8,this[m+3]=p&255,m+4};function Re(S,p,m,T,P,Q){if(m+T>S.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function O(S,p,m,T,P){return p=+p,m=m>>>0,P||Re(S,p,m,4),n.write(S,p,m,T,23,4),m+4}u.prototype.writeFloatLE=function(p,m,T){return O(this,p,m,!0,T)},u.prototype.writeFloatBE=function(p,m,T){return O(this,p,m,!1,T)};function Pe(S,p,m,T,P){return p=+p,m=m>>>0,P||Re(S,p,m,8),n.write(S,p,m,T,52,8),m+8}u.prototype.writeDoubleLE=function(p,m,T){return Pe(this,p,m,!0,T)},u.prototype.writeDoubleBE=function(p,m,T){return Pe(this,p,m,!1,T)},u.prototype.copy=function(p,m,T,P){if(!u.isBuffer(p))throw new TypeError("argument should be a Buffer");if(T||(T=0),!P&&P!==0&&(P=this.length),m>=p.length&&(m=p.length),m||(m=0),P>0&&P<T&&(P=T),P===T||p.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(T<0||T>=this.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("sourceEnd out of bounds");P>this.length&&(P=this.length),p.length-m<P-T&&(P=p.length-m+T);var Q=P-T;return this===p&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,T,P):Uint8Array.prototype.set.call(p,this.subarray(T,P),m),Q},u.prototype.fill=function(p,m,T,P){if(typeof p=="string"){if(typeof m=="string"?(P=m,m=0,T=this.length):typeof T=="string"&&(P=T,T=this.length),P!==void 0&&typeof P!="string")throw new TypeError("encoding must be a string");if(typeof P=="string"&&!u.isEncoding(P))throw new TypeError("Unknown encoding: "+P);if(p.length===1){var Q=p.charCodeAt(0);(P==="utf8"&&Q<128||P==="latin1")&&(p=Q)}}else typeof p=="number"?p=p&255:typeof p=="boolean"&&(p=Number(p));if(m<0||this.length<m||this.length<T)throw new RangeError("Out of range index");if(T<=m)return this;m=m>>>0,T=T===void 0?this.length:T>>>0,p||(p=0);var he;if(typeof p=="number")for(he=m;he<T;++he)this[he]=p;else{var je=u.isBuffer(p)?p:u.from(p,P),Oe=je.length;if(Oe===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(he=0;he<T-m;++he)this[he+m]=je[he%Oe]}return this};var Ce=/[^+/0-9A-Za-z-_]/g;function be(S){if(S=S.split("=")[0],S=S.trim().replace(Ce,""),S.length<2)return"";for(;S.length%4!==0;)S=S+"=";return S}function me(S,p){p=p||1/0;for(var m,T=S.length,P=null,Q=[],he=0;he<T;++he){if(m=S.charCodeAt(he),m>55295&&m<57344){if(!P){if(m>56319){(p-=3)>-1&&Q.push(239,191,189);continue}else if(he+1===T){(p-=3)>-1&&Q.push(239,191,189);continue}P=m;continue}if(m<56320){(p-=3)>-1&&Q.push(239,191,189),P=m;continue}m=(P-55296<<10|m-56320)+65536}else P&&(p-=3)>-1&&Q.push(239,191,189);if(P=null,m<128){if((p-=1)<0)break;Q.push(m)}else if(m<2048){if((p-=2)<0)break;Q.push(m>>6|192,m&63|128)}else if(m<65536){if((p-=3)<0)break;Q.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((p-=4)<0)break;Q.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return Q}function Ne(S){for(var p=[],m=0;m<S.length;++m)p.push(S.charCodeAt(m)&255);return p}function R(S,p){for(var m,T,P,Q=[],he=0;he<S.length&&!((p-=2)<0);++he)m=S.charCodeAt(he),T=m>>8,P=m%256,Q.push(P),Q.push(T);return Q}function U(S){return r.toByteArray(be(S))}function L(S,p,m,T){for(var P=0;P<T&&!(P+m>=p.length||P>=S.length);++P)p[P+m]=S[P];return P}function X(S,p){return S instanceof p||S!=null&&S.constructor!=null&&S.constructor.name!=null&&S.constructor.name===p.name}function D(S){return S!==S}var ie=function(){for(var S="0123456789abcdef",p=new Array(256),m=0;m<16;++m)for(var T=m*16,P=0;P<16;++P)p[T+P]=S[m]+S[P];return p}()}(qd)),qd}var $l={exports:{}},M2=$l.exports,bm;function Oc(){return bm||(bm=1,function(e){(function(r){var n,s=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,d=Math.floor,f="[BigNumber Error] ",u=f+"Number primitive has more than 15 significant digits: ",g=1e14,_=14,N=9007199254740991,w=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],k=1e7,j=1e9;function b(re){var le,z,q,H=O.prototype={constructor:O,toString:null,valueOf:null},ce=new O(1),ge=20,E=4,I=-7,Z=21,ne=-1e7,fe=1e7,se=!1,_e=1,Ee=0,G={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},de="0123456789abcdefghijklmnopqrstuvwxyz",Re=!0;function O(R,U){var L,X,D,ie,S,p,m,T,P=this;if(!(P instanceof O))return new O(R,U);if(U==null){if(R&&R._isBigNumber===!0){P.s=R.s,!R.c||R.e>fe?P.c=P.e=null:R.e<ne?P.c=[P.e=0]:(P.e=R.e,P.c=R.c.slice());return}if((p=typeof R=="number")&&R*0==0){if(P.s=1/R<0?(R=-R,-1):1,R===~~R){for(ie=0,S=R;S>=10;S/=10,ie++);ie>fe?P.c=P.e=null:(P.e=ie,P.c=[R]);return}T=String(R)}else{if(!s.test(T=String(R)))return q(P,T,p);P.s=T.charCodeAt(0)==45?(T=T.slice(1),-1):1}(ie=T.indexOf("."))>-1&&(T=T.replace(".","")),(S=T.search(/e/i))>0?(ie<0&&(ie=S),ie+=+T.slice(S+1),T=T.substring(0,S)):ie<0&&(ie=T.length)}else{if(W(U,2,de.length,"Base"),U==10&&Re)return P=new O(R),me(P,ge+P.e+1,E);if(T=String(R),p=typeof R=="number"){if(R*0!=0)return q(P,T,p,U);if(P.s=1/R<0?(T=T.slice(1),-1):1,O.DEBUG&&T.replace(/^0\.0*|\./,"").length>15)throw Error(u+R)}else P.s=T.charCodeAt(0)===45?(T=T.slice(1),-1):1;for(L=de.slice(0,U),ie=S=0,m=T.length;S<m;S++)if(L.indexOf(X=T.charAt(S))<0){if(X=="."){if(S>ie){ie=m;continue}}else if(!D&&(T==T.toUpperCase()&&(T=T.toLowerCase())||T==T.toLowerCase()&&(T=T.toUpperCase()))){D=!0,S=-1,ie=0;continue}return q(P,String(R),p,U)}p=!1,T=z(T,U,10,P.s),(ie=T.indexOf("."))>-1?T=T.replace(".",""):ie=T.length}for(S=0;T.charCodeAt(S)===48;S++);for(m=T.length;T.charCodeAt(--m)===48;);if(T=T.slice(S,++m)){if(m-=S,p&&O.DEBUG&&m>15&&(R>N||R!==d(R)))throw Error(u+P.s*R);if((ie=ie-S-1)>fe)P.c=P.e=null;else if(ie<ne)P.c=[P.e=0];else{if(P.e=ie,P.c=[],S=(ie+1)%_,ie<0&&(S+=_),S<m){for(S&&P.c.push(+T.slice(0,S)),m-=_;S<m;)P.c.push(+T.slice(S,S+=_));S=_-(T=T.slice(S)).length}else S-=m;for(;S--;T+="0");P.c.push(+T)}}else P.c=[P.e=0]}O.clone=b,O.ROUND_UP=0,O.ROUND_DOWN=1,O.ROUND_CEIL=2,O.ROUND_FLOOR=3,O.ROUND_HALF_UP=4,O.ROUND_HALF_DOWN=5,O.ROUND_HALF_EVEN=6,O.ROUND_HALF_CEIL=7,O.ROUND_HALF_FLOOR=8,O.EUCLID=9,O.config=O.set=function(R){var U,L;if(R!=null)if(typeof R=="object"){if(R.hasOwnProperty(U="DECIMAL_PLACES")&&(L=R[U],W(L,0,j,U),ge=L),R.hasOwnProperty(U="ROUNDING_MODE")&&(L=R[U],W(L,0,8,U),E=L),R.hasOwnProperty(U="EXPONENTIAL_AT")&&(L=R[U],L&&L.pop?(W(L[0],-j,0,U),W(L[1],0,j,U),I=L[0],Z=L[1]):(W(L,-j,j,U),I=-(Z=L<0?-L:L))),R.hasOwnProperty(U="RANGE"))if(L=R[U],L&&L.pop)W(L[0],-j,-1,U),W(L[1],1,j,U),ne=L[0],fe=L[1];else if(W(L,-j,j,U),L)ne=-(fe=L<0?-L:L);else throw Error(f+U+" cannot be zero: "+L);if(R.hasOwnProperty(U="CRYPTO"))if(L=R[U],L===!!L)if(L)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))se=L;else throw se=!L,Error(f+"crypto unavailable");else se=L;else throw Error(f+U+" not true or false: "+L);if(R.hasOwnProperty(U="MODULO_MODE")&&(L=R[U],W(L,0,9,U),_e=L),R.hasOwnProperty(U="POW_PRECISION")&&(L=R[U],W(L,0,j,U),Ee=L),R.hasOwnProperty(U="FORMAT"))if(L=R[U],typeof L=="object")G=L;else throw Error(f+U+" not an object: "+L);if(R.hasOwnProperty(U="ALPHABET"))if(L=R[U],typeof L=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(L))Re=L.slice(0,10)=="0123456789",de=L;else throw Error(f+U+" invalid: "+L)}else throw Error(f+"Object expected: "+R);return{DECIMAL_PLACES:ge,ROUNDING_MODE:E,EXPONENTIAL_AT:[I,Z],RANGE:[ne,fe],CRYPTO:se,MODULO_MODE:_e,POW_PRECISION:Ee,FORMAT:G,ALPHABET:de}},O.isBigNumber=function(R){if(!R||R._isBigNumber!==!0)return!1;if(!O.DEBUG)return!0;var U,L,X=R.c,D=R.e,ie=R.s;e:if({}.toString.call(X)=="[object Array]"){if((ie===1||ie===-1)&&D>=-j&&D<=j&&D===d(D)){if(X[0]===0){if(D===0&&X.length===1)return!0;break e}if(U=(D+1)%_,U<1&&(U+=_),String(X[0]).length==U){for(U=0;U<X.length;U++)if(L=X[U],L<0||L>=g||L!==d(L))break e;if(L!==0)return!0}}}else if(X===null&&D===null&&(ie===null||ie===1||ie===-1))return!0;throw Error(f+"Invalid BigNumber: "+R)},O.maximum=O.max=function(){return Ce(arguments,-1)},O.minimum=O.min=function(){return Ce(arguments,1)},O.random=function(){var R=9007199254740992,U=Math.random()*R&2097151?function(){return d(Math.random()*R)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(L){var X,D,ie,S,p,m=0,T=[],P=new O(ce);if(L==null?L=ge:W(L,0,j),S=o(L/_),se)if(crypto.getRandomValues){for(X=crypto.getRandomValues(new Uint32Array(S*=2));m<S;)p=X[m]*131072+(X[m+1]>>>11),p>=9e15?(D=crypto.getRandomValues(new Uint32Array(2)),X[m]=D[0],X[m+1]=D[1]):(T.push(p%1e14),m+=2);m=S/2}else if(crypto.randomBytes){for(X=crypto.randomBytes(S*=7);m<S;)p=(X[m]&31)*281474976710656+X[m+1]*1099511627776+X[m+2]*4294967296+X[m+3]*16777216+(X[m+4]<<16)+(X[m+5]<<8)+X[m+6],p>=9e15?crypto.randomBytes(7).copy(X,m):(T.push(p%1e14),m+=7);m=S/7}else throw se=!1,Error(f+"crypto unavailable");if(!se)for(;m<S;)p=U(),p<9e15&&(T[m++]=p%1e14);for(S=T[--m],L%=_,S&&L&&(p=w[_-L],T[m]=d(S/p)*p);T[m]===0;T.pop(),m--);if(m<0)T=[ie=0];else{for(ie=-1;T[0]===0;T.splice(0,1),ie-=_);for(m=1,p=T[0];p>=10;p/=10,m++);m<_&&(ie-=_-m)}return P.e=ie,P.c=T,P}}(),O.sum=function(){for(var R=1,U=arguments,L=new O(U[0]);R<U.length;)L=L.plus(U[R++]);return L},z=function(){var R="0123456789";function U(L,X,D,ie){for(var S,p=[0],m,T=0,P=L.length;T<P;){for(m=p.length;m--;p[m]*=X);for(p[0]+=ie.indexOf(L.charAt(T++)),S=0;S<p.length;S++)p[S]>D-1&&(p[S+1]==null&&(p[S+1]=0),p[S+1]+=p[S]/D|0,p[S]%=D)}return p.reverse()}return function(L,X,D,ie,S){var p,m,T,P,Q,he,je,Oe,Ie=L.indexOf("."),Qe=ge,A=E;for(Ie>=0&&(P=Ee,Ee=0,L=L.replace(".",""),Oe=new O(X),he=Oe.pow(L.length-Ie),Ee=P,Oe.c=U(F(B(he.c),he.e,"0"),10,D,R),Oe.e=Oe.c.length),je=U(L,X,D,S?(p=de,R):(p=R,de)),T=P=je.length;je[--P]==0;je.pop());if(!je[0])return p.charAt(0);if(Ie<0?--T:(he.c=je,he.e=T,he.s=ie,he=le(he,Oe,Qe,A,D),je=he.c,Q=he.r,T=he.e),m=T+Qe+1,Ie=je[m],P=D/2,Q=Q||m<0||je[m+1]!=null,Q=A<4?(Ie!=null||Q)&&(A==0||A==(he.s<0?3:2)):Ie>P||Ie==P&&(A==4||Q||A==6&&je[m-1]&1||A==(he.s<0?8:7)),m<1||!je[0])L=Q?F(p.charAt(1),-Qe,p.charAt(0)):p.charAt(0);else{if(je.length=m,Q)for(--D;++je[--m]>D;)je[m]=0,m||(++T,je=[1].concat(je));for(P=je.length;!je[--P];);for(Ie=0,L="";Ie<=P;L+=p.charAt(je[Ie++]));L=F(L,T,p.charAt(0))}return L}}(),le=function(){function R(X,D,ie){var S,p,m,T,P=0,Q=X.length,he=D%k,je=D/k|0;for(X=X.slice();Q--;)m=X[Q]%k,T=X[Q]/k|0,S=je*m+T*he,p=he*m+S%k*k+P,P=(p/ie|0)+(S/k|0)+je*T,X[Q]=p%ie;return P&&(X=[P].concat(X)),X}function U(X,D,ie,S){var p,m;if(ie!=S)m=ie>S?1:-1;else for(p=m=0;p<ie;p++)if(X[p]!=D[p]){m=X[p]>D[p]?1:-1;break}return m}function L(X,D,ie,S){for(var p=0;ie--;)X[ie]-=p,p=X[ie]<D[ie]?1:0,X[ie]=p*S+X[ie]-D[ie];for(;!X[0]&&X.length>1;X.splice(0,1));}return function(X,D,ie,S,p){var m,T,P,Q,he,je,Oe,Ie,Qe,A,y,v,V,ae,we,xe,Le,De=X.s==D.s?1:-1,Ye=X.c,Ge=D.c;if(!Ye||!Ye[0]||!Ge||!Ge[0])return new O(!X.s||!D.s||(Ye?Ge&&Ye[0]==Ge[0]:!Ge)?NaN:Ye&&Ye[0]==0||!Ge?De*0:De/0);for(Ie=new O(De),Qe=Ie.c=[],T=X.e-D.e,De=ie+T+1,p||(p=g,T=M(X.e/_)-M(D.e/_),De=De/_|0),P=0;Ge[P]==(Ye[P]||0);P++);if(Ge[P]>(Ye[P]||0)&&T--,De<0)Qe.push(1),Q=!0;else{for(ae=Ye.length,xe=Ge.length,P=0,De+=2,he=d(p/(Ge[0]+1)),he>1&&(Ge=R(Ge,he,p),Ye=R(Ye,he,p),xe=Ge.length,ae=Ye.length),V=xe,A=Ye.slice(0,xe),y=A.length;y<xe;A[y++]=0);Le=Ge.slice(),Le=[0].concat(Le),we=Ge[0],Ge[1]>=p/2&&we++;do{if(he=0,m=U(Ge,A,xe,y),m<0){if(v=A[0],xe!=y&&(v=v*p+(A[1]||0)),he=d(v/we),he>1)for(he>=p&&(he=p-1),je=R(Ge,he,p),Oe=je.length,y=A.length;U(je,A,Oe,y)==1;)he--,L(je,xe<Oe?Le:Ge,Oe,p),Oe=je.length,m=1;else he==0&&(m=he=1),je=Ge.slice(),Oe=je.length;if(Oe<y&&(je=[0].concat(je)),L(A,je,y,p),y=A.length,m==-1)for(;U(Ge,A,xe,y)<1;)he++,L(A,xe<y?Le:Ge,y,p),y=A.length}else m===0&&(he++,A=[0]);Qe[P++]=he,A[0]?A[y++]=Ye[V]||0:(A=[Ye[V]],y=1)}while((V++<ae||A[0]!=null)&&De--);Q=A[0]!=null,Qe[0]||Qe.splice(0,1)}if(p==g){for(P=1,De=Qe[0];De>=10;De/=10,P++);me(Ie,ie+(Ie.e=P+T*_-1)+1,S,Q)}else Ie.e=T,Ie.r=+Q;return Ie}}();function Pe(R,U,L,X){var D,ie,S,p,m;if(L==null?L=E:W(L,0,8),!R.c)return R.toString();if(D=R.c[0],S=R.e,U==null)m=B(R.c),m=X==1||X==2&&(S<=I||S>=Z)?ue(m,S):F(m,S,"0");else if(R=me(new O(R),U,L),ie=R.e,m=B(R.c),p=m.length,X==1||X==2&&(U<=ie||ie<=I)){for(;p<U;m+="0",p++);m=ue(m,ie)}else if(U-=S,m=F(m,ie,"0"),ie+1>p){if(--U>0)for(m+=".";U--;m+="0");}else if(U+=ie-p,U>0)for(ie+1==p&&(m+=".");U--;m+="0");return R.s<0&&D?"-"+m:m}function Ce(R,U){for(var L,X,D=1,ie=new O(R[0]);D<R.length;D++)X=new O(R[D]),(!X.s||(L=$(ie,X))===U||L===0&&ie.s===U)&&(ie=X);return ie}function be(R,U,L){for(var X=1,D=U.length;!U[--D];U.pop());for(D=U[0];D>=10;D/=10,X++);return(L=X+L*_-1)>fe?R.c=R.e=null:L<ne?R.c=[R.e=0]:(R.e=L,R.c=U),R}q=function(){var R=/^(-?)0([xbo])(?=\w[\w.]*$)/i,U=/^([^.]+)\.$/,L=/^\.([^.]+)$/,X=/^-?(Infinity|NaN)$/,D=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(ie,S,p,m){var T,P=p?S:S.replace(D,"");if(X.test(P))ie.s=isNaN(P)?null:P<0?-1:1;else{if(!p&&(P=P.replace(R,function(Q,he,je){return T=(je=je.toLowerCase())=="x"?16:je=="b"?2:8,!m||m==T?he:Q}),m&&(T=m,P=P.replace(U,"$1").replace(L,"0.$1")),S!=P))return new O(P,T);if(O.DEBUG)throw Error(f+"Not a"+(m?" base "+m:"")+" number: "+S);ie.s=null}ie.c=ie.e=null}}();function me(R,U,L,X){var D,ie,S,p,m,T,P,Q=R.c,he=w;if(Q){e:{for(D=1,p=Q[0];p>=10;p/=10,D++);if(ie=U-D,ie<0)ie+=_,S=U,m=Q[T=0],P=d(m/he[D-S-1]%10);else if(T=o((ie+1)/_),T>=Q.length)if(X){for(;Q.length<=T;Q.push(0));m=P=0,D=1,ie%=_,S=ie-_+1}else break e;else{for(m=p=Q[T],D=1;p>=10;p/=10,D++);ie%=_,S=ie-_+D,P=S<0?0:d(m/he[D-S-1]%10)}if(X=X||U<0||Q[T+1]!=null||(S<0?m:m%he[D-S-1]),X=L<4?(P||X)&&(L==0||L==(R.s<0?3:2)):P>5||P==5&&(L==4||X||L==6&&(ie>0?S>0?m/he[D-S]:0:Q[T-1])%10&1||L==(R.s<0?8:7)),U<1||!Q[0])return Q.length=0,X?(U-=R.e+1,Q[0]=he[(_-U%_)%_],R.e=-U||0):Q[0]=R.e=0,R;if(ie==0?(Q.length=T,p=1,T--):(Q.length=T+1,p=he[_-ie],Q[T]=S>0?d(m/he[D-S]%he[S])*p:0),X)for(;;)if(T==0){for(ie=1,S=Q[0];S>=10;S/=10,ie++);for(S=Q[0]+=p,p=1;S>=10;S/=10,p++);ie!=p&&(R.e++,Q[0]==g&&(Q[0]=1));break}else{if(Q[T]+=p,Q[T]!=g)break;Q[T--]=0,p=1}for(ie=Q.length;Q[--ie]===0;Q.pop());}R.e>fe?R.c=R.e=null:R.e<ne&&(R.c=[R.e=0])}return R}function Ne(R){var U,L=R.e;return L===null?R.toString():(U=B(R.c),U=L<=I||L>=Z?ue(U,L):F(U,L,"0"),R.s<0?"-"+U:U)}return H.absoluteValue=H.abs=function(){var R=new O(this);return R.s<0&&(R.s=1),R},H.comparedTo=function(R,U){return $(this,new O(R,U))},H.decimalPlaces=H.dp=function(R,U){var L,X,D,ie=this;if(R!=null)return W(R,0,j),U==null?U=E:W(U,0,8),me(new O(ie),R+ie.e+1,U);if(!(L=ie.c))return null;if(X=((D=L.length-1)-M(this.e/_))*_,D=L[D])for(;D%10==0;D/=10,X--);return X<0&&(X=0),X},H.dividedBy=H.div=function(R,U){return le(this,new O(R,U),ge,E)},H.dividedToIntegerBy=H.idiv=function(R,U){return le(this,new O(R,U),0,1)},H.exponentiatedBy=H.pow=function(R,U){var L,X,D,ie,S,p,m,T,P,Q=this;if(R=new O(R),R.c&&!R.isInteger())throw Error(f+"Exponent not an integer: "+Ne(R));if(U!=null&&(U=new O(U)),p=R.e>14,!Q.c||!Q.c[0]||Q.c[0]==1&&!Q.e&&Q.c.length==1||!R.c||!R.c[0])return P=new O(Math.pow(+Ne(Q),p?R.s*(2-J(R)):+Ne(R))),U?P.mod(U):P;if(m=R.s<0,U){if(U.c?!U.c[0]:!U.s)return new O(NaN);X=!m&&Q.isInteger()&&U.isInteger(),X&&(Q=Q.mod(U))}else{if(R.e>9&&(Q.e>0||Q.e<-1||(Q.e==0?Q.c[0]>1||p&&Q.c[1]>=24e7:Q.c[0]<8e13||p&&Q.c[0]<=9999975e7)))return ie=Q.s<0&&J(R)?-0:0,Q.e>-1&&(ie=1/ie),new O(m?1/ie:ie);Ee&&(ie=o(Ee/_+2))}for(p?(L=new O(.5),m&&(R.s=1),T=J(R)):(D=Math.abs(+Ne(R)),T=D%2),P=new O(ce);;){if(T){if(P=P.times(Q),!P.c)break;ie?P.c.length>ie&&(P.c.length=ie):X&&(P=P.mod(U))}if(D){if(D=d(D/2),D===0)break;T=D%2}else if(R=R.times(L),me(R,R.e+1,1),R.e>14)T=J(R);else{if(D=+Ne(R),D===0)break;T=D%2}Q=Q.times(Q),ie?Q.c&&Q.c.length>ie&&(Q.c.length=ie):X&&(Q=Q.mod(U))}return X?P:(m&&(P=ce.div(P)),U?P.mod(U):ie?me(P,Ee,E,S):P)},H.integerValue=function(R){var U=new O(this);return R==null?R=E:W(R,0,8),me(U,U.e+1,R)},H.isEqualTo=H.eq=function(R,U){return $(this,new O(R,U))===0},H.isFinite=function(){return!!this.c},H.isGreaterThan=H.gt=function(R,U){return $(this,new O(R,U))>0},H.isGreaterThanOrEqualTo=H.gte=function(R,U){return(U=$(this,new O(R,U)))===1||U===0},H.isInteger=function(){return!!this.c&&M(this.e/_)>this.c.length-2},H.isLessThan=H.lt=function(R,U){return $(this,new O(R,U))<0},H.isLessThanOrEqualTo=H.lte=function(R,U){return(U=$(this,new O(R,U)))===-1||U===0},H.isNaN=function(){return!this.s},H.isNegative=function(){return this.s<0},H.isPositive=function(){return this.s>0},H.isZero=function(){return!!this.c&&this.c[0]==0},H.minus=function(R,U){var L,X,D,ie,S=this,p=S.s;if(R=new O(R,U),U=R.s,!p||!U)return new O(NaN);if(p!=U)return R.s=-U,S.plus(R);var m=S.e/_,T=R.e/_,P=S.c,Q=R.c;if(!m||!T){if(!P||!Q)return P?(R.s=-U,R):new O(Q?S:NaN);if(!P[0]||!Q[0])return Q[0]?(R.s=-U,R):new O(P[0]?S:E==3?-0:0)}if(m=M(m),T=M(T),P=P.slice(),p=m-T){for((ie=p<0)?(p=-p,D=P):(T=m,D=Q),D.reverse(),U=p;U--;D.push(0));D.reverse()}else for(X=(ie=(p=P.length)<(U=Q.length))?p:U,p=U=0;U<X;U++)if(P[U]!=Q[U]){ie=P[U]<Q[U];break}if(ie&&(D=P,P=Q,Q=D,R.s=-R.s),U=(X=Q.length)-(L=P.length),U>0)for(;U--;P[L++]=0);for(U=g-1;X>p;){if(P[--X]<Q[X]){for(L=X;L&&!P[--L];P[L]=U);--P[L],P[X]+=g}P[X]-=Q[X]}for(;P[0]==0;P.splice(0,1),--T);return P[0]?be(R,P,T):(R.s=E==3?-1:1,R.c=[R.e=0],R)},H.modulo=H.mod=function(R,U){var L,X,D=this;return R=new O(R,U),!D.c||!R.s||R.c&&!R.c[0]?new O(NaN):!R.c||D.c&&!D.c[0]?new O(D):(_e==9?(X=R.s,R.s=1,L=le(D,R,0,3),R.s=X,L.s*=X):L=le(D,R,0,_e),R=D.minus(L.times(R)),!R.c[0]&&_e==1&&(R.s=D.s),R)},H.multipliedBy=H.times=function(R,U){var L,X,D,ie,S,p,m,T,P,Q,he,je,Oe,Ie,Qe,A=this,y=A.c,v=(R=new O(R,U)).c;if(!y||!v||!y[0]||!v[0])return!A.s||!R.s||y&&!y[0]&&!v||v&&!v[0]&&!y?R.c=R.e=R.s=null:(R.s*=A.s,!y||!v?R.c=R.e=null:(R.c=[0],R.e=0)),R;for(X=M(A.e/_)+M(R.e/_),R.s*=A.s,m=y.length,Q=v.length,m<Q&&(Oe=y,y=v,v=Oe,D=m,m=Q,Q=D),D=m+Q,Oe=[];D--;Oe.push(0));for(Ie=g,Qe=k,D=Q;--D>=0;){for(L=0,he=v[D]%Qe,je=v[D]/Qe|0,S=m,ie=D+S;ie>D;)T=y[--S]%Qe,P=y[S]/Qe|0,p=je*T+P*he,T=he*T+p%Qe*Qe+Oe[ie]+L,L=(T/Ie|0)+(p/Qe|0)+je*P,Oe[ie--]=T%Ie;Oe[ie]=L}return L?++X:Oe.splice(0,1),be(R,Oe,X)},H.negated=function(){var R=new O(this);return R.s=-R.s||null,R},H.plus=function(R,U){var L,X=this,D=X.s;if(R=new O(R,U),U=R.s,!D||!U)return new O(NaN);if(D!=U)return R.s=-U,X.minus(R);var ie=X.e/_,S=R.e/_,p=X.c,m=R.c;if(!ie||!S){if(!p||!m)return new O(D/0);if(!p[0]||!m[0])return m[0]?R:new O(p[0]?X:D*0)}if(ie=M(ie),S=M(S),p=p.slice(),D=ie-S){for(D>0?(S=ie,L=m):(D=-D,L=p),L.reverse();D--;L.push(0));L.reverse()}for(D=p.length,U=m.length,D-U<0&&(L=m,m=p,p=L,U=D),D=0;U;)D=(p[--U]=p[U]+m[U]+D)/g|0,p[U]=g===p[U]?0:p[U]%g;return D&&(p=[D].concat(p),++S),be(R,p,S)},H.precision=H.sd=function(R,U){var L,X,D,ie=this;if(R!=null&&R!==!!R)return W(R,1,j),U==null?U=E:W(U,0,8),me(new O(ie),R,U);if(!(L=ie.c))return null;if(D=L.length-1,X=D*_+1,D=L[D]){for(;D%10==0;D/=10,X--);for(D=L[0];D>=10;D/=10,X++);}return R&&ie.e+1>X&&(X=ie.e+1),X},H.shiftedBy=function(R){return W(R,-N,N),this.times("1e"+R)},H.squareRoot=H.sqrt=function(){var R,U,L,X,D,ie=this,S=ie.c,p=ie.s,m=ie.e,T=ge+4,P=new O("0.5");if(p!==1||!S||!S[0])return new O(!p||p<0&&(!S||S[0])?NaN:S?ie:1/0);if(p=Math.sqrt(+Ne(ie)),p==0||p==1/0?(U=B(S),(U.length+m)%2==0&&(U+="0"),p=Math.sqrt(+U),m=M((m+1)/2)-(m<0||m%2),p==1/0?U="5e"+m:(U=p.toExponential(),U=U.slice(0,U.indexOf("e")+1)+m),L=new O(U)):L=new O(p+""),L.c[0]){for(m=L.e,p=m+T,p<3&&(p=0);;)if(D=L,L=P.times(D.plus(le(ie,D,T,1))),B(D.c).slice(0,p)===(U=B(L.c)).slice(0,p))if(L.e<m&&--p,U=U.slice(p-3,p+1),U=="9999"||!X&&U=="4999"){if(!X&&(me(D,D.e+ge+2,0),D.times(D).eq(ie))){L=D;break}T+=4,p+=4,X=1}else{(!+U||!+U.slice(1)&&U.charAt(0)=="5")&&(me(L,L.e+ge+2,1),R=!L.times(L).eq(ie));break}}return me(L,L.e+ge+1,E,R)},H.toExponential=function(R,U){return R!=null&&(W(R,0,j),R++),Pe(this,R,U,1)},H.toFixed=function(R,U){return R!=null&&(W(R,0,j),R=R+this.e+1),Pe(this,R,U)},H.toFormat=function(R,U,L){var X,D=this;if(L==null)R!=null&&U&&typeof U=="object"?(L=U,U=null):R&&typeof R=="object"?(L=R,R=U=null):L=G;else if(typeof L!="object")throw Error(f+"Argument not an object: "+L);if(X=D.toFixed(R,U),D.c){var ie,S=X.split("."),p=+L.groupSize,m=+L.secondaryGroupSize,T=L.groupSeparator||"",P=S[0],Q=S[1],he=D.s<0,je=he?P.slice(1):P,Oe=je.length;if(m&&(ie=p,p=m,m=ie,Oe-=ie),p>0&&Oe>0){for(ie=Oe%p||p,P=je.substr(0,ie);ie<Oe;ie+=p)P+=T+je.substr(ie,p);m>0&&(P+=T+je.slice(ie)),he&&(P="-"+P)}X=Q?P+(L.decimalSeparator||"")+((m=+L.fractionGroupSize)?Q.replace(new RegExp("\\d{"+m+"}\\B","g"),"$&"+(L.fractionGroupSeparator||"")):Q):P}return(L.prefix||"")+X+(L.suffix||"")},H.toFraction=function(R){var U,L,X,D,ie,S,p,m,T,P,Q,he,je=this,Oe=je.c;if(R!=null&&(p=new O(R),!p.isInteger()&&(p.c||p.s!==1)||p.lt(ce)))throw Error(f+"Argument "+(p.isInteger()?"out of range: ":"not an integer: ")+Ne(p));if(!Oe)return new O(je);for(U=new O(ce),T=L=new O(ce),X=m=new O(ce),he=B(Oe),ie=U.e=he.length-je.e-1,U.c[0]=w[(S=ie%_)<0?_+S:S],R=!R||p.comparedTo(U)>0?ie>0?U:T:p,S=fe,fe=1/0,p=new O(he),m.c[0]=0;P=le(p,U,0,1),D=L.plus(P.times(X)),D.comparedTo(R)!=1;)L=X,X=D,T=m.plus(P.times(D=T)),m=D,U=p.minus(P.times(D=U)),p=D;return D=le(R.minus(L),X,0,1),m=m.plus(D.times(T)),L=L.plus(D.times(X)),m.s=T.s=je.s,ie=ie*2,Q=le(T,X,ie,E).minus(je).abs().comparedTo(le(m,L,ie,E).minus(je).abs())<1?[T,X]:[m,L],fe=S,Q},H.toNumber=function(){return+Ne(this)},H.toPrecision=function(R,U){return R!=null&&W(R,1,j),Pe(this,R,U,2)},H.toString=function(R){var U,L=this,X=L.s,D=L.e;return D===null?X?(U="Infinity",X<0&&(U="-"+U)):U="NaN":(R==null?U=D<=I||D>=Z?ue(B(L.c),D):F(B(L.c),D,"0"):R===10&&Re?(L=me(new O(L),ge+D+1,E),U=F(B(L.c),L.e,"0")):(W(R,2,de.length,"Base"),U=z(F(B(L.c),D,"0"),10,R,X,!0)),X<0&&L.c[0]&&(U="-"+U)),U},H.valueOf=H.toJSON=function(){return Ne(this)},H._isBigNumber=!0,re!=null&&O.set(re),O}function M(re){var le=re|0;return re>0||re===le?le:le-1}function B(re){for(var le,z,q=1,H=re.length,ce=re[0]+"";q<H;){for(le=re[q++]+"",z=_-le.length;z--;le="0"+le);ce+=le}for(H=ce.length;ce.charCodeAt(--H)===48;);return ce.slice(0,H+1||1)}function $(re,le){var z,q,H=re.c,ce=le.c,ge=re.s,E=le.s,I=re.e,Z=le.e;if(!ge||!E)return null;if(z=H&&!H[0],q=ce&&!ce[0],z||q)return z?q?0:-E:ge;if(ge!=E)return ge;if(z=ge<0,q=I==Z,!H||!ce)return q?0:!H^z?1:-1;if(!q)return I>Z^z?1:-1;for(E=(I=H.length)<(Z=ce.length)?I:Z,ge=0;ge<E;ge++)if(H[ge]!=ce[ge])return H[ge]>ce[ge]^z?1:-1;return I==Z?0:I>Z^z?1:-1}function W(re,le,z,q){if(re<le||re>z||re!==d(re))throw Error(f+(q||"Argument")+(typeof re=="number"?re<le||re>z?" out of range: ":" not an integer: ":" not a primitive number: ")+String(re))}function J(re){var le=re.c.length-1;return M(re.e/_)==le&&re.c[le]%2!=0}function ue(re,le){return(re.length>1?re.charAt(0)+"."+re.slice(1):re)+(le<0?"e":"e+")+le}function F(re,le,z){var q,H;if(le<0){for(H=z+".";++le;H+=z);re=H+re}else if(q=re.length,++le>q){for(H=z,le-=q;--le;H+=z);re+=H}else le<q&&(re=re.slice(0,le)+"."+re.slice(le));return re}n=b(),n.default=n.BigNumber=n,e.exports?e.exports=n:(r||(r=typeof self<"u"&&self?self:window),r.BigNumber=n)})(M2)}($l)),$l.exports}var Gd,_m;function O2(){return _m||(_m=1,Gd=function(r,n,s){var o=new r.Uint8Array(s),d=n.pushInt,f=n.pushInt32,u=n.pushInt32Neg,g=n.pushInt64,_=n.pushInt64Neg,N=n.pushFloat,w=n.pushFloatSingle,k=n.pushFloatDouble,j=n.pushTrue,b=n.pushFalse,M=n.pushUndefined,B=n.pushNull,$=n.pushInfinity,W=n.pushInfinityNeg,J=n.pushNaN,ue=n.pushNaNNeg,F=n.pushArrayStart,re=n.pushArrayStartFixed,le=n.pushArrayStartFixed32,z=n.pushArrayStartFixed64,q=n.pushObjectStart,H=n.pushObjectStartFixed,ce=n.pushObjectStartFixed32,ge=n.pushObjectStartFixed64,E=n.pushByteString,I=n.pushByteStringStart,Z=n.pushUtf8String,ne=n.pushUtf8StringStart,fe=n.pushSimpleUnassigned,se=n.pushTagStart,_e=n.pushTagStart4,Ee=n.pushTagStart8,G=n.pushTagUnassigned,de=n.pushBreak,Re=r.Math.pow,O=0,Pe=0,Ce=0;function be(ee){for(ee=ee|0,O=0,Pe=ee;(O|0)<(Pe|0)&&(Ce=eu[o[O]&255](o[O]|0)|0,!((Ce|0)>0)););return Ce|0}function me(ee){return ee=ee|0,((O|0)+(ee|0)|0)<(Pe|0)?0:1}function Ne(ee){return ee=ee|0,o[ee|0]<<8|o[ee+1|0]|0}function R(ee){return ee=ee|0,o[ee|0]<<24|o[ee+1|0]<<16|o[ee+2|0]<<8|o[ee+3|0]|0}function U(ee){return ee=ee|0,d(ee|0),O=O+1|0,0}function L(ee){return ee=ee|0,me(1)|0?1:(d(o[O+1|0]|0),O=O+2|0,0)}function X(ee){return ee=ee|0,me(2)|0?1:(d(Ne(O+1|0)|0),O=O+3|0,0)}function D(ee){return ee=ee|0,me(4)|0?1:(f(Ne(O+1|0)|0,Ne(O+3|0)|0),O=O+5|0,0)}function ie(ee){return ee=ee|0,me(8)|0?1:(g(Ne(O+1|0)|0,Ne(O+3|0)|0,Ne(O+5|0)|0,Ne(O+7|0)|0),O=O+9|0,0)}function S(ee){return ee=ee|0,d(-1-(ee-32|0)|0),O=O+1|0,0}function p(ee){return ee=ee|0,me(1)|0?1:(d(-1-(o[O+1|0]|0)|0),O=O+2|0,0)}function m(ee){ee=ee|0;var He=0;return me(2)|0?1:(He=Ne(O+1|0)|0,d(-1-(He|0)|0),O=O+3|0,0)}function T(ee){return ee=ee|0,me(4)|0?1:(u(Ne(O+1|0)|0,Ne(O+3|0)|0),O=O+5|0,0)}function P(ee){return ee=ee|0,me(8)|0?1:(_(Ne(O+1|0)|0,Ne(O+3|0)|0,Ne(O+5|0)|0,Ne(O+7|0)|0),O=O+9|0,0)}function Q(ee){ee=ee|0;var He=0,rt=0,Je=0;return Je=ee-64|0,me(Je|0)|0?1:(He=O+1|0,rt=(O+1|0)+(Je|0)|0,E(He|0,rt|0),O=rt|0,0)}function he(ee){ee=ee|0;var He=0,rt=0,Je=0;return me(1)|0||(Je=o[O+1|0]|0,He=O+2|0,rt=(O+2|0)+(Je|0)|0,me(Je+1|0)|0)?1:(E(He|0,rt|0),O=rt|0,0)}function je(ee){ee=ee|0;var He=0,rt=0,Je=0;return me(2)|0||(Je=Ne(O+1|0)|0,He=O+3|0,rt=(O+3|0)+(Je|0)|0,me(Je+2|0)|0)?1:(E(He|0,rt|0),O=rt|0,0)}function Oe(ee){ee=ee|0;var He=0,rt=0,Je=0;return me(4)|0||(Je=R(O+1|0)|0,He=O+5|0,rt=(O+5|0)+(Je|0)|0,me(Je+4|0)|0)?1:(E(He|0,rt|0),O=rt|0,0)}function Ie(ee){return ee=ee|0,1}function Qe(ee){return ee=ee|0,I(),O=O+1|0,0}function A(ee){ee=ee|0;var He=0,rt=0,Je=0;return Je=ee-96|0,me(Je|0)|0?1:(He=O+1|0,rt=(O+1|0)+(Je|0)|0,Z(He|0,rt|0),O=rt|0,0)}function y(ee){ee=ee|0;var He=0,rt=0,Je=0;return me(1)|0||(Je=o[O+1|0]|0,He=O+2|0,rt=(O+2|0)+(Je|0)|0,me(Je+1|0)|0)?1:(Z(He|0,rt|0),O=rt|0,0)}function v(ee){ee=ee|0;var He=0,rt=0,Je=0;return me(2)|0||(Je=Ne(O+1|0)|0,He=O+3|0,rt=(O+3|0)+(Je|0)|0,me(Je+2|0)|0)?1:(Z(He|0,rt|0),O=rt|0,0)}function V(ee){ee=ee|0;var He=0,rt=0,Je=0;return me(4)|0||(Je=R(O+1|0)|0,He=O+5|0,rt=(O+5|0)+(Je|0)|0,me(Je+4|0)|0)?1:(Z(He|0,rt|0),O=rt|0,0)}function ae(ee){return ee=ee|0,1}function we(ee){return ee=ee|0,ne(),O=O+1|0,0}function xe(ee){return ee=ee|0,re(ee-128|0),O=O+1|0,0}function Le(ee){return ee=ee|0,me(1)|0?1:(re(o[O+1|0]|0),O=O+2|0,0)}function De(ee){return ee=ee|0,me(2)|0?1:(re(Ne(O+1|0)|0),O=O+3|0,0)}function Ye(ee){return ee=ee|0,me(4)|0?1:(le(Ne(O+1|0)|0,Ne(O+3|0)|0),O=O+5|0,0)}function Ge(ee){return ee=ee|0,me(8)|0?1:(z(Ne(O+1|0)|0,Ne(O+3|0)|0,Ne(O+5|0)|0,Ne(O+7|0)|0),O=O+9|0,0)}function it(ee){return ee=ee|0,F(),O=O+1|0,0}function lt(ee){ee=ee|0;var He=0;return He=ee-160|0,me(He|0)|0?1:(H(He|0),O=O+1|0,0)}function _i(ee){return ee=ee|0,me(1)|0?1:(H(o[O+1|0]|0),O=O+2|0,0)}function Lr(ee){return ee=ee|0,me(2)|0?1:(H(Ne(O+1|0)|0),O=O+3|0,0)}function Yr(ee){return ee=ee|0,me(4)|0?1:(ce(Ne(O+1|0)|0,Ne(O+3|0)|0),O=O+5|0,0)}function es(ee){return ee=ee|0,me(8)|0?1:(ge(Ne(O+1|0)|0,Ne(O+3|0)|0,Ne(O+5|0)|0,Ne(O+7|0)|0),O=O+9|0,0)}function ts(ee){return ee=ee|0,q(),O=O+1|0,0}function Mr(ee){return ee=ee|0,se(ee-192|0|0),O=O+1|0,0}function Yc(ee){return ee=ee|0,se(ee|0),O=O+1|0,0}function Zc(ee){return ee=ee|0,se(ee|0),O=O+1|0,0}function fo(ee){return ee=ee|0,se(ee|0),O=O+1|0,0}function Qc(ee){return ee=ee|0,se(ee|0),O=O+1|0,0}function yt(ee){return ee=ee|0,se(ee-192|0|0),O=O+1|0,0}function ho(ee){return ee=ee|0,se(ee|0),O=O+1|0,0}function rs(ee){return ee=ee|0,se(ee|0),O=O+1|0,0}function v0(ee){return ee=ee|0,se(ee|0),O=O+1|0,0}function Ni(ee){return ee=ee|0,me(1)|0?1:(se(o[O+1|0]|0),O=O+2|0,0)}function ns(ee){return ee=ee|0,me(2)|0?1:(se(Ne(O+1|0)|0),O=O+3|0,0)}function is(ee){return ee=ee|0,me(4)|0?1:(_e(Ne(O+1|0)|0,Ne(O+3|0)|0),O=O+5|0,0)}function ta(ee){return ee=ee|0,me(8)|0?1:(Ee(Ne(O+1|0)|0,Ne(O+3|0)|0,Ne(O+5|0)|0,Ne(O+7|0)|0),O=O+9|0,0)}function Nt(ee){return ee=ee|0,fe((ee|0)-224|0),O=O+1|0,0}function Dc(ee){return ee=ee|0,b(),O=O+1|0,0}function Xc(ee){return ee=ee|0,j(),O=O+1|0,0}function dn(ee){return ee=ee|0,B(),O=O+1|0,0}function po(ee){return ee=ee|0,M(),O=O+1|0,0}function mo(ee){return ee=ee|0,me(1)|0?1:(fe(o[O+1|0]|0),O=O+2|0,0)}function Jc(ee){ee=ee|0;var He=0,rt=0,Je=1,Ei=0,Zr=0,b0=0;return me(2)|0?1:(He=o[O+1|0]|0,rt=o[O+2|0]|0,(He|0)&128&&(Je=-1),Ei=+(((He|0)&124)>>2),Zr=+(((He|0)&3)<<8|rt),+Ei==0?N(+(+Je*5960464477539063e-23*+Zr)):+Ei==31?+Je==1?+Zr>0?J():$():+Zr>0?ue():W():N(+(+Je*Re(2,+(+Ei-25))*+(1024+Zr))),O=O+3|0,0)}function go(ee){return ee=ee|0,me(4)|0?1:(w(o[O+1|0]|0,o[O+2|0]|0,o[O+3|0]|0,o[O+4|0]|0),O=O+5|0,0)}function yo(ee){return ee=ee|0,me(8)|0?1:(k(o[O+1|0]|0,o[O+2|0]|0,o[O+3|0]|0,o[O+4|0]|0,o[O+5|0]|0,o[O+6|0]|0,o[O+7|0]|0,o[O+8|0]|0),O=O+9|0,0)}function ct(ee){return ee=ee|0,1}function xo(ee){return ee=ee|0,de(),O=O+1|0,0}var eu=[U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,L,X,D,ie,ct,ct,ct,ct,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,p,m,T,P,ct,ct,ct,ct,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,he,je,Oe,Ie,ct,ct,ct,Qe,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,y,v,V,ae,ct,ct,ct,we,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,Le,De,Ye,Ge,ct,ct,ct,it,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,lt,_i,Lr,Yr,es,ct,ct,ct,ts,Mr,Mr,Mr,Mr,Mr,Mr,yt,yt,yt,yt,yt,yt,yt,yt,yt,yt,yt,yt,yt,yt,yt,yt,yt,yt,Ni,ns,is,ta,ct,ct,ct,ct,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Dc,Xc,dn,po,mo,Jc,go,yo,ct,ct,ct,xo];return{parse:be}}),Gd}var Wd={},mr={},Nm;function Uc(){if(Nm)return mr;Nm=1;const e=Oc().BigNumber;return mr.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},mr.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},mr.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},mr.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},mr.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},mr.SHIFT32=Math.pow(2,32),mr.SHIFT16=Math.pow(2,16),mr.MAX_SAFE_HIGH=2097151,mr.NEG_ONE=new e(-1),mr.TEN=new e(10),mr.TWO=new e(2),mr.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5},mr}var Em;function l0(){return Em||(Em=1,function(e){const{Buffer:r}=Mc(),n=Oc().BigNumber,s=Uc(),o=s.SHIFT32,d=s.SHIFT16,f=2097151;e.parseHalf=function(_){var N,w,k;return k=_[0]&128?-1:1,N=(_[0]&124)>>2,w=(_[0]&3)<<8|_[1],N?N===31?k*(w?NaN:1/0):k*Math.pow(2,N-25)*(1024+w):k*5960464477539063e-23*w};function u(g){return g<16?"0"+g.toString(16):g.toString(16)}e.arrayBufferToBignumber=function(g){const _=g.byteLength;let N="";for(let w=0;w<_;w++)N+=u(g[w]);return new n(N,16)},e.buildMap=g=>{const _=new Map,N=Object.keys(g),w=N.length;for(let k=0;k<w;k++)_.set(N[k],g[N[k]]);return _},e.buildInt32=(g,_)=>g*d+_,e.buildInt64=(g,_,N,w)=>{const k=e.buildInt32(g,_),j=e.buildInt32(N,w);return k>f?new n(k).times(o).plus(j):k*o+j},e.writeHalf=function(_,N){const w=r.allocUnsafe(4);w.writeFloatBE(N,0);const k=w.readUInt32BE(0);if((k&8191)!==0)return!1;var j=k>>16&32768;const b=k>>23&255,M=k&8388607;if(b>=113&&b<=142)j+=(b-112<<10)+(M>>13);else if(b>=103&&b<113){if(M&(1<<126-b)-1)return!1;j+=M+8388608>>126-b}else return!1;return _.writeUInt16BE(j,0),!0},e.keySorter=function(g,_){var N=g[0].byteLength,w=_[0].byteLength;return N>w?1:w>N?-1:g[0].compare(_[0])},e.isNegativeZero=g=>g===0&&1/g<0,e.nextPowerOf2=g=>{let _=0;if(g&&!(g&g-1))return g;for(;g!==0;)g>>=1,_+=1;return 1<<_}}(Wd)),Wd}var Kd,km;function My(){if(km)return Kd;km=1;const e=Uc(),r=e.MT,n=e.SIMPLE,s=e.SYMS;class o{constructor(f){if(typeof f!="number")throw new Error("Invalid Simple type: "+typeof f);if(f<0||f>255||(f|0)!==f)throw new Error("value must be a small positive integer: "+f);this.value=f}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(f){return f._pushInt(this.value,r.SIMPLE_FLOAT)}static isSimple(f){return f instanceof o}static decode(f,u){switch(u==null&&(u=!0),f){case n.FALSE:return!1;case n.TRUE:return!0;case n.NULL:return u?null:s.NULL;case n.UNDEFINED:return u?void 0:s.UNDEFINED;case-1:if(!u)throw new Error("Invalid BREAK");return s.BREAK;default:return new o(f)}}}return Kd=o,Kd}var Ld,Sm;function Oy(){if(Sm)return Ld;Sm=1;class e{constructor(n,s,o){if(this.tag=n,this.value=s,this.err=o,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(n){return n._pushTag(this.tag),n.pushAny(this.value)}convert(n){var s,o;if(o=n!=null?n[this.tag]:void 0,typeof o!="function"&&(o=e["_tag"+this.tag],typeof o!="function"))return this;try{return o.call(e,this.value)}catch(d){return s=d,this.err=s,this}}}return Ld=e,Ld}var Yd,jm;function Uy(){if(jm)return Yd;jm=1;const e=self.location?self.location.protocol+"//"+self.location.host:"",r=self.URL;class n{constructor(d="",f=e){this.super=new r(d,f),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(d){this.super.hash=d}set host(d){this.super.host=d}set hostname(d){this.super.hostname=d}set href(d){this.super.href=d}set origin(d){this.super.origin=d}set password(d){this.super.password=d}set pathname(d){this.super.pathname=d}set port(d){this.super.port=d}set protocol(d){this.super.protocol=d}set search(d){this.super.search=d}set searchParams(d){this.super.searchParams=d}set username(d){this.super.username=d}createObjectURL(d){return this.super.createObjectURL(d)}revokeObjectURL(d){this.super.revokeObjectURL(d)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}}function s(o){if(typeof o=="string")return new r(o).toString();if(!(o instanceof r)){const d=o.username&&o.password?`${o.username}:${o.password}@`:"",f=o.auth?o.auth+"@":"",u=o.port?":"+o.port:"",g=o.protocol?o.protocol+"//":"",_=o.host||"",N=o.hostname||"",w=o.search||(o.query?"?"+o.query:""),k=o.hash||"",j=o.pathname||"",b=o.path||j+w;return`${g}${d||f}${_||N+u}${b}${k}`}}return Yd={URLWithLegacySupport:n,URLSearchParams:self.URLSearchParams,defaultBase:e,format:s},Yd}var Zd,Am;function U2(){if(Am)return Zd;Am=1;const{URLWithLegacySupport:e,format:r}=Uy();return Zd=(n,s={},o={},d)=>{let f=s.protocol?s.protocol.replace(":",""):"http";f=(o[f]||d||f)+":";let u;try{u=new e(n)}catch{u={}}const g=Object.assign({},s,{protocol:f||u.protocol,host:s.host||u.host});return new e(n,r(g)).toString()},Zd}var Qd,Tm;function Fy(){if(Tm)return Qd;Tm=1;const{URLWithLegacySupport:e,format:r,URLSearchParams:n,defaultBase:s}=Uy(),o=U2();return Qd={URL:e,URLSearchParams:n,format:r,relative:o,defaultBase:s},Qd}var Dd,Cm;function Iy(){if(Cm)return Dd;Cm=1;const{Buffer:e}=Mc(),r=t0(),n=Oc().BigNumber,s=O2(),o=l0(),d=Uc(),f=My(),u=Oy(),{URL:g}=Fy();class _{constructor(w){w=w||{},!w.size||w.size<65536?w.size=65536:w.size=o.nextPowerOf2(w.size),this._heap=new ArrayBuffer(w.size),this._heap8=new Uint8Array(this._heap),this._buffer=e.from(this._heap),this._reset(),this._knownTags=Object.assign({0:k=>new Date(k),1:k=>new Date(k*1e3),2:k=>o.arrayBufferToBignumber(k),3:k=>d.NEG_ONE.minus(o.arrayBufferToBignumber(k)),4:k=>d.TEN.pow(k[0]).times(k[1]),5:k=>d.TWO.pow(k[0]).times(k[1]),32:k=>new g(k),35:k=>new RegExp(k)},w.tags),this.parser=s(qw,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var w=this._parents.pop();if(w.length>0)throw new Error(`Missing ${w.length} elements`);switch(w.type){case d.PARENT.TAG:this._push(this.createTag(w.ref[0],w.ref[1]));break;case d.PARENT.BYTE_STRING:this._push(this.createByteString(w.ref,w.length));break;case d.PARENT.UTF8_STRING:this._push(this.createUtf8String(w.ref,w.length));break;case d.PARENT.MAP:if(w.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(w.ref,w.length));break;case d.PARENT.OBJECT:if(w.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(w.ref,w.length));break;case d.PARENT.ARRAY:this._push(this.createArray(w.ref,w.length));break}this._currentParent&&this._currentParent.type===d.PARENT.TAG&&this._dec()}_dec(){const w=this._currentParent;w.length<0||(w.length--,w.length===0&&this._closeParent())}_push(w,k){const j=this._currentParent;switch(j.values++,j.type){case d.PARENT.ARRAY:case d.PARENT.BYTE_STRING:case d.PARENT.UTF8_STRING:j.length>-1?this._ref[this._ref.length-j.length]=w:this._ref.push(w),this._dec();break;case d.PARENT.OBJECT:j.tmpKey!=null?(this._ref[j.tmpKey]=w,j.tmpKey=null,this._dec()):(j.tmpKey=w,typeof j.tmpKey!="string"&&(j.type=d.PARENT.MAP,j.ref=o.buildMap(j.ref)));break;case d.PARENT.MAP:j.tmpKey!=null?(this._ref.set(j.tmpKey,w),j.tmpKey=null,this._dec()):j.tmpKey=w;break;case d.PARENT.TAG:this._ref.push(w),k||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(w,k,j){this._parents[this._depth]={type:k,length:j,ref:w,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:d.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(w,k){const j=this._knownTags[w];return j?j(k):new u(w,k)}createMap(w,k){return w}createObject(w,k){return w}createArray(w,k){return w}createByteString(w,k){return e.concat(w)}createByteStringFromHeap(w,k){return w===k?e.alloc(0):e.from(this._heap.slice(w,k))}createInt(w){return w}createInt32(w,k){return o.buildInt32(w,k)}createInt64(w,k,j,b){return o.buildInt64(w,k,j,b)}createFloat(w){return w}createFloatSingle(w,k,j,b){return r.read([w,k,j,b],0,!1,23,4)}createFloatDouble(w,k,j,b,M,B,$,W){return r.read([w,k,j,b,M,B,$,W],0,!1,52,8)}createInt32Neg(w,k){return-1-o.buildInt32(w,k)}createInt64Neg(w,k,j,b){const M=o.buildInt32(w,k),B=o.buildInt32(j,b);return M>d.MAX_SAFE_HIGH?d.NEG_ONE.minus(new n(M).times(d.SHIFT32).plus(B)):-1-(M*d.SHIFT32+B)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(w,k){return w.join("")}createUtf8StringFromHeap(w,k){return w===k?"":this._buffer.toString("utf8",w,k)}createSimpleUnassigned(w){return new f(w)}pushInt(w){this._push(this.createInt(w))}pushInt32(w,k){this._push(this.createInt32(w,k))}pushInt64(w,k,j,b){this._push(this.createInt64(w,k,j,b))}pushFloat(w){this._push(this.createFloat(w))}pushFloatSingle(w,k,j,b){this._push(this.createFloatSingle(w,k,j,b))}pushFloatDouble(w,k,j,b,M,B,$,W){this._push(this.createFloatDouble(w,k,j,b,M,B,$,W))}pushInt32Neg(w,k){this._push(this.createInt32Neg(w,k))}pushInt64Neg(w,k,j,b){this._push(this.createInt64Neg(w,k,j,b))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],d.PARENT.ARRAY,-1)}pushArrayStartFixed(w){this._createArrayStartFixed(w)}pushArrayStartFixed32(w,k){const j=o.buildInt32(w,k);this._createArrayStartFixed(j)}pushArrayStartFixed64(w,k,j,b){const M=o.buildInt64(w,k,j,b);this._createArrayStartFixed(M)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(w){this._createObjectStartFixed(w)}pushObjectStartFixed32(w,k){const j=o.buildInt32(w,k);this._createObjectStartFixed(j)}pushObjectStartFixed64(w,k,j,b){const M=o.buildInt64(w,k,j,b);this._createObjectStartFixed(M)}pushByteStringStart(){this._parents[this._depth]={type:d.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(w,k){this._push(this.createByteStringFromHeap(w,k))}pushUtf8StringStart(){this._parents[this._depth]={type:d.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(w,k){this._push(this.createUtf8StringFromHeap(w,k))}pushSimpleUnassigned(w){this._push(this.createSimpleUnassigned(w))}pushTagStart(w){this._parents[this._depth]={type:d.PARENT.TAG,length:1,ref:[w]}}pushTagStart4(w,k){this.pushTagStart(o.buildInt32(w,k))}pushTagStart8(w,k,j,b){this.pushTagStart(o.buildInt64(w,k,j,b))}pushTagUnassigned(w){this._push(this.createTag(w))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(w){if(w===0){this._push(this.createObject({}));return}this._createParent({},d.PARENT.OBJECT,w)}_createArrayStartFixed(w){if(w===0){this._push(this.createArray([]));return}this._createParent(new Array(w),d.PARENT.ARRAY,w)}_decode(w){if(w.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(w);const k=this.parser.parse(w.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(k>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(w){return this._decode(w),this._res[0]}decodeAll(w){return this._decode(w),this._res}static decode(w,k){return typeof w=="string"&&(w=e.from(w,k||"hex")),new _({size:w.length}).decodeFirst(w)}static decodeAll(w,k){return typeof w=="string"&&(w=e.from(w,k||"hex")),new _({size:w.length}).decodeAll(w)}}return _.decodeFirst=_.decode,Dd=_,Dd}var Xd,Bm;function F2(){if(Bm)return Xd;Bm=1;const{Buffer:e}=Mc(),r=Iy(),n=l0();class s extends r{createTag(f,u){return`${f}(${u})`}createInt(f){return super.createInt(f).toString()}createInt32(f,u){return super.createInt32(f,u).toString()}createInt64(f,u,g,_){return super.createInt64(f,u,g,_).toString()}createInt32Neg(f,u){return super.createInt32Neg(f,u).toString()}createInt64Neg(f,u,g,_){return super.createInt64Neg(f,u,g,_).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(f){const u=super.createFloat(f);return n.isNegativeZero(f)?"-0_1":`${u}_1`}createFloatSingle(f,u,g,_){return`${super.createFloatSingle(f,u,g,_)}_2`}createFloatDouble(f,u,g,_,N,w,k,j){return`${super.createFloatDouble(f,u,g,_,N,w,k,j)}_3`}createByteString(f,u){const g=f.join(", ");return u===-1?`(_ ${g})`:`h'${g}`}createByteStringFromHeap(f,u){return`h'${e.from(super.createByteStringFromHeap(f,u)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(f){return`simple(${f})`}createArray(f,u){const g=super.createArray(f,u);return u===-1?`[_ ${g.join(", ")}]`:`[${g.join(", ")}]`}createMap(f,u){const g=super.createMap(f),_=Array.from(g.keys()).reduce(o(g),"");return u===-1?`{_ ${_}}`:`{${_}}`}createObject(f,u){const g=super.createObject(f),_=Object.keys(g).reduce(o(g),"");return u===-1?`{_ ${_}}`:`{${_}}`}createUtf8String(f,u){const g=f.join(", ");return u===-1?`(_ ${g})`:`"${g}"`}createUtf8StringFromHeap(f,u){return`"${e.from(super.createUtf8StringFromHeap(f,u)).toString("utf8")}"`}static diagnose(f,u){return typeof f=="string"&&(f=e.from(f,u||"hex")),new s().decodeFirst(f)}}Xd=s;function o(d){return(f,u)=>f?`${f}, ${u}: ${d[u]}`:`${u}: ${d[u]}`}return Xd}var Jd,Rm;function I2(){if(Rm)return Jd;Rm=1;const{Buffer:e}=Mc(),{URL:r}=Fy(),n=Oc().BigNumber,s=l0(),o=Uc(),d=o.MT,f=o.NUMBYTES,u=o.SHIFT32,g=o.SYMS,_=o.TAG,N=o.MT.SIMPLE_FLOAT<<5|o.NUMBYTES.TWO,w=o.MT.SIMPLE_FLOAT<<5|o.NUMBYTES.FOUR,k=o.MT.SIMPLE_FLOAT<<5|o.NUMBYTES.EIGHT,j=o.MT.SIMPLE_FLOAT<<5|o.SIMPLE.TRUE,b=o.MT.SIMPLE_FLOAT<<5|o.SIMPLE.FALSE,M=o.MT.SIMPLE_FLOAT<<5|o.SIMPLE.UNDEFINED,B=o.MT.SIMPLE_FLOAT<<5|o.SIMPLE.NULL,$=new n("0x20000000000000"),W=e.from("f97e00","hex"),J=e.from("f9fc00","hex"),ue=e.from("f97c00","hex");function F(le){return{}.toString.call(le).slice(8,-1)}class re{constructor(z){z=z||{},this.streaming=typeof z.stream=="function",this.onData=z.stream,this.semanticTypes=[[r,this._pushUrl],[n,this._pushBigNumber]];const q=z.genTypes||[],H=q.length;for(let ce=0;ce<H;ce++)this.addSemanticType(q[ce][0],q[ce][1]);this._reset()}addSemanticType(z,q){const H=this.semanticTypes.length;for(let ce=0;ce<H;ce++)if(this.semanticTypes[ce][0]===z){const E=this.semanticTypes[ce][1];return this.semanticTypes[ce][1]=q,E}return this.semanticTypes.push([z,q]),null}push(z){return z&&(this.result[this.offset]=z,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=z.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(z,q,H){return this.result[this.offset]=z,this.resultMethod[this.offset]=q,this.resultLength[this.offset]=H,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(z){return this.pushWrite(z,1,1)}_pushUInt16BE(z){return this.pushWrite(z,2,2)}_pushUInt32BE(z){return this.pushWrite(z,3,4)}_pushDoubleBE(z){return this.pushWrite(z,4,8)}_pushNaN(){return this.push(W)}_pushInfinity(z){const q=z<0?J:ue;return this.push(q)}_pushFloat(z){const q=e.allocUnsafe(2);if(s.writeHalf(q,z)&&s.parseHalf(q)===z)return this._pushUInt8(N)&&this.push(q);const H=e.allocUnsafe(4);return H.writeFloatBE(z,0),H.readFloatBE(0)===z?this._pushUInt8(w)&&this.push(H):this._pushUInt8(k)&&this._pushDoubleBE(z)}_pushInt(z,q,H){const ce=q<<5;return z<24?this._pushUInt8(ce|z):z<=255?this._pushUInt8(ce|f.ONE)&&this._pushUInt8(z):z<=65535?this._pushUInt8(ce|f.TWO)&&this._pushUInt16BE(z):z<=4294967295?this._pushUInt8(ce|f.FOUR)&&this._pushUInt32BE(z):z<=Number.MAX_SAFE_INTEGER?this._pushUInt8(ce|f.EIGHT)&&this._pushUInt32BE(Math.floor(z/u))&&this._pushUInt32BE(z%u):q===d.NEG_INT?this._pushFloat(H):this._pushFloat(z)}_pushIntNum(z){return z<0?this._pushInt(-z-1,d.NEG_INT,z):this._pushInt(z,d.POS_INT)}_pushNumber(z){switch(!1){case z===z:return this._pushNaN(z);case isFinite(z):return this._pushInfinity(z);case z%1!==0:return this._pushIntNum(z);default:return this._pushFloat(z)}}_pushString(z){const q=e.byteLength(z,"utf8");return this._pushInt(q,d.UTF8_STRING)&&this.pushWrite(z,5,q)}_pushBoolean(z){return this._pushUInt8(z?j:b)}_pushUndefined(z){return this._pushUInt8(M)}_pushArray(z,q){const H=q.length;if(!z._pushInt(H,d.ARRAY))return!1;for(let ce=0;ce<H;ce++)if(!z.pushAny(q[ce]))return!1;return!0}_pushTag(z){return this._pushInt(z,d.TAG)}_pushDate(z,q){return z._pushTag(_.DATE_EPOCH)&&z.pushAny(Math.round(q/1e3))}_pushBuffer(z,q){return z._pushInt(q.length,d.BYTE_STRING)&&z.push(q)}_pushNoFilter(z,q){return z._pushBuffer(z,q.slice())}_pushRegexp(z,q){return z._pushTag(_.REGEXP)&&z.pushAny(q.source)}_pushSet(z,q){if(!z._pushInt(q.size,d.ARRAY))return!1;for(const H of q)if(!z.pushAny(H))return!1;return!0}_pushUrl(z,q){return z._pushTag(_.URI)&&z.pushAny(q.format())}_pushBigint(z){let q=_.POS_BIGINT;z.isNegative()&&(z=z.negated().minus(1),q=_.NEG_BIGINT);let H=z.toString(16);H.length%2&&(H="0"+H);const ce=e.from(H,"hex");return this._pushTag(q)&&this._pushBuffer(this,ce)}_pushBigNumber(z,q){if(q.isNaN())return z._pushNaN();if(!q.isFinite())return z._pushInfinity(q.isNegative()?-1/0:1/0);if(q.isInteger())return z._pushBigint(q);if(!(z._pushTag(_.DECIMAL_FRAC)&&z._pushInt(2,d.ARRAY)))return!1;const H=q.decimalPlaces(),ce=q.multipliedBy(new n(10).pow(H));return z._pushIntNum(-H)?ce.abs().isLessThan($)?z._pushIntNum(ce.toNumber()):z._pushBigint(ce):!1}_pushMap(z,q){return z._pushInt(q.size,d.MAP)?this._pushRawMap(q.size,Array.from(q)):!1}_pushObject(z){if(!z)return this._pushUInt8(B);for(var q=this.semanticTypes.length,H=0;H<q;H++)if(z instanceof this.semanticTypes[H][0])return this.semanticTypes[H][1].call(z,this,z);var ce=z.encodeCBOR;if(typeof ce=="function")return ce.call(z,this);var ge=Object.keys(z),E=ge.length;return this._pushInt(E,d.MAP)?this._pushRawMap(E,ge.map(I=>[I,z[I]])):!1}_pushRawMap(z,q){q=q.map(function(ce){return ce[0]=re.encode(ce[0]),ce}).sort(s.keySorter);for(var H=0;H<z;H++)if(!this.push(q[H][0])||!this.pushAny(q[H][1]))return!1;return!0}write(z){return this.pushAny(z)}pushAny(z){var q=F(z);switch(q){case"Number":return this._pushNumber(z);case"String":return this._pushString(z);case"Boolean":return this._pushBoolean(z);case"Object":return this._pushObject(z);case"Array":return this._pushArray(this,z);case"Uint8Array":return this._pushBuffer(this,e.isBuffer(z)?z:e.from(z));case"Null":return this._pushUInt8(B);case"Undefined":return this._pushUndefined(z);case"Map":return this._pushMap(this,z);case"Set":return this._pushSet(this,z);case"URL":return this._pushUrl(this,z);case"BigNumber":return this._pushBigNumber(this,z);case"Date":return this._pushDate(this,z);case"RegExp":return this._pushRegexp(this,z);case"Symbol":switch(z){case g.NULL:return this._pushObject(null);case g.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+z.toString())}default:throw new Error("Unknown type: "+typeof z+", "+(z?z.toString():""))}}finalize(){if(this.offset===0)return null;for(var z=this.result,q=this.resultLength,H=this.resultMethod,ce=this.offset,ge=0,E=0;E<ce;E++)ge+=q[E];var I=e.allocUnsafe(ge),Z=0,ne=0;for(E=0;E<ce;E++){switch(ne=q[E],H[E]){case 0:z[E].copy(I,Z);break;case 1:I.writeUInt8(z[E],Z,!0);break;case 2:I.writeUInt16BE(z[E],Z,!0);break;case 3:I.writeUInt32BE(z[E],Z,!0);break;case 4:I.writeDoubleBE(z[E],Z,!0);break;case 5:I.write(z[E],Z,ne,"utf8");break;default:throw new Error("unkown method")}Z+=ne}var fe=I;return this._reset(),fe}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(z){const q=new re;if(!q.pushAny(z))throw new Error("Failed to encode input");return q.finalize()}}return Jd=re,Jd}var Pm;function $2(){return Pm||(Pm=1,function(e){e.Diagnose=F2(),e.Decoder=Iy(),e.Encoder=I2(),e.Simple=My(),e.Tagged=Oy(),e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.decode=e.Decoder.decode,e.leveldb={decode:e.Decoder.decodeAll,encode:e.Encoder.encode,buffer:!0,name:"cbor"}}(Hd)),Hd}var z2=$2();const $y=Xf(z2);function Wr(e){return Ya(w2.create().update(new Uint8Array(e)).digest())}function zl(e){if(e instanceof $y.Tagged)return zl(e.value);if(typeof e=="string")return zy(e);if(typeof e=="number")return Wr(St(e));if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return Wr(e);if(Array.isArray(e)){const r=e.map(zl);return Wr(Kr(...r))}else{if(e&&typeof e=="object"&&e._isPrincipal)return Wr(e.toUint8Array());if(typeof e=="object"&&e!==null&&typeof e.toHash=="function")return zl(e.toHash());if(typeof e=="object")return hc(e);if(typeof e=="bigint")return Wr(St(e))}throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${e}`),{value:e})}const zy=e=>{const r=new TextEncoder().encode(e);return Wr(r)};function Ja(e){return hc(e)}function hc(e){const s=Object.entries(e).filter(([,f])=>f!==void 0).map(([f,u])=>{const g=zy(f),_=zl(u);return[g,_]}).sort(([f],[u])=>Zg(f,u)),o=Kr(...s.map(f=>Kr(...f)));return Wr(o)}var V2=function(e,r){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)r.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n};const H2=new TextEncoder().encode(`
ic-request`);class c0{getPrincipal(){return this._principal||(this._principal=et.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(r){const{body:n}=r,s=V2(r,["body"]),o=Ja(n);return Object.assign(Object.assign({},s),{body:{content:n,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign(Kr(H2,o))}})}}class eo{getPrincipal(){return et.anonymous()}async transformRequest(r){return Object.assign(Object.assign({},r),{body:{content:r.body}})}}var Fa={},_n={},ft={},Mm;function Vy(){if(Mm)return ft;Mm=1,Object.defineProperty(ft,"__esModule",{value:!0});const e=9007199254740992;function r(E,...I){const Z=new Uint8Array(E.byteLength+I.reduce((fe,se)=>fe+se.byteLength,0));Z.set(new Uint8Array(E),0);let ne=E.byteLength;for(const fe of I)Z.set(new Uint8Array(fe),ne),ne+=fe.byteLength;return Z.buffer}function n(E,I,Z){Z=Z.replace(/[^0-9a-fA-F]/g,"");const ne=2**(I-24);Z=Z.slice(-ne*2).padStart(ne*2,"0");const fe=[(E<<5)+I].concat(Z.match(/../g).map(se=>parseInt(se,16)));return new Uint8Array(fe).buffer}function s(E,I){if(I<24)return new Uint8Array([(E<<5)+I]).buffer;{const Z=I<=255?24:I<=65535?25:I<=4294967295?26:27;return n(E,Z,I.toString(16))}}function o(E){const I=[];for(let Z=0;Z<E.length;Z++){let ne=E.charCodeAt(Z);ne<128?I.push(ne):ne<2048?I.push(192|ne>>6,128|ne&63):ne<55296||ne>=57344?I.push(224|ne>>12,128|ne>>6&63,128|ne&63):(Z++,ne=(ne&1023)<<10|E.charCodeAt(Z)&1023,I.push(240|ne>>18,128|ne>>12&63,128|ne>>6&63,128|ne&63))}return r(new Uint8Array(s(3,E.length)),new Uint8Array(I))}function d(E,I){if(E==14277111)return r(new Uint8Array([217,217,247]),I);if(E<24)return r(new Uint8Array([192+E]),I);{const Z=E<=255?24:E<=65535?25:E<=4294967295?26:27,ne=2**(Z-24),fe=E.toString(16).slice(-ne*2).padStart(ne*2,"0"),se=[192+Z].concat(fe.match(/../g).map(_e=>parseInt(_e,16)));return new Uint8Array(se).buffer}}ft.tagged=d;function f(E){return new Uint8Array(E).buffer}ft.raw=f;function u(E){if(isNaN(E))throw new RangeError("Invalid number.");E=Math.min(Math.max(0,E),23);const I=[0+E];return new Uint8Array(I).buffer}ft.uSmall=u;function g(E,I){if(E=parseInt(""+E,I),isNaN(E))throw new RangeError("Invalid number.");return E=Math.min(Math.max(0,E),255),E=E.toString(16),n(0,24,E)}ft.u8=g;function _(E,I){if(E=parseInt(""+E,I),isNaN(E))throw new RangeError("Invalid number.");return E=Math.min(Math.max(0,E),65535),E=E.toString(16),n(0,25,E)}ft.u16=_;function N(E,I){if(E=parseInt(""+E,I),isNaN(E))throw new RangeError("Invalid number.");return E=Math.min(Math.max(0,E),4294967295),E=E.toString(16),n(0,26,E)}ft.u32=N;function w(E,I){if(typeof E=="string"&&I==16){if(E.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return n(0,27,E)}if(E=parseInt(""+E,I),isNaN(E))throw new RangeError("Invalid number.");return E=Math.min(Math.max(0,E),e),E=E.toString(16),n(0,27,E)}ft.u64=w;function k(E){if(isNaN(E))throw new RangeError("Invalid number.");if(E===0)return u(0);E=Math.min(Math.max(0,-E),24)-1;const I=[32+E];return new Uint8Array(I).buffer}ft.iSmall=k;function j(E,I){if(E=parseInt(""+E,I),isNaN(E))throw new RangeError("Invalid number.");return E=Math.min(Math.max(0,-E-1),255),E=E.toString(16),n(1,24,E)}ft.i8=j;function b(E,I){if(E=parseInt(""+E,I),isNaN(E))throw new RangeError("Invalid number.");return E=Math.min(Math.max(0,-E-1),65535),E=E.toString(16),n(1,25,E)}ft.i16=b;function M(E,I){if(E=parseInt(""+E,I),isNaN(E))throw new RangeError("Invalid number.");return E=Math.min(Math.max(0,-E-1),4294967295),E=E.toString(16),n(1,26,E)}ft.i32=M;function B(E,I){if(typeof E=="string"&&I==16){if(E.startsWith("-")?E=E.slice(1):E="0",E.match(/[^0-9a-fA-F]/)||E.length>16)throw new RangeError("Invalid number.");let Z=!1,ne=E.split("").reduceRight((fe,se)=>{if(Z)return se+fe;let _e=parseInt(se,16)-1;return _e>=0?(Z=!0,_e.toString(16)+fe):"f"+fe},"");return Z?n(1,27,ne):w(0)}if(E=parseInt(""+E,I),isNaN(E))throw new RangeError("Invalid number.");return E=Math.min(Math.max(0,-E-1),9007199254740992),E=E.toString(16),n(1,27,E)}ft.i64=B;function $(E){return E>=0?E<24?u(E):E<=255?g(E):E<=65535?_(E):E<=4294967295?N(E):w(E):E>=-24?k(E):E>=-255?j(E):E>=-65535?b(E):E>=-4294967295?M(E):B(E)}ft.number=$;function W(E){return r(s(2,E.byteLength),E)}ft.bytes=W;function J(E){return o(E)}ft.string=J;function ue(E){return r(s(4,E.length),...E)}ft.array=ue;function F(E,I=!1){E instanceof Map||(E=new Map(Object.entries(E)));let Z=Array.from(E.entries());return I&&(Z=Z.sort(([ne],[fe])=>ne.localeCompare(fe))),r(s(5,E.size),...Z.map(([ne,fe])=>r(o(ne),fe)))}ft.map=F;function re(E){const I=new Float32Array([E]);return r(new Uint8Array([250]),new Uint8Array(I.buffer))}ft.singleFloat=re;function le(E){const I=new Float64Array([E]);return r(new Uint8Array([251]),new Uint8Array(I.buffer))}ft.doubleFloat=le;function z(E){return E?q():H()}ft.bool=z;function q(){return f(new Uint8Array([245]))}ft.true_=q;function H(){return f(new Uint8Array([244]))}ft.false_=H;function ce(){return f(new Uint8Array([246]))}ft.null_=ce;function ge(){return f(new Uint8Array([247]))}return ft.undefined_=ge,ft}var Om;function q2(){if(Om)return _n;Om=1;var e=_n&&_n.__importStar||function(u){if(u&&u.__esModule)return u;var g={};if(u!=null)for(var _ in u)Object.hasOwnProperty.call(u,_)&&(g[_]=u[_]);return g.default=u,g};Object.defineProperty(_n,"__esModule",{value:!0});const r=e(Vy()),n=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class s{constructor(g,_=!1){this._serializer=g,this._stable=_,this.name="jsonDefault",this.priority=-100}match(g){return["undefined","boolean","number","string","object"].indexOf(typeof g)!=-1}encode(g){switch(typeof g){case"undefined":return r.undefined_();case"boolean":return r.bool(g);case"number":return Math.floor(g)===g?r.number(g):r.doubleFloat(g);case"string":return r.string(g);case"object":if(g===null)return r.null_();if(Array.isArray(g))return r.array(g.map(_=>this._serializer.serializeValue(_)));if(n.find(_=>g instanceof _))return r.bytes(g.buffer);if(Object.getOwnPropertyNames(g).indexOf("toJSON")!==-1)return this.encode(g.toJSON());if(g instanceof Map){const _=new Map;for(const[N,w]of g.entries())_.set(N,this._serializer.serializeValue(w));return r.map(_,this._stable)}else{const _=new Map;for(const[N,w]of Object.entries(g))_.set(N,this._serializer.serializeValue(w));return r.map(_,this._stable)}default:throw new Error("Invalid value.")}}}_n.JsonDefaultCborEncoder=s;class o{constructor(){this.name="cborEncoder",this.priority=-90}match(g){return typeof g=="object"&&typeof g.toCBOR=="function"}encode(g){return g.toCBOR()}}_n.ToCborEncoder=o;class d{constructor(){this._encoders=new Set}static withDefaultEncoders(g=!1){const _=new this;return _.addEncoder(new s(_,g)),_.addEncoder(new o),_}removeEncoder(g){for(const _ of this._encoders.values())_.name==g&&this._encoders.delete(_)}addEncoder(g){this._encoders.add(g)}getEncoderFor(g){let _=null;for(const N of this._encoders)(!_||N.priority>_.priority)&&N.match(g)&&(_=N);if(_===null)throw new Error("Could not find an encoder for value.");return _}serializeValue(g){return this.getEncoderFor(g).encode(g)}serialize(g){return this.serializeValue(g)}}_n.CborSerializer=d;class f extends d{serialize(g){return r.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(g))]))}}return _n.SelfDescribeCborSerializer=f,_n}var Um;function G2(){return Um||(Um=1,function(e){function r(o){for(var d in o)e.hasOwnProperty(d)||(e[d]=o[d])}var n=Fa&&Fa.__importStar||function(o){if(o&&o.__esModule)return o;var d={};if(o!=null)for(var f in o)Object.hasOwnProperty.call(o,f)&&(d[f]=o[f]);return d.default=o,d};Object.defineProperty(e,"__esModule",{value:!0}),r(q2());const s=n(Vy());e.value=s}(Fa)),Fa}var Nr=G2();class W2{get name(){return"Principal"}get priority(){return 0}match(r){return r&&r._isPrincipal===!0}encode(r){return Nr.value.bytes(r.toUint8Array())}}class K2{get name(){return"Buffer"}get priority(){return 1}match(r){return r instanceof ArrayBuffer||ArrayBuffer.isView(r)}encode(r){return Nr.value.bytes(new Uint8Array(r))}}class L2{get name(){return"BigInt"}get priority(){return 1}match(r){return typeof r=="bigint"}encode(r){return r>BigInt(0)?Nr.value.tagged(2,Nr.value.bytes(Pn(r.toString(16)))):Nr.value.tagged(3,Nr.value.bytes(Pn((BigInt("-1")*r).toString(16))))}}const Fc=Nr.SelfDescribeCborSerializer.withDefaultEncoders(!0);Fc.addEncoder(new W2);Fc.addEncoder(new K2);Fc.addEncoder(new L2);var Pf;(function(e){e[e.Uint64LittleEndian=71]="Uint64LittleEndian",e[e.Semantic=55799]="Semantic"})(Pf||(Pf={}));function ef(e){return Fc.serialize(e)}function Fm(e){const r=e.byteLength;let n=BigInt(0);for(let s=0;s<r;s++)n=n*BigInt(256)+BigInt(e[s]);return n}class Y2 extends $y.Decoder{createByteString(r){return Kr(...r)}createByteStringFromHeap(r,n){return r===n?new ArrayBuffer(0):new Uint8Array(this._heap.slice(r,n))}}function Cn(e){const r=new Uint8Array(e),n=new Y2({size:r.byteLength,tags:{2:s=>Fm(s),3:s=>-Fm(s),[Pf.Semantic]:s=>s}});try{return n.decodeFirst(r)}catch(s){throw new Error(`Failed to decode CBOR: ${s}, input: ${wt(r)}`)}}const Tl=()=>{if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){const e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0]}if(typeof crypto<"u"&&crypto.getRandomValues){const e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}return typeof crypto<"u"&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(Math.random()*4294967295)};var Mf;(function(e){e.Call="call"})(Mf||(Mf={}));function Of(){const e=new ArrayBuffer(16),r=new DataView(e),n=Tl(),s=Tl(),o=Tl(),d=Tl();return r.setUint32(0,n),r.setUint32(4,s),r.setUint32(8,o),r.setUint32(12,d),e}const Im=BigInt(1e6),Z2=60*1e3;class Cl{constructor(r){if(r<90*1e3){const u=BigInt(Date.now()+r)*Im/BigInt(1e9);this._value=u*BigInt(1e9);return}const d=BigInt(Math.floor(Date.now()+r-Z2))*Im/BigInt(1e9)/BigInt(60)*BigInt(60)*BigInt(1e9);this._value=d}toCBOR(){return Nr.value.u64(this._value.toString(16),16)}toHash(){return St(this._value)}}function $m(e=Of){return async r=>{const n=r.request.headers;r.request.headers=n,r.endpoint==="call"&&(r.body.nonce=e())}}function Va(e){const r=[];return e.forEach((n,s)=>{r.push([s,n])}),r}class tf extends kt{constructor(r,n){super(r),this.response=n,this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}class Q2 extends kt{constructor(r,n,s,o,d,f){super(r),this.response=n,this.requestId=s,this.senderPubkey=o,this.senderSig=d,this.ingressExpiry=f,this.name="AgentCallError",Object.setPrototypeOf(this,new.target.prototype)}}class D2 extends kt{constructor(r,n,s,o,d,f){super(r),this.response=n,this.requestId=s,this.senderPubkey=o,this.senderSig=d,this.ingressExpiry=f,this.name="AgentQueryError",Object.setPrototypeOf(this,new.target.prototype)}}class X2 extends kt{constructor(r,n,s,o,d,f){super(r),this.response=n,this.requestId=s,this.senderPubkey=o,this.senderSig=d,this.ingressExpiry=f,this.name="AgentReadStateError",Object.setPrototypeOf(this,new.target.prototype)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u0=BigInt(0),pc=BigInt(1);function to(e,r){if(typeof r!="boolean")throw new Error(e+" boolean expected, got "+r)}function Hy(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?u0:BigInt("0x"+e)}function un(e){return Hy(Zs(e))}function ro(e){return Kt(e),Hy(Zs(Uint8Array.from(e).reverse()))}function Gt(e,r){return qg(e.toString(16).padStart(r*2,"0"))}function Ic(e,r){return Gt(e,r).reverse()}function or(e,r,n){let s;if(typeof r=="string")try{s=qg(r)}catch(d){throw new Error(e+" must be hex string or Uint8Array, cause: "+d)}else if(r0(r))s=Uint8Array.from(r);else throw new Error(e+" must be hex string or Uint8Array");const o=s.length;if(typeof n=="number"&&o!==n)throw new Error(e+" of length "+n+" expected, got "+o);return s}const rf=e=>typeof e=="bigint"&&u0<=e;function qy(e,r,n){return rf(e)&&rf(r)&&rf(n)&&r<=e&&e<n}function Ha(e,r,n,s){if(!qy(r,n,s))throw new Error("expected valid "+e+": "+n+" <= n < "+s+", got "+r)}function Za(e){let r;for(r=0;e>u0;e>>=pc,r+=1);return r}function J2(e,r){return e>>BigInt(r)&pc}const Gs=e=>(pc<<BigInt(e))-pc;function eb(e){return typeof e=="function"&&Number.isSafeInteger(e.outputLen)}function lo(e,r,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function s(o,d,f){const u=e[o];if(f&&u===void 0)return;const g=typeof u;if(g!==d||u===null)throw new Error(`param "${o}" is invalid: expected ${d}, got ${g}`)}Object.entries(r).forEach(([o,d])=>s(o,d,!1)),Object.entries(n).forEach(([o,d])=>s(o,d,!0))}const zm=()=>{throw new Error("not implemented")};function no(e){const r=new WeakMap;return(n,...s)=>{const o=r.get(n);if(o!==void 0)return o;const d=e(n,...s);return r.set(n,d),d}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yr=BigInt(0),Wt=BigInt(1),qi=BigInt(2),tb=BigInt(3),Gy=BigInt(4),Wy=BigInt(5),Ky=BigInt(8);function Bt(e,r){const n=e%r;return n>=yr?n:r+n}function rn(e,r,n){let s=e;for(;r-- >yr;)s*=s,s%=n;return s}function Vm(e,r){if(e===yr)throw new Error("invert: expected non-zero number");if(r<=yr)throw new Error("invert: expected positive modulus, got "+r);let n=Bt(e,r),s=r,o=yr,d=Wt;for(;n!==yr;){const u=s/n,g=s%n,_=o-d*u;s=n,n=g,o=d,d=_}if(s!==Wt)throw new Error("invert: does not exist");return Bt(o,r)}function Ly(e,r){const n=(e.ORDER+Wt)/Gy,s=e.pow(r,n);if(!e.eql(e.sqr(s),r))throw new Error("Cannot find square root");return s}function rb(e,r){const n=(e.ORDER-Wy)/Ky,s=e.mul(r,qi),o=e.pow(s,n),d=e.mul(r,o),f=e.mul(e.mul(d,qi),o),u=e.mul(d,e.sub(f,e.ONE));if(!e.eql(e.sqr(u),r))throw new Error("Cannot find square root");return u}function nb(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let r=e-Wt,n=0;for(;r%qi===yr;)r/=qi,n++;let s=qi;const o=Ji(e);for(;mc(o,s)===1;)if(s++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Ly;let d=o.pow(s,r);const f=(r+Wt)/qi;return function(g,_){if(g.is0(_))return _;if(mc(g,_)!==1)throw new Error("Cannot find square root");let N=n,w=g.mul(g.ONE,d),k=g.pow(_,r),j=g.pow(_,f);for(;!g.eql(k,g.ONE);){if(g.is0(k))return g.ZERO;let b=1,M=g.sqr(k);for(;!g.eql(M,g.ONE);)if(b++,M=g.sqr(M),b===N)throw new Error("Cannot find square root");const B=Wt<<BigInt(N-b-1),$=g.pow(w,B);N=b,w=g.sqr($),k=g.mul(k,w),j=g.mul(j,$)}return j}}function ib(e){return e%Gy===tb?Ly:e%Ky===Wy?rb:nb(e)}const sb=(e,r)=>(Bt(e,r)&Wt)===Wt,ab=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Yy(e){const r={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=ab.reduce((s,o)=>(s[o]="function",s),r);return lo(e,n),e}function Vl(e,r,n){if(n<yr)throw new Error("invalid exponent, negatives unsupported");if(n===yr)return e.ONE;if(n===Wt)return r;let s=e.ONE,o=r;for(;n>yr;)n&Wt&&(s=e.mul(s,o)),o=e.sqr(o),n>>=Wt;return s}function Wi(e,r,n=!1){const s=new Array(r.length).fill(n?e.ZERO:void 0),o=r.reduce((f,u,g)=>e.is0(u)?f:(s[g]=f,e.mul(f,u)),e.ONE),d=e.inv(o);return r.reduceRight((f,u,g)=>e.is0(u)?f:(s[g]=e.mul(f,s[g]),e.mul(f,u)),d),s}function mc(e,r){const n=(e.ORDER-Wt)/qi,s=e.pow(r,n),o=e.eql(s,e.ONE),d=e.eql(s,e.ZERO),f=e.eql(s,e.neg(e.ONE));if(!o&&!d&&!f)throw new Error("invalid Legendre symbol result");return o?1:d?0:-1}function ob(e,r){r!==void 0&&Dv(r);const n=r!==void 0?r:e.toString(2).length,s=Math.ceil(n/8);return{nBitLength:n,nByteLength:s}}function Ji(e,r,n=!1,s={}){if(e<=yr)throw new Error("invalid field: expected ORDER > 0, got "+e);let o,d;if(typeof r=="object"&&r!=null){if(s.sqrt||n)throw new Error("cannot specify opts in two arguments");const N=r;N.BITS&&(o=N.BITS),N.sqrt&&(d=N.sqrt),typeof N.isLE=="boolean"&&(n=N.isLE)}else typeof r=="number"&&(o=r),s.sqrt&&(d=s.sqrt);const{nBitLength:f,nByteLength:u}=ob(e,o);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let g;const _=Object.freeze({ORDER:e,isLE:n,BITS:f,BYTES:u,MASK:Gs(f),ZERO:yr,ONE:Wt,create:N=>Bt(N,e),isValid:N=>{if(typeof N!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof N);return yr<=N&&N<e},is0:N=>N===yr,isValidNot0:N=>!_.is0(N)&&_.isValid(N),isOdd:N=>(N&Wt)===Wt,neg:N=>Bt(-N,e),eql:(N,w)=>N===w,sqr:N=>Bt(N*N,e),add:(N,w)=>Bt(N+w,e),sub:(N,w)=>Bt(N-w,e),mul:(N,w)=>Bt(N*w,e),pow:(N,w)=>Vl(_,N,w),div:(N,w)=>Bt(N*Vm(w,e),e),sqrN:N=>N*N,addN:(N,w)=>N+w,subN:(N,w)=>N-w,mulN:(N,w)=>N*w,inv:N=>Vm(N,e),sqrt:d||(N=>(g||(g=ib(e)),g(_,N))),toBytes:N=>n?Ic(N,u):Gt(N,u),fromBytes:N=>{if(N.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+N.length);return n?ro(N):un(N)},invertBatch:N=>Wi(_,N),cmov:(N,w,k)=>k?w:N});return Object.freeze(_)}function Zy(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const r=e.toString(2).length;return Math.ceil(r/8)}function Qy(e){const r=Zy(e);return r+Math.ceil(r/2)}function lb(e,r,n=!1){const s=e.length,o=Zy(r),d=Qy(r);if(s<16||s<d||s>1024)throw new Error("expected "+d+"-1024 bytes of input, got "+s);const f=n?ro(e):un(e),u=Bt(f,r-Wt)+Wt;return n?Ic(u,o):Gt(u,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ds=BigInt(0),Gi=BigInt(1);function Qa(e,r){const n=r.negate();return e?n:r}function gc(e,r,n){const s=r==="pz"?f=>f.pz:f=>f.ez,o=Wi(e.Fp,n.map(s));return n.map((f,u)=>f.toAffine(o[u])).map(e.fromAffine)}function Dy(e,r){if(!Number.isSafeInteger(e)||e<=0||e>r)throw new Error("invalid window size, expected [1.."+r+"], got W="+e)}function nf(e,r){Dy(e,r);const n=Math.ceil(r/e)+1,s=2**(e-1),o=2**e,d=Gs(e),f=BigInt(e);return{windows:n,windowSize:s,mask:d,maxNumber:o,shiftBy:f}}function Hm(e,r,n){const{windowSize:s,mask:o,maxNumber:d,shiftBy:f}=n;let u=Number(e&o),g=e>>f;u>s&&(u-=d,g+=Gi);const _=r*s,N=_+Math.abs(u)-1,w=u===0,k=u<0,j=r%2!==0;return{nextN:g,offset:N,isZero:w,isNeg:k,isNegF:j,offsetF:_}}function cb(e,r){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,s)=>{if(!(n instanceof r))throw new Error("invalid point at index "+s)})}function ub(e,r){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,s)=>{if(!r.isValid(n))throw new Error("invalid scalar at index "+s)})}const sf=new WeakMap,Xy=new WeakMap;function af(e){return Xy.get(e)||1}function qm(e){if(e!==Ds)throw new Error("invalid wNAF")}function Jy(e,r){return{constTimeNegate:Qa,hasPrecomputes(n){return af(n)!==1},unsafeLadder(n,s,o=e.ZERO){let d=n;for(;s>Ds;)s&Gi&&(o=o.add(d)),d=d.double(),s>>=Gi;return o},precomputeWindow(n,s){const{windows:o,windowSize:d}=nf(s,r),f=[];let u=n,g=u;for(let _=0;_<o;_++){g=u,f.push(g);for(let N=1;N<d;N++)g=g.add(u),f.push(g);u=g.double()}return f},wNAF(n,s,o){let d=e.ZERO,f=e.BASE;const u=nf(n,r);for(let g=0;g<u.windows;g++){const{nextN:_,offset:N,isZero:w,isNeg:k,isNegF:j,offsetF:b}=Hm(o,g,u);o=_,w?f=f.add(Qa(j,s[b])):d=d.add(Qa(k,s[N]))}return qm(o),{p:d,f}},wNAFUnsafe(n,s,o,d=e.ZERO){const f=nf(n,r);for(let u=0;u<f.windows&&o!==Ds;u++){const{nextN:g,offset:_,isZero:N,isNeg:w}=Hm(o,u,f);if(o=g,!N){const k=s[_];d=d.add(w?k.negate():k)}}return qm(o),d},getPrecomputes(n,s,o){let d=sf.get(s);return d||(d=this.precomputeWindow(s,n),n!==1&&(typeof o=="function"&&(d=o(d)),sf.set(s,d))),d},wNAFCached(n,s,o){const d=af(n);return this.wNAF(d,this.getPrecomputes(d,n,o),s)},wNAFCachedUnsafe(n,s,o,d){const f=af(n);return f===1?this.unsafeLadder(n,s,d):this.wNAFUnsafe(f,this.getPrecomputes(f,n,o),s,d)},setWindowSize(n,s){Dy(s,r),Xy.set(n,s),sf.delete(n)}}}function db(e,r,n,s){let o=r,d=e.ZERO,f=e.ZERO;for(;n>Ds||s>Ds;)n&Gi&&(d=d.add(o)),s&Gi&&(f=f.add(o)),o=o.double(),n>>=Gi,s>>=Gi;return{p1:d,p2:f}}function ex(e,r,n,s){cb(n,e),ub(s,r);const o=n.length,d=s.length;if(o!==d)throw new Error("arrays of points and scalars must have equal length");const f=e.ZERO,u=Za(BigInt(o));let g=1;u>12?g=u-3:u>4?g=u-2:u>0&&(g=2);const _=Gs(g),N=new Array(Number(_)+1).fill(f),w=Math.floor((r.BITS-1)/g)*g;let k=f;for(let j=w;j>=0;j-=g){N.fill(f);for(let M=0;M<d;M++){const B=s[M],$=Number(B>>BigInt(j)&_);N[$]=N[$].add(n[M])}let b=f;for(let M=N.length-1,B=f;M>0;M--)B=B.add(N[M]),b=b.add(B);if(k=k.add(b),j!==0)for(let M=0;M<g;M++)k=k.double()}return k}function Gm(e,r){if(r){if(r.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Yy(r),r}else return Ji(e)}function tx(e,r,n={}){if(!r||typeof r!="object")throw new Error(`expected valid ${e} CURVE object`);for(const u of["p","n","h"]){const g=r[u];if(!(typeof g=="bigint"&&g>Ds))throw new Error(`CURVE.${u} must be positive bigint`)}const s=Gm(r.p,n.Fp),o=Gm(r.n,n.Fn),f=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const u of f)if(!s.isValid(r[u]))throw new Error(`CURVE.${u} must be valid field element of CURVE.Fp`);return{Fp:s,Fn:o}}const fb=un;function ui(e,r){if(io(e),io(r),e<0||e>=1<<8*r)throw new Error("invalid I2OSP input: "+e);const n=Array.from({length:r}).fill(0);for(let s=r-1;s>=0;s--)n[s]=e&255,e>>>=8;return new Uint8Array(n)}function hb(e,r){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e[s]^r[s];return n}function io(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function pb(e,r,n,s){Kt(e),Kt(r),io(n),r.length>255&&(r=s(At(Tc("H2C-OVERSIZE-DST-"),r)));const{outputLen:o,blockLen:d}=s,f=Math.ceil(n/o);if(n>65535||f>255)throw new Error("expand_message_xmd: invalid lenInBytes");const u=At(r,ui(r.length,1)),g=ui(0,d),_=ui(n,2),N=new Array(f),w=s(At(g,e,_,ui(0,1),u));N[0]=s(At(w,ui(1,1),u));for(let j=1;j<=f;j++){const b=[hb(w,N[j-1]),ui(j+1,1),u];N[j]=s(At(...b))}return At(...N).slice(0,n)}function mb(e,r,n,s,o){if(Kt(e),Kt(r),io(n),r.length>255){const d=Math.ceil(2*s/8);r=o.create({dkLen:d}).update(Tc("H2C-OVERSIZE-DST-")).update(r).digest()}if(n>65535||r.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return o.create({dkLen:n}).update(e).update(ui(n,2)).update(r).update(ui(r.length,1)).digest()}function Wm(e,r,n){lo(n,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:s,k:o,m:d,hash:f,expand:u,DST:g}=n;if(!r0(g)&&typeof g!="string")throw new Error("DST must be string or uint8array");if(!eb(n.hash))throw new Error("expected valid hash");Kt(e),io(r);const _=typeof g=="string"?Tc(g):g,N=s.toString(2).length,w=Math.ceil((N+o)/8),k=r*d*w;let j;if(u==="xmd")j=pb(e,_,k,f);else if(u==="xof")j=mb(e,_,k,o,f);else if(u==="_internal_pass")j=e;else throw new Error('expand must be "xmd" or "xof"');const b=new Array(r);for(let M=0;M<r;M++){const B=new Array(d);for(let $=0;$<d;$++){const W=w*($+M*d),J=j.subarray(W,W+w);B[$]=Bt(fb(J),s)}b[M]=B}return b}function rx(e,r){const n=r.map(s=>Array.from(s).reverse());return(s,o)=>{const[d,f,u,g]=n.map(w=>w.reduce((k,j)=>e.add(e.mul(k,s),j))),[_,N]=Wi(e,[f,g],!0);return s=e.mul(d,_),o=e.mul(o,e.mul(u,N)),{x:s,y:o}}}function Km(e,r,n){if(typeof r!="function")throw new Error("mapToCurve() must be defined");function s(d){return e.fromAffine(r(d))}function o(d){const f=d.clearCofactor();return f.equals(e.ZERO)?e.ZERO:(f.assertValidity(),f)}return{defaults:n,hashToCurve(d,f){const u=n.DST?n.DST:{},g=Object.assign({},n,u,f),_=Wm(d,2,g),N=s(_[0]),w=s(_[1]);return o(N.add(w))},encodeToCurve(d,f){const u=n.encodeDST?n.encodeDST:{},g=Object.assign({},n,u,f),_=Wm(d,1,g);return o(s(_[0]))},mapToCurve(d){if(!Array.isArray(d))throw new Error("expected array of bigints");for(const f of d)if(typeof f!="bigint")throw new Error("expected array of bigints");return o(s(d))}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Uf=BigInt(0),gr=BigInt(1),ai=BigInt(2),$s=BigInt(3),Ff=BigInt(4);function nx(e,r,n){function s(o){const d=e.sqr(o),f=e.mul(d,o);return e.add(e.add(f,e.mul(o,r)),n)}return s}function ix(e,r,n){const{BYTES:s}=e;function o(d){let f;if(typeof d=="bigint")f=d;else{let u=or("private key",d);if(r){if(!r.includes(u.length*2))throw new Error("invalid private key");const g=new Uint8Array(s);g.set(u,g.length-u.length),u=g}try{f=e.fromBytes(u)}catch{throw new Error(`invalid private key: expected ui8a of size ${s}, got ${typeof d}`)}}if(n&&(f=e.create(f)),!e.isValidNot0(f))throw new Error("invalid private key: out of range [1..N-1]");return f}return o}function gb(e,r={}){const{Fp:n,Fn:s}=tx("weierstrass",e,r),{h:o,n:d}=e;lo(r,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:f}=r;if(f&&(!n.is0(e.a)||typeof f.beta!="bigint"||typeof f.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function u(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function g(z,q,H){const{x:ce,y:ge}=q.toAffine(),E=n.toBytes(ce);if(to("isCompressed",H),H){u();const I=!n.isOdd(ge);return At(yb(I),E)}else return At(Uint8Array.of(4),E,n.toBytes(ge))}function _(z){Kt(z);const q=n.BYTES,H=q+1,ce=2*q+1,ge=z.length,E=z[0],I=z.subarray(1);if(ge===H&&(E===2||E===3)){const Z=n.fromBytes(I);if(!n.isValid(Z))throw new Error("bad point: is not on curve, wrong x");const ne=k(Z);let fe;try{fe=n.sqrt(ne)}catch(Ee){const G=Ee instanceof Error?": "+Ee.message:"";throw new Error("bad point: is not on curve, sqrt error"+G)}u();const se=n.isOdd(fe);return(E&1)===1!==se&&(fe=n.neg(fe)),{x:Z,y:fe}}else if(ge===ce&&E===4){const Z=n.fromBytes(I.subarray(q*0,q*1)),ne=n.fromBytes(I.subarray(q*1,q*2));if(!j(Z,ne))throw new Error("bad point: is not on curve");return{x:Z,y:ne}}else throw new Error(`bad point: got length ${ge}, expected compressed=${H} or uncompressed=${ce}`)}const N=r.toBytes||g,w=r.fromBytes||_,k=nx(n,e.a,e.b);function j(z,q){const H=n.sqr(q),ce=k(z);return n.eql(H,ce)}if(!j(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const b=n.mul(n.pow(e.a,$s),Ff),M=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(b,M)))throw new Error("bad curve params: a or b");function B(z,q,H=!1){if(!n.isValid(q)||H&&n.is0(q))throw new Error(`bad point coordinate ${z}`);return q}function $(z){if(!(z instanceof F))throw new Error("ProjectivePoint expected")}const W=no((z,q)=>{const{px:H,py:ce,pz:ge}=z;if(n.eql(ge,n.ONE))return{x:H,y:ce};const E=z.is0();q==null&&(q=E?n.ONE:n.inv(ge));const I=n.mul(H,q),Z=n.mul(ce,q),ne=n.mul(ge,q);if(E)return{x:n.ZERO,y:n.ZERO};if(!n.eql(ne,n.ONE))throw new Error("invZ was invalid");return{x:I,y:Z}}),J=no(z=>{if(z.is0()){if(r.allowInfinityPoint&&!n.is0(z.py))return;throw new Error("bad point: ZERO")}const{x:q,y:H}=z.toAffine();if(!n.isValid(q)||!n.isValid(H))throw new Error("bad point: x or y not field elements");if(!j(q,H))throw new Error("bad point: equation left != right");if(!z.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function ue(z,q,H,ce,ge){return H=new F(n.mul(H.px,z),H.py,H.pz),q=Qa(ce,q),H=Qa(ge,H),q.add(H)}class F{constructor(q,H,ce){this.px=B("x",q),this.py=B("y",H,!0),this.pz=B("z",ce),Object.freeze(this)}static fromAffine(q){const{x:H,y:ce}=q||{};if(!q||!n.isValid(H)||!n.isValid(ce))throw new Error("invalid affine point");if(q instanceof F)throw new Error("projective point not allowed");return n.is0(H)&&n.is0(ce)?F.ZERO:new F(H,ce,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(q){return gc(F,"pz",q)}static fromBytes(q){return Kt(q),F.fromHex(q)}static fromHex(q){const H=F.fromAffine(w(or("pointHex",q)));return H.assertValidity(),H}static fromPrivateKey(q){const H=ix(s,r.allowedPrivateKeyLengths,r.wrapPrivateKey);return F.BASE.multiply(H(q))}static msm(q,H){return ex(F,s,q,H)}precompute(q=8,H=!0){return le.setWindowSize(this,q),H||this.multiply($s),this}_setWindowSize(q){this.precompute(q)}assertValidity(){J(this)}hasEvenY(){const{y:q}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(q)}equals(q){$(q);const{px:H,py:ce,pz:ge}=this,{px:E,py:I,pz:Z}=q,ne=n.eql(n.mul(H,Z),n.mul(E,ge)),fe=n.eql(n.mul(ce,Z),n.mul(I,ge));return ne&&fe}negate(){return new F(this.px,n.neg(this.py),this.pz)}double(){const{a:q,b:H}=e,ce=n.mul(H,$s),{px:ge,py:E,pz:I}=this;let Z=n.ZERO,ne=n.ZERO,fe=n.ZERO,se=n.mul(ge,ge),_e=n.mul(E,E),Ee=n.mul(I,I),G=n.mul(ge,E);return G=n.add(G,G),fe=n.mul(ge,I),fe=n.add(fe,fe),Z=n.mul(q,fe),ne=n.mul(ce,Ee),ne=n.add(Z,ne),Z=n.sub(_e,ne),ne=n.add(_e,ne),ne=n.mul(Z,ne),Z=n.mul(G,Z),fe=n.mul(ce,fe),Ee=n.mul(q,Ee),G=n.sub(se,Ee),G=n.mul(q,G),G=n.add(G,fe),fe=n.add(se,se),se=n.add(fe,se),se=n.add(se,Ee),se=n.mul(se,G),ne=n.add(ne,se),Ee=n.mul(E,I),Ee=n.add(Ee,Ee),se=n.mul(Ee,G),Z=n.sub(Z,se),fe=n.mul(Ee,_e),fe=n.add(fe,fe),fe=n.add(fe,fe),new F(Z,ne,fe)}add(q){$(q);const{px:H,py:ce,pz:ge}=this,{px:E,py:I,pz:Z}=q;let ne=n.ZERO,fe=n.ZERO,se=n.ZERO;const _e=e.a,Ee=n.mul(e.b,$s);let G=n.mul(H,E),de=n.mul(ce,I),Re=n.mul(ge,Z),O=n.add(H,ce),Pe=n.add(E,I);O=n.mul(O,Pe),Pe=n.add(G,de),O=n.sub(O,Pe),Pe=n.add(H,ge);let Ce=n.add(E,Z);return Pe=n.mul(Pe,Ce),Ce=n.add(G,Re),Pe=n.sub(Pe,Ce),Ce=n.add(ce,ge),ne=n.add(I,Z),Ce=n.mul(Ce,ne),ne=n.add(de,Re),Ce=n.sub(Ce,ne),se=n.mul(_e,Pe),ne=n.mul(Ee,Re),se=n.add(ne,se),ne=n.sub(de,se),se=n.add(de,se),fe=n.mul(ne,se),de=n.add(G,G),de=n.add(de,G),Re=n.mul(_e,Re),Pe=n.mul(Ee,Pe),de=n.add(de,Re),Re=n.sub(G,Re),Re=n.mul(_e,Re),Pe=n.add(Pe,Re),G=n.mul(de,Pe),fe=n.add(fe,G),G=n.mul(Ce,Pe),ne=n.mul(O,ne),ne=n.sub(ne,G),G=n.mul(O,de),se=n.mul(Ce,se),se=n.add(se,G),new F(ne,fe,se)}subtract(q){return this.add(q.negate())}is0(){return this.equals(F.ZERO)}multiply(q){const{endo:H}=r;if(!s.isValidNot0(q))throw new Error("invalid scalar: out of range");let ce,ge;const E=I=>le.wNAFCached(this,I,F.normalizeZ);if(H){const{k1neg:I,k1:Z,k2neg:ne,k2:fe}=H.splitScalar(q),{p:se,f:_e}=E(Z),{p:Ee,f:G}=E(fe);ge=_e.add(G),ce=ue(H.beta,se,Ee,I,ne)}else{const{p:I,f:Z}=E(q);ce=I,ge=Z}return F.normalizeZ([ce,ge])[0]}multiplyUnsafe(q){const{endo:H}=r,ce=this;if(!s.isValid(q))throw new Error("invalid scalar: out of range");if(q===Uf||ce.is0())return F.ZERO;if(q===gr)return ce;if(le.hasPrecomputes(this))return this.multiply(q);if(H){const{k1neg:ge,k1:E,k2neg:I,k2:Z}=H.splitScalar(q),{p1:ne,p2:fe}=db(F,ce,E,Z);return ue(H.beta,ne,fe,ge,I)}else return le.wNAFCachedUnsafe(ce,q)}multiplyAndAddUnsafe(q,H,ce){const ge=this.multiplyUnsafe(H).add(q.multiplyUnsafe(ce));return ge.is0()?void 0:ge}toAffine(q){return W(this,q)}isTorsionFree(){const{isTorsionFree:q}=r;return o===gr?!0:q?q(F,this):le.wNAFCachedUnsafe(this,d).is0()}clearCofactor(){const{clearCofactor:q}=r;return o===gr?this:q?q(F,this):this.multiplyUnsafe(o)}toBytes(q=!0){return to("isCompressed",q),this.assertValidity(),N(F,this,q)}toRawBytes(q=!0){return this.toBytes(q)}toHex(q=!0){return Zs(this.toBytes(q))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}F.BASE=new F(e.Gx,e.Gy,n.ONE),F.ZERO=new F(n.ZERO,n.ONE,n.ZERO),F.Fp=n,F.Fn=s;const re=s.BITS,le=Jy(F,r.endo?Math.ceil(re/2):re);return F}function Lm(e){const{CURVE:r,curveOpts:n}=xb(e),s=gb(r,n);return wb(e,s)}function yb(e){return Uint8Array.of(e?2:3)}function xb(e){const r={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,s=Ji(r.n,e.nBitLength),o={Fp:n,Fn:s,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:r,curveOpts:o}}function wb(e,r){const{Fp:n,Fn:s}=r;function o(u){return qy(u,gr,s.ORDER)}const d=nx(n,e.a,e.b),f=ix(s,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return Object.assign({},{CURVE:e,Point:r,ProjectivePoint:r,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:o})}function vb(e,r){const n=e.ORDER;let s=Uf;for(let b=n-gr;b%ai===Uf;b/=ai)s+=gr;const o=s,d=ai<<o-gr-gr,f=d*ai,u=(n-gr)/f,g=(u-gr)/ai,_=f-gr,N=d,w=e.pow(r,u),k=e.pow(r,(u+gr)/ai);let j=(b,M)=>{let B=w,$=e.pow(M,_),W=e.sqr($);W=e.mul(W,M);let J=e.mul(b,W);J=e.pow(J,g),J=e.mul(J,$),$=e.mul(J,M),W=e.mul(J,b);let ue=e.mul(W,$);J=e.pow(ue,N);let F=e.eql(J,e.ONE);$=e.mul(W,k),J=e.mul(ue,B),W=e.cmov($,W,F),ue=e.cmov(J,ue,F);for(let re=o;re>gr;re--){let le=re-ai;le=ai<<le-gr;let z=e.pow(ue,le);const q=e.eql(z,e.ONE);$=e.mul(W,B),B=e.mul(B,B),z=e.mul(ue,B),W=e.cmov($,W,q),ue=e.cmov(z,ue,q)}return{isValid:F,value:W}};if(e.ORDER%Ff===$s){const b=(e.ORDER-$s)/Ff,M=e.sqrt(e.neg(r));j=(B,$)=>{let W=e.sqr($);const J=e.mul(B,$);W=e.mul(W,J);let ue=e.pow(W,b);ue=e.mul(ue,J);const F=e.mul(ue,M),re=e.mul(e.sqr(ue),$),le=e.eql(re,B);let z=e.cmov(F,ue,le);return{isValid:le,value:z}}}return j}function sx(e,r){Yy(e);const{A:n,B:s,Z:o}=r;if(!e.isValid(n)||!e.isValid(s)||!e.isValid(o))throw new Error("mapToCurveSimpleSWU: invalid opts");const d=vb(e,o);if(!e.isOdd)throw new Error("Field does not have .isOdd()");return f=>{let u,g,_,N,w,k,j,b;u=e.sqr(f),u=e.mul(u,o),g=e.sqr(u),g=e.add(g,u),_=e.add(g,e.ONE),_=e.mul(_,s),N=e.cmov(o,e.neg(g),!e.eql(g,e.ZERO)),N=e.mul(N,n),g=e.sqr(_),k=e.sqr(N),w=e.mul(k,n),g=e.add(g,w),g=e.mul(g,_),k=e.mul(k,N),w=e.mul(k,s),g=e.add(g,w),j=e.mul(u,_);const{isValid:M,value:B}=d(g,k);b=e.mul(u,f),b=e.mul(b,B),j=e.cmov(j,_,M),b=e.cmov(b,B,M);const $=e.isOdd(f)===e.isOdd(b);b=e.cmov(e.neg(b),b,$);const W=Wi(e,[N],!0)[0];return j=e.mul(j,W),{x:j,y:b}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bb=BigInt(0),Bl=BigInt(1),Ym=BigInt(2),zs=BigInt(3);function _b(e){const r=[];for(;e>Bl;e>>=Bl)(e&Bl)===bb?r.unshift(0):(e&zs)===zs?(r.unshift(-1),e+=Bl):r.unshift(1);return r}function Nb(e){const{Fp:r,Fr:n,Fp2:s,Fp6:o,Fp12:d}=e.fields,f=e.params.xNegative,u=e.params.twistType,g=Lm(e.G1),_=Object.assign(g,Km(g.Point,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults})),N=Lm(e.G2),w=Object.assign(N,Km(N.Point,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults}));let k;if(u==="multiplicative")k=(be,me,Ne,R,U,L)=>d.mul014(R,be,s.mul(me,U),s.mul(Ne,L));else if(u==="divisive")k=(be,me,Ne,R,U,L)=>d.mul034(R,s.mul(Ne,L),s.mul(me,U),be);else throw new Error("bls: unknown twist type");const j=s.div(s.ONE,s.mul(s.ONE,Ym));function b(be,me,Ne,R){const U=s.sqr(Ne),L=s.sqr(R),X=s.mulByB(s.mul(L,zs)),D=s.mul(X,zs),ie=s.sub(s.sub(s.sqr(s.add(Ne,R)),L),U),S=s.sub(X,U),p=s.mul(s.sqr(me),zs),m=s.neg(ie);return be.push([S,p,m]),me=s.mul(s.mul(s.mul(s.sub(U,D),me),Ne),j),Ne=s.sub(s.sqr(s.mul(s.add(U,D),j)),s.mul(s.sqr(X),zs)),R=s.mul(U,ie),{Rx:me,Ry:Ne,Rz:R}}function M(be,me,Ne,R,U,L){const X=s.sub(Ne,s.mul(L,R)),D=s.sub(me,s.mul(U,R)),ie=s.sub(s.mul(X,U),s.mul(D,L)),S=s.neg(X),p=D;be.push([ie,S,p]);const m=s.sqr(D),T=s.mul(m,D),P=s.mul(m,me),Q=s.add(s.sub(T,s.mul(P,Ym)),s.mul(s.sqr(X),R));return me=s.mul(D,Q),Ne=s.sub(s.mul(s.sub(P,Q),X),s.mul(T,Ne)),R=s.mul(R,T),{Rx:me,Ry:Ne,Rz:R}}const B=_b(e.params.ateLoopSize),$=no(be=>{const me=be,{x:Ne,y:R}=me.toAffine(),U=Ne,L=R,X=s.neg(R);let D=U,ie=L,S=s.ONE;const p=[];for(const m of B){const T=[];({Rx:D,Ry:ie,Rz:S}=b(T,D,ie,S)),m&&({Rx:D,Ry:ie,Rz:S}=M(T,D,ie,S,U,m===-1?X:L)),p.push(T)}if(e.postPrecompute){const m=p[p.length-1];e.postPrecompute(D,ie,S,U,L,M.bind(null,m))}return p});function W(be,me=!1){let Ne=d.ONE;if(be.length){const R=be[0][0].length;for(let U=0;U<R;U++){Ne=d.sqr(Ne);for(const[L,X,D]of be)for(const[ie,S,p]of L[U])Ne=k(ie,S,p,Ne,X,D)}}return f&&(Ne=d.conjugate(Ne)),me?d.finalExponentiate(Ne):Ne}function J(be,me=!0){const Ne=[];gc(_.Point,"pz",be.map(({g1:R})=>R)),gc(w.Point,"pz",be.map(({g2:R})=>R));for(const{g1:R,g2:U}of be){if(R.is0()||U.is0())throw new Error("pairing is not available for ZERO point");R.assertValidity(),U.assertValidity();const L=R.toAffine();Ne.push([$(U),L.x,L.y])}return W(Ne,me)}function ue(be,me,Ne=!0){return J([{g1:be,g2:me}],Ne)}const F=e.randomBytes||Wg,re={randomPrivateKey:()=>{const be=Qy(n.ORDER);return lb(F(be),n.ORDER)},calcPairingPrecomputes:$};function le(be){if(!Array.isArray(be)||be.length===0)throw new Error("expected non-empty array")}function z(be){return be instanceof _.Point?be:_.Point.fromHex(be)}function q(be){return be instanceof w.Point?be:I.fromHex(be)}function H(be,me){function Ne(X){return X instanceof be.Point?X:be.Point.fromHex(X)}function R(X){return X instanceof me.Point?X:me.Point.fromHex(X)}function U(X){if(!(X instanceof me.Point))throw new Error(`expected valid message hashed to ${L?"G2":"G1"} curve`);return X}const L=me.Point.Fp.BYTES>be.Point.Fp.BYTES;return{getPublicKey(X){return be.Point.fromPrivateKey(X)},sign(X,D,ie){if(ie!=null)throw new Error("sign() expects 2 arguments");return U(X).assertValidity(),X.multiply(be.normPrivateKeyToScalar(D))},verify(X,D,ie,S){if(S!=null)throw new Error("verify() expects 3 arguments");X=R(X),ie=Ne(ie);const p=ie.negate(),m=be.Point.BASE,T=U(D),P=X,he=J(L?[{g1:p,g2:T},{g1:m,g2:P}]:[{g1:T,g2:p},{g1:P,g2:m}]);return d.eql(he,d.ONE)},aggregatePublicKeys(X){le(X),X=X.map(ie=>Ne(ie));const D=X.reduce((ie,S)=>ie.add(S),be.Point.ZERO);return D.assertValidity(),D},aggregateSignatures(X){le(X),X=X.map(ie=>R(ie));const D=X.reduce((ie,S)=>ie.add(S),me.Point.ZERO);return D.assertValidity(),D},hash(X,D){Kt(X);const ie=D?{DST:D}:void 0;return me.hashToCurve(X,ie)},Signature:L?e.G2.Signature:e.G1.ShortSignature}}const ce=H(_,w),ge=H(w,_),{ShortSignature:E}=e.G1,{Signature:I}=e.G2;function Z(be,me){return be instanceof _.Point?be:ge.hash(or("point",be),me==null?void 0:me.DST)}function ne(be,me){return be instanceof w.Point?be:ce.hash(or("point",be),me==null?void 0:me.DST)}function fe(be){return ce.getPublicKey(be).toBytes(!0)}function se(be){return ge.getPublicKey(be).toBytes(!0)}function _e(be,me,Ne){const R=ne(be,Ne),U=ce.sign(R,me);return be instanceof w.Point?U:I.toBytes(U)}function Ee(be,me,Ne){const R=Z(be,Ne),U=ge.sign(R,me);return be instanceof _.Point?U:E.toBytes(U)}function G(be,me,Ne,R){const U=ne(me,R);return ce.verify(be,U,Ne)}function de(be,me,Ne,R){const U=Z(me,R);return ge.verify(be,U,Ne)}function Re(be){const me=ce.aggregatePublicKeys(be);return be[0]instanceof _.Point?me:me.toBytes(!0)}function O(be){const me=ce.aggregateSignatures(be);return be[0]instanceof w.Point?me:I.toBytes(me)}function Pe(be){const me=ge.aggregateSignatures(be);return be[0]instanceof _.Point?me:E.toBytes(me)}function Ce(be,me,Ne,R){if(le(me),Ne.length!==me.length)throw new Error("amount of public keys and messages should be equal");const U=q(be),L=me.map(S=>ne(S,R)),X=Ne.map(z),D=new Map;for(let S=0;S<X.length;S++){const p=X[S],m=L[S];let T=D.get(m);T===void 0&&(T=[],D.set(m,T)),T.push(p)}const ie=[];try{for(const[S,p]of D){const m=p.reduce((T,P)=>T.add(P));ie.push({g1:m,g2:S})}return ie.push({g1:_.Point.BASE.negate(),g2:U}),d.eql(J(ie),d.ONE)}catch{return!1}}return _.Point.BASE.precompute(4),{longSignatures:ce,shortSignatures:ge,millerLoopBatch:W,pairing:ue,pairingBatch:J,verifyBatch:Ce,curves:{G1:g.Point,G2:N.Point},fields:{Fr:n,Fp:r,Fp2:s,Fp6:o,Fp12:d},params:{ateLoopSize:e.params.ateLoopSize,twistType:e.params.twistType,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:re,getPublicKey:fe,getPublicKeyForShortSignatures:se,sign:_e,signShortSignature:Ee,verify:G,verifyShortSignature:de,aggregatePublicKeys:Re,aggregateSignatures:O,aggregateShortSignatures:Pe,G1:_,G2:w,Signature:I,ShortSignature:E}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Zm=BigInt(0),Vs=BigInt(1),jn=BigInt(2),Qm=BigInt(3);function of(e,r,n,s,o=1,d){const f=BigInt(d===void 0?s:d),u=n**BigInt(s),g=[];for(let _=0;_<o;_++){const N=BigInt(_+1),w=[];for(let k=0,j=Vs;k<s;k++){const b=(N*j-N)/f%u;w.push(e.pow(r,b)),j*=n}g.push(w)}return g}function Eb(e,r,n){const s=r.pow(n,(e.ORDER-Vs)/Qm),o=r.pow(n,(e.ORDER-Vs)/jn);function d(k,j){const b=r.mul(r.frobeniusMap(k,1),s),M=r.mul(r.frobeniusMap(j,1),o);return[b,M]}const f=r.pow(n,(e.ORDER**jn-Vs)/Qm),u=r.pow(n,(e.ORDER**jn-Vs)/jn);if(!r.eql(u,r.neg(r.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function g(k,j){return[r.mul(k,f),r.neg(j)]}const _=k=>(j,b)=>{const M=b.toAffine(),B=k(M.x,M.y);return j.fromAffine({x:B[0],y:B[1]})},N=_(d),w=_(g);return{psi:d,psi2:g,G2psi:N,G2psi2:w,PSI_X:s,PSI_Y:o,PSI2_X:f,PSI2_Y:u}}function kb(e){const{ORDER:r}=e,n=Ji(r),s=n.create(e.NONRESIDUE||BigInt(-1)),o=n.div(n.ONE,jn),d=of(n,s,n.ORDER,2)[0],f=({c0:E,c1:I},{c0:Z,c1:ne})=>({c0:n.add(E,Z),c1:n.add(I,ne)}),u=({c0:E,c1:I},{c0:Z,c1:ne})=>({c0:n.sub(E,Z),c1:n.sub(I,ne)}),g=({c0:E,c1:I},Z)=>{if(typeof Z=="bigint")return{c0:n.mul(E,Z),c1:n.mul(I,Z)};const{c0:ne,c1:fe}=Z;let se=n.mul(E,ne),_e=n.mul(I,fe);const Ee=n.sub(se,_e),G=n.sub(n.mul(n.add(E,I),n.add(ne,fe)),n.add(se,_e));return{c0:Ee,c1:G}},_=({c0:E,c1:I})=>{const Z=n.add(E,I),ne=n.sub(E,I),fe=n.add(E,E);return{c0:n.mul(Z,ne),c1:n.mul(fe,I)}},N=E=>{if(E.length!==2)throw new Error("invalid tuple");const I=E.map(Z=>n.create(Z));return{c0:I[0],c1:I[1]}};function w(E,I){return typeof E=="bigint"&&Zm<=E&&E<I}const k=r*r,j=N(e.FP2_NONRESIDUE),b={ORDER:k,isLE:n.isLE,NONRESIDUE:j,BITS:Za(k),BYTES:Math.ceil(Za(k)/8),MASK:Gs(Za(k)),ZERO:{c0:n.ZERO,c1:n.ZERO},ONE:{c0:n.ONE,c1:n.ZERO},create:E=>E,isValid:({c0:E,c1:I})=>w(E,k)&&w(I,k),is0:({c0:E,c1:I})=>n.is0(E)&&n.is0(I),isValidNot0:E=>!b.is0(E)&&b.isValid(E),eql:({c0:E,c1:I},{c0:Z,c1:ne})=>n.eql(E,Z)&&n.eql(I,ne),neg:({c0:E,c1:I})=>({c0:n.neg(E),c1:n.neg(I)}),pow:(E,I)=>Vl(b,E,I),invertBatch:E=>Wi(b,E),add:f,sub:u,mul:g,sqr:_,addN:f,subN:u,mulN:g,sqrN:_,div:(E,I)=>b.mul(E,typeof I=="bigint"?n.inv(n.create(I)):b.inv(I)),inv:({c0:E,c1:I})=>{const Z=n.inv(n.create(E*E+I*I));return{c0:n.mul(Z,n.create(E)),c1:n.mul(Z,n.create(-I))}},sqrt:E=>{if(e.Fp2sqrt)return e.Fp2sqrt(E);const{c0:I,c1:Z}=E;if(n.is0(Z))return mc(n,I)===1?b.create({c0:n.sqrt(I),c1:n.ZERO}):b.create({c0:n.ZERO,c1:n.sqrt(n.div(I,s))});const ne=n.sqrt(n.sub(n.sqr(I),n.mul(n.sqr(Z),s)));let fe=n.mul(n.add(ne,I),o);mc(n,fe)===-1&&(fe=n.sub(fe,ne));const _e=n.sqrt(fe),Ee=b.create({c0:_e,c1:n.div(n.mul(Z,o),_e)});if(!b.eql(b.sqr(Ee),E))throw new Error("Cannot find square root");const G=Ee,de=b.neg(G),{re:Re,im:O}=b.reim(G),{re:Pe,im:Ce}=b.reim(de);return O>Ce||O===Ce&&Re>Pe?G:de},isOdd:E=>{const{re:I,im:Z}=b.reim(E),ne=I%jn,fe=I===Zm,se=Z%jn;return BigInt(ne||fe&&se)==Vs},fromBytes(E){if(E.length!==b.BYTES)throw new Error("fromBytes invalid length="+E.length);return{c0:n.fromBytes(E.subarray(0,n.BYTES)),c1:n.fromBytes(E.subarray(n.BYTES))}},toBytes:({c0:E,c1:I})=>At(n.toBytes(E),n.toBytes(I)),cmov:({c0:E,c1:I},{c0:Z,c1:ne},fe)=>({c0:n.cmov(E,Z,fe),c1:n.cmov(I,ne,fe)}),reim:({c0:E,c1:I})=>({re:E,im:I}),mulByNonresidue:({c0:E,c1:I})=>b.mul({c0:E,c1:I},j),mulByB:e.Fp2mulByB,fromBigTuple:N,frobeniusMap:({c0:E,c1:I},Z)=>({c0:E,c1:n.mul(I,d[Z%2])})},M=({c0:E,c1:I,c2:Z},{c0:ne,c1:fe,c2:se})=>({c0:b.add(E,ne),c1:b.add(I,fe),c2:b.add(Z,se)}),B=({c0:E,c1:I,c2:Z},{c0:ne,c1:fe,c2:se})=>({c0:b.sub(E,ne),c1:b.sub(I,fe),c2:b.sub(Z,se)}),$=({c0:E,c1:I,c2:Z},ne)=>{if(typeof ne=="bigint")return{c0:b.mul(E,ne),c1:b.mul(I,ne),c2:b.mul(Z,ne)};const{c0:fe,c1:se,c2:_e}=ne,Ee=b.mul(E,fe),G=b.mul(I,se),de=b.mul(Z,_e);return{c0:b.add(Ee,b.mulByNonresidue(b.sub(b.mul(b.add(I,Z),b.add(se,_e)),b.add(G,de)))),c1:b.add(b.sub(b.mul(b.add(E,I),b.add(fe,se)),b.add(Ee,G)),b.mulByNonresidue(de)),c2:b.sub(b.add(G,b.mul(b.add(E,Z),b.add(fe,_e))),b.add(Ee,de))}},W=({c0:E,c1:I,c2:Z})=>{let ne=b.sqr(E),fe=b.mul(b.mul(E,I),jn),se=b.mul(b.mul(I,Z),jn),_e=b.sqr(Z);return{c0:b.add(b.mulByNonresidue(se),ne),c1:b.add(b.mulByNonresidue(_e),fe),c2:b.sub(b.sub(b.add(b.add(fe,b.sqr(b.add(b.sub(E,I),Z))),se),ne),_e)}},[J,ue]=of(b,j,n.ORDER,6,2,3),F={ORDER:b.ORDER,isLE:b.isLE,BITS:3*b.BITS,BYTES:3*b.BYTES,MASK:Gs(3*b.BITS),ZERO:{c0:b.ZERO,c1:b.ZERO,c2:b.ZERO},ONE:{c0:b.ONE,c1:b.ZERO,c2:b.ZERO},create:E=>E,isValid:({c0:E,c1:I,c2:Z})=>b.isValid(E)&&b.isValid(I)&&b.isValid(Z),is0:({c0:E,c1:I,c2:Z})=>b.is0(E)&&b.is0(I)&&b.is0(Z),isValidNot0:E=>!F.is0(E)&&F.isValid(E),neg:({c0:E,c1:I,c2:Z})=>({c0:b.neg(E),c1:b.neg(I),c2:b.neg(Z)}),eql:({c0:E,c1:I,c2:Z},{c0:ne,c1:fe,c2:se})=>b.eql(E,ne)&&b.eql(I,fe)&&b.eql(Z,se),sqrt:zm,div:(E,I)=>F.mul(E,typeof I=="bigint"?n.inv(n.create(I)):F.inv(I)),pow:(E,I)=>Vl(F,E,I),invertBatch:E=>Wi(F,E),add:M,sub:B,mul:$,sqr:W,addN:M,subN:B,mulN:$,sqrN:W,inv:({c0:E,c1:I,c2:Z})=>{let ne=b.sub(b.sqr(E),b.mulByNonresidue(b.mul(Z,I))),fe=b.sub(b.mulByNonresidue(b.sqr(Z)),b.mul(E,I)),se=b.sub(b.sqr(I),b.mul(E,Z)),_e=b.inv(b.add(b.mulByNonresidue(b.add(b.mul(Z,fe),b.mul(I,se))),b.mul(E,ne)));return{c0:b.mul(_e,ne),c1:b.mul(_e,fe),c2:b.mul(_e,se)}},fromBytes:E=>{if(E.length!==F.BYTES)throw new Error("fromBytes invalid length="+E.length);return{c0:b.fromBytes(E.subarray(0,b.BYTES)),c1:b.fromBytes(E.subarray(b.BYTES,2*b.BYTES)),c2:b.fromBytes(E.subarray(2*b.BYTES))}},toBytes:({c0:E,c1:I,c2:Z})=>At(b.toBytes(E),b.toBytes(I),b.toBytes(Z)),cmov:({c0:E,c1:I,c2:Z},{c0:ne,c1:fe,c2:se},_e)=>({c0:b.cmov(E,ne,_e),c1:b.cmov(I,fe,_e),c2:b.cmov(Z,se,_e)}),fromBigSix:E=>{if(!Array.isArray(E)||E.length!==6)throw new Error("invalid Fp6 usage");return{c0:b.fromBigTuple(E.slice(0,2)),c1:b.fromBigTuple(E.slice(2,4)),c2:b.fromBigTuple(E.slice(4,6))}},frobeniusMap:({c0:E,c1:I,c2:Z},ne)=>({c0:b.frobeniusMap(E,ne),c1:b.mul(b.frobeniusMap(I,ne),J[ne%6]),c2:b.mul(b.frobeniusMap(Z,ne),ue[ne%6])}),mulByFp2:({c0:E,c1:I,c2:Z},ne)=>({c0:b.mul(E,ne),c1:b.mul(I,ne),c2:b.mul(Z,ne)}),mulByNonresidue:({c0:E,c1:I,c2:Z})=>({c0:b.mulByNonresidue(Z),c1:E,c2:I}),mul1:({c0:E,c1:I,c2:Z},ne)=>({c0:b.mulByNonresidue(b.mul(Z,ne)),c1:b.mul(E,ne),c2:b.mul(I,ne)}),mul01({c0:E,c1:I,c2:Z},ne,fe){let se=b.mul(E,ne),_e=b.mul(I,fe);return{c0:b.add(b.mulByNonresidue(b.sub(b.mul(b.add(I,Z),fe),_e)),se),c1:b.sub(b.sub(b.mul(b.add(ne,fe),b.add(E,I)),se),_e),c2:b.add(b.sub(b.mul(b.add(E,Z),ne),se),_e)}}},re=of(b,j,n.ORDER,12,1,6)[0],le=({c0:E,c1:I},{c0:Z,c1:ne})=>({c0:F.add(E,Z),c1:F.add(I,ne)}),z=({c0:E,c1:I},{c0:Z,c1:ne})=>({c0:F.sub(E,Z),c1:F.sub(I,ne)}),q=({c0:E,c1:I},Z)=>{if(typeof Z=="bigint")return{c0:F.mul(E,Z),c1:F.mul(I,Z)};let{c0:ne,c1:fe}=Z,se=F.mul(E,ne),_e=F.mul(I,fe);return{c0:F.add(se,F.mulByNonresidue(_e)),c1:F.sub(F.mul(F.add(E,I),F.add(ne,fe)),F.add(se,_e))}},H=({c0:E,c1:I})=>{let Z=F.mul(E,I);return{c0:F.sub(F.sub(F.mul(F.add(F.mulByNonresidue(I),E),F.add(E,I)),Z),F.mulByNonresidue(Z)),c1:F.add(Z,Z)}};function ce(E,I){const Z=b.sqr(E),ne=b.sqr(I);return{first:b.add(b.mulByNonresidue(ne),Z),second:b.sub(b.sub(b.sqr(b.add(E,I)),Z),ne)}}const ge={ORDER:b.ORDER,isLE:F.isLE,BITS:2*F.BITS,BYTES:2*F.BYTES,MASK:Gs(2*F.BITS),ZERO:{c0:F.ZERO,c1:F.ZERO},ONE:{c0:F.ONE,c1:F.ZERO},create:E=>E,isValid:({c0:E,c1:I})=>F.isValid(E)&&F.isValid(I),is0:({c0:E,c1:I})=>F.is0(E)&&F.is0(I),isValidNot0:E=>!ge.is0(E)&&ge.isValid(E),neg:({c0:E,c1:I})=>({c0:F.neg(E),c1:F.neg(I)}),eql:({c0:E,c1:I},{c0:Z,c1:ne})=>F.eql(E,Z)&&F.eql(I,ne),sqrt:zm,inv:({c0:E,c1:I})=>{let Z=F.inv(F.sub(F.sqr(E),F.mulByNonresidue(F.sqr(I))));return{c0:F.mul(E,Z),c1:F.neg(F.mul(I,Z))}},div:(E,I)=>ge.mul(E,typeof I=="bigint"?n.inv(n.create(I)):ge.inv(I)),pow:(E,I)=>Vl(ge,E,I),invertBatch:E=>Wi(ge,E),add:le,sub:z,mul:q,sqr:H,addN:le,subN:z,mulN:q,sqrN:H,fromBytes:E=>{if(E.length!==ge.BYTES)throw new Error("fromBytes invalid length="+E.length);return{c0:F.fromBytes(E.subarray(0,F.BYTES)),c1:F.fromBytes(E.subarray(F.BYTES))}},toBytes:({c0:E,c1:I})=>At(F.toBytes(E),F.toBytes(I)),cmov:({c0:E,c1:I},{c0:Z,c1:ne},fe)=>({c0:F.cmov(E,Z,fe),c1:F.cmov(I,ne,fe)}),fromBigTwelve:E=>({c0:F.fromBigSix(E.slice(0,6)),c1:F.fromBigSix(E.slice(6,12))}),frobeniusMap(E,I){const{c0:Z,c1:ne,c2:fe}=F.frobeniusMap(E.c1,I),se=re[I%12];return{c0:F.frobeniusMap(E.c0,I),c1:F.create({c0:b.mul(Z,se),c1:b.mul(ne,se),c2:b.mul(fe,se)})}},mulByFp2:({c0:E,c1:I},Z)=>({c0:F.mulByFp2(E,Z),c1:F.mulByFp2(I,Z)}),conjugate:({c0:E,c1:I})=>({c0:E,c1:F.neg(I)}),mul014:({c0:E,c1:I},Z,ne,fe)=>{let se=F.mul01(E,Z,ne),_e=F.mul1(I,fe);return{c0:F.add(F.mulByNonresidue(_e),se),c1:F.sub(F.sub(F.mul01(F.add(I,E),Z,b.add(ne,fe)),se),_e)}},mul034:({c0:E,c1:I},Z,ne,fe)=>{const se=F.create({c0:b.mul(E.c0,Z),c1:b.mul(E.c1,Z),c2:b.mul(E.c2,Z)}),_e=F.mul01(I,ne,fe),Ee=F.mul01(F.add(E,I),b.add(Z,ne),fe);return{c0:F.add(F.mulByNonresidue(_e),se),c1:F.sub(Ee,F.add(se,_e))}},_cyclotomicSquare:e.Fp12cyclotomicSquare,_cyclotomicExp:e.Fp12cyclotomicExp,finalExponentiate:e.Fp12finalExponentiate};return{Fp:n,Fp2:b,Fp6:F,Fp12:ge,Fp4Square:ce}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tr=BigInt(0),yc=BigInt(1),zt=BigInt(2),$c=BigInt(3),so=BigInt(4),di=BigInt("0xd201000000010000"),Sb=Za(di),Xi={p:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),n:BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001"),h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),a:tr,b:so,Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1")},jb=Ji(Xi.n),{Fp:qe,Fp2:Ve,Fp6:If,Fp4Square:lf,Fp12:nt}=kb({ORDER:Xi.p,FP2_NONRESIDUE:[yc,yc],Fp2mulByB:({c0:e,c1:r})=>{const n=qe.mul(e,so),s=qe.mul(r,so);return{c0:qe.sub(n,s),c1:qe.add(n,s)}},Fp12cyclotomicSquare:({c0:e,c1:r})=>{const{c0:n,c1:s,c2:o}=e,{c0:d,c1:f,c2:u}=r,{first:g,second:_}=lf(n,f),{first:N,second:w}=lf(d,o),{first:k,second:j}=lf(s,u),b=Ve.mulByNonresidue(j);return{c0:If.create({c0:Ve.add(Ve.mul(Ve.sub(g,n),zt),g),c1:Ve.add(Ve.mul(Ve.sub(N,s),zt),N),c2:Ve.add(Ve.mul(Ve.sub(k,o),zt),k)}),c1:If.create({c0:Ve.add(Ve.mul(Ve.add(b,d),zt),b),c1:Ve.add(Ve.mul(Ve.add(_,f),zt),_),c2:Ve.add(Ve.mul(Ve.add(w,u),zt),w)})}},Fp12cyclotomicExp(e,r){let n=nt.ONE;for(let s=Sb-1;s>=0;s--)n=nt._cyclotomicSquare(n),J2(r,s)&&(n=nt.mul(n,e));return n},Fp12finalExponentiate:e=>{const r=di,n=nt.div(nt.frobeniusMap(e,6),e),s=nt.mul(nt.frobeniusMap(n,2),n),o=nt.conjugate(nt._cyclotomicExp(s,r)),d=nt.mul(nt.conjugate(nt._cyclotomicSquare(s)),o),f=nt.conjugate(nt._cyclotomicExp(d,r)),u=nt.conjugate(nt._cyclotomicExp(f,r)),g=nt.mul(nt.conjugate(nt._cyclotomicExp(u,r)),nt._cyclotomicSquare(o)),_=nt.conjugate(nt._cyclotomicExp(g,r)),N=nt.frobeniusMap(nt.mul(o,u),2),w=nt.frobeniusMap(nt.mul(f,s),3),k=nt.frobeniusMap(nt.mul(g,nt.conjugate(s)),1),j=nt.mul(nt.mul(_,nt.conjugate(d)),s);return nt.mul(nt.mul(nt.mul(N,w),k),j)}}),{G2psi:Dm,G2psi2:Ab}=Eb(qe,Ve,Ve.div(Ve.ONE,Ve.NONRESIDUE)),cf=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:qe.ORDER,m:2,k:128,expand:"xmd",hash:i0}),d0={p:Ve.ORDER,n:Xi.n,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),a:Ve.ZERO,b:Ve.fromBigTuple([so,so]),Gx:Ve.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:Ve.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")])},zc=co(qe.toBytes(tr),{infinity:!0,compressed:!0});function Vc(e){e=e.slice();const r=e[0]&224,n=!!(r>>7&1),s=!!(r>>6&1),o=!!(r>>5&1);return e[0]&=31,{compressed:n,infinity:s,sort:o,value:e}}function co(e,r){if(e[0]&224)throw new Error("setMask: non-empty mask");return r.compressed&&(e[0]|=128),r.infinity&&(e[0]|=64),r.sort&&(e[0]|=32),e}function Tb(e,r,n){const{BYTES:s,ORDER:o}=qe,d=r.is0(),{x:f,y:u}=r.toAffine();if(n){if(d)return zc.slice();const g=!!(u*zt/o);return co(Gt(f,s),{compressed:!0,sort:g})}else return d?At(Uint8Array.of(64),new Uint8Array(2*s-1)):At(Gt(f,s),Gt(u,s))}function uf(e){e.assertValidity();const{BYTES:r,ORDER:n}=qe,{x:s,y:o}=e.toAffine();if(e.is0())return zc.slice();const d=!!(o*zt/n);return co(Gt(s,r),{compressed:!0,sort:d})}function Cb(e){const{compressed:r,infinity:n,sort:s,value:o}=Vc(e),{BYTES:d,ORDER:f}=qe;if(o.length===48&&r){const u=un(o),g=qe.create(u&qe.MASK);if(n){if(g!==tr)throw new Error("invalid G1 point: non-empty, at infinity, with compression");return{x:tr,y:tr}}const _=qe.add(qe.pow(g,$c),qe.create(Xi.b));let N=qe.sqrt(_);if(!N)throw new Error("invalid G1 point: compressed point");return N*zt/f!==BigInt(s)&&(N=qe.neg(N)),{x:qe.create(g),y:qe.create(N)}}else if(o.length===96&&!r){const u=un(o.subarray(0,d)),g=un(o.subarray(d));if(n){if(u!==tr||g!==tr)throw new Error("G1: non-empty point at infinity");return Hc.G1.Point.ZERO.toAffine()}return{x:qe.create(u),y:qe.create(g)}}else throw new Error("invalid G1 point: expected 48/96 bytes")}function Xm(e){const{infinity:r,sort:n,value:s}=Vc(or("signatureHex",e,48)),o=qe.ORDER,d=Hc.G1.Point,f=un(s);if(r)return d.ZERO;const u=qe.create(f&qe.MASK),g=qe.add(qe.pow(u,$c),qe.create(Xi.b));let _=qe.sqrt(g);if(!_)throw new Error("invalid G1 point: compressed");const N=BigInt(n);_*zt/o!==N&&(_=qe.neg(_));const w=d.fromAffine({x:u,y:_});return w.assertValidity(),w}function Bb(e,r,n){const{BYTES:s,ORDER:o}=qe,d=r.is0(),{x:f,y:u}=r.toAffine();if(n){if(d)return At(zc,Gt(tr,s));const g=!!(u.c1===tr?u.c0*zt/o:u.c1*zt/o);return At(co(Gt(f.c1,s),{compressed:!0,sort:g}),Gt(f.c0,s))}else{if(d)return At(Uint8Array.of(64),new Uint8Array(4*s-1));const{re:g,im:_}=Ve.reim(f),{re:N,im:w}=Ve.reim(u);return At(Gt(_,s),Gt(g,s),Gt(w,s),Gt(N,s))}}function df(e){e.assertValidity();const{BYTES:r}=qe;if(e.is0())return At(zc,Gt(tr,r));const{x:n,y:s}=e.toAffine(),{re:o,im:d}=Ve.reim(n),{re:f,im:u}=Ve.reim(s),_=!!((u>tr?u*zt:f*zt)/qe.ORDER&yc),N=o;return At(co(Gt(d,r),{sort:_,compressed:!0}),Gt(N,r))}function Rb(e){const{BYTES:r,ORDER:n}=qe,{compressed:s,infinity:o,sort:d,value:f}=Vc(e);if(!s&&!o&&d||!s&&o&&d||d&&o&&s)throw new Error("invalid encoding flag: "+(e[0]&224));const u=(g,_,N)=>un(g.slice(_,N));if(f.length===96&&s){if(o){if(f.reduce((b,M)=>b!==0?M+1:M,0)>0)throw new Error("invalid G2 point: compressed");return{x:Ve.ZERO,y:Ve.ZERO}}const g=u(f,0,r),_=u(f,r,2*r),N=Ve.create({c0:qe.create(_),c1:qe.create(g)}),w=Ve.add(Ve.pow(N,$c),d0.b);let k=Ve.sqrt(w);const j=k.c1===tr?k.c0*zt/n:k.c1*zt/n?yc:tr;return k=d&&j>0?k:Ve.neg(k),{x:N,y:k}}else if(f.length===192&&!s){if(o){if(f.reduce((k,j)=>k!==0?j+1:j,0)>0)throw new Error("invalid G2 point: uncompressed");return{x:Ve.ZERO,y:Ve.ZERO}}const g=u(f,0*r,1*r),_=u(f,1*r,2*r),N=u(f,2*r,3*r),w=u(f,3*r,4*r);return{x:Ve.fromBigTuple([_,g]),y:Ve.fromBigTuple([w,N])}}else throw new Error("invalid G2 point: expected 96/192 bytes")}function Jm(e){const{ORDER:r}=qe,{infinity:n,sort:s,value:o}=Vc(or("signatureHex",e)),d=Hc.G2.Point,f=o.length/2;if(f!==48&&f!==96)throw new Error("invalid compressed signature length, expected 96/192 bytes");const u=un(o.slice(0,f)),g=un(o.slice(f));if(n)return d.ZERO;const _=qe.create(u&qe.MASK),N=qe.create(g),w=Ve.create({c0:N,c1:_}),k=Ve.add(Ve.pow(w,$c),d0.b);let j=Ve.sqrt(k);if(!j)throw new Error("Failed to find a square root");const{re:b,im:M}=Ve.reim(j),B=BigInt(s),$=M>tr&&M*zt/r!==B,W=M===tr&&b*zt/r!==B;($||W)&&(j=Ve.neg(j));const J=d.fromAffine({x:w,y:j});return J.assertValidity(),J}const Hc=Nb({fields:{Fp:qe,Fp2:Ve,Fp6:If,Fp12:nt,Fr:jb},G1:{...Xi,Fp:qe,htfDefaults:{...cf,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,r)=>{const n=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),s=new e(qe.mul(r.px,n),r.py,r.pz);return r.multiplyUnsafe(di).negate().multiplyUnsafe(di).equals(s)},clearCofactor:(e,r)=>r.multiplyUnsafe(di).add(r),mapToCurve:Fb,fromBytes:Cb,toBytes:Tb,ShortSignature:{fromBytes(e){return Kt(e),Xm(e)},fromHex(e){return Xm(e)},toBytes(e){return uf(e)},toRawBytes(e){return uf(e)},toHex(e){return Zs(uf(e))}}},G2:{...d0,Fp:Ve,hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...cf},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:Ib,isTorsionFree:(e,r)=>r.multiplyUnsafe(di).negate().equals(Dm(e,r)),clearCofactor:(e,r)=>{const n=di;let s=r.multiplyUnsafe(n).negate(),o=Dm(e,r),d=r.double();return d=Ab(e,d),d=d.subtract(o),o=s.add(o),o=o.multiplyUnsafe(n).negate(),d=d.add(o),d=d.subtract(s),d.subtract(r)},fromBytes:Rb,toBytes:Bb,Signature:{fromBytes(e){return Kt(e),Jm(e)},fromHex(e){return Jm(e)},toBytes(e){return df(e)},toRawBytes(e){return df(e)},toHex(e){return Zs(df(e))}}},params:{ateLoopSize:di,r:Xi.n,xNegative:!0,twistType:"multiplicative"},htfDefaults:cf,hash:i0}),Pb=rx(Ve,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(e=>e.map(r=>Ve.fromBigTuple(r.map(BigInt))))),Mb=rx(qe,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(r=>BigInt(r)))),Ob=sx(qe,{A:qe.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:qe.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:qe.create(BigInt(11))}),Ub=sx(Ve,{A:Ve.create({c0:qe.create(tr),c1:qe.create(BigInt(240))}),B:Ve.create({c0:qe.create(BigInt(1012)),c1:qe.create(BigInt(1012))}),Z:Ve.create({c0:qe.create(BigInt(-2)),c1:qe.create(BigInt(-1))})});function Fb(e){const{x:r,y:n}=Ob(qe.create(e[0]));return Mb(r,n)}function Ib(e){const{x:r,y:n}=Ub(Ve.fromBigTuple(e));return Pb(r,n)}function $b(e,r,n){const s=typeof e=="string"?e:wt(e),o=typeof r=="string"?r:wt(r),d=typeof n=="string"?n:wt(n);return Hc.verifyShortSignature(o,d,s)}const ax=e=>$t(new Js(e)),f0=e=>{const r=ax(e);return new Date(Number(r)/1e6)};var zb=function(e,r,n,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!o:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(e,n):o?o.value=n:r.set(e,n),n},Vb=function(e,r,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:r.get(e)},Hl;class ln extends kt{constructor(r){super(`Invalid certificate: ${r}`)}}var Er;(function(e){e[e.Empty=0]="Empty",e[e.Fork=1]="Fork",e[e.Labeled=2]="Labeled",e[e.Leaf=3]="Leaf",e[e.Pruned=4]="Pruned"})(Er||(Er={}));function Hb(e,r){const n=new Uint8Array(e),s=new Uint8Array(r);for(let o=0;o<n.length;o++)if(n[o]>s[o])return!0;return!1}class Ki{constructor(r,n,s,o,d=5,f=!1){this._rootKey=n,this._canisterId=s,this._blsVerify=o,this._maxAgeInMinutes=d,Hl.set(this,!1),zb(this,Hl,f,"f"),this.cert=Cn(new Uint8Array(r))}static async create(r){const n=Ki.createUnverified(r);return await n.verify(),n}static createUnverified(r){let n=r.blsVerify;return n||(n=$b),new Ki(r.certificate,r.rootKey,r.canisterId,n,r.maxAgeInMinutes,r.disableTimeVerification)}lookup(r){return Xs(r,this.cert.tree)}lookup_label(r){return this.lookup([r])}async verify(){const r=await ql(this.cert.tree),n=await this._checkDelegationAndGetKey(this.cert.delegation),s=this.cert.signature,o=Gb(n),d=Kr(qa("ic-state-root"),r);let f=!1;const u=Rr(this.lookup(["time"]));if(!u)throw new ln("Certificate does not contain a time");if(!Vb(this,Hl,"f")){const _=this._maxAgeInMinutes*60*1e3,N=Date.now(),w=N-_,k=N+3e5,j=f0(u);if(j.getTime()<w)throw new ln(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: `+j.toISOString()+" Current time: "+new Date(N).toISOString());if(j.getTime()>k)throw new ln("Certificate is signed more than 5 minutes in the future. Certificate time: "+j.toISOString()+" Current time: "+new Date(N).toISOString())}try{f=await this._blsVerify(new Uint8Array(o),new Uint8Array(s),new Uint8Array(d))}catch{f=!1}if(!f)throw new ln("Signature verification failed")}async _checkDelegationAndGetKey(r){if(!r)return this._rootKey;const n=await Ki.createUnverified({certificate:r.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,maxAgeInMinutes:1/0});if(n.cert.delegation)throw new ln("Delegation certificates cannot be nested");if(await n.verify(),this._canisterId.toString()!==g3&&!ox({canisterId:this._canisterId,subnetId:et.fromUint8Array(new Uint8Array(r.subnet_id)),tree:n.cert.tree}))throw new ln(`Canister ${this._canisterId} not in range of delegations for subnet 0x${wt(r.subnet_id)}`);const s=Rr(n.lookup(["subnet",r.subnet_id,"public_key"]));if(!s)throw new Error(`Could not find subnet key for subnet 0x${wt(r.subnet_id)}`);return s}}Hl=new WeakMap;const Ia=Pn("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),qb=96;function Gb(e){const r=Ia.byteLength+qb;if(e.byteLength!==r)throw new TypeError(`BLS DER-encoded public key must be ${r} bytes long`);const n=e.slice(0,Ia.byteLength);if(!ao(n,Ia))throw new TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${Ia}, but get ${n}`);return e.slice(Ia.byteLength)}function Rr(e){if(e.status===Mt.Found){if(e.value instanceof ArrayBuffer)return e.value;if(e.value instanceof Uint8Array)return e.value.buffer}}async function ql(e){switch(e[0]){case Er.Empty:return Wr(qa("ic-hashtree-empty"));case Er.Pruned:return e[1];case Er.Leaf:return Wr(Kr(qa("ic-hashtree-leaf"),e[1]));case Er.Labeled:return Wr(Kr(qa("ic-hashtree-labeled"),e[1],await ql(e[2])));case Er.Fork:return Wr(Kr(qa("ic-hashtree-fork"),await ql(e[1]),await ql(e[2])));default:throw new Error("unreachable")}}function qa(e){const r=new Uint8Array([e.length]),n=new TextEncoder().encode(e);return Kr(r,n)}var Mt;(function(e){e.Unknown="unknown",e.Absent="absent",e.Found="found"})(Mt||(Mt={}));var An;(function(e){e.Less="less",e.Greater="greater"})(An||(An={}));function Xs(e,r){if(e.length===0)switch(r[0]){case Er.Leaf:{if(!r[1])throw new Error("Invalid tree structure for leaf");return r[1]instanceof ArrayBuffer?{status:Mt.Found,value:r[1]}:r[1]instanceof Uint8Array?{status:Mt.Found,value:r[1].buffer}:{status:Mt.Found,value:r[1]}}default:return{status:Mt.Found,value:r}}const n=typeof e[0]=="string"?new TextEncoder().encode(e[0]):e[0],s=Gl(n,r);switch(s.status){case Mt.Found:return Xs(e.slice(1),s.value);case An.Greater:case An.Less:return{status:Mt.Absent};default:return s}}function $f(e){switch(e[0]){case Er.Empty:return[];case Er.Fork:return $f(e[1]).concat($f(e[2]));default:return[e]}}function Gl(e,r){switch(r[0]){case Er.Labeled:return Hb(e,r[1])?{status:An.Greater}:ao(e,r[1])?{status:Mt.Found,value:r[2]}:{status:An.Less};case Er.Fork:const n=Gl(e,r[1]);switch(n.status){case An.Greater:{const s=Gl(e,r[2]);return s.status===An.Less?{status:Mt.Absent}:s}case Mt.Unknown:{let s=Gl(e,r[2]);return s.status===An.Less?{status:Mt.Unknown}:s}default:return n}case Er.Pruned:return{status:Mt.Unknown};default:return{status:Mt.Absent}}}function ox(e){const{canisterId:r,subnetId:n,tree:s}=e,o=Xs(["subnet",n.toUint8Array(),"canister_ranges"],s);if(o.status!==Mt.Found||!(o.value instanceof ArrayBuffer))throw new Error(`Could not find canister ranges for subnet ${n}`);return Cn(o.value).map(g=>[et.fromUint8Array(g[0]),et.fromUint8Array(g[1])]).some(g=>g[0].ltEq(r)&&g[1].gtEq(r))}class Wb{constructor(r,n,s){this.key=r,this.path=n,this.decodeStrategy=s}}const lx=async e=>{const{agent:r,paths:n}=e,s=et.from(e.canisterId),o=[...new Set(n)],d=o.map(g=>zf(g,s)),f=new Map,u=o.map((g,_)=>(async()=>{var N;try{const w=await r.readState(s,{paths:[d[_]]});if(r.rootKey==null)throw new Error("Agent is missing root key");const k=await Ki.create({certificate:w.certificate,rootKey:r.rootKey,canisterId:s,disableTimeVerification:!0}),j=(B,$)=>{if($==="subnet"){if(r.rootKey==null)throw new Error("Agent is missing root key");const W=cx(w.certificate,s,r.rootKey);return{path:$,data:W}}else return{path:$,data:Rr(B.lookup(zf($,s)))}},{path:b,data:M}=j(k,o[_]);if(!M)console.warn(`Expected to find result for path ${b}, but instead found nothing.`),typeof b=="string"?f.set(b,null):f.set(b.key,null);else switch(b){case"time":{f.set(b,f0(M));break}case"controllers":{f.set(b,Lb(M));break}case"module_hash":{f.set(b,eg(M));break}case"subnet":{f.set(b,M);break}case"candid":{f.set(b,new TextDecoder().decode(M));break}default:if(typeof b!="string"&&"key"in b&&"path"in b)switch(b.decodeStrategy){case"raw":f.set(b.key,M);break;case"leb128":{f.set(b.key,ax(M));break}case"cbor":{f.set(b.key,ux(M));break}case"hex":{f.set(b.key,eg(M));break}case"utf-8":f.set(b.key,Kb(M))}}}catch(w){if(!((N=w==null?void 0:w.message)===null||N===void 0)&&N.includes("Invalid certificate"))throw new kt(w.message);typeof g!="string"&&"key"in g&&"path"in g?f.set(g.key,null):f.set(g,null),console.group(),console.warn(`Expected to find result for path ${g}, but instead found nothing.`),console.warn(w),console.groupEnd()}})());return await Promise.all(u),f},cx=(e,r,n)=>{if(!r._isPrincipal)throw new Error("Invalid canisterId");const s=Cn(new Uint8Array(e)),o=s.tree;let d=s.delegation,f;if(d&&d.subnet_id?f=et.fromUint8Array(new Uint8Array(d.subnet_id)):!d&&typeof n<"u"?(f=et.selfAuthenticating(new Uint8Array(n)),d={subnet_id:f.toUint8Array(),certificate:new ArrayBuffer(0)}):(f=et.selfAuthenticating(et.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),d={subnet_id:f.toUint8Array(),certificate:new ArrayBuffer(0)}),!ox({canisterId:r,subnetId:f,tree:o}))throw new Error("Canister not in range");const g=Xs(["subnet",d.subnet_id,"node"],o);if(g.status!==Mt.Found)throw new Error("Node not found");if(g.value instanceof ArrayBuffer)throw new Error("Invalid node tree");const _=$f(g.value),N=new Map;return _.forEach(w=>{const k=et.from(new Uint8Array(w[1])).toText(),j=Xs(["public_key"],w[2]);if(j.status!==Mt.Found)throw new Error("Public key not found");const b=j.value;if(b.byteLength!==44)throw new Error("Invalid public key length");N.set(k,b)}),{subnetId:et.fromUint8Array(new Uint8Array(d.subnet_id)).toText(),nodeKeys:N}},zf=(e,r)=>{const n=new TextEncoder,s=d=>new DataView(n.encode(d).buffer).buffer,o=new DataView(r.toUint8Array().buffer).buffer;switch(e){case"time":return[s("time")];case"controllers":return[s("canister"),o,s("controllers")];case"module_hash":return[s("canister"),o,s("module_hash")];case"subnet":return[s("subnet")];case"candid":return[s("canister"),o,s("metadata"),s("candid:service")];default:if("key"in e&&"path"in e)if(typeof e.path=="string"||e.path instanceof ArrayBuffer){const d=e.path,f=typeof d=="string"?s(d):d;return[s("canister"),o,s("metadata"),f]}else return e.path}throw new Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${e} was formatted correctly.`)},eg=e=>wt(e),ux=e=>Cn(e),Kb=e=>new TextDecoder().decode(e),Lb=e=>ux(e).map(n=>et.fromUint8Array(new Uint8Array(n))),Yb=Object.freeze(Object.defineProperty({__proto__:null,CustomPath:Wb,encodePath:zf,fetchNodeKeys:cx,request:lx},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sn=BigInt(0),ir=BigInt(1),ff=BigInt(2),Zb=BigInt(8),Qb={zip215:!0};function Db(e,r,n,s){const o=e.sqr(n),d=e.sqr(s),f=e.add(e.mul(r.a,o),d),u=e.add(e.ONE,e.mul(r.d,e.mul(o,d)));return e.eql(f,u)}function Xb(e,r={}){const{Fp:n,Fn:s}=tx("edwards",e,r),{h:o,n:d}=e;lo(r,{},{uvRatio:"function"});const f=ff<<BigInt(s.BYTES*8)-ir,u=M=>n.create(M),g=r.uvRatio||((M,B)=>{try{return{isValid:!0,value:n.sqrt(n.div(M,B))}}catch{return{isValid:!1,value:sn}}});if(!Db(n,e,e.Gx,e.Gy))throw new Error("bad curve params: generator point");function _(M,B,$=!1){const W=$?ir:sn;return Ha("coordinate "+M,B,W,f),B}function N(M){if(!(M instanceof j))throw new Error("ExtendedPoint expected")}const w=no((M,B)=>{const{ex:$,ey:W,ez:J}=M,ue=M.is0();B==null&&(B=ue?Zb:n.inv(J));const F=u($*B),re=u(W*B),le=u(J*B);if(ue)return{x:sn,y:ir};if(le!==ir)throw new Error("invZ was invalid");return{x:F,y:re}}),k=no(M=>{const{a:B,d:$}=e;if(M.is0())throw new Error("bad point: ZERO");const{ex:W,ey:J,ez:ue,et:F}=M,re=u(W*W),le=u(J*J),z=u(ue*ue),q=u(z*z),H=u(re*B),ce=u(z*u(H+le)),ge=u(q+u($*u(re*le)));if(ce!==ge)throw new Error("bad point: equation left != right (1)");const E=u(W*J),I=u(ue*F);if(E!==I)throw new Error("bad point: equation left != right (2)");return!0});class j{constructor(B,$,W,J){this.ex=_("x",B),this.ey=_("y",$),this.ez=_("z",W,!0),this.et=_("t",J),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(B){if(B instanceof j)throw new Error("extended point not allowed");const{x:$,y:W}=B||{};return _("x",$),_("y",W),new j($,W,ir,u($*W))}static normalizeZ(B){return gc(j,"ez",B)}static msm(B,$){return ex(j,s,B,$)}_setWindowSize(B){this.precompute(B)}precompute(B=8,$=!0){return b.setWindowSize(this,B),$||this.multiply(ff),this}assertValidity(){k(this)}equals(B){N(B);const{ex:$,ey:W,ez:J}=this,{ex:ue,ey:F,ez:re}=B,le=u($*re),z=u(ue*J),q=u(W*re),H=u(F*J);return le===z&&q===H}is0(){return this.equals(j.ZERO)}negate(){return new j(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:B}=e,{ex:$,ey:W,ez:J}=this,ue=u($*$),F=u(W*W),re=u(ff*u(J*J)),le=u(B*ue),z=$+W,q=u(u(z*z)-ue-F),H=le+F,ce=H-re,ge=le-F,E=u(q*ce),I=u(H*ge),Z=u(q*ge),ne=u(ce*H);return new j(E,I,ne,Z)}add(B){N(B);const{a:$,d:W}=e,{ex:J,ey:ue,ez:F,et:re}=this,{ex:le,ey:z,ez:q,et:H}=B,ce=u(J*le),ge=u(ue*z),E=u(re*W*H),I=u(F*q),Z=u((J+ue)*(le+z)-ce-ge),ne=I-E,fe=I+E,se=u(ge-$*ce),_e=u(Z*ne),Ee=u(fe*se),G=u(Z*se),de=u(ne*fe);return new j(_e,Ee,de,G)}subtract(B){return this.add(B.negate())}multiply(B){const $=B;Ha("scalar",$,ir,d);const{p:W,f:J}=b.wNAFCached(this,$,j.normalizeZ);return j.normalizeZ([W,J])[0]}multiplyUnsafe(B,$=j.ZERO){const W=B;return Ha("scalar",W,sn,d),W===sn?j.ZERO:this.is0()||W===ir?this:b.wNAFCachedUnsafe(this,W,j.normalizeZ,$)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return b.wNAFCachedUnsafe(this,d).is0()}toAffine(B){return w(this,B)}clearCofactor(){return o===ir?this:this.multiplyUnsafe(o)}static fromBytes(B,$=!1){return Kt(B),this.fromHex(B,$)}static fromHex(B,$=!1){const{d:W,a:J}=e,ue=n.BYTES;B=or("pointHex",B,ue),to("zip215",$);const F=B.slice(),re=B[ue-1];F[ue-1]=re&-129;const le=ro(F),z=$?f:n.ORDER;Ha("pointHex.y",le,sn,z);const q=u(le*le),H=u(q-ir),ce=u(W*q-J);let{isValid:ge,value:E}=g(H,ce);if(!ge)throw new Error("Point.fromHex: invalid y coordinate");const I=(E&ir)===ir,Z=(re&128)!==0;if(!$&&E===sn&&Z)throw new Error("Point.fromHex: x=0 and x_0=1");return Z!==I&&(E=u(-E)),j.fromAffine({x:E,y:le})}static fromPrivateScalar(B){return j.BASE.multiply(B)}toBytes(){const{x:B,y:$}=this.toAffine(),W=Ic($,n.BYTES);return W[W.length-1]|=B&ir?128:0,W}toRawBytes(){return this.toBytes()}toHex(){return Zs(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}j.BASE=new j(e.Gx,e.Gy,ir,u(e.Gx*e.Gy)),j.ZERO=new j(sn,ir,ir,sn),j.Fp=n,j.Fn=s;const b=Jy(j,s.BYTES*8);return j}function Jb(e,r){lo(r,{hash:"function"},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:n,hash:s}=r,{BASE:o,Fp:d,Fn:f}=e,u=f.ORDER,g=r.randomBytes||Wg,_=r.adjustScalarBytes||(F=>F),N=r.domain||((F,re,le)=>{if(to("phflag",le),re.length||le)throw new Error("Contexts/pre-hash are not supported");return F});function w(F){return f.create(F)}function k(F){return w(ro(F))}function j(F){const re=d.BYTES;F=or("private key",F,re);const le=or("hashed private key",s(F),2*re),z=_(le.slice(0,re)),q=le.slice(re,2*re),H=k(z);return{head:z,prefix:q,scalar:H}}function b(F){const{head:re,prefix:le,scalar:z}=j(F),q=o.multiply(z),H=q.toBytes();return{head:re,prefix:le,scalar:z,point:q,pointBytes:H}}function M(F){return b(F).pointBytes}function B(F=Uint8Array.of(),...re){const le=At(...re);return k(s(N(le,or("context",F),!!n)))}function $(F,re,le={}){F=or("message",F),n&&(F=n(F));const{prefix:z,scalar:q,pointBytes:H}=b(re),ce=B(le.context,z,F),ge=o.multiply(ce).toBytes(),E=B(le.context,ge,H,F),I=w(ce+E*q);Ha("signature.s",I,sn,u);const Z=d.BYTES,ne=At(ge,Ic(I,Z));return or("result",ne,Z*2)}const W=Qb;function J(F,re,le,z=W){const{context:q,zip215:H}=z,ce=d.BYTES;F=or("signature",F,2*ce),re=or("message",re),le=or("publicKey",le,ce),H!==void 0&&to("zip215",H),n&&(re=n(re));const ge=ro(F.slice(ce,2*ce));let E,I,Z;try{E=e.fromHex(le,H),I=e.fromHex(F.slice(0,ce),H),Z=o.multiplyUnsafe(ge)}catch{return!1}if(!H&&E.isSmallOrder())return!1;const ne=B(q,I.toBytes(),E.toBytes(),re);return I.add(E.multiplyUnsafe(ne)).subtract(Z).clearCofactor().is0()}return o.precompute(8),{getPublicKey:M,sign:$,verify:J,utils:{getExtendedPublicKey:b,randomPrivateKey:()=>g(d.BYTES),precompute(F=8,re=e.BASE){return re.precompute(F,!1)}},Point:e}}function e3(e){const r={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,s=Ji(r.n,e.nBitLength,!0),o={Fp:n,Fn:s,uvRatio:e.uvRatio},d={hash:e.hash,randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:r,curveOpts:o,eddsaOpts:d}}function t3(e,r){return Object.assign({},r,{ExtendedPoint:r.Point,CURVE:e})}function r3(e){const{CURVE:r,curveOpts:n,eddsaOpts:s}=e3(e),o=Xb(r,n),d=Jb(o,s);return t3(e,d)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const n3=BigInt(1),tg=BigInt(2);BigInt(3);const i3=BigInt(5),s3=BigInt(8),qc={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:s3,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function a3(e){const r=BigInt(10),n=BigInt(20),s=BigInt(40),o=BigInt(80),d=qc.p,u=e*e%d*e%d,g=rn(u,tg,d)*u%d,_=rn(g,n3,d)*e%d,N=rn(_,i3,d)*_%d,w=rn(N,r,d)*N%d,k=rn(w,n,d)*w%d,j=rn(k,s,d)*k%d,b=rn(j,o,d)*j%d,M=rn(b,o,d)*j%d,B=rn(M,r,d)*N%d;return{pow_p_5_8:rn(B,tg,d)*e%d,b2:u}}function o3(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const rg=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function l3(e,r){const n=qc.p,s=Bt(r*r*r,n),o=Bt(s*s*r,n),d=a3(e*o).pow_p_5_8;let f=Bt(e*s*d,n);const u=Bt(r*f*f,n),g=f,_=Bt(f*rg,n),N=u===e,w=u===Bt(-e,n),k=u===Bt(-e*rg,n);return N&&(f=g),(w||k)&&(f=_),sb(f,n)&&(f=Bt(-f,n)),{isValid:N||w,value:f}}const c3=Ji(qc.p,void 0,!0),u3={...qc,Fp:c3,hash:x2,adjustScalarBytes:o3,uvRatio:l3},Rs=r3(u3);var ng=function(e,r,n,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!o:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(e,n):o?o.value=n:r.set(e,n),n},sr=function(e,r,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:r.get(e)},Jt,Ga,dx,fx;class d3{constructor(r={}){Jt.set(this,void 0),Ga.set(this,void 0),this[dx]=this.entries.bind(this),this[fx]="ExpirableMap";const{source:n=[],expirationTime:s=10*60*1e3}=r,o=Date.now();ng(this,Jt,new Map([...n].map(([d,f])=>[d,{value:f,timestamp:o}])),"f"),ng(this,Ga,s,"f")}prune(){const r=Date.now();for(const[n,s]of sr(this,Jt,"f").entries())r-s.timestamp>sr(this,Ga,"f")&&sr(this,Jt,"f").delete(n);return this}set(r,n){this.prune();const s={value:n,timestamp:Date.now()};return sr(this,Jt,"f").set(r,s),this}get(r){const n=sr(this,Jt,"f").get(r);if(n!==void 0){if(Date.now()-n.timestamp>sr(this,Ga,"f")){sr(this,Jt,"f").delete(r);return}return n.value}}clear(){sr(this,Jt,"f").clear()}entries(){const r=sr(this,Jt,"f").entries();return function*(){for(const[s,o]of r)yield[s,o.value]}()}values(){const r=sr(this,Jt,"f").values();return function*(){for(const s of r)yield s.value}()}keys(){return sr(this,Jt,"f").keys()}forEach(r,n){for(const[s,o]of sr(this,Jt,"f").entries())r.call(n,o.value,s,this)}has(r){return sr(this,Jt,"f").has(r)}delete(r){return sr(this,Jt,"f").delete(r)}get size(){return sr(this,Jt,"f").size}}Jt=new WeakMap,Ga=new WeakMap,dx=Symbol.iterator,fx=Symbol.toStringTag;const ig=e=>{if(e<=127)return 1;if(e<=255)return 2;if(e<=65535)return 3;if(e<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},sg=(e,r,n)=>{if(n<=127)return e[r]=n,1;if(n<=255)return e[r]=129,e[r+1]=n,2;if(n<=65535)return e[r]=130,e[r+1]=n>>8,e[r+2]=n,3;if(n<=16777215)return e[r]=131,e[r+1]=n>>16,e[r+2]=n>>8,e[r+3]=n,4;throw new Error("Length too long (> 4 bytes)")},Vf=(e,r)=>{if(e[r]<128)return 1;if(e[r]===128)throw new Error("Invalid length 0");if(e[r]===129)return 2;if(e[r]===130)return 3;if(e[r]===131)return 4;throw new Error("Length too long (> 4 bytes)")},f3=(e,r)=>{const n=Vf(e,r);if(n===1)return e[r];if(n===2)return e[r+1];if(n===3)return(e[r+1]<<8)+e[r+2];if(n===4)return(e[r+1]<<16)+(e[r+2]<<8)+e[r+3];throw new Error("Length too long (> 4 bytes)")};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);const xc=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function hx(e,r){const n=2+ig(e.byteLength+1),s=r.byteLength+n+e.byteLength;let o=0;const d=new Uint8Array(1+ig(s)+s);return d[o++]=48,o+=sg(d,o,s),d.set(r,o),o+=r.byteLength,d[o++]=3,o+=sg(d,o,e.byteLength+1),d[o++]=0,d.set(new Uint8Array(e),o),d}const px=(e,r)=>{let n=0;const s=(u,g)=>{if(o[n++]!==u)throw new Error("Expected: "+g)},o=new Uint8Array(e);if(s(48,"sequence"),n+=Vf(o,n),!ao(o.slice(n,n+r.byteLength),r))throw new Error("Not the expected OID.");n+=r.byteLength,s(3,"bit string");const d=f3(o,n)-1;n+=Vf(o,n),s(0,"0 padding");const f=o.slice(n);if(d!==f.length)throw new Error(`DER payload mismatch: Expected length ${d} actual length ${f.length}`);return f};var ag=function(e,r,n,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!o:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(e,n):o?o.value=n:r.set(e,n),n},og=function(e,r,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:r.get(e)},Wl,Kl;let mx=class Wa{constructor(r){if(Wl.set(this,void 0),Kl.set(this,void 0),r.byteLength!==Wa.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");ag(this,Wl,r,"f"),ag(this,Kl,Wa.derEncode(r),"f")}static from(r){return this.fromDer(r.toDer())}static fromRaw(r){return new Wa(r)}static fromDer(r){return new Wa(this.derDecode(r))}static derEncode(r){return hx(r,xc).buffer}static derDecode(r){const n=px(r,xc);if(n.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return n}get rawKey(){return og(this,Wl,"f")}get derKey(){return og(this,Kl,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}};Wl=new WeakMap,Kl=new WeakMap;mx.RAW_KEY_LENGTH=32;class h3{constructor(){this.observers=[]}subscribe(r){this.observers.push(r)}unsubscribe(r){this.observers=this.observers.filter(n=>n!==r)}notify(r,...n){this.observers.forEach(s=>s(r,...n))}}class p3 extends h3{constructor(){super()}print(r,...n){this.notify({message:r,level:"info"},...n)}warn(r,...n){this.notify({message:r,level:"warn"},...n)}error(r,n,...s){this.notify({message:r,level:"error",error:n},...s)}}var nn=function(e,r,n,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!o:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(e,n):o?o.value=n:r.set(e,n),n},Xt=function(e,r,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:r.get(e)},an,Ll,Yl,Zl,Ql,Dl,Xl,Jl,Ps;const gx=.5,yx=1.5,xx=500,wx=6e4,vx=9e5,bx=10;class Gc{constructor(r=Gc.default){an.set(this,void 0),Ll.set(this,void 0),Yl.set(this,void 0),Zl.set(this,void 0),Ql.set(this,void 0),Dl.set(this,void 0),Xl.set(this,void 0),Jl.set(this,void 0),Ps.set(this,0);const{initialInterval:n=xx,randomizationFactor:s=gx,multiplier:o=yx,maxInterval:d=wx,maxElapsedTime:f=vx,maxIterations:u=bx,date:g=Date}=r;nn(this,an,n,"f"),nn(this,Ll,s,"f"),nn(this,Yl,o,"f"),nn(this,Zl,d,"f"),nn(this,Jl,g,"f"),nn(this,Ql,g.now(),"f"),nn(this,Dl,f,"f"),nn(this,Xl,u,"f")}get ellapsedTimeInMsec(){return Xt(this,Jl,"f").now()-Xt(this,Ql,"f")}get currentInterval(){return Xt(this,an,"f")}get count(){return Xt(this,Ps,"f")}get randomValueFromInterval(){const r=Xt(this,Ll,"f")*Xt(this,an,"f"),n=Xt(this,an,"f")-r,s=Xt(this,an,"f")+r;return Math.random()*(s-n)+n}incrementCurrentInterval(){var r;return nn(this,an,Math.min(Xt(this,an,"f")*Xt(this,Yl,"f"),Xt(this,Zl,"f")),"f"),nn(this,Ps,(r=Xt(this,Ps,"f"),r++,r),"f"),Xt(this,an,"f")}next(){return this.ellapsedTimeInMsec>=Xt(this,Dl,"f")||Xt(this,Ps,"f")>=Xt(this,Xl,"f")?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}}an=new WeakMap,Ll=new WeakMap,Yl=new WeakMap,Zl=new WeakMap,Ql=new WeakMap,Dl=new WeakMap,Xl=new WeakMap,Jl=new WeakMap,Ps=new WeakMap;Gc.default={initialInterval:xx,randomizationFactor:gx,multiplier:yx,maxInterval:wx,maxElapsedTime:vx,maxIterations:bx,date:Date};var qt=function(e,r,n,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!o:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(e,n):o?o.value=n:r.set(e,n),n},Be=function(e,r,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:r.get(e)},er,Fi,Ws,on,kn,Hs,Ka,Ms,qr,Gr,Ii,$i,La,Os,Us,zi,Hi,_x,ec,tc,Vi,Sn;(function(e){e.Received="received",e.Processing="processing",e.Replied="replied",e.Rejected="rejected",e.Unknown="unknown",e.Done="done"})(Sn||(Sn={}));const Rl=60*1e3,m3="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",g3="aaaaa-aa",y3="ic0.app",x3=".ic0.app",w3="icp0.io",v3=".icp0.io",b3="icp-api.io",_3=".icp-api.io";class hf extends kt{constructor(r){super(r),this.message=r}}class Pl extends kt{constructor(r){super(r),this.message=r}}function N3(){let e;if(typeof window<"u")if(window.fetch)e=window.fetch.bind(window);else throw new hf("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.");else if(typeof global<"u")if(global.fetch)e=global.fetch.bind(global);else throw new hf("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.");else typeof self<"u"&&self.fetch&&(e=self.fetch.bind(self));if(e)return e;throw new hf("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.")}function E3(e){let r;if(e!==void 0)!e.match(/^[a-z]+:/)&&typeof window<"u"?r=new URL(window.location.protocol+"//"+e):r=new URL(e);else{const n=["ic0.app","icp0.io","127.0.0.1","localhost"],s=[".github.dev",".gitpod.io"],o=typeof window<"u"?window.location:void 0,d=o==null?void 0:o.hostname;let f;d&&typeof d=="string"&&(s.some(u=>d.endsWith(u))?f=d:f=n.find(u=>d.endsWith(u))),o&&f?r=new URL(`${o.protocol}//${f}${o.port?":"+o.port:""}`):r=new URL("https://icp-api.io")}return r.toString()}class Bn{constructor(r={}){var n,s;er.add(this),Fi.set(this,null),Ws.set(this,!1),on.set(this,void 0),kn.set(this,void 0),Hs.set(this,void 0),Ka.set(this,void 0),Ms.set(this,0),qr.set(this,void 0),Gr.set(this,void 0),Ii.set(this,void 0),$i.set(this,void 0),this._isAgent=!0,this.config={},La.set(this,0),this.log=new p3,Os.set(this,[]),Us.set(this,[]),zi.set(this,new d3({expirationTime:5*60*1e3})),Hi.set(this,!0),tc.set(this,(f,u)=>{if(Be(this,Hi,"f")===!1)return f;if(!u)throw new ln("Invalid signature from replica signed query: no matching node key found.");const{status:g,signatures:_=[],requestId:N}=f,w=Tn(new TextEncoder().encode("\vic-response"));for(const k of _){const{timestamp:j,identity:b}=k,M=et.fromUint8Array(b).toText();let B;if(g==="replied"){const{reply:F}=f;B=hc({status:g,reply:F,timestamp:BigInt(j),request_id:N})}else if(g==="rejected"){const{reject_code:F,reject_message:re,error_code:le}=f;B=hc({status:g,reject_code:F,reject_message:re,error_code:le,timestamp:BigInt(j),request_id:N})}else throw new Error(`Unknown status: ${g}`);const $=Kr(w,Tn(new Uint8Array(B))),W=u==null?void 0:u.nodeKeys.get(M);if(!W)throw new ln("Invalid signature from replica signed query: no matching node key found.");const J=mx.fromDer(W).rawKey;if(Rs.verify(k.signature,new Uint8Array($),new Uint8Array(J)))return f;throw new ln(`Invalid signature from replica ${M} signed query.`)}return f}),this.config=r,qt(this,kn,r.fetch||N3()||fetch.bind(global),"f"),qt(this,Hs,r.fetchOptions,"f"),qt(this,Ka,r.callOptions,"f"),qt(this,Ws,(n=r.shouldFetchRootKey)!==null&&n!==void 0?n:!1,"f"),r.rootKey?this.rootKey=r.rootKey:Be(this,Ws,"f")?this.rootKey=null:this.rootKey=Pn(m3);const o=E3(r.host);this.host=new URL(o),r.verifyQuerySignatures!==void 0&&qt(this,Hi,r.verifyQuerySignatures,"f"),qt(this,Gr,(s=r.retryTimes)!==null&&s!==void 0?s:3,"f");const d=()=>new Gc({maxIterations:Be(this,Gr,"f")});if(qt(this,Ii,r.backoffStrategy||d,"f"),this.host.hostname.endsWith(x3)?this.host.hostname=y3:this.host.hostname.endsWith(v3)?this.host.hostname=w3:this.host.hostname.endsWith(_3)&&(this.host.hostname=b3),r.credentials){const{name:f,password:u}=r.credentials;qt(this,qr,`${f}${u?":"+u:""}`,"f")}if(qt(this,on,Promise.resolve(r.identity||new eo),"f"),r.ingressExpiryInMinutes&&r.ingressExpiryInMinutes>5)throw new kt(`The maximum ingress expiry time is 5 minutes. Provided ingress expiry time is ${r.ingressExpiryInMinutes} minutes.`);if(r.ingressExpiryInMinutes&&r.ingressExpiryInMinutes<=0)throw new kt(`Ingress expiry time must be greater than 0. Provided ingress expiry time is ${r.ingressExpiryInMinutes} minutes.`);qt(this,$i,r.ingressExpiryInMinutes||5,"f"),this.addTransform("update",$m(Of)),r.useQueryNonces&&this.addTransform("query",$m(Of)),r.logToConsole&&this.log.subscribe(f=>{f.level==="error"?console.error(f.message):f.level==="warn"?console.warn(f.message):console.log(f.message)})}get waterMark(){return Be(this,La,"f")}static createSync(r={}){return new this(Object.assign({},r))}static async create(r={shouldFetchRootKey:!1}){const n=Bn.createSync(r),s=[n.syncTime()];return n.host.toString()!=="https://icp-api.io"&&r.shouldFetchRootKey&&s.push(n.fetchRootKey()),await Promise.all(s),n}static async from(r){var n;try{return"config"in r?await Bn.create(r.config):await Bn.create({fetch:r._fetch,fetchOptions:r._fetchOptions,callOptions:r._callOptions,host:r._host.toString(),identity:(n=r._identity)!==null&&n!==void 0?n:void 0})}catch{throw new kt("Failed to create agent from provided agent")}}isLocal(){const r=this.host.hostname;return r==="127.0.0.1"||r.endsWith("127.0.0.1")}addTransform(r,n,s=n.priority||0){if(r==="update"){const o=Be(this,Us,"f").findIndex(d=>(d.priority||0)<s);Be(this,Us,"f").splice(o>=0?o:Be(this,Us,"f").length,0,Object.assign(n,{priority:s}))}else if(r==="query"){const o=Be(this,Os,"f").findIndex(d=>(d.priority||0)<s);Be(this,Os,"f").splice(o>=0?o:Be(this,Os,"f").length,0,Object.assign(n,{priority:s}))}}async getPrincipal(){if(!Be(this,on,"f"))throw new Pl("This identity has expired due this application's security policy. Please refresh your authentication.");return(await Be(this,on,"f")).getPrincipal()}async call(r,n,s){var o,d;await Be(this,er,"m",Vi).call(this);const f=(o=n.callSync)!==null&&o!==void 0?o:!0,u=await(s!==void 0?await s:await Be(this,on,"f"));if(!u)throw new Pl("This identity has expired due this application's security policy. Please refresh your authentication.");const g=et.from(r),_=n.effectiveCanisterId?et.from(n.effectiveCanisterId):g,N=u.getPrincipal()||et.anonymous();let w=new Cl(Be(this,$i,"f")*Rl);Math.abs(Be(this,Ms,"f"))>1e3*30&&(w=new Cl(Be(this,$i,"f")*Rl+Be(this,Ms,"f")));const k={request_type:Mf.Call,canister_id:g,method_name:n.methodName,arg:n.arg,sender:N,ingress_expiry:w};let j=await this._transform({request:{body:null,method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},Be(this,qr,"f")?{Authorization:"Basic "+btoa(Be(this,qr,"f"))}:{})},endpoint:"call",body:k}),b;n!=null&&n.nonce?b=M(n.nonce):j.body.nonce?b=M(j.body.nonce):b=void 0,k.nonce=b;function M(J){return new Uint8Array(J)}j=await u.transformRequest(j);const B=ef(j.body),$=Be(this,Ii,"f").call(this),W=Ja(k);try{const J=()=>(this.log.print(`fetching "/api/v3/canister/${_.toText()}/call" with request:`,j),Be(this,kn,"f").call(this,""+new URL(`/api/v3/canister/${_.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},Be(this,Ka,"f")),j.request),{body:B}))),ue=()=>(this.log.print(`fetching "/api/v2/canister/${_.toText()}/call" with request:`,j),Be(this,kn,"f").call(this,""+new URL(`/api/v2/canister/${_.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},Be(this,Ka,"f")),j.request),{body:B}))),re=await Be(this,er,"m",ec).call(this,{request:f?J:ue,backoff:$,tries:0}),le=await re.arrayBuffer(),z=re.status===200&&le.byteLength>0?Cn(le):null;if(z&&"certificate"in z){const q=await this.parseTimeFromResponse({certificate:z.certificate});qt(this,La,q,"f")}return{requestId:W,response:{ok:re.ok,status:re.status,statusText:re.statusText,body:z,headers:Va(re.headers)},requestDetails:k}}catch(J){if(J.message.includes("v3 api not supported."))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(r,Object.assign(Object.assign({},n),{callSync:!1}),s);const ue=`Error while making call: ${(d=J.message)!==null&&d!==void 0?d:String(J)}`,F=new Q2(ue,J,wt(W),wt(j.body.sender_pubkey),wt(j.body.sender_sig),String(j.body.content.ingress_expiry._value));throw this.log.error(ue,F),F}}async query(r,n,s){var o,d,f,u;await Be(this,er,"m",Vi).call(this);const g=Be(this,Ii,"f").call(this),_=n.effectiveCanisterId?et.from(n.effectiveCanisterId):et.from(r);this.log.print(`ecid ${_.toString()}`),this.log.print(`canisterId ${r.toString()}`);let N,w;const k=await(s!==void 0?s:Be(this,on,"f"));if(!k)throw new Pl("This identity has expired due this application's security policy. Please refresh your authentication.");const j=et.from(r),b=(k==null?void 0:k.getPrincipal())||et.anonymous(),M={request_type:"query",canister_id:j,method_name:n.methodName,arg:n.arg,sender:b,ingress_expiry:new Cl(Be(this,$i,"f")*Rl)},B=Ja(M);N=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},Be(this,qr,"f")?{Authorization:"Basic "+btoa(Be(this,qr,"f"))}:{})},endpoint:"read",body:M}),N=await(k==null?void 0:k.transformRequest(N));const $=ef(N.body),W={canister:j.toText(),ecid:_,transformedRequest:N,body:$,requestId:B,backoff:g,tries:0},J=async()=>({requestDetails:M,query:await Be(this,er,"m",_x).call(this,W)}),ue=async()=>{if(!Be(this,Hi,"f"))return;const F=Be(this,zi,"f").get(_.toString());return F||(await this.fetchSubnetKeys(_.toString()),Be(this,zi,"f").get(_.toString()))};try{const[F,re]=await Promise.all([J(),ue()]);w=F;const{requestDetails:le,query:z}=w,q=Object.assign(Object.assign({},z),{requestDetails:le});if(this.log.print("Query response:",q),!Be(this,Hi,"f"))return q;try{return Be(this,tc,"f").call(this,q,re)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),Be(this,zi,"f").delete(r.toString()),await this.fetchSubnetKeys(_.toString());const ce=Be(this,zi,"f").get(r.toString());if(!ce)throw new ln("Invalid signature from replica signed query: no matching node key found.");return Be(this,tc,"f").call(this,q,ce)}}catch(F){const re=`Error while making call: ${(o=F.message)!==null&&o!==void 0?o:String(F)}`,le=new D2(re,F,String(B),wt((d=N==null?void 0:N.body)===null||d===void 0?void 0:d.sender_pubkey),wt((f=N==null?void 0:N.body)===null||f===void 0?void 0:f.sender_sig),String((u=N==null?void 0:N.body)===null||u===void 0?void 0:u.content.ingress_expiry._value));throw this.log.error(re,le),le}}async createReadStateRequest(r,n){await Be(this,er,"m",Vi).call(this);const s=await(n!==void 0?await n:await Be(this,on,"f"));if(!s)throw new Pl("This identity has expired due this application's security policy. Please refresh your authentication.");const o=(s==null?void 0:s.getPrincipal())||et.anonymous(),d=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},Be(this,qr,"f")?{Authorization:"Basic "+btoa(Be(this,qr,"f"))}:{})},endpoint:"read_state",body:{request_type:"read_state",paths:r.paths,sender:o,ingress_expiry:new Cl(Be(this,$i,"f")*Rl)}});return s==null?void 0:s.transformRequest(d)}async readState(r,n,s,o){var d,f,u,g;function _(M){for(const B of M.paths){const[$,W]=B,J=Tn(new TextEncoder().encode("request_status"));if(ao($,J))return W}}const N=_(n);await Be(this,er,"m",Vi).call(this);const w=typeof r=="string"?et.fromText(r):r,k=o??await this.createReadStateRequest(n,s),j=ef(k.body);this.log.print(`fetching "/api/v2/canister/${w}/read_state" with request:`,k);const b=Be(this,Ii,"f").call(this);try{const M=await Be(this,er,"m",ec).call(this,{request:()=>Be(this,kn,"f").call(this,""+new URL(`/api/v2/canister/${w.toString()}/read_state`,this.host),Object.assign(Object.assign(Object.assign({},Be(this,Hs,"f")),k.request),{body:j})),backoff:b,tries:0});if(!M.ok)throw new Error(`Server returned an error:
  Code: ${M.status} (${M.statusText})
  Body: ${await M.text()}
`);const B=Cn(await M.arrayBuffer());this.log.print("Read state response:",B);const $=await this.parseTimeFromResponse(B);return $>0&&(this.log.print("Read state response time:",$),qt(this,La,$,"f")),B}catch(M){const B=`Caught exception while attempting to read state: ${(d=M.message)!==null&&d!==void 0?d:String(M)}`,$=new X2(B,M,String(N),wt((f=k==null?void 0:k.body)===null||f===void 0?void 0:f.sender_pubkey),wt((u=k==null?void 0:k.body)===null||u===void 0?void 0:u.sender_sig),String((g=k==null?void 0:k.body)===null||g===void 0?void 0:g.content.ingress_expiry._value));throw this.log.error(B,$),$}}async parseTimeFromResponse(r){let n;if(r.certificate){const s=Cn(r.certificate);if(s&&"tree"in s)n=s.tree;else throw new Error("Could not decode time from response");const o=Xs(["time"],n);if(o.status!==Mt.Found)throw new Error("Time was not found in the response or was not in its expected format.");if(!(o.value instanceof ArrayBuffer)&&!ArrayBuffer.isView(o))throw new Error("Time was not found in the response or was not in its expected format.");const d=f0(Tn(o.value));return this.log.print("Time from response:",d),this.log.print("Time from response in milliseconds:",Number(d)),Number(d)}else this.log.warn("No certificate found in response");return 0}async syncTime(r){await Be(this,er,"m",Vi).call(this);const n=await Kv(()=>Promise.resolve().then(()=>Yb),void 0),s=Date.now();try{r||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");const o=Bn.createSync({identity:new eo,host:this.host.toString(),fetch:Be(this,kn,"f"),retryTimes:0}),f=(await n.request({canisterId:r??et.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),agent:o,paths:["time"]})).get("time");f&&(qt(this,Ms,Number(f)-Number(s),"f"),this.log.notify({message:`Syncing time: offset of ${Be(this,Ms,"f")}`,level:"info"}))}catch(o){this.log.error("Caught exception while attempting to sync time",o)}}async status(){const r=Be(this,qr,"f")?{Authorization:"Basic "+btoa(Be(this,qr,"f"))}:{};this.log.print('fetching "/api/v2/status"');const n=Be(this,Ii,"f").call(this),s=await Be(this,er,"m",ec).call(this,{backoff:n,request:()=>Be(this,kn,"f").call(this,""+new URL("/api/v2/status",this.host),Object.assign({headers:r},Be(this,Hs,"f"))),tries:0});return Cn(await s.arrayBuffer())}async fetchRootKey(){let r;return Be(this,Fi,"f")?r=await Be(this,Fi,"f"):(qt(this,Fi,new Promise((n,s)=>{this.status().then(o=>{const d=o.root_key;this.rootKey=d,n(d)}).catch(s)}),"f"),r=await Be(this,Fi,"f")),qt(this,Fi,null,"f"),r}invalidateIdentity(){qt(this,on,null,"f")}replaceIdentity(r){qt(this,on,Promise.resolve(r),"f")}async fetchSubnetKeys(r){await Be(this,er,"m",Vi).call(this);const n=et.from(r),o=(await lx({canisterId:n,paths:["subnet"],agent:this})).get("subnet");if(o&&typeof o=="object"&&"nodeKeys"in o)return Be(this,zi,"f").set(n.toText(),o),o}_transform(r){let n=Promise.resolve(r);if(r.endpoint==="call")for(const s of Be(this,Us,"f"))n=n.then(o=>s(o).then(d=>d||o));else for(const s of Be(this,Os,"f"))n=n.then(o=>s(o).then(d=>d||o));return n}}Fi=new WeakMap,Ws=new WeakMap,on=new WeakMap,kn=new WeakMap,Hs=new WeakMap,Ka=new WeakMap,Ms=new WeakMap,qr=new WeakMap,Gr=new WeakMap,Ii=new WeakMap,$i=new WeakMap,La=new WeakMap,Os=new WeakMap,Us=new WeakMap,zi=new WeakMap,Hi=new WeakMap,tc=new WeakMap,er=new WeakSet,_x=async function e(r){var n,s;const{ecid:o,transformedRequest:d,body:f,requestId:u,backoff:g,tries:_}=r,N=_===0?0:g.next();if(this.log.print(`fetching "/api/v2/canister/${o.toString()}/query" with tries:`,{tries:_,backoff:g,delay:N}),N===null)throw new kt(`Timestamp failed to pass the watermark after retrying the configured ${Be(this,Gr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);N>0&&await new Promise(b=>setTimeout(b,N));let w;try{this.log.print(`fetching "/api/v2/canister/${o.toString()}/query" with request:`,d);const b=await Be(this,kn,"f").call(this,""+new URL(`/api/v2/canister/${o.toString()}/query`,this.host),Object.assign(Object.assign(Object.assign({},Be(this,Hs,"f")),d.request),{body:f}));if(b.status===200){const M=Cn(await b.arrayBuffer());w=Object.assign(Object.assign({},M),{httpDetails:{ok:b.ok,status:b.status,statusText:b.statusText,headers:Va(b.headers)},requestId:u})}else throw new tf(`Gateway returned an error:
  Code: ${b.status} (${b.statusText})
  Body: ${await b.text()}
`,{ok:b.ok,status:b.status,statusText:b.statusText,headers:Va(b.headers)})}catch(b){if(_<Be(this,Gr,"f"))return this.log.warn(`Caught exception while attempting to make query:
  ${b}
  Retrying query.`),await Be(this,er,"m",e).call(this,Object.assign(Object.assign({},r),{tries:_+1}));throw b}const k=(s=(n=w.signatures)===null||n===void 0?void 0:n[0])===null||s===void 0?void 0:s.timestamp;if(!Be(this,Hi,"f"))return w;if(!k)throw new Error("Timestamp not found in query response. This suggests a malformed or malicious response.");const j=Number(BigInt(k)/BigInt(1e6));if(this.log.print("watermark and timestamp",{waterMark:this.waterMark,timestamp:j}),Number(this.waterMark)>j){const b=new kt("Timestamp is below the watermark. Retrying query.");if(this.log.error("Timestamp is below",b,{timestamp:k,waterMark:this.waterMark}),_<Be(this,Gr,"f"))return await Be(this,er,"m",e).call(this,Object.assign(Object.assign({},r),{tries:_+1}));throw new kt(`Timestamp failed to pass the watermark after retrying the configured ${Be(this,Gr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`)}return w},ec=async function e(r){const{request:n,backoff:s,tries:o}=r,d=o===0?0:s.next();if(d===null)throw new kt(`Timestamp failed to pass the watermark after retrying the configured ${Be(this,Gr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);d>0&&await new Promise(_=>setTimeout(_,d));let f;try{f=await n()}catch(_){if(Be(this,Gr,"f")>o)return this.log.warn(`Caught exception while attempting to make request:
  ${_}
  Retrying request.`),await Be(this,er,"m",e).call(this,{request:n,backoff:s,tries:o+1});throw _}if(f.ok)return f;const u=await f.clone().text(),g=`Server returned an error:
  Code: ${f.status} (${f.statusText})
  Body: ${u}
`;if(f.status===404&&f.url.includes("api/v3"))throw new tf("v3 api not supported. Fall back to v2",{ok:f.ok,status:f.status,statusText:f.statusText,headers:Va(f.headers)});if(o<Be(this,Gr,"f"))return await Be(this,er,"m",e).call(this,{request:n,backoff:s,tries:o+1});throw new tf(g,{ok:f.ok,status:f.status,statusText:f.statusText,headers:Va(f.headers)})},Vi=async function(){if(!this.rootKey)if(this.rootKey===null&&Be(this,Ws,"f"))await this.fetchRootKey();else throw new kt(`Invalid root key detected. The root key for this agent is ${this.rootKey} and the shouldFetchRootKey value is set to ${Be(this,Ws,"f")}. The root key should only be unknown if you are in local development. Otherwise you should avoid fetching and use the default IC Root Key or the known root key of your environment.`)};var lg;(function(e){e.Error="err",e.GetPrincipal="gp",e.GetPrincipalResponse="gpr",e.Query="q",e.QueryResponse="qr",e.Call="c",e.CallResponse="cr",e.ReadState="rs",e.ReadStateResponse="rsr",e.Status="s",e.StatusResponse="sr"})(lg||(lg={}));function cg(){const e=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.ic.agent:global.ic.agent:window.ic.agent;if(!e)throw new Error("No Agent could be found.");return e}const k3=5*60*1e3;function Nx(){return C3(j3(S3(),1e3),T3(1e3,1.2),A3(k3))}function S3(){let e=!0;return async()=>e?(e=!1,!0):!1}function j3(e,r){return async(n,s,o)=>{if(await e(n,s,o))return new Promise(d=>setTimeout(d,r))}}function A3(e){const r=Date.now()+e;return async(n,s,o)=>{if(Date.now()>r)throw new Error(`Request timed out after ${e} msec:
  Request ID: ${wt(s)}
  Request status: ${o}
`)}}function T3(e,r){let n=e;return()=>new Promise(s=>setTimeout(()=>{n*=r,s()},n))}function C3(...e){return async(r,n,s)=>{for(const o of e)await o(r,n,s)}}async function Ex(e,r,n,s=Nx(),o,d){var f;const u=[new TextEncoder().encode("request_status"),n],g=o??await((f=e.createReadStateRequest)===null||f===void 0?void 0:f.call(e,{paths:[u]})),_=await e.readState(r,{paths:[u]},void 0,g);if(e.rootKey==null)throw new Error("Agent root key not initialized before polling");const N=await Ki.create({certificate:_.certificate,rootKey:e.rootKey,canisterId:r,blsVerify:d}),w=Rr(N.lookup([...u,new TextEncoder().encode("status")]));let k;switch(typeof w>"u"?k=Sn.Unknown:k=new TextDecoder().decode(w),k){case Sn.Replied:return{reply:Rr(N.lookup([...u,"reply"])),certificate:N};case Sn.Received:case Sn.Unknown:case Sn.Processing:return await s(r,n,k),Ex(e,r,n,s,g,d);case Sn.Rejected:{const j=new Uint8Array(Rr(N.lookup([...u,"reject_code"])))[0],b=new TextDecoder().decode(Rr(N.lookup([...u,"reject_message"])));throw new Error(`Call was rejected:
  Request ID: ${wt(n)}
  Reject code: ${j}
  Reject text: ${b}
`)}case Sn.Done:throw new Error(`Call was marked as done but we never saw the reply:
  Request ID: ${wt(n)}
`)}throw new Error("unreachable")}const B3=({IDL:e})=>{const r=e.Variant({mainnet:e.Null,testnet:e.Null}),n=e.Text,s=e.Record({network:r,address:n,min_confirmations:e.Opt(e.Nat32)}),o=e.Nat64,d=o,f=e.Nat32,u=e.Record({start_height:f,end_height:e.Opt(f),network:r}),g=e.Vec(e.Nat8),_=e.Record({tip_height:f,block_headers:e.Vec(g)}),N=e.Record({network:r}),w=e.Nat64,k=e.Vec(w),j=e.Record({network:r,filter:e.Opt(e.Variant({page:e.Vec(e.Nat8),min_confirmations:e.Nat32})),address:n}),b=e.Vec(e.Nat8),M=e.Record({txid:e.Vec(e.Nat8),vout:e.Nat32}),B=e.Record({height:e.Nat32,value:o,outpoint:M}),$=e.Record({next_page:e.Opt(e.Vec(e.Nat8)),tip_height:f,tip_block_hash:b,utxos:e.Vec(B)}),W=e.Record({transaction:e.Vec(e.Nat8),network:r}),J=e.Principal,ue=e.Record({canister_id:J,num_requested_changes:e.Opt(e.Nat64)}),F=e.Variant({from_user:e.Record({user_id:e.Principal}),from_canister:e.Record({canister_version:e.Opt(e.Nat64),canister_id:e.Principal})}),re=e.Vec(e.Nat8),le=e.Variant({creation:e.Record({controllers:e.Vec(e.Principal)}),code_deployment:e.Record({mode:e.Variant({reinstall:e.Null,upgrade:e.Null,install:e.Null}),module_hash:e.Vec(e.Nat8)}),load_snapshot:e.Record({canister_version:e.Nat64,taken_at_timestamp:e.Nat64,snapshot_id:re}),controllers_change:e.Record({controllers:e.Vec(e.Principal)}),code_uninstall:e.Null}),z=e.Record({timestamp_nanos:e.Nat64,canister_version:e.Nat64,origin:F,details:le}),q=e.Record({controllers:e.Vec(e.Principal),module_hash:e.Opt(e.Vec(e.Nat8)),recent_changes:e.Vec(z),total_num_changes:e.Nat64}),H=e.Record({canister_id:J}),ce=e.Variant({controllers:e.Null,public:e.Null,allowed_viewers:e.Vec(e.Principal)}),ge=e.Record({freezing_threshold:e.Nat,controllers:e.Vec(e.Principal),reserved_cycles_limit:e.Nat,log_visibility:ce,wasm_memory_limit:e.Nat,memory_allocation:e.Nat,compute_allocation:e.Nat}),E=e.Record({status:e.Variant({stopped:e.Null,stopping:e.Null,running:e.Null}),memory_size:e.Nat,cycles:e.Nat,settings:ge,query_stats:e.Record({response_payload_bytes_total:e.Nat,num_instructions_total:e.Nat,num_calls_total:e.Nat,request_payload_bytes_total:e.Nat}),idle_cycles_burned_per_day:e.Nat,module_hash:e.Opt(e.Vec(e.Nat8)),reserved_cycles:e.Nat}),I=e.Record({canister_id:J}),Z=e.Record({freezing_threshold:e.Opt(e.Nat),controllers:e.Opt(e.Vec(e.Principal)),reserved_cycles_limit:e.Opt(e.Nat),log_visibility:e.Opt(ce),wasm_memory_limit:e.Opt(e.Nat),memory_allocation:e.Opt(e.Nat),compute_allocation:e.Opt(e.Nat)}),ne=e.Record({settings:e.Opt(Z),sender_canister_version:e.Opt(e.Nat64)}),fe=e.Record({canister_id:J}),se=e.Record({canister_id:J}),_e=e.Record({canister_id:J,snapshot_id:re}),Ee=e.Record({canister_id:J}),G=e.Variant({secp256k1:e.Null}),de=e.Record({key_id:e.Record({name:e.Text,curve:G}),canister_id:e.Opt(J),derivation_path:e.Vec(e.Vec(e.Nat8))}),Re=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),O=e.Record({canister_id:J}),Pe=e.Record({idx:e.Nat64,timestamp_nanos:e.Nat64,content:e.Vec(e.Nat8)}),Ce=e.Record({canister_log_records:e.Vec(Pe)}),be=e.Record({value:e.Text,name:e.Text}),me=e.Record({status:e.Nat,body:e.Vec(e.Nat8),headers:e.Vec(be)}),Ne=e.Record({url:e.Text,method:e.Variant({get:e.Null,head:e.Null,post:e.Null}),max_response_bytes:e.Opt(e.Nat64),body:e.Opt(e.Vec(e.Nat8)),transform:e.Opt(e.Record({function:e.Func([e.Record({context:e.Vec(e.Nat8),response:me})],[me],["query"]),context:e.Vec(e.Nat8)})),headers:e.Vec(be)}),R=e.Variant({reinstall:e.Null,upgrade:e.Opt(e.Record({wasm_memory_persistence:e.Opt(e.Variant({keep:e.Null,replace:e.Null})),skip_pre_upgrade:e.Opt(e.Bool)})),install:e.Null}),U=e.Record({hash:e.Vec(e.Nat8)}),L=e.Record({arg:e.Vec(e.Nat8),wasm_module_hash:e.Vec(e.Nat8),mode:R,chunk_hashes_list:e.Vec(U),target_canister:J,store_canister:e.Opt(J),sender_canister_version:e.Opt(e.Nat64)}),X=e.Vec(e.Nat8),D=e.Record({arg:e.Vec(e.Nat8),wasm_module:X,mode:R,canister_id:J,sender_canister_version:e.Opt(e.Nat64)}),ie=e.Record({canister_id:J}),S=e.Record({id:re,total_size:e.Nat64,taken_at_timestamp:e.Nat64}),p=e.Vec(S),m=e.Record({canister_id:J,sender_canister_version:e.Opt(e.Nat64),snapshot_id:re}),T=e.Record({start_at_timestamp_nanos:e.Nat64,subnet_id:e.Principal}),P=e.Record({num_block_failures_total:e.Nat64,node_id:e.Principal,num_blocks_proposed_total:e.Nat64}),Q=e.Vec(e.Record({timestamp_nanos:e.Nat64,node_metrics:e.Vec(P)})),he=e.Record({settings:e.Opt(Z),specified_id:e.Opt(J),amount:e.Opt(e.Nat),sender_canister_version:e.Opt(e.Nat64)}),je=e.Record({canister_id:J}),Oe=e.Record({canister_id:J,amount:e.Nat}),Ie=e.Vec(e.Nat8),Qe=e.Variant({ed25519:e.Null,bip340secp256k1:e.Null}),A=e.Record({key_id:e.Record({algorithm:Qe,name:e.Text}),canister_id:e.Opt(J),derivation_path:e.Vec(e.Vec(e.Nat8))}),y=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),v=e.Record({key_id:e.Record({name:e.Text,curve:G}),derivation_path:e.Vec(e.Vec(e.Nat8)),message_hash:e.Vec(e.Nat8)}),V=e.Record({signature:e.Vec(e.Nat8)}),ae=e.Variant({bip341:e.Record({merkle_root_hash:e.Vec(e.Nat8)})}),we=e.Record({aux:e.Opt(ae),key_id:e.Record({algorithm:Qe,name:e.Text}),derivation_path:e.Vec(e.Vec(e.Nat8)),message:e.Vec(e.Nat8)}),xe=e.Record({signature:e.Vec(e.Nat8)}),Le=e.Record({canister_id:J}),De=e.Record({canister_id:J}),Ye=e.Record({canister_id:J}),Ge=e.Vec(U),it=e.Record({subnet_id:e.Principal}),lt=e.Record({replica_version:e.Text}),_i=e.Record({replace_snapshot:e.Opt(re),canister_id:J}),Lr=S,Yr=e.Record({canister_id:J,sender_canister_version:e.Opt(e.Nat64)}),es=e.Record({canister_id:e.Principal,settings:Z,sender_canister_version:e.Opt(e.Nat64)}),ts=e.Record({chunk:e.Vec(e.Nat8),canister_id:e.Principal}),Mr=U;return e.Service({bitcoin_get_balance:e.Func([s],[d],[]),bitcoin_get_block_headers:e.Func([u],[_],[]),bitcoin_get_current_fee_percentiles:e.Func([N],[k],[]),bitcoin_get_utxos:e.Func([j],[$],[]),bitcoin_send_transaction:e.Func([W],[],[]),canister_info:e.Func([ue],[q],[]),canister_status:e.Func([H],[E],[]),clear_chunk_store:e.Func([I],[],[]),create_canister:e.Func([ne],[fe],[]),delete_canister:e.Func([se],[],[]),delete_canister_snapshot:e.Func([_e],[],[]),deposit_cycles:e.Func([Ee],[],[]),ecdsa_public_key:e.Func([de],[Re],[]),fetch_canister_logs:e.Func([O],[Ce],["query"]),http_request:e.Func([Ne],[me],[]),install_chunked_code:e.Func([L],[],[]),install_code:e.Func([D],[],[]),list_canister_snapshots:e.Func([ie],[p],[]),load_canister_snapshot:e.Func([m],[],[]),node_metrics_history:e.Func([T],[Q],[]),provisional_create_canister_with_cycles:e.Func([he],[je],[]),provisional_top_up_canister:e.Func([Oe],[],[]),raw_rand:e.Func([],[Ie],[]),schnorr_public_key:e.Func([A],[y],[]),sign_with_ecdsa:e.Func([v],[V],[]),sign_with_schnorr:e.Func([we],[xe],[]),start_canister:e.Func([Le],[],[]),stop_canister:e.Func([De],[],[]),stored_chunks:e.Func([Ye],[Ge],[]),subnet_info:e.Func([it],[lt],[]),take_canister_snapshot:e.Func([_i],[Lr],[]),uninstall_code:e.Func([Yr],[],[]),update_settings:e.Func([es],[],[]),upload_chunk:e.Func([ts],[Mr],[])})};class kx extends kt{constructor(r,n,s,o){super(["Call failed:",`  Canister: ${r.toText()}`,`  Method: ${n} (${s})`,...Object.getOwnPropertyNames(o).map(d=>`  "${d}": ${JSON.stringify(o[d])}`)].join(`
`)),this.canisterId=r,this.methodName=n,this.type=s,this.props=o}}class R3 extends kx{constructor(r,n,s){var o;super(r,n,"query",{Status:s.status,Code:(o=Cf[s.reject_code])!==null&&o!==void 0?o:`Unknown Code "${s.reject_code}"`,Message:s.reject_message}),this.result=s}}class ug extends kx{constructor(r,n,s,o,d,f,u){super(r,n,"update",Object.assign({"Request ID":wt(s)},o.body?Object.assign(Object.assign({},u?{"Error code":u}:{}),{"Reject code":String(d),"Reject message":f}):{"HTTP status code":o.status.toString(),"HTTP status text":o.statusText})),this.requestId=s,this.response=o,this.reject_code=d,this.reject_message=f,this.error_code=u}}const Br=Symbol.for("ic-agent-metadata");class ar{constructor(r){this[Br]=Object.freeze(r)}static agentOf(r){return r[Br].config.agent}static interfaceOf(r){return r[Br].service}static canisterIdOf(r){return et.from(r[Br].config.canisterId)}static async install(r,n){const s=r.mode===void 0?{install:null}:r.mode,o=r.arg?[...new Uint8Array(r.arg)]:[],d=[...new Uint8Array(r.module)],f=typeof n.canisterId=="string"?et.fromText(n.canisterId):n.canisterId;await dg(n).install_code({mode:s,arg:o,wasm_module:d,canister_id:f,sender_canister_version:[]})}static async createCanister(r,n){function s(d){return[{controllers:d.controllers?[d.controllers]:[],compute_allocation:d.compute_allocation?[d.compute_allocation]:[],freezing_threshold:d.freezing_threshold?[d.freezing_threshold]:[],memory_allocation:d.memory_allocation?[d.memory_allocation]:[],reserved_cycles_limit:[],log_visibility:[],wasm_memory_limit:[]}]}const{canister_id:o}=await dg(r||{}).provisional_create_canister_with_cycles({amount:[],settings:s(n||{}),specified_id:[],sender_canister_version:[]});return o}static async createAndInstallCanister(r,n,s){const o=await this.createCanister(s);return await this.install(Object.assign({},n),Object.assign(Object.assign({},s),{canisterId:o})),this.createActor(r,Object.assign(Object.assign({},s),{canisterId:o}))}static createActorClass(r,n){const s=r({IDL:P2});class o extends ar{constructor(f){if(!f.canisterId)throw new kt(`Canister ID is required, but received ${typeof f.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);const u=typeof f.canisterId=="string"?et.fromText(f.canisterId):f.canisterId;super({config:Object.assign(Object.assign(Object.assign({},Sx),f),{canisterId:u}),service:s});for(const[g,_]of s._fields)n!=null&&n.httpDetails&&_.annotations.push(Hf),n!=null&&n.certificate&&_.annotations.push(jx),this[g]=P3(this,g,_,f.blsVerify)}}return o}static createActor(r,n){if(!n.canisterId)throw new kt(`Canister ID is required, but received ${typeof n.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);return new(this.createActorClass(r))(n)}static createActorWithHttpDetails(r,n){return new(this.createActorClass(r,{httpDetails:!0}))(n)}static createActorWithExtendedDetails(r,n,s={httpDetails:!0,certificate:!0}){return new(this.createActorClass(r,s))(n)}}function Cs(e,r){const n=oy(e,qv.Buffer.from(r));switch(n.length){case 0:return;case 1:return n[0];default:return n}}const Sx={pollingStrategyFactory:Nx},Hf="http-details",jx="certificate";function P3(e,r,n,s){let o;n.annotations.includes("query")||n.annotations.includes("composite_query")?o=async(f,...u)=>{var g,_;f=Object.assign(Object.assign({},f),(_=(g=e[Br].config).queryTransform)===null||_===void 0?void 0:_.call(g,r,u,Object.assign(Object.assign({},e[Br].config),f)));const N=f.agent||e[Br].config.agent||cg(),w=et.from(f.canisterId||e[Br].config.canisterId),k=Rf(n.argTypes,u),j=await N.query(w,{methodName:r,arg:k,effectiveCanisterId:f.effectiveCanisterId}),b=Object.assign(Object.assign({},j.httpDetails),{requestDetails:j.requestDetails});switch(j.status){case"rejected":throw new R3(w,r,j);case"replied":return n.annotations.includes(Hf)?{httpDetails:b,result:Cs(n.retTypes,j.reply.arg)}:Cs(n.retTypes,j.reply.arg)}}:o=async(f,...u)=>{var g,_;f=Object.assign(Object.assign({},f),(_=(g=e[Br].config).callTransform)===null||_===void 0?void 0:_.call(g,r,u,Object.assign(Object.assign({},e[Br].config),f)));const N=f.agent||e[Br].config.agent||cg(),{canisterId:w,effectiveCanisterId:k,pollingStrategyFactory:j}=Object.assign(Object.assign(Object.assign({},Sx),e[Br].config),f),b=et.from(w),M=k!==void 0?et.from(k):b,B=Rf(n.argTypes,u),{requestId:$,response:W,requestDetails:J}=await N.call(b,{methodName:r,arg:B,effectiveCanisterId:M});let ue,F;if(W.body&&W.body.certificate){if(N.rootKey==null)throw new Error("Agent is missing root key");const q=W.body.certificate;F=await Ki.create({certificate:Li(q),rootKey:N.rootKey,canisterId:et.from(w),blsVerify:s});const H=[new TextEncoder().encode("request_status"),$];switch(new TextDecoder().decode(Rr(F.lookup([...H,"status"])))){case"replied":ue=Rr(F.lookup([...H,"reply"]));break;case"rejected":{const ge=new Uint8Array(Rr(F.lookup([...H,"reject_code"])))[0],E=new TextDecoder().decode(Rr(F.lookup([...H,"reject_message"]))),I=Rr(F.lookup([...H,"error_code"])),Z=I?new TextDecoder().decode(I):void 0;throw new ug(b,r,$,W,ge,E,Z)}}}else if(W.body&&"reject_message"in W.body){const{reject_code:q,reject_message:H,error_code:ce}=W.body;throw new ug(b,r,$,W,q,H,ce)}if(W.status===202){const q=j(),H=await Ex(N,M,$,q,s);F=H.certificate,ue=H.reply}const re=n.annotations.includes(Hf),le=n.annotations.includes(jx),z=Object.assign(Object.assign({},W),{requestDetails:J});if(ue!==void 0)return re&&le?{httpDetails:z,certificate:F,result:Cs(n.retTypes,ue)}:le?{certificate:F,result:Cs(n.retTypes,ue)}:re?{httpDetails:z,result:Cs(n.retTypes,ue)}:Cs(n.retTypes,ue);if(n.retTypes.length===0)return re?{httpDetails:W,result:void 0}:void 0;throw new Error(`Call was returned undefined, but type [${n.retTypes.join(",")}].`)};const d=(...f)=>o({},...f);return d.withOptions=f=>(...u)=>o(f,...u),d}function dg(e){function r(n,s){if(e.effectiveCanisterId)return{effectiveCanisterId:et.from(e.effectiveCanisterId)};const o=s[0];let d=et.fromHex("");return o&&typeof o=="object"&&o.target_canister&&n==="install_chunked_code"&&(d=et.from(o.target_canister)),o&&typeof o=="object"&&o.canister_id&&(d=et.from(o.canister_id)),{effectiveCanisterId:d}}return ar.createActor(B3,Object.assign(Object.assign(Object.assign({},e),{canisterId:et.fromHex("")}),{callTransform:r,queryTransform:r}))}var wc=function(e,r,n,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!o:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(e,n):o?o.value=n:r.set(e,n),n},fi=function(e,r,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:r.get(e)},rc,nc,Fs,Is;function fg(e){return e!==null&&typeof e=="object"}class Rn{constructor(r){if(rc.set(this,void 0),nc.set(this,void 0),r.byteLength!==Rn.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");wc(this,rc,Tn(r),"f"),wc(this,nc,Rn.derEncode(r),"f")}static from(r){if(typeof r=="string"){const n=Pn(r);return this.fromRaw(n)}else if(fg(r)){const n=r;if(fg(n)&&Object.hasOwnProperty.call(n,"__derEncodedPublicKey__"))return this.fromDer(n);if(ArrayBuffer.isView(n)){const s=n;return this.fromRaw(Tn(s.buffer))}else{if(n instanceof ArrayBuffer)return this.fromRaw(n);if("rawKey"in n)return this.fromRaw(n.rawKey);if("derKey"in n)return this.fromDer(n.derKey);if("toDer"in n)return this.fromDer(n.toDer())}}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(r){return new Rn(r)}static fromDer(r){return new Rn(this.derDecode(r))}static derEncode(r){const n=hx(r,xc).buffer;return n.__derEncodedPublicKey__=void 0,n}static derDecode(r){const n=px(r,xc);if(n.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return Tn(n)}get rawKey(){return fi(this,rc,"f")}get derKey(){return fi(this,nc,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}rc=new WeakMap,nc=new WeakMap;Rn.RAW_KEY_LENGTH=32;class gi extends c0{constructor(r,n){super(),Fs.set(this,void 0),Is.set(this,void 0),wc(this,Fs,Rn.from(r),"f"),wc(this,Is,new Uint8Array(n),"f")}static generate(r){if(r&&r.length!==32)throw new Error("Ed25519 Seed needs to be 32 bytes long.");r||(r=Rs.utils.randomPrivateKey()),ao(r,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");const n=new Uint8Array(32);for(let o=0;o<32;o++)n[o]=new Uint8Array(r)[o];const s=Rs.getPublicKey(n);return gi.fromKeyPair(s,n)}static fromParsedJson(r){const[n,s]=r;return new gi(Rn.fromDer(Pn(n)),Pn(s))}static fromJSON(r){const n=JSON.parse(r);if(Array.isArray(n)){if(typeof n[0]=="string"&&typeof n[1]=="string")return this.fromParsedJson([n[0],n[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(r)}`)}static fromKeyPair(r,n){return new gi(Rn.fromRaw(r),n)}static fromSecretKey(r){const n=Rs.getPublicKey(new Uint8Array(r));return gi.fromKeyPair(n,r)}toJSON(){return[wt(fi(this,Fs,"f").toDer()),wt(fi(this,Is,"f"))]}getKeyPair(){return{secretKey:fi(this,Is,"f"),publicKey:fi(this,Fs,"f")}}getPublicKey(){return fi(this,Fs,"f")}async sign(r){const n=new Uint8Array(r),s=Ya(Rs.sign(n,fi(this,Is,"f").slice(0,32)));return Object.defineProperty(s,"__signature__",{enumerable:!1,value:void 0}),s}static verify(r,n,s){const[o,d,f]=[r,n,s].map(u=>(typeof u=="string"&&(u=Pn(u)),u instanceof Uint8Array&&(u=Tn(u.buffer)),new Uint8Array(u)));return Rs.verify(o,d,f)}}Fs=new WeakMap,Is=new WeakMap;class h0 extends Error{constructor(r){super(r),this.message=r,Object.setPrototypeOf(this,h0.prototype)}}function hg(e){if(typeof global<"u"&&global.crypto&&global.crypto.subtle)return global.crypto.subtle;if(e)return e;if(typeof crypto<"u"&&crypto.subtle)return crypto.subtle;throw new h0("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class vc extends c0{constructor(r,n,s){super(),this._keyPair=r,this._derKey=n,this._subtleCrypto=s}static async generate(r){const{extractable:n=!1,keyUsages:s=["sign","verify"],subtleCrypto:o}=r??{},d=hg(o),f=await d.generateKey({name:"ECDSA",namedCurve:"P-256"},n,s),u=await d.exportKey("spki",f.publicKey);return new this(f,u,d)}static async fromKeyPair(r,n){const s=hg(n),o=await s.exportKey("spki",r.publicKey);return new vc(r,o,s)}getKeyPair(){return this._keyPair}getPublicKey(){const r=this._derKey,n=Object.create(this._keyPair.publicKey);return n.toDer=function(){return r},n}async sign(r){const n={name:"ECDSA",hash:{name:"SHA-256"}};return await this._subtleCrypto.sign(n,this._keyPair.privateKey,r)}}var M3=function(e,r,n,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!o:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(e,n):o?o.value=n:r.set(e,n),n},Bs=function(e,r,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:r.get(e)},En;class O3{constructor(r){En.set(this,void 0),M3(this,En,r,"f")}get rawKey(){return Bs(this,En,"f").rawKey}get derKey(){return Bs(this,En,"f").derKey}toDer(){return Bs(this,En,"f").toDer()}getPublicKey(){return Bs(this,En,"f")}getPrincipal(){if(!Bs(this,En,"f").rawKey)throw new Error("Cannot get principal from a public key without a raw key.");return et.fromUint8Array(new Uint8Array(Bs(this,En,"f").rawKey))}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}}En=new WeakMap;var U3=function(e,r,n,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!o:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(e,n):o?o.value=n:r.set(e,n),n},F3=function(e,r,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:r.get(e)},I3=function(e,r){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)r.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n},ic;const $3=new TextEncoder().encode("ic-request-auth-delegation"),z3=new TextEncoder().encode(`
ic-request`);function pf(e){if(typeof e!="string"||e.length<64)throw new Error("Invalid public key.");return Pn(e)}class p0{constructor(r,n,s){this.pubkey=r,this.expiration=n,this.targets=s}toCBOR(){return Nr.value.map(Object.assign({pubkey:Nr.value.bytes(this.pubkey),expiration:Nr.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:Nr.value.array(this.targets.map(r=>Nr.value.bytes(Li(r.toUint8Array()))))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:wt(this.pubkey)},this.targets&&{targets:this.targets.map(r=>r.toHex())})}}async function V3(e,r,n,s){const o=new p0(r.toDer(),BigInt(+n)*BigInt(1e6),s),d=new Uint8Array([...$3,...new Uint8Array(Ja(Object.assign({},o)))]),f=await e.sign(Li(d));return{delegation:o,signature:f}}class bc{constructor(r,n){this.delegations=r,this.publicKey=n}static async create(r,n,s=new Date(Date.now()+15*60*1e3),o={}){var d,f;const u=await V3(r,n,s,o.targets);return new bc([...((d=o.previous)===null||d===void 0?void 0:d.delegations)||[],u],((f=o.previous)===null||f===void 0?void 0:f.publicKey)||r.getPublicKey().toDer())}static fromJSON(r){const{publicKey:n,delegations:s}=typeof r=="string"?JSON.parse(r):r;if(!Array.isArray(s))throw new Error("Invalid delegations.");const o=s.map(d=>{const{delegation:f,signature:u}=d,{pubkey:g,expiration:_,targets:N}=f;if(N!==void 0&&!Array.isArray(N))throw new Error("Invalid targets.");return{delegation:new p0(pf(g),BigInt("0x"+_),N&&N.map(w=>{if(typeof w!="string")throw new Error("Invalid target.");return et.fromHex(w)})),signature:pf(u)}});return new this(o,pf(n))}static fromDelegations(r,n){return new this(r,n)}toJSON(){return{delegations:this.delegations.map(r=>{const{delegation:n,signature:s}=r,{targets:o}=n;return{delegation:Object.assign({expiration:n.expiration.toString(16),pubkey:wt(n.pubkey)},o&&{targets:o.map(d=>d.toHex())}),signature:wt(s)}}),publicKey:wt(this.publicKey)}}}class pg extends c0{constructor(r,n){super(),this._inner=r,this._delegation=n}static fromDelegation(r,n){return new this(r,n)}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(r){return this._inner.sign(r)}async transformRequest(r){const{body:n}=r,s=I3(r,["body"]),o=await Ja(n);return Object.assign(Object.assign({},s),{body:{content:n,sender_sig:await this.sign(Li(new Uint8Array([...z3,...new Uint8Array(o)]))),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}}class _c extends O3{constructor(r,n){super(r),ic.set(this,void 0),U3(this,ic,n,"f")}get delegation(){return F3(this,ic,"f")}static fromDelegation(r,n){return new _c(r,n)}}ic=new WeakMap;function H3(e,r){for(const{delegation:s}of e.delegations)if(+new Date(Number(s.expiration/BigInt(1e6)))<=+Date.now())return!1;const n=[];for(const s of n){const o=s.toText();for(const{delegation:d}of e.delegations){if(d.targets===void 0)continue;let f=!0;for(const u of d.targets)if(u.toText()===o){f=!1;break}if(f)return!1}}return!0}var mg;(function(e){e[e.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256"})(mg||(mg={}));const gg=["mousedown","mousemove","keydown","touchstart","wheel"];class yg{constructor(r={}){var n;this.callbacks=[],this.idleTimeout=10*60*1e3,this.timeoutID=void 0;const{onIdle:s,idleTimeout:o=10*60*1e3}=r||{};this.callbacks=s?[s]:[],this.idleTimeout=o;const d=this._resetTimer.bind(this);window.addEventListener("load",d,!0),gg.forEach(function(u){document.addEventListener(u,d,!0)});const f=(u,g)=>{let _;return(...N)=>{const w=this,k=function(){_=void 0,u.apply(w,N)};clearTimeout(_),_=window.setTimeout(k,g)}};if(r!=null&&r.captureScroll){const u=f(d,(n=r==null?void 0:r.scrollDebounce)!==null&&n!==void 0?n:100);window.addEventListener("scroll",u,!0)}d()}static create(r={}){return new this(r)}registerCallback(r){this.callbacks.push(r)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);const r=this._resetTimer.bind(this);gg.forEach(function(n){document.removeEventListener(n,r,!0)}),this.callbacks.forEach(n=>n())}_resetTimer(){const r=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(r,this.idleTimeout)}}const q3=(e,r)=>r.some(n=>e instanceof n);let xg,wg;function G3(){return xg||(xg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W3(){return wg||(wg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ax=new WeakMap,qf=new WeakMap,Tx=new WeakMap,mf=new WeakMap,m0=new WeakMap;function K3(e){const r=new Promise((n,s)=>{const o=()=>{e.removeEventListener("success",d),e.removeEventListener("error",f)},d=()=>{n(xi(e.result)),o()},f=()=>{s(e.error),o()};e.addEventListener("success",d),e.addEventListener("error",f)});return r.then(n=>{n instanceof IDBCursor&&Ax.set(n,e)}).catch(()=>{}),m0.set(r,e),r}function L3(e){if(qf.has(e))return;const r=new Promise((n,s)=>{const o=()=>{e.removeEventListener("complete",d),e.removeEventListener("error",f),e.removeEventListener("abort",f)},d=()=>{n(),o()},f=()=>{s(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",d),e.addEventListener("error",f),e.addEventListener("abort",f)});qf.set(e,r)}let Gf={get(e,r,n){if(e instanceof IDBTransaction){if(r==="done")return qf.get(e);if(r==="objectStoreNames")return e.objectStoreNames||Tx.get(e);if(r==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xi(e[r])},set(e,r,n){return e[r]=n,!0},has(e,r){return e instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in e}};function Y3(e){Gf=e(Gf)}function Z3(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...n){const s=e.call(gf(this),r,...n);return Tx.set(s,r.sort?r.sort():[r]),xi(s)}:W3().includes(e)?function(...r){return e.apply(gf(this),r),xi(Ax.get(this))}:function(...r){return xi(e.apply(gf(this),r))}}function Q3(e){return typeof e=="function"?Z3(e):(e instanceof IDBTransaction&&L3(e),q3(e,G3())?new Proxy(e,Gf):e)}function xi(e){if(e instanceof IDBRequest)return K3(e);if(mf.has(e))return mf.get(e);const r=Q3(e);return r!==e&&(mf.set(e,r),m0.set(r,e)),r}const gf=e=>m0.get(e);function D3(e,r,{blocked:n,upgrade:s,blocking:o,terminated:d}={}){const f=indexedDB.open(e,r),u=xi(f);return s&&f.addEventListener("upgradeneeded",g=>{s(xi(f.result),g.oldVersion,g.newVersion,xi(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),u.then(g=>{d&&g.addEventListener("close",()=>d()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),u}const X3=["get","getKey","getAll","getAllKeys","count"],J3=["put","add","delete","clear"],yf=new Map;function vg(e,r){if(!(e instanceof IDBDatabase&&!(r in e)&&typeof r=="string"))return;if(yf.get(r))return yf.get(r);const n=r.replace(/FromIndex$/,""),s=r!==n,o=J3.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||X3.includes(n)))return;const d=async function(f,...u){const g=this.transaction(f,o?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(u.shift())),(await Promise.all([_[n](...u),o&&g.done]))[0]};return yf.set(r,d),d}Y3(e=>({...e,get:(r,n,s)=>vg(r,n)||e.get(r,n,s),has:(r,n)=>!!vg(r,n)||e.has(r,n)}));const Cx="auth-client-db",Bx="ic-keyval",e5=async(e=Cx,r=Bx,n)=>(Rx&&(localStorage!=null&&localStorage.getItem(pi))&&(localStorage.removeItem(pi),localStorage.removeItem(hi)),await D3(e,n,{upgrade:s=>{s.objectStoreNames.contains(r)&&s.clear(r),s.createObjectStore(r)}}));async function t5(e,r,n){return await e.get(r,n)}async function r5(e,r,n,s){return await e.put(r,s,n)}async function n5(e,r,n){return await e.delete(r,n)}class g0{constructor(r,n){this._db=r,this._storeName=n}static async create(r){const{dbName:n=Cx,storeName:s=Bx,version:o=o5}=r??{},d=await e5(n,s,o);return new g0(d,s)}async set(r,n){return await r5(this._db,this._storeName,r,n)}async get(r){var n;return(n=await t5(this._db,this._storeName,r))!==null&&n!==void 0?n:null}async remove(r){return await n5(this._db,this._storeName,r)}}var i5=function(e,r,n,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!o:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(e,n):o?o.value=n:r.set(e,n),n},s5=function(e,r,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:r.get(e)},sc;const hi="identity",pi="delegation",a5="iv",o5=1,Rx=typeof window<"u";class l5{constructor(r="ic-",n){this.prefix=r,this._localStorage=n}get(r){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+r))}set(r,n){return this._getLocalStorage().setItem(this.prefix+r,n),Promise.resolve()}remove(r){return this._getLocalStorage().removeItem(this.prefix+r),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;const r=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.localStorage:global.localStorage:window.localStorage;if(!r)throw new Error("Could not find local storage.");return r}}class c5{constructor(r){sc.set(this,void 0),i5(this,sc,r??{},"f")}get _db(){return new Promise(r=>{if(this.initializedDb){r(this.initializedDb);return}g0.create(s5(this,sc,"f")).then(n=>{this.initializedDb=n,r(n)})})}async get(r){return await(await this._db).get(r)}async set(r,n){await(await this._db).set(r,n)}async remove(r){await(await this._db).remove(r)}}sc=new WeakMap;const u5="https://identity.internetcomputer.org",d5="#authorize",xf="ECDSA",wf="Ed25519",f5=500,h5="UserInterrupt";class p5{constructor(r,n,s,o,d,f,u,g){this._identity=r,this._key=n,this._chain=s,this._storage=o,this.idleManager=d,this._createOptions=f,this._idpWindow=u,this._eventHandler=g,this._registerDefaultIdleCallback()}static async create(r={}){var n,s,o;const d=(n=r.storage)!==null&&n!==void 0?n:new c5,f=(s=r.keyType)!==null&&s!==void 0?s:xf;let u=null;if(r.identity)u=r.identity;else{let w=await d.get(hi);if(!w&&Rx)try{const k=new l5,j=await k.get(pi),b=await k.get(hi);j&&b&&f===xf&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await d.set(pi,j),await d.set(hi,b),w=j,await k.remove(pi),await k.remove(hi))}catch(k){console.error("error while attempting to recover localstorage: "+k)}if(w)try{typeof w=="object"?f===wf&&typeof w=="string"?u=await gi.fromJSON(w):u=await vc.fromKeyPair(w):typeof w=="string"&&(u=gi.fromJSON(w))}catch{}}let g=new eo,_=null;if(u)try{const w=await d.get(pi);if(typeof w=="object"&&w!==null)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");r.identity?g=r.identity:w&&(_=bc.fromJSON(w),H3(_)?"toDer"in u?g=_c.fromDelegation(u,_):g=pg.fromDelegation(u,_):(await vf(d),u=null))}catch(w){console.error(w),await vf(d),u=null}let N;return!((o=r.idleOptions)===null||o===void 0)&&o.disableIdle?N=void 0:(_||r.identity)&&(N=yg.create(r.idleOptions)),u||(f===wf?(u=await gi.generate(),await d.set(hi,JSON.stringify(u.toJSON()))):(r.storage&&f===xf&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${wf}' as the key type, as it can serialize to a string`),u=await vc.generate(),await d.set(hi,u.getKeyPair()))),new this(g,u,_,d,N,r)}_registerDefaultIdleCallback(){var r,n;const s=(r=this._createOptions)===null||r===void 0?void 0:r.idleOptions;!(s!=null&&s.onIdle)&&!(s!=null&&s.disableDefaultIdleCallback)&&((n=this.idleManager)===null||n===void 0||n.registerCallback(()=>{this.logout(),location.reload()}))}async _handleSuccess(r,n){var s,o;const d=r.delegations.map(_=>({delegation:new p0(_.delegation.pubkey,_.delegation.expiration,_.delegation.targets),signature:_.signature.buffer})),f=bc.fromDelegations(d,r.userPublicKey.buffer),u=this._key;if(!u)return;this._chain=f,"toDer"in u?this._identity=_c.fromDelegation(u,this._chain):this._identity=pg.fromDelegation(u,this._chain),(s=this._idpWindow)===null||s===void 0||s.close();const g=(o=this._createOptions)===null||o===void 0?void 0:o.idleOptions;!this.idleManager&&!(g!=null&&g.disableIdle)&&(this.idleManager=yg.create(g),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(pi,JSON.stringify(this._chain.toJSON())),n==null||n(r)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&this._chain!==null}async login(r){var n,s,o,d;const f=BigInt(8)*BigInt(36e11),u=new URL(((n=r==null?void 0:r.identityProvider)===null||n===void 0?void 0:n.toString())||u5);u.hash=d5,(s=this._idpWindow)===null||s===void 0||s.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(u,Object.assign({maxTimeToLive:(o=r==null?void 0:r.maxTimeToLive)!==null&&o!==void 0?o:f},r)),window.addEventListener("message",this._eventHandler),this._idpWindow=(d=window.open(u.toString(),"idpWindow",r==null?void 0:r.windowOpenerFeatures))!==null&&d!==void 0?d:void 0;const g=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure(h5,r==null?void 0:r.onError):setTimeout(g,f5))};g()}_getEventHandler(r,n){return async s=>{var o,d,f;if(s.origin!==r.origin)return;const u=s.data;switch(u.kind){case"authorize-ready":{const g=Object.assign({kind:"authorize-client",sessionPublicKey:new Uint8Array((o=this._key)===null||o===void 0?void 0:o.getPublicKey().toDer()),maxTimeToLive:n==null?void 0:n.maxTimeToLive,allowPinAuthentication:n==null?void 0:n.allowPinAuthentication,derivationOrigin:(d=n==null?void 0:n.derivationOrigin)===null||d===void 0?void 0:d.toString()},n==null?void 0:n.customValues);(f=this._idpWindow)===null||f===void 0||f.postMessage(g,r.origin);break}case"authorize-client-success":try{await this._handleSuccess(u,n==null?void 0:n.onSuccess)}catch(g){this._handleFailure(g.message,n==null?void 0:n.onError)}break;case"authorize-client-failure":this._handleFailure(u.text,n==null?void 0:n.onError);break}}}_handleFailure(r,n){var s;(s=this._idpWindow)===null||s===void 0||s.close(),n==null||n(r),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(r={}){if(await vf(this._storage),this._identity=new eo,this._chain=null,r.returnTo)try{window.history.pushState({},"",r.returnTo)}catch{window.location.href=r.returnTo}}}async function vf(e){await e.remove(hi),await e.remove(pi),await e.remove(a5)}function m5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}const g5=K.forwardRef(m5);function y5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const x5=K.forwardRef(y5);function w5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const v5=K.forwardRef(w5);function b5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const bf=K.forwardRef(b5);function _5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Wf=K.forwardRef(_5);function N5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const bg=K.forwardRef(N5);function E5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Kf=K.forwardRef(E5);function k5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const S5=K.forwardRef(k5);function j5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const A5=K.forwardRef(j5);function T5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"}))}const C5=K.forwardRef(T5);function B5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const R5=K.forwardRef(B5);function P5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const M5=K.forwardRef(P5);function O5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const Nc=K.forwardRef(O5);function U5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const F5=K.forwardRef(U5);function I5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const $5=K.forwardRef(I5);function z5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const V5=K.forwardRef(z5);function H5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Ks=K.forwardRef(H5);function q5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Ec=K.forwardRef(q5);function G5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Px=K.forwardRef(G5);function W5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const K5=K.forwardRef(W5);function L5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Y5=K.forwardRef(L5);function Z5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const Q5=K.forwardRef(Z5);function D5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))}const X5=K.forwardRef(D5);function J5({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const e4=K.forwardRef(J5);function t4({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const Lf=K.forwardRef(t4);function r4({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Mx=K.forwardRef(r4);function n4({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const _g=K.forwardRef(n4);function i4({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Ox=K.forwardRef(i4);function s4({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Ng=K.forwardRef(s4);function a4({title:e,titleId:r,...n},s){return K.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),e?K.createElement("title",{id:r},e):null,K.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Ux=K.forwardRef(a4);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fx=(...e)=>e.filter((r,n,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var l4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=K.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:d,iconNode:f,...u},g)=>K.createElement("svg",{ref:g,...l4,width:r,height:r,stroke:e,strokeWidth:s?Number(n)*24/Number(r):n,className:Fx("lucide",o),...u},[...f.map(([_,N])=>K.createElement(_,N)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(e,r)=>{const n=K.forwardRef(({className:s,...o},d)=>K.createElement(c4,{ref:d,iconNode:r,className:Fx(`lucide-${o4(e)}`,s),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=ot("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=ot("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=ot("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=ot("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=ot("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=ot("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=ot("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=ot("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=ot("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=ot("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=ot("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=ot("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=ot("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=ot("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=ot("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=ot("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=ot("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=ot("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=ot("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=ot("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=ot("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=ot("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=ot("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=ot("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=ot("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=ot("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=ot("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=ot("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=ot("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=ot("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=ot("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function Eg(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function C4(...e){return r=>{let n=!1;const s=e.map(o=>{const d=Eg(o,r);return!n&&typeof d=="function"&&(n=!0),d});if(n)return()=>{for(let o=0;o<s.length;o++){const d=s[o];typeof d=="function"?d():Eg(e[o],null)}}}}function B4(e){const r=P4(e),n=K.forwardRef((s,o)=>{const{children:d,...f}=s,u=K.Children.toArray(d),g=u.find(O4);if(g){const _=g.props.children,N=u.map(w=>w===g?K.Children.count(_)>1?K.Children.only(null):K.isValidElement(_)?_.props.children:null:w);return l.jsx(r,{...f,ref:o,children:K.isValidElement(_)?K.cloneElement(_,void 0,N):null})}return l.jsx(r,{...f,ref:o,children:d})});return n.displayName=`${e}.Slot`,n}var R4=B4("Slot");function P4(e){const r=K.forwardRef((n,s)=>{const{children:o,...d}=n;if(K.isValidElement(o)){const f=F4(o),u=U4(d,o.props);return o.type!==K.Fragment&&(u.ref=s?C4(s,f):f),K.cloneElement(o,u)}return K.Children.count(o)>1?K.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var M4=Symbol("radix.slottable");function O4(e){return K.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===M4}function U4(e,r){const n={...r};for(const s in r){const o=e[s],d=r[s];/^on[A-Z]/.test(s)?o&&d?n[s]=(...u)=>{const g=d(...u);return o(...u),g}:o&&(n[s]=o):s==="style"?n[s]={...o,...d}:s==="className"&&(n[s]=[o,d].filter(Boolean).join(" "))}return{...e,...n}}function F4(e){var s,o;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function qx(e){var r,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(r=0;r<o;r++)e[r]&&(n=qx(e[r]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Gx(){for(var e,r,n=0,s="",o=arguments.length;n<o;n++)(e=arguments[n])&&(r=qx(e))&&(s&&(s+=" "),s+=r);return s}const kg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Sg=Gx,Wx=(e,r)=>n=>{var s;if((r==null?void 0:r.variants)==null)return Sg(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:d}=r,f=Object.keys(o).map(_=>{const N=n==null?void 0:n[_],w=d==null?void 0:d[_];if(N===null)return null;const k=kg(N)||kg(w);return o[_][k]}),u=n&&Object.entries(n).reduce((_,N)=>{let[w,k]=N;return k===void 0||(_[w]=k),_},{}),g=r==null||(s=r.compoundVariants)===null||s===void 0?void 0:s.reduce((_,N)=>{let{class:w,className:k,...j}=N;return Object.entries(j).every(b=>{let[M,B]=b;return Array.isArray(B)?B.includes({...d,...u}[M]):{...d,...u}[M]===B})?[..._,w,k]:_},[]);return Sg(e,f,g,n==null?void 0:n.class,n==null?void 0:n.className)},w0="-",I4=e=>{const r=z4(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:f=>{const u=f.split(w0);return u[0]===""&&u.length!==1&&u.shift(),Kx(u,r)||$4(f)},getConflictingClassGroupIds:(f,u)=>{const g=n[f]||[];return u&&s[f]?[...g,...s[f]]:g}}},Kx=(e,r)=>{var f;if(e.length===0)return r.classGroupId;const n=e[0],s=r.nextPart.get(n),o=s?Kx(e.slice(1),s):void 0;if(o)return o;if(r.validators.length===0)return;const d=e.join(w0);return(f=r.validators.find(({validator:u})=>u(d)))==null?void 0:f.classGroupId},jg=/^\[(.+)\]$/,$4=e=>{if(jg.test(e)){const r=jg.exec(e)[1],n=r==null?void 0:r.substring(0,r.indexOf(":"));if(n)return"arbitrary.."+n}},z4=e=>{const{theme:r,prefix:n}=e,s={nextPart:new Map,validators:[]};return H4(Object.entries(e.classGroups),n).forEach(([d,f])=>{Qf(f,s,d,r)}),s},Qf=(e,r,n,s)=>{e.forEach(o=>{if(typeof o=="string"){const d=o===""?r:Ag(r,o);d.classGroupId=n;return}if(typeof o=="function"){if(V4(o)){Qf(o(s),r,n,s);return}r.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([d,f])=>{Qf(f,Ag(r,d),n,s)})})},Ag=(e,r)=>{let n=e;return r.split(w0).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},V4=e=>e.isThemeGetter,H4=(e,r)=>r?e.map(([n,s])=>{const o=s.map(d=>typeof d=="string"?r+d:typeof d=="object"?Object.fromEntries(Object.entries(d).map(([f,u])=>[r+f,u])):d);return[n,o]}):e,q4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,n=new Map,s=new Map;const o=(d,f)=>{n.set(d,f),r++,r>e&&(r=0,s=n,n=new Map)};return{get(d){let f=n.get(d);if(f!==void 0)return f;if((f=s.get(d))!==void 0)return o(d,f),f},set(d,f){n.has(d)?n.set(d,f):o(d,f)}}},Lx="!",G4=e=>{const{separator:r,experimentalParseClassName:n}=e,s=r.length===1,o=r[0],d=r.length,f=u=>{const g=[];let _=0,N=0,w;for(let B=0;B<u.length;B++){let $=u[B];if(_===0){if($===o&&(s||u.slice(B,B+d)===r)){g.push(u.slice(N,B)),N=B+d;continue}if($==="/"){w=B;continue}}$==="["?_++:$==="]"&&_--}const k=g.length===0?u:u.substring(N),j=k.startsWith(Lx),b=j?k.substring(1):k,M=w&&w>N?w-N:void 0;return{modifiers:g,hasImportantModifier:j,baseClassName:b,maybePostfixModifierPosition:M}};return n?u=>n({className:u,parseClassName:f}):f},W4=e=>{if(e.length<=1)return e;const r=[];let n=[];return e.forEach(s=>{s[0]==="["?(r.push(...n.sort(),s),n=[]):n.push(s)}),r.push(...n.sort()),r},K4=e=>({cache:q4(e.cacheSize),parseClassName:G4(e),...I4(e)}),L4=/\s+/,Y4=(e,r)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o}=r,d=[],f=e.trim().split(L4);let u="";for(let g=f.length-1;g>=0;g-=1){const _=f[g],{modifiers:N,hasImportantModifier:w,baseClassName:k,maybePostfixModifierPosition:j}=n(_);let b=!!j,M=s(b?k.substring(0,j):k);if(!M){if(!b){u=_+(u.length>0?" "+u:u);continue}if(M=s(k),!M){u=_+(u.length>0?" "+u:u);continue}b=!1}const B=W4(N).join(":"),$=w?B+Lx:B,W=$+M;if(d.includes(W))continue;d.push(W);const J=o(M,b);for(let ue=0;ue<J.length;++ue){const F=J[ue];d.push($+F)}u=_+(u.length>0?" "+u:u)}return u};function Z4(){let e=0,r,n,s="";for(;e<arguments.length;)(r=arguments[e++])&&(n=Yx(r))&&(s&&(s+=" "),s+=n);return s}const Yx=e=>{if(typeof e=="string")return e;let r,n="";for(let s=0;s<e.length;s++)e[s]&&(r=Yx(e[s]))&&(n&&(n+=" "),n+=r);return n};function Q4(e,...r){let n,s,o,d=f;function f(g){const _=r.reduce((N,w)=>w(N),e());return n=K4(_),s=n.cache.get,o=n.cache.set,d=u,u(g)}function u(g){const _=s(g);if(_)return _;const N=Y4(g,n);return o(g,N),N}return function(){return d(Z4.apply(null,arguments))}}const gt=e=>{const r=n=>n[e]||[];return r.isThemeGetter=!0,r},Zx=/^\[(?:([a-z-]+):)?(.+)\]$/i,D4=/^\d+\/\d+$/,X4=new Set(["px","full","screen"]),J4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,e6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,t6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,r6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,n6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nn=e=>Ls(e)||X4.has(e)||D4.test(e),oi=e=>ea(e,"length",d6),Ls=e=>!!e&&!Number.isNaN(Number(e)),_f=e=>ea(e,"number",Ls),$a=e=>!!e&&Number.isInteger(Number(e)),i6=e=>e.endsWith("%")&&Ls(e.slice(0,-1)),Xe=e=>Zx.test(e),li=e=>J4.test(e),s6=new Set(["length","size","percentage"]),a6=e=>ea(e,s6,Qx),o6=e=>ea(e,"position",Qx),l6=new Set(["image","url"]),c6=e=>ea(e,l6,h6),u6=e=>ea(e,"",f6),za=()=>!0,ea=(e,r,n)=>{const s=Zx.exec(e);return s?s[1]?typeof r=="string"?s[1]===r:r.has(s[1]):n(s[2]):!1},d6=e=>e6.test(e)&&!t6.test(e),Qx=()=>!1,f6=e=>r6.test(e),h6=e=>n6.test(e),p6=()=>{const e=gt("colors"),r=gt("spacing"),n=gt("blur"),s=gt("brightness"),o=gt("borderColor"),d=gt("borderRadius"),f=gt("borderSpacing"),u=gt("borderWidth"),g=gt("contrast"),_=gt("grayscale"),N=gt("hueRotate"),w=gt("invert"),k=gt("gap"),j=gt("gradientColorStops"),b=gt("gradientColorStopPositions"),M=gt("inset"),B=gt("margin"),$=gt("opacity"),W=gt("padding"),J=gt("saturate"),ue=gt("scale"),F=gt("sepia"),re=gt("skew"),le=gt("space"),z=gt("translate"),q=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],ce=()=>["auto",Xe,r],ge=()=>[Xe,r],E=()=>["",Nn,oi],I=()=>["auto",Ls,Xe],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>["start","end","center","between","around","evenly","stretch"],_e=()=>["","0",Xe],Ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Ls,Xe];return{cacheSize:500,separator:":",theme:{colors:[za],spacing:[Nn,oi],blur:["none","",li,Xe],brightness:G(),borderColor:[e],borderRadius:["none","","full",li,Xe],borderSpacing:ge(),borderWidth:E(),contrast:G(),grayscale:_e(),hueRotate:G(),invert:_e(),gap:ge(),gradientColorStops:[e],gradientColorStopPositions:[i6,oi],inset:ce(),margin:ce(),opacity:G(),padding:ge(),saturate:G(),scale:G(),sepia:_e(),skew:G(),space:ge(),translate:ge()},classGroups:{aspect:[{aspect:["auto","square","video",Xe]}],container:["container"],columns:[{columns:[li]}],"break-after":[{"break-after":Ee()}],"break-before":[{"break-before":Ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),Xe]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[M]}],"inset-x":[{"inset-x":[M]}],"inset-y":[{"inset-y":[M]}],start:[{start:[M]}],end:[{end:[M]}],top:[{top:[M]}],right:[{right:[M]}],bottom:[{bottom:[M]}],left:[{left:[M]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$a,Xe]}],basis:[{basis:ce()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Xe]}],grow:[{grow:_e()}],shrink:[{shrink:_e()}],order:[{order:["first","last","none",$a,Xe]}],"grid-cols":[{"grid-cols":[za]}],"col-start-end":[{col:["auto",{span:["full",$a,Xe]},Xe]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[za]}],"row-start-end":[{row:["auto",{span:[$a,Xe]},Xe]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Xe]}],gap:[{gap:[k]}],"gap-x":[{"gap-x":[k]}],"gap-y":[{"gap-y":[k]}],"justify-content":[{justify:["normal",...se()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...se(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...se(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[W]}],px:[{px:[W]}],py:[{py:[W]}],ps:[{ps:[W]}],pe:[{pe:[W]}],pt:[{pt:[W]}],pr:[{pr:[W]}],pb:[{pb:[W]}],pl:[{pl:[W]}],m:[{m:[B]}],mx:[{mx:[B]}],my:[{my:[B]}],ms:[{ms:[B]}],me:[{me:[B]}],mt:[{mt:[B]}],mr:[{mr:[B]}],mb:[{mb:[B]}],ml:[{ml:[B]}],"space-x":[{"space-x":[le]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[le]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Xe,r]}],"min-w":[{"min-w":[Xe,r,"min","max","fit"]}],"max-w":[{"max-w":[Xe,r,"none","full","min","max","fit","prose",{screen:[li]},li]}],h:[{h:[Xe,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Xe,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Xe,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Xe,r,"auto","min","max","fit"]}],"font-size":[{text:["base",li,oi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_f]}],"font-family":[{font:[za]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Xe]}],"line-clamp":[{"line-clamp":["none",Ls,_f]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Nn,Xe]}],"list-image":[{"list-image":["none",Xe]}],"list-style-type":[{list:["none","disc","decimal",Xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[$]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[$]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Nn,oi]}],"underline-offset":[{"underline-offset":["auto",Nn,Xe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ge()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[$]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),o6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",a6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},c6]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[j]}],"gradient-via":[{via:[j]}],"gradient-to":[{to:[j]}],rounded:[{rounded:[d]}],"rounded-s":[{"rounded-s":[d]}],"rounded-e":[{"rounded-e":[d]}],"rounded-t":[{"rounded-t":[d]}],"rounded-r":[{"rounded-r":[d]}],"rounded-b":[{"rounded-b":[d]}],"rounded-l":[{"rounded-l":[d]}],"rounded-ss":[{"rounded-ss":[d]}],"rounded-se":[{"rounded-se":[d]}],"rounded-ee":[{"rounded-ee":[d]}],"rounded-es":[{"rounded-es":[d]}],"rounded-tl":[{"rounded-tl":[d]}],"rounded-tr":[{"rounded-tr":[d]}],"rounded-br":[{"rounded-br":[d]}],"rounded-bl":[{"rounded-bl":[d]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[$]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[$]}],"divide-style":[{divide:ne()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[Nn,Xe]}],"outline-w":[{outline:[Nn,oi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[$]}],"ring-offset-w":[{"ring-offset":[Nn,oi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",li,u6]}],"shadow-color":[{shadow:[za]}],opacity:[{opacity:[$]}],"mix-blend":[{"mix-blend":[...fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",li,Xe]}],grayscale:[{grayscale:[_]}],"hue-rotate":[{"hue-rotate":[N]}],invert:[{invert:[w]}],saturate:[{saturate:[J]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[_]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[N]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[$]}],"backdrop-saturate":[{"backdrop-saturate":[J]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[f]}],"border-spacing-x":[{"border-spacing-x":[f]}],"border-spacing-y":[{"border-spacing-y":[f]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Xe]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Xe]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[ue]}],"scale-x":[{"scale-x":[ue]}],"scale-y":[{"scale-y":[ue]}],rotate:[{rotate:[$a,Xe]}],"translate-x":[{"translate-x":[z]}],"translate-y":[{"translate-y":[z]}],"skew-x":[{"skew-x":[re]}],"skew-y":[{"skew-y":[re]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Xe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ge()}],"scroll-mx":[{"scroll-mx":ge()}],"scroll-my":[{"scroll-my":ge()}],"scroll-ms":[{"scroll-ms":ge()}],"scroll-me":[{"scroll-me":ge()}],"scroll-mt":[{"scroll-mt":ge()}],"scroll-mr":[{"scroll-mr":ge()}],"scroll-mb":[{"scroll-mb":ge()}],"scroll-ml":[{"scroll-ml":ge()}],"scroll-p":[{"scroll-p":ge()}],"scroll-px":[{"scroll-px":ge()}],"scroll-py":[{"scroll-py":ge()}],"scroll-ps":[{"scroll-ps":ge()}],"scroll-pe":[{"scroll-pe":ge()}],"scroll-pt":[{"scroll-pt":ge()}],"scroll-pr":[{"scroll-pr":ge()}],"scroll-pb":[{"scroll-pb":ge()}],"scroll-pl":[{"scroll-pl":ge()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Nn,oi,_f]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},m6=Q4(p6);function On(...e){return m6(Gx(e))}const g6=Wx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),lr=K.forwardRef(({className:e,variant:r,size:n,asChild:s=!1,...o},d)=>{const f=s?R4:"button";return l.jsx(f,{className:On(g6({variant:r,size:n,className:e})),ref:d,...o})});lr.displayName="Button";const Dx=K.forwardRef(({className:e,type:r,...n},s)=>l.jsx("input",{type:r,className:On("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));Dx.displayName="Input";const Xx=K.createContext(void 0);function y6({children:e,defaultTheme:r="system",storageKey:n="neochat-theme"}){const[s,o]=K.useState(()=>localStorage.getItem(n)||r);K.useEffect(()=>{const f=window.document.documentElement;if(f.classList.remove("light","dark"),s==="system"){const u=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";f.classList.add(u);return}f.classList.add(s)},[s]);const d={theme:s,setTheme:f=>{localStorage.setItem(n,f),o(f)}};return l.jsx(Xx.Provider,{value:d,children:e})}const x6=()=>{const e=K.useContext(Xx);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Df=()=>{const{theme:e,setTheme:r}=x6();return l.jsxs(lr,{variant:"ghost",size:"icon",onClick:()=>r(e==="light"?"dark":"light"),className:"relative overflow-hidden backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10 hover:bg-white/30 dark:hover:bg-white/10 transition-all duration-300",children:[l.jsx(j4,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),l.jsx(_4,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),l.jsx("span",{className:"sr-only",children:"Toggle theme"})]})},Nf=({identity:e,sessionToken:r,onLogout:n,searchQuery:s="",onSearchChange:o,notifications:d=0})=>{var N;const f=(N=e==null?void 0:e.getPrincipal())==null?void 0:N.toText(),u=f?f.length>12?`${f.slice(0,6)}...${f.slice(-3)}`:f:"Anonymous",g=w=>{o&&o(w.target.value)},_=()=>{n&&n()};return l.jsx("header",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border-b border-white/20 dark:border-gray-700/50 px-8 py-4 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center space-x-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(k4,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx(Dx,{placeholder:"Search agents, chats, analytics...",value:s,onChange:g,className:"pl-12 w-96 bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border-white/30 dark:border-gray-600/30 focus:border-blue-500/50 dark:focus:border-blue-400/50 focus:ring-blue-500/20 dark:focus:ring-blue-400/20 rounded-xl"})]})}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(Df,{}),l.jsxs("div",{className:"flex items-center space-x-3 pl-4 border-l border-white/30 dark:border-gray-600/30",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:l.jsx(Vx,{className:"w-5 h-5 text-white"})}),l.jsx("div",{className:"hidden md:block",children:l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:u})}),l.jsxs(lr,{variant:"outline",size:"sm",onClick:_,className:"bg-white/50 dark:bg-gray-700/50 hover:bg-white/80 dark:hover:bg-gray-700/80 border-white/30 dark:border-gray-600/30 rounded-xl flex items-center space-x-2",children:[l.jsx(w4,{className:"w-4 h-4"}),l.jsx("span",{children:"Logout"})]})]})]})]})})},Ef=({onNavigate:e,activeView:r="dashboard",selectedAgent:n})=>{const s=[{id:"dashboard",icon:Yf,label:"Dashboard",path:"/dashboard",disabled:!1},{id:"agents",icon:x0,label:"My Agents",path:"/my-agents",disabled:!1},{id:"create",icon:kc,label:"Create Agent",path:"/create-agent",disabled:!1},{id:"chat",icon:Wc,label:"Chat",path:"/chat",disabled:!n},{id:"analytics",icon:Yf,label:"Analytics",path:"/analytics",disabled:!1},{id:"billing",icon:h4,label:"Billing & Payments",path:"/billing",disabled:!1},{id:"embed",icon:Ix,label:"Embed Widget",path:"/embed",disabled:!n},{id:"profile",icon:Vx,label:"Profile",path:"/profile",disabled:!1}];return l.jsx("aside",{className:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 h-screen fixed left-0 top-0 z-40",children:l.jsxs("div",{className:"p-6 h-full overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-8",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:l.jsx(uo,{className:"w-5 h-5 text-white"})}),l.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"NeoChat"})]}),l.jsx("nav",{className:"space-y-2",children:s.map(o=>{const d=r===o.id;return l.jsxs(lr,{variant:d?"default":"ghost",disabled:o.disabled,className:`w-full justify-start transition-all duration-200 ${d?"bg-blue-600 text-white hover:bg-blue-700":o.disabled?"text-gray-400 cursor-not-allowed opacity-50":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-blue-50 dark:hover:bg-gray-700"}`,onClick:()=>{o.disabled||e(o.id)},children:[l.jsx(o.icon,{className:`w-4 h-4 mr-3 ${d?"text-white":o.disabled?"text-gray-400":"text-gray-500 group-hover:text-blue-600"}`}),o.label,o.disabled&&o.id==="chat"&&l.jsx("span",{className:"ml-auto text-xs text-gray-400",children:"Select Agent"}),o.disabled&&o.id==="embed"&&l.jsx("span",{className:"ml-auto text-xs text-gray-400",children:"Select Agent"})]},o.id)})}),n&&l.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[l.jsx("div",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Active Agent"}),l.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300 truncate",children:n.name}),l.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:n.status==="Active"?" Active":" Inactive"})]})]})})},wi=K.forwardRef(({className:e,...r},n)=>l.jsx("div",{ref:n,className:On("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));wi.displayName="Card";const Kc=K.forwardRef(({className:e,...r},n)=>l.jsx("div",{ref:n,className:On("flex flex-col space-y-1.5 p-6",e),...r}));Kc.displayName="CardHeader";const Lc=K.forwardRef(({className:e,...r},n)=>l.jsx("h3",{ref:n,className:On("text-2xl font-semibold leading-none tracking-tight",e),...r}));Lc.displayName="CardTitle";const w6=K.forwardRef(({className:e,...r},n)=>l.jsx("p",{ref:n,className:On("text-sm text-muted-foreground",e),...r}));w6.displayName="CardDescription";const vi=K.forwardRef(({className:e,...r},n)=>l.jsx("div",{ref:n,className:On("p-6 pt-0",e),...r}));vi.displayName="CardContent";const v6=K.forwardRef(({className:e,...r},n)=>l.jsx("div",{ref:n,className:On("flex items-center p-6 pt-0",e),...r}));v6.displayName="CardFooter";const b6=({metrics:e,systemStatus:r})=>{const n=o=>o>=1e3?(o/1e3).toFixed(1)+"K":o.toString(),s=[{title:"Total Agents",value:e.totalAgents.toString(),change:e.monthlyGrowth.agents>0?`+${e.monthlyGrowth.agents}`:"0",icon:x0,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-gradient-to-br from-blue-50 to-blue-100/50 dark:from-blue-900/20 dark:to-blue-800/10",borderColor:"border-blue-200/50 dark:border-blue-800/30"},{title:"Active Agents",value:e.activeAgents.toString(),change:`${Math.round(e.activeAgents/Math.max(e.totalAgents,1)*100)}%`,icon:u4,color:"text-emerald-600 dark:text-emerald-400",bgColor:"bg-gradient-to-br from-emerald-50 to-emerald-100/50 dark:from-emerald-900/20 dark:to-emerald-800/10",borderColor:"border-emerald-200/50 dark:border-emerald-800/30"},{title:"Conversations",value:n(e.totalConversations),change:e.monthlyGrowth.conversations>0?`+${e.monthlyGrowth.conversations}`:"0",icon:Wc,color:"text-purple-600 dark:text-purple-400",bgColor:"bg-gradient-to-br from-purple-50 to-purple-100/50 dark:from-purple-900/20 dark:to-purple-800/10",borderColor:"border-purple-200/50 dark:border-purple-800/30"},{title:"Total Messages",value:n(e.totalMessages),change:e.monthlyGrowth.messages>0?`+${e.monthlyGrowth.messages}`:"0",icon:m4,color:"text-orange-600 dark:text-orange-400",bgColor:"bg-gradient-to-br from-orange-50 to-orange-100/50 dark:from-orange-900/20 dark:to-orange-800/10",borderColor:"border-orange-200/50 dark:border-orange-800/30"}];return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:s.map((o,d)=>l.jsx(wi,{className:`${o.bgColor} ${o.borderColor} border backdrop-blur-sm hover:shadow-lg transition-all duration-300 hover:scale-105`,children:l.jsxs(vi,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:`p-3 rounded-xl ${o.bgColor} ${o.borderColor} border`,children:l.jsx(o.icon,{className:`w-6 h-6 ${o.color}`})}),l.jsxs("div",{className:"flex items-center space-x-1 text-emerald-600 dark:text-emerald-400",children:[l.jsx(zx,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:o.change})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:o.title}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.value})]})]})},d))}),l.jsx(wi,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:l.jsxs(vi,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"System Status"}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`h-2 w-2 rounded-full animate-pulse mr-3 ${r.agentManager==="Operational"?"bg-green-500":"bg-red-500"}`}),l.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Agent Manager: ",r.agentManager]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`h-2 w-2 rounded-full animate-pulse mr-3 ${r.llmProcessor==="Operational"?"bg-green-500":"bg-red-500"}`}),l.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["LLM Processor: ",r.llmProcessor]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`h-2 w-2 rounded-full animate-pulse mr-3 ${r.contextManager==="Operational"?"bg-green-500":"bg-red-500"}`}),l.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Context Manager: ",r.contextManager]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`h-2 w-2 rounded-full animate-pulse mr-3 ${r.productionAPIs==="Ready"?"bg-green-500":"bg-yellow-500"}`}),l.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Production APIs: ",r.productionAPIs]})]})]})]})})]})},_6=({onNavigate:e,selectedAgent:r})=>{const n=[{title:"Create New Agent",description:"Build a custom AI agent with personality and knowledge",icon:kc,color:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",iconBg:"bg-blue-100 dark:bg-blue-900/30",iconColor:"text-blue-600 dark:text-blue-400",onClick:()=>e("create"),disabled:!1},{title:"Start Conversation",description:"Chat with your existing agents instantly",icon:Wc,color:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700",iconBg:"bg-emerald-100 dark:bg-emerald-900/30",iconColor:"text-emerald-600 dark:text-emerald-400",onClick:()=>e("chat"),disabled:!r},{title:"View Analytics",description:"Analyze performance and usage metrics",icon:Yf,color:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700",iconBg:"bg-purple-100 dark:bg-purple-900/30",iconColor:"text-purple-600 dark:text-purple-400",onClick:()=>e("analytics"),disabled:!1},{title:"Manage Agents",description:"Configure and organize your AI agents",icon:$x,color:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700",iconBg:"bg-orange-100 dark:bg-orange-900/30",iconColor:"text-orange-600 dark:text-orange-400",onClick:()=>e("agents"),disabled:!1}];return l.jsxs(wi,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl",children:[l.jsx(Kc,{className:"pb-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg",children:l.jsx(Zf,{className:"w-5 h-5 text-white"})}),l.jsx(Lc,{className:"text-xl text-gray-900 dark:text-white",children:"Quick Actions"})]}),l.jsx(Hx,{className:"w-5 h-5 text-yellow-500"})]})}),l.jsx(vi,{children:l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:n.map((s,o)=>l.jsx("div",{className:`group p-5 bg-gradient-to-br from-white/80 to-white/40 dark:from-gray-800/80 dark:to-gray-800/40 backdrop-blur-sm border border-white/30 dark:border-gray-600/30 rounded-xl hover:shadow-lg transition-all duration-300 cursor-pointer hover:scale-105 ${s.disabled?"opacity-50 cursor-not-allowed":""}`,onClick:s.disabled?void 0:s.onClick,children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:`p-3 rounded-lg ${s.iconBg} group-hover:scale-110 transition-transform duration-300`,children:l.jsx(s.icon,{className:`w-6 h-6 ${s.iconColor}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:s.title}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 leading-relaxed",children:s.description}),l.jsx(lr,{size:"sm",className:`${s.color} text-white shadow-md hover:shadow-lg transition-all duration-300`,disabled:s.disabled,onClick:d=>{d.stopPropagation(),s.disabled||s.onClick()},children:"Get Started"})]})]})},o))})})]})},N6=({agents:e,onSelectAgent:r,onNavigate:n})=>{const s=o=>{var d;return{...o,status:"Active"in o.status?"Active":"Inactive"in o.status?"Inactive":"Draft",created:o.created.toString(),lastUpdated:o.updated.toString(),config:{...o.config,personality:{...o.config.personality,responseStyle:o.config.personality.style},knowledgeBase:{documents:[],sources:[],context:""},behavior:{...o.config.behavior,maxResponseLength:Number(o.config.behavior.maxTokens),conversationMemory:o.config.contextSettings.enableMemory,escalationRules:[]},appearance:{...o.config.appearance,avatar:((d=o.config.appearance.avatar)==null?void 0:d[0])||"",theme:"Light"in o.config.appearance.theme?"Light":"Dark",welcomeMessage:"Hello! How can I help you today?"}}}};return l.jsxs(wi,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg border border-white/20 dark:border-gray-700/50 shadow-xl h-fit",children:[l.jsx(Kc,{className:"pb-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-600 rounded-lg",children:l.jsx(x0,{className:"w-5 h-5 text-white"})}),l.jsx(Lc,{className:"text-xl text-gray-900 dark:text-white",children:"Recent Agents"})]}),l.jsxs(lr,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-900/20",onClick:()=>n("agents"),children:["View all",l.jsx(y0,{className:"w-4 h-4 ml-1"})]})]})}),l.jsx(vi,{children:e.length>0?l.jsx("div",{className:"space-y-3",children:e.map(o=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-white/80 to-white/40 dark:from-gray-800/80 dark:to-gray-800/40 backdrop-blur-sm border border-white/30 dark:border-gray-600/30 rounded-lg cursor-pointer hover:shadow-md transition-all duration-300 hover:scale-105",onClick:()=>{const d=s(o);r(d),n("chat")},children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 rounded-lg flex items-center justify-center border border-blue-200/50 dark:border-blue-800/30",children:l.jsx(Wc,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:o.name}),l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[o.description.slice(0,50),"..."]})]})]}),l.jsx("div",{className:"flex items-center",children:l.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${"Active"in o.status?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-800/30 dark:text-gray-400"}`,children:"Active"in o.status?"Active":"Inactive"in o.status?"Inactive":"Suspended"in o.status?"Suspended":"Archived"in o.status?"Archived":"Unknown"})})]},o.id))}):l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[l.jsxs("div",{className:"relative mb-6",children:[l.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 rounded-full flex items-center justify-center border-2 border-blue-200/50 dark:border-blue-800/30",children:l.jsx(uo,{className:"w-10 h-10 text-blue-600 dark:text-blue-400"})}),l.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:l.jsx(kc,{className:"w-3 h-3 text-white"})})]}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Ready to get started?"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-sm leading-relaxed",children:"Create your first AI agent and start building intelligent conversations that engage your users."}),l.jsxs(lr,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",onClick:()=>n("create"),children:[l.jsx(kc,{className:"w-4 h-4 mr-2"}),"Create Your First Agent"]})]})})]})},ac=({IDL:e})=>{const r=e.Text,n=e.Variant({NotFound:e.Null,ValidationError:e.Text,Unauthorized:e.Null,RateLimitExceeded:e.Null,ConfigurationError:e.Text,InternalError:e.Text,QuotaExceeded:e.Null}),s=e.Variant({ok:e.Null,err:n}),o=e.Text,d=e.Record({traits:e.Vec(e.Text),tone:e.Text,style:e.Text,communicationStyle:e.Variant({Creative:e.Null,Technical:e.Null,Conversational:e.Null,Educational:e.Null,Professional:e.Null}),responsePattern:e.Variant({Structured:e.Null,Detailed:e.Null,Narrative:e.Null,Concise:e.Null})}),f=e.Record({responseLength:e.Variant({Short:e.Null,Long:e.Null,Medium:e.Null,Variable:e.Null}),temperature:e.Float64,topP:e.Float64,contextWindow:e.Nat,frequencyPenalty:e.Float64,presencePenalty:e.Float64,systemPromptTemplate:e.Text,maxTokens:e.Nat,creativity:e.Float64}),u=e.Record({borderRadius:e.Text,theme:e.Variant({Light:e.Null,Auto:e.Null,Dark:e.Null}),primaryColor:e.Text,accentColor:e.Text,fontFamily:e.Text,secondaryColor:e.Text,fontSize:e.Text,customCSS:e.Opt(e.Text),avatar:e.Opt(e.Text)}),g=e.Nat,_=e.Int,N=e.Record({id:e.Text,content:e.Text,metadata:e.Vec(e.Tuple(e.Text,e.Text)),lastUpdated:_,isActive:e.Bool,sourceType:e.Variant({API:e.Null,URL:e.Null,Database:e.Null,Document:e.Null,Manual:e.Null}),version:g,priority:e.Nat}),w=e.Record({personality:d,integrationSettings:e.Record({webhooks:e.Vec(e.Record({url:e.Text,enabled:e.Bool,events:e.Vec(e.Text)})),rateLimiting:e.Record({maxTokensPerHour:e.Nat,enabled:e.Bool,maxRequestsPerHour:e.Nat}),allowedOrigins:e.Vec(e.Text)}),behavior:f,appearance:u,version:g,contextSettings:e.Record({enableLearning:e.Bool,memoryDuration:e.Nat,maxContextMessages:e.Nat,enableMemory:e.Bool}),knowledgeBase:e.Vec(N)}),k=e.Record({name:e.Text,tags:e.Vec(e.Text),description:e.Text,category:e.Text,isPublic:e.Bool,config:w}),j=e.Variant({ok:o,err:n}),b=e.Variant({ok:e.Text,err:e.Text}),M=e.Variant({ok:r,err:n}),B=e.Variant({Inactive:e.Null,Active:e.Null,Suspended:e.Null,Archived:e.Null}),$=e.Principal,W=e.Record({id:o,status:B,permissions:e.Record({accessLevel:e.Variant({Viewer:e.Null,Editor:e.Null,Owner:e.Null}),allowedUsers:e.Vec($),isPublic:e.Bool}),created:_,configHistory:e.Vec(w),ownerId:$,name:e.Text,tags:e.Vec(e.Text),description:e.Text,analytics:e.Record({totalTokensUsed:e.Nat,totalMessages:e.Nat,averageRating:e.Opt(e.Float64),totalConversations:e.Nat}),updated:_,category:e.Text,config:w,lastUsed:e.Opt(_)}),J=e.Variant({ok:W,err:n}),ue=e.Variant({ok:e.Record({totalTokensUsed:e.Nat,totalMessages:e.Nat,averageRating:e.Opt(e.Float64),totalConversations:e.Nat}),err:n}),F=e.Variant({ok:W,err:e.Text}),re=e.Variant({ok:e.Vec(w),err:n}),le=e.Record({content:e.Text,metadata:e.Vec(e.Tuple(e.Text,e.Text)),role:e.Variant({System:e.Null,User:e.Null,Assistant:e.Null}),timestamp:_,tokenCount:e.Opt(e.Nat)}),z=e.Record({created:_,contextId:r,lastAccessed:_,messages:e.Vec(le),metadata:e.Vec(e.Tuple(e.Text,e.Text)),userId:$,agentId:o,compressionEnabled:e.Bool,maxSize:e.Nat}),q=e.Variant({ok:e.Vec(z),err:n}),H=e.Variant({ok:z,err:n}),ce=e.Variant({ok:e.Vec(W),err:e.Text}),ge=e.Variant({ok:e.Record({contextId:r,tokensUsed:e.Nat,processingTime:e.Nat,response:e.Text,confidence:e.Float64}),err:n}),E=e.Variant({ok:g,err:n}),I=e.Record({errors:e.Vec(e.Text),score:e.Float64,warnings:e.Vec(e.Text),isValid:e.Bool});return e.Service({addContextMessage:e.Func([r,e.Variant({System:e.Null,User:e.Null,Assistant:e.Null}),e.Text],[s],[]),clearAgentContext:e.Func([o,r],[s],[]),createAgent:e.Func([k],[j],[]),createAgentAdvanced:e.Func([k],[j],[]),createAgentIntegrated:e.Func([e.Text,k],[b],[]),createAgentWithContextSettings:e.Func([k,e.Record({enableLearning:e.Bool,memoryDuration:e.Nat,maxContextMessages:e.Nat,enableMemory:e.Bool})],[j],[]),createConversationContext:e.Func([o],[M],[]),deleteAgent:e.Func([o],[s],[]),getAgent:e.Func([o],[J],["query"]),getAgentAnalytics:e.Func([o],[ue],["query"]),getAgentAuthorized:e.Func([e.Text,e.Text],[F],[]),getAgentConfigHistory:e.Func([o],[re],["query"]),getAgentContexts:e.Func([o],[q],[]),getConversationContext:e.Func([r],[H],["query"]),getUserAgents:e.Func([$],[e.Vec(W)],["query"]),getUserAgentsAuthorized:e.Func([e.Text],[ce],[]),healthCheck:e.Func([],[e.Record({status:e.Text,services:e.Vec(e.Text)})],[]),processAgentChat:e.Func([e.Text,e.Text,e.Text],[b],[]),processAgentChatAdvanced:e.Func([o,e.Text,e.Opt(r),e.Opt(e.Bool),e.Opt(e.Float64)],[ge],[]),revertAgentConfig:e.Func([o,g],[s],[]),test:e.Func([],[e.Text],[]),updateAgent:e.Func([o,w],[s],[]),updateAgentAdvanced:e.Func([o,w,e.Opt(e.Text)],[E],[]),updateAgentAnalytics:e.Func([o,e.Nat,e.Nat,e.Nat],[s],[]),updateAgentStatus:e.Func([o,B],[s],[]),validateAgentConfiguration:e.Func([w],[I],[])})},E6="bkyz2-fmaaa-aaaaa-qaaaq-cai",k6=(e,r={})=>{const n=r.agent||new Bn({...r.agentOptions});return r.agent&&r.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),n.fetchRootKey().catch(s=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(s)}),ar.createActor(ac,{agent:n,canisterId:e,...r.actorOptions})};k6(E6);const oc=({IDL:e})=>{const r=e.Principal,n=e.Variant({InvalidUsage:e.Null,InsufficientBalance:e.Null,InternalError:e.Text,UserNotFound:e.Null}),s=e.Variant({ok:e.Null,err:n}),o=e.Text,d=e.Text,f=e.Variant({AdvancedPrompts:e.Null,ChainFusion:e.Null,BasicChat:e.Null,DocumentIntegration:e.Null}),u=e.Variant({AgentCreation:e.Null,CustomPromptTraining:e.Null,DocumentUpload:e.Null,MessageProcessing:f}),g=e.Int,_=e.Record({id:o,cost:e.Float64,userId:r,agentId:d,tokens:e.Nat,operation:u,timestamp:g}),N=e.Variant({Enterprise:e.Null,Base:e.Null,Professional:e.Null,Standard:e.Null}),w=e.Record({balance:e.Float64,userId:r,lastUpdated:g,monthlyUsage:e.Nat,currentTier:N}),k=e.Variant({ok:w,err:n}),j=e.Variant({ok:o,err:n});return e.Service({addBalance:e.Func([r,e.Float64],[s],[]),getUsageHistory:e.Func([r,e.Opt(e.Nat)],[e.Vec(_)],["query"]),getUserBalance:e.Func([r],[k],["query"]),healthCheck:e.Func([],[e.Record({status:e.Text,totalUsers:e.Nat,totalTransactions:e.Nat})],[]),recordUsage:e.Func([r,d,e.Nat,u],[j],[]),test:e.Func([],[e.Text],[])})},S6="b77ix-eeaaa-aaaaa-qaada-cai",j6=(e,r={})=>{const n=r.agent||new Bn({...r.agentOptions});return r.agent&&r.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),n.fetchRootKey().catch(s=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(s)}),ar.createActor(oc,{agent:n,canisterId:e,...r.actorOptions})};j6(S6);const lc=({IDL:e})=>{const r=e.Text,n=e.Int,s=e.Record({id:r,content:e.Text,metadata:e.Vec(e.Tuple(e.Text,e.Text)),role:e.Variant({System:e.Null,User:e.Null,Agent:e.Null}),tokens:e.Nat,timestamp:n}),o=e.Text,d=e.Text,f=e.Record({context:e.Opt(e.Vec(s)),temperature:e.Opt(e.Float64),userMessage:e.Text,agentId:o,conversationId:d,systemPrompt:e.Opt(e.Text),enableStreaming:e.Opt(e.Bool),maxTokens:e.Opt(e.Nat),agentPersonality:e.Opt(e.Text),routingStrategy:e.Opt(e.Text)}),u=e.Record({messageId:r,metadata:e.Vec(e.Tuple(e.Text,e.Text)),agentResponse:e.Text,processingTime:e.Nat,tokens:e.Nat,modelUsed:e.Text,cached:e.Bool,confidence:e.Float64,providerId:e.Text}),g=e.Variant({InvalidInput:e.Text,ProcessingError:e.Text,ServiceUnavailable:e.Null,RateLimited:e.Null}),_=e.Variant({ok:u,err:g}),N=e.Variant({ok:e.Text,err:g});return e.Service({getProcessorStatus:e.Func([],[e.Record({provider:e.Text,healthy:e.Bool,version:e.Text})],["query"]),healthCheck:e.Func([],[e.Record({status:e.Text,providers:e.Nat,activeProviders:e.Nat})],[]),processMessage:e.Func([f],[_],[]),processPrompt:e.Func([e.Text],[N],[]),processWithLLM:e.Func([e.Text],[N],[]),test:e.Func([],[e.Text],[])})},A6="bw4dl-smaaa-aaaaa-qaacq-cai",T6=(e,r={})=>{const n=r.agent||new Bn({...r.agentOptions});return r.agent&&r.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),n.fetchRootKey().catch(s=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(s)}),ar.createActor(lc,{agent:n,canisterId:e,...r.actorOptions})};T6(A6);const Ml="bkyz2-fmaaa-aaaaa-qaaaq-cai",Ol="b77ix-eeaaa-aaaaa-qaada-cai",Ul="bw4dl-smaaa-aaaaa-qaacq-cai",kf="local";class C6{constructor(){Hr(this,"agent",null);Hr(this,"agentManagerActor",null);Hr(this,"metricsCollectorActor",null);Hr(this,"llmProcessorActor",null);Hr(this,"identity",null);Hr(this,"isInitialized",!1);Hr(this,"healthCheckCache",new Map);Hr(this,"CACHE_DURATION",3e4);Hr(this,"HEALTH_CHECK_TIMEOUT",8e3);Hr(this,"pendingHealthChecks",new Map);this.initializeAgent()}async initializeAgent(){try{if(console.log("Initializing canister service..."),console.log("Agent Manager Canister ID:",Ml),console.log("Metrics Collector Canister ID:",Ol),console.log("LLM Processor Canister ID:",Ul),console.log("DFX Network:",kf),this.agent=new Bn({host:kf==="local"?"http://localhost:4943":"https://ic0.app"}),kf==="local"){console.log("Fetching root key for local development...");try{await this.agent.fetchRootKey(),console.log("Root key fetched successfully")}catch(r){throw console.error("Failed to fetch root key:",r),new Error("Failed to initialize local development environment")}}this.agentManagerActor=ar.createActor(ac,{agent:this.agent,canisterId:Ml}),this.metricsCollectorActor=ar.createActor(oc,{agent:this.agent,canisterId:Ol}),this.llmProcessorActor=ar.createActor(lc,{agent:this.agent,canisterId:Ul}),this.isInitialized=!0,console.log("Canister service initialized successfully")}catch(r){console.error("Failed to initialize canister service:",r),this.isInitialized=!1}}async setIdentity(r){console.log("Setting identity for canister service...",r?"with identity":"clearing identity"),this.identity=r,this.agent&&(r?(this.agent.replaceIdentity(r),this.agentManagerActor=ar.createActor(ac,{agent:this.agent,canisterId:Ml}),this.metricsCollectorActor=ar.createActor(oc,{agent:this.agent,canisterId:Ol}),this.llmProcessorActor=ar.createActor(lc,{agent:this.agent,canisterId:Ul}),console.log("Identity set successfully")):(this.agent.replaceIdentity(new eo),this.agentManagerActor=ar.createActor(ac,{agent:this.agent,canisterId:Ml}),this.metricsCollectorActor=ar.createActor(oc,{agent:this.agent,canisterId:Ol}),this.llmProcessorActor=ar.createActor(lc,{agent:this.agent,canisterId:Ul}),console.log("Identity cleared successfully")))}isAuthenticated(){if(!this.isInitialized||!this.identity)return!1;const n=this.identity.getPrincipal().toText(),s=n==="2vxsx-fae";return console.log("CanisterService.isAuthenticated() - Principal:",n,"Is anonymous:",s),!s}isReady(){return this.isInitialized&&this.agentManagerActor!==null}async createAgent(r){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for agent creation");try{console.log("Creating agent with data:",r);const n=await this.agentManagerActor.createAgent(r);if("ok"in n)return n.ok;throw new Error(`Agent creation failed: ${JSON.stringify(n.err)}`)}catch(n){throw console.error("Error creating agent:",n),n}}async getUserAgents(){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.isAuthenticated())return console.log("Not authenticated, returning empty agent list"),[];try{const r=this.identity.getPrincipal();console.log("Fetching agents for principal:",r.toString());const n=await this.agentManagerActor.getUserAgents(r);return console.log("Raw agents from canister:",n),n.map(s=>({id:s.id,name:s.name,description:s.description,status:s.status,created:s.created,updated:s.updated,ownerId:s.ownerId.toString(),config:s.config,analytics:s.analytics?{averageRating:s.analytics.averageRating?Number(s.analytics.averageRating):void 0,totalConversations:Number(s.analytics.totalConversations),totalMessages:Number(s.analytics.totalMessages),totalTokensUsed:Number(s.analytics.totalTokensUsed)}:void 0}))}catch(r){if(console.error("Error fetching user agents:",r),r instanceof Error&&r.message&&r.message.includes("IDL error"))return console.warn("IDL type mismatch during getUserAgents, returning empty list"),[];throw r}}async getAgent(r){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for getAgent");try{const n=await this.agentManagerActor.getAgent(r);if("ok"in n)return{...n.ok,ownerId:n.ok.ownerId.toString(),analytics:n.ok.analytics?{averageRating:n.ok.analytics.averageRating.length>0?n.ok.analytics.averageRating[0]:void 0,totalConversations:Number(n.ok.analytics.totalConversations),totalMessages:Number(n.ok.analytics.totalMessages),totalTokensUsed:Number(n.ok.analytics.totalTokensUsed)}:void 0};throw new Error(`Failed to get agent: ${JSON.stringify(n.err)}`)}catch(n){throw console.error("Error fetching agent:",n),n}}async getAgentPublic(r){if(!this.agentManagerActor)throw new Error("Canister service not initialized");try{const n=await this.agentManagerActor.getAgent(r);if("ok"in n)return{...n.ok,ownerId:n.ok.ownerId.toString(),analytics:n.ok.analytics?{averageRating:n.ok.analytics.averageRating.length>0?n.ok.analytics.averageRating[0]:void 0,totalConversations:Number(n.ok.analytics.totalConversations),totalMessages:Number(n.ok.analytics.totalMessages),totalTokensUsed:Number(n.ok.analytics.totalTokensUsed)}:void 0};throw new Error(`Failed to get agent: ${JSON.stringify(n.err)}`)}catch(n){throw console.error("Error fetching agent:",n),n}}async getAgentAnalytics(r){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for getAgentAnalytics");try{const n=await this.agentManagerActor.getAgentAnalytics(r);if("ok"in n)return{totalConversations:Number(n.ok.totalConversations),totalMessages:Number(n.ok.totalMessages),totalTokensUsed:Number(n.ok.totalTokensUsed),averageRating:n.ok.averageRating.length>0?n.ok.averageRating[0]:void 0};throw new Error(`Failed to get agent analytics: ${JSON.stringify(n.err)}`)}catch(n){return console.error("Error fetching agent analytics:",n),null}}async getUserBalance(){if(!this.metricsCollectorActor)throw new Error("Canister service not initialized");if(!this.identity)return console.log("No identity available, returning null balance"),null;try{const r=this.identity.getPrincipal();console.log("Fetching balance for principal:",r.toString());const n=await this.metricsCollectorActor.getUserBalance(r);if("ok"in n)return{balance:Number(n.ok.balance),currentTier:"Base"in n.ok.currentTier?"Base":"Standard"in n.ok.currentTier?"Standard":"Professional"in n.ok.currentTier?"Professional":"Enterprise",lastUpdated:Number(n.ok.lastUpdated),monthlyUsage:Number(n.ok.monthlyUsage),userId:n.ok.userId.toString()};if("UserNotFound"in n.err){console.log("User not found in metrics collector, creating default balance");try{await this.metricsCollectorActor.addBalance(r,0);const s=await this.metricsCollectorActor.getUserBalance(r);if("ok"in s)return{balance:Number(s.ok.balance),currentTier:"Base"in s.ok.currentTier?"Base":"Standard"in s.ok.currentTier?"Standard":"Professional"in s.ok.currentTier?"Professional":"Enterprise",lastUpdated:Number(s.ok.lastUpdated),monthlyUsage:Number(s.ok.monthlyUsage),userId:s.ok.userId.toString()}}catch(s){console.error("Error creating default balance:",s)}return{balance:0,currentTier:"Base",lastUpdated:Date.now(),monthlyUsage:0,userId:r.toString()}}throw new Error(`Failed to get user balance: ${JSON.stringify(n.err)}`)}catch(r){return console.error("Error fetching user balance:",r),this.identity?{balance:0,currentTier:"Base",lastUpdated:Date.now(),monthlyUsage:0,userId:this.identity.getPrincipal().toString()}:null}}async getUsageHistory(r){if(!this.metricsCollectorActor)throw new Error("Canister service not initialized");if(!this.identity)return console.log("No identity available, returning empty usage history"),[];try{const n=this.identity.getPrincipal();return console.log("Fetching usage history for principal:",n.toString()),(await this.metricsCollectorActor.getUsageHistory(n,r?[BigInt(r)]:[])).map(o=>({id:o.id,userId:o.userId.toString(),agentId:o.agentId,operation:o.operation,tokens:Number(o.tokens),cost:Number(o.cost),timestamp:Number(o.timestamp)}))}catch(n){return console.error("Error fetching usage history:",n),[]}}async processChat(r,n,s){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for processChat");try{const o=await this.agentManagerActor.processAgentChatAdvanced(r,n,[],[],[]);if("ok"in o)return o.ok.response;{let d;throw typeof o.err=="object"&&o.err!==null?"NotFound"in o.err?d="Agent not found. Please select a valid agent to chat with.":"Unauthorized"in o.err?d="You are not authorized to chat with this agent.":"ConfigurationError"in o.err?d=`Agent configuration error: ${o.err.ConfigurationError}`:"ValidationError"in o.err?d=`Validation error: ${o.err.ValidationError}`:"InternalError"in o.err?d=`Internal error: ${o.err.InternalError}`:"RateLimitExceeded"in o.err?d="Rate limit exceeded. Please try again later.":"QuotaExceeded"in o.err?d="Quota exceeded. Please upgrade your plan or try again later.":d=JSON.stringify(o.err):d=String(o.err),new Error(`Chat processing failed: ${d}`)}}catch(o){throw console.error("Error processing chat:",o),o}}async withTimeout(r,n=5e3){return Promise.race([r,new Promise((s,o)=>setTimeout(()=>o(new Error("Operation timed out")),n))])}getCachedResult(r){const n=this.healthCheckCache.get(r);return n&&Date.now()-n.timestamp<this.CACHE_DURATION?(console.log(`Using cached result for ${r}:`,n.result),n.result):null}setCachedResult(r,n,s=!0){this.healthCheckCache.set(r,{result:n,timestamp:Date.now(),isHealthy:s})}async executeWithDebounce(r,n){if(this.pendingHealthChecks.has(r))return console.log(`Debouncing health check for ${r}, using pending operation`),this.pendingHealthChecks.get(r);const s=this.getCachedResult(r);if(s)return s;const o=n();this.pendingHealthChecks.set(r,o);try{const d=await o;return this.setCachedResult(r,d,!0),d}catch(d){const f=this.getErrorFallback(r);throw this.setCachedResult(r,f,!1),d}finally{this.pendingHealthChecks.delete(r)}}getErrorFallback(r){switch(r){case"agentManager":return{status:"Error",services:["AgentManager: Error"]};case"llmProcessor":return{status:"Error",providers:0,activeProviders:0};case"contextManager":return{status:"Error",totalContexts:0,activeContexts:0,totalMessages:0};default:return{status:"Error"}}}async healthCheck(){return this.executeWithDebounce("agentManager",async()=>{try{if(!this.agentManagerActor)return{status:"Not initialized",services:["AgentManager: Not Available"]};const r=await this.withTimeout(this.agentManagerActor.healthCheck(),this.HEALTH_CHECK_TIMEOUT);return console.log("Agent Manager health check result:",r),r}catch(r){return console.error("Error checking health:",r),{status:"Error",services:["AgentManager: Error"]}}})}async getLLMProcessorHealth(){return this.executeWithDebounce("llmProcessor",async()=>{try{if(!this.llmProcessorActor)return console.warn("LLM Processor actor not initialized, returning fallback status"),{status:"Not Available",providers:0,activeProviders:0};const r=await this.withTimeout(this.llmProcessorActor.healthCheck(),this.HEALTH_CHECK_TIMEOUT);return console.log("LLM Processor health check result:",r),{status:(()=>{const s=r.status;return s.includes("Operational")?"Operational":s.includes("Degraded")?"Degraded":s.includes("Timeout")?"Timeout":"Error"})(),providers:Number(r.providers),activeProviders:Number(r.activeProviders)}}catch(r){return console.error("Error checking LLM processor health:",r),{status:(r instanceof Error?r.message:"Unknown error").includes("timed out")?"Timeout":"Error",providers:0,activeProviders:0}}})}async getContextManagerHealth(){return this.executeWithDebounce("contextManager",async()=>{try{return{status:"Operational",totalContexts:0,activeContexts:0,totalMessages:0}}catch(r){return console.error("Error checking context manager health:",r),{status:"Error",totalContexts:0,activeContexts:0,totalMessages:0}}})}async getSystemStatus(){try{console.log("Getting system status...");const r=await Promise.allSettled([this.healthCheck(),this.getLLMProcessorHealth(),this.getContextManagerHealth()]),[n,s,o]=r;console.log("Health check results:",{agentHealth:n.status==="fulfilled"?n.value:n.reason,llmHealth:s.status==="fulfilled"?s.value:s.reason,contextHealth:o.status==="fulfilled"?o.value:o.reason});const d=n.status==="fulfilled"?(()=>{const N=n.value.services.find(w=>w.includes("AgentManager"));return N&&N.includes("OK")?"Operational":N&&N.includes("DEGRADED")?"Degraded":"Error"})():"Error",f=s.status==="fulfilled"?s.value.status:"Error",u=n.status==="fulfilled"?(()=>{const N=n.value.services.find(w=>w.includes("ContextManager"));return N&&N.includes("OK")?"Operational":N&&N.includes("DEGRADED")?"Degraded":"Error"})():"Error",_={agentManager:d,llmProcessor:f,contextManager:u,productionAPIs:d==="Operational"?"Ready":"Error"};return console.log("Final system status:",_),_}catch(r){return console.error("Error getting system status:",r),{agentManager:"Error",llmProcessor:"Error",contextManager:"Error",productionAPIs:"Error"}}}async getAnalyticsData(){try{const r=await this.getUserAgents();let n=0;for(const s of r)s.analytics&&(n+=s.analytics.totalMessages);return{totalAgents:r.length,totalMessages:n,activeUsers:1,systemUptime:"99.9%"}}catch(r){return console.error("Error getting analytics data:",r),{totalAgents:0,totalMessages:0,activeUsers:0,systemUptime:"0%"}}}async getComprehensiveAnalytics(){try{const r=await this.getUserAgents(),[n,s]=await Promise.allSettled([this.getUsageHistory(50),this.getUserBalance()]);let o=0,d=0,f=0,u=0,g=0;const _=r.map(w=>{const k=w.analytics||{totalMessages:0,totalConversations:0,totalTokensUsed:0,averageRating:void 0};return o+=k.totalMessages,d+=k.totalConversations,f+=k.totalTokensUsed,k.averageRating!==void 0&&(u+=k.averageRating,g++),{agentId:w.id,agentName:w.name,messages:k.totalMessages,conversations:k.totalConversations,avgResponseTime:1.2,satisfaction:k.averageRating||4.5,tokensUsed:k.totalTokensUsed,status:"Active"in w.status?"Active":"Inactive"in w.status?"Inactive":"Suspended"in w.status?"Suspended":"Archived"in w.status?"Archived":"Unknown"}});return{overview:{totalMessages:o,totalConversations:d,averageResponseTime:1.2,successRate:o>0?98.5:100,totalTokensUsed:f},agentPerformance:_,usageHistory:n.status==="fulfilled"?n.value:[],userBalance:s.status==="fulfilled"?s.value:null}}catch(r){return console.error("Error getting comprehensive analytics:",r),{overview:{totalMessages:0,totalConversations:0,averageResponseTime:0,successRate:0,totalTokensUsed:0},agentPerformance:[],usageHistory:[],userBalance:null}}}async addBalance(r){if(!this.metricsCollectorActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for addBalance");try{const n=this.identity.getPrincipal();console.log(`Adding balance: ${r} for principal:`,n.toString());const s=await this.metricsCollectorActor.addBalance(n,r);if("err"in s)throw new Error(`Failed to add balance: ${JSON.stringify(s.err)}`);console.log("Balance added successfully")}catch(n){throw console.error("Error adding balance:",n),n}}async getMetricsCollectorHealth(){if(!this.metricsCollectorActor)throw new Error("Canister service not initialized");try{const r=await this.metricsCollectorActor.healthCheck();return{status:r.status,totalUsers:Number(r.totalUsers),totalTransactions:Number(r.totalTransactions)}}catch(r){throw console.error("Error getting metrics collector health:",r),r}}async testCanisterAccess(){if(!this.isAuthenticated())return console.log("Not authenticated, canister access test will fail"),{agentManager:!1,metricsCollector:!1};const r={agentManager:!1,metricsCollector:!1};return this.agentManagerActor&&(r.agentManager=!0),this.metricsCollectorActor&&(r.metricsCollector=!0),r}async updateAgent(r,n){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for updateAgent");try{const s=await this.agentManagerActor.updateAgent(r,n);if("err"in s)throw new Error(`Agent update failed: ${JSON.stringify(s.err)}`)}catch(s){throw console.error("Error updating agent:",s),s}}async updateAgentStatus(r,n){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for updateAgentStatus");try{const s=n==="Active"?{Active:null}:n==="Inactive"?{Inactive:null}:n==="Suspended"?{Suspended:null}:{Archived:null},o=await this.agentManagerActor.updateAgentStatus(r,s);if("err"in o)throw new Error(`Agent status update failed: ${JSON.stringify(o.err)}`)}catch(s){throw console.error("Error updating agent status:",s),s}}async deleteAgent(r){if(!this.agentManagerActor)throw new Error("Canister service not initialized");if(!this.identity)throw new Error("Authentication required for deleteAgent");try{const n=await this.agentManagerActor.deleteAgent(r);if("err"in n)throw new Error(`Agent deletion failed: ${JSON.stringify(n.err)}`)}catch(n){throw console.error("Error deleting agent:",n),n}}async waitForReady(r=1e4){const n=Date.now();for(;!this.isReady()&&Date.now()-n<r;)await new Promise(s=>setTimeout(s,100));if(!this.isReady())throw new Error("Canister service failed to initialize within timeout")}clearHealthCheckCache(){console.log("Clearing health check cache..."),this.healthCheckCache.clear(),this.pendingHealthChecks.clear()}}const _t=new C6,B6=({agent:e,onClose:r,onEdit:n,onUpdate:s})=>{const[o,d]=K.useState(!1),[f,u]=K.useState(null);if(!e)return null;const g=()=>{u({...e}),d(!0)},_=async()=>{f&&(await s(e.id,f),d(!1),u(null))},N=()=>{d(!1),u(null)},w=(B,$)=>{f&&u({...f,[B]:$})},k=(B,$,W)=>{f&&u({...f,config:{...f.config,[B]:{...f.config[B],[$]:W}}})},j=B=>{if(f&&B.trim()){const $=f.config.personality.traits;$.includes(B.trim())||k("personality","traits",[...$,B.trim()])}},b=B=>{if(f){const $=f.config.personality.traits;k("personality","traits",$.filter((W,J)=>J!==B))}},M=o?f:e;return M?l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:l.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-11/12 max-w-6xl shadow-lg rounded-md bg-white max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:o?"Edit Agent":"Agent Details"}),l.jsxs("div",{className:"flex space-x-2",children:[o?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:_,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[l.jsx(S5,{className:"h-4 w-4 mr-1"}),"Save"]}),l.jsx("button",{onClick:N,className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"})]}):l.jsxs("button",{onClick:g,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[l.jsx(e4,{className:"h-4 w-4 mr-1"}),"Edit"]}),l.jsx("button",{onClick:r,className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:l.jsx(Ux,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),o?l.jsx("input",{type:"text",value:M.name,onChange:B=>w("name",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):l.jsx("p",{className:"text-lg font-medium text-gray-900",children:M.name})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o?l.jsx("textarea",{value:M.description,onChange:B=>w("description",B.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):l.jsx("p",{className:"text-gray-600",children:M.description})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M.status==="Active"?"bg-green-100 text-green-800":M.status==="Inactive"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:M.status})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created"}),l.jsxs("p",{className:"text-gray-600",children:[new Date(M.created).toLocaleDateString()," at"," ",new Date(M.created).toLocaleTimeString()]})]})]})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Personality"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Personality Traits"}),o?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",placeholder:"Add a trait...",onKeyPress:B=>{B.key==="Enter"&&(j(B.target.value),B.target.value="")},className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("button",{onClick:()=>{const B=document.querySelector('input[placeholder="Add a trait..."]');B&&(j(B.value),B.value="")},className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:l.jsx(Mx,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"flex flex-wrap gap-1",children:M.config.personality.traits.map((B,$)=>l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[B,l.jsx("button",{onClick:()=>b($),className:"ml-1 text-blue-600 hover:text-blue-800",children:l.jsx(Ox,{className:"h-3 w-3"})})]},$))})]}):l.jsx("div",{className:"flex flex-wrap gap-1",children:M.config.personality.traits.map((B,$)=>l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:B},$))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tone"}),o?l.jsx("input",{type:"text",value:M.config.personality.tone,onChange:B=>k("personality","tone",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):l.jsx("p",{className:"text-gray-600",children:M.config.personality.tone})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Response Style"}),o?l.jsx("input",{type:"text",value:M.config.personality.responseStyle,onChange:B=>k("personality","responseStyle",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):l.jsx("p",{className:"text-gray-600",children:M.config.personality.responseStyle})]})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Appearance"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Theme Color"}),o?l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"color",value:M.config.appearance.theme,onChange:B=>k("appearance","theme",B.target.value),className:"w-12 h-8 border border-gray-300 rounded"}),l.jsx("input",{type:"text",value:M.config.appearance.theme,onChange:B=>k("appearance","theme",B.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}):l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:M.config.appearance.theme}}),l.jsx("span",{className:"text-sm text-gray-600",children:M.config.appearance.theme})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Avatar"}),o?l.jsx("input",{type:"text",value:M.config.appearance.avatar,onChange:B=>k("appearance","avatar",B.target.value),placeholder:"Enter avatar URL or identifier",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):l.jsx("p",{className:"text-sm text-gray-600",children:M.config.appearance.avatar})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Welcome Message"}),o?l.jsx("textarea",{value:M.config.appearance.welcomeMessage,onChange:B=>k("appearance","welcomeMessage",B.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):l.jsx("p",{className:"text-sm text-gray-600",children:M.config.appearance.welcomeMessage})]})]})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Behavior"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Response Length"}),o?l.jsx("input",{type:"number",value:M.config.behavior.maxResponseLength,onChange:B=>k("behavior","maxResponseLength",parseInt(B.target.value)),min:"100",max:"2000",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):l.jsxs("p",{className:"text-gray-600",children:[M.config.behavior.maxResponseLength," characters"]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conversation Memory"}),o?l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:M.config.behavior.conversationMemory,onChange:B=>k("behavior","conversationMemory",B.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Enable conversation memory"})]}):l.jsx("p",{className:"text-gray-600",children:M.config.behavior.conversationMemory?"Enabled":"Disabled"})]})]})]})]})]}),M.config.knowledgeBase.sources&&M.config.knowledgeBase.sources.length>0&&l.jsx("div",{className:"mt-8",children:l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Knowledge Sources"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:M.config.knowledgeBase.sources.map((B,$)=>{var W;return l.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-white",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:B.type}),l.jsx("span",{className:"text-xs text-gray-500",children:(W=B.metadata)!=null&&W.fileSize?`${B.metadata.fileSize} bytes`:"N/A"})]}),l.jsx("p",{className:"text-sm text-gray-600 truncate",children:B.content}),B.metadata&&Object.keys(B.metadata).length>0&&l.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:Object.entries(B.metadata).map(([J,ue],F)=>l.jsxs("span",{className:"text-xs text-gray-500",children:[J,": ",ue]},F))})]},$)})})]})}),l.jsx("div",{className:"mt-8",children:l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Knowledge Base Context"}),o?l.jsx("textarea",{value:M.config.knowledgeBase.context,onChange:B=>k("knowledgeBase","context",B.target.value),rows:4,placeholder:"Enter additional context or instructions for the agent...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):l.jsx("p",{className:"text-gray-600 text-sm",children:M.config.knowledgeBase.context||"No knowledge base context configured"})]})})]})}):null},R6=({sessionToken:e,onSelectAgent:r,selectedAgent:n})=>{const[s,o]=K.useState([]),[d,f]=K.useState(!0),[u,g]=K.useState(null),[_,N]=K.useState(null);K.useEffect(()=>{(async()=>{if(e)try{f(!0),g(null);const J=(await _t.getUserAgents()).map(ue=>({id:ue.id,name:ue.name,description:ue.description,status:"Active"in ue.status?"Active":"Inactive"in ue.status?"Inactive":"Draft",created:new Date(Number(ue.created)/1e6).toISOString(),config:{personality:{traits:ue.config.personality.traits,tone:ue.config.personality.tone,responseStyle:ue.config.personality.style},knowledgeBase:{documents:[],sources:ue.config.knowledgeBase.map(F=>({type:"Manual"in F.sourceType?"Manual":"URL"in F.sourceType?"URL":"Document"in F.sourceType?"Document":"API"in F.sourceType?"API":"Database",content:F.content,metadata:F.metadata.reduce((re,[le,z])=>(re[le]=z,re),{})})),context:ue.config.knowledgeBase.map(F=>F.content).join(" ")},behavior:{maxResponseLength:500,conversationMemory:!0,escalationRules:[]},appearance:{avatar:Array.isArray(ue.config.appearance.avatar)&&ue.config.appearance.avatar.length>0?ue.config.appearance.avatar[0]:"default",theme:ue.config.appearance.primaryColor,welcomeMessage:"Hello! How can I help you today?"}},avatar:Array.isArray(ue.config.appearance.avatar)&&ue.config.appearance.avatar.length>0?ue.config.appearance.avatar[0]:"",lastUpdated:new Date().toISOString()}));o(J)}catch(W){console.error("Error loading agents:",W),g("Failed to load agents. Please try again."),o([])}finally{f(!1)}})()},[e]);const w=$=>{r($)},k=$=>{N($)},j=()=>{N(null)},b=async($,W)=>{try{const J=s.find(re=>re.id===$);if(!J)return;const ue={...J,...W},F={personality:{traits:ue.config.personality.traits,tone:ue.config.personality.tone,style:ue.config.personality.responseStyle,communicationStyle:{Conversational:null},responsePattern:{Detailed:null}},behavior:{responseLength:{Medium:null},temperature:.7,creativity:.5,topP:.9,contextWindow:BigInt(4e3),maxTokens:BigInt(1e3),frequencyPenalty:0,presencePenalty:0,systemPromptTemplate:"You are a helpful AI assistant."},appearance:{primaryColor:ue.config.appearance.theme,secondaryColor:"#ffffff",accentColor:"#3b82f6",borderRadius:"8px",avatar:ue.config.appearance.avatar?[ue.config.appearance.avatar]:[],customCSS:[],fontFamily:"Inter",fontSize:"14px",theme:{Auto:null}},contextSettings:{enableLearning:!0,enableMemory:!0,maxContextMessages:BigInt(10),memoryDuration:BigInt(3600)},integrationSettings:{allowedOrigins:[],rateLimiting:{enabled:!1,maxRequestsPerHour:BigInt(100),maxTokensPerHour:BigInt(1e4)},webhooks:[]},knowledgeBase:ue.config.knowledgeBase.sources.map(re=>({id:Math.random().toString(36).substr(2,9),content:re.content,sourceType:re.type==="Manual"?{Manual:null}:re.type==="URL"?{URL:null}:re.type==="Document"?{Document:null}:re.type==="API"?{API:null}:{Database:null},metadata:re.metadata?Object.entries(re.metadata).filter(([le,z])=>le&&z!==void 0).map(([le,z])=>[le,String(z)]):[],isActive:!0,lastUpdated:BigInt(Date.now()),priority:BigInt(1),version:BigInt(1)})),version:BigInt(1)};await _t.updateAgent($,F),o(re=>re.map(le=>le.id===$?ue:le)),(_==null?void 0:_.id)===$&&N(ue),(n==null?void 0:n.id)===$&&r(ue)}catch(J){console.error("Error updating agent:",J),g("Failed to update agent")}},M=async($,W)=>{try{const J=W==="Active"?"Inactive":"Active";console.log(`Toggling status for agent ${$} from ${W} to ${J}`),await _t.updateAgentStatus($,J);const F=(await _t.getUserAgents()).map(re=>({id:re.id,name:re.name,description:re.description,status:"Active"in re.status?"Active":"Inactive"in re.status?"Inactive":"Draft",created:new Date(Number(re.created)/1e6).toISOString(),config:{personality:{traits:re.config.personality.traits,tone:re.config.personality.tone,responseStyle:re.config.personality.style},knowledgeBase:{documents:[],sources:re.config.knowledgeBase.map(le=>({type:"Manual"in le.sourceType?"Manual":"URL"in le.sourceType?"URL":"Document"in le.sourceType?"Document":"API"in le.sourceType?"API":"Database",content:le.content,metadata:le.metadata.reduce((z,[q,H])=>(z[q]=H,z),{})})),context:re.config.knowledgeBase.map(le=>le.content).join(" ")},behavior:{maxResponseLength:500,conversationMemory:!0,escalationRules:[]},appearance:{avatar:re.config.appearance.avatar.length>0?re.config.appearance.avatar[0]:"",theme:re.config.appearance.primaryColor,welcomeMessage:"Hello! How can I help you today?"}},avatar:re.config.appearance.avatar.length>0?re.config.appearance.avatar[0]:"",lastUpdated:new Date(Number(re.updated)/1e6).toISOString()}));o(F)}catch(J){console.error("Error toggling agent status:",J),g("Failed to update agent status")}},B=async $=>{try{await _t.deleteAgent($),console.log(`Agent ${$} deleted successfully`),o(W=>W.filter(J=>J.id!==$)),(n==null?void 0:n.id)===$&&r(null)}catch(W){console.error("Error deleting agent:",W),g("Failed to delete agent")}};return d?l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded-md w-1/4 mb-6"}),l.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map(($,W)=>l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-4"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"})]},W))})]})}):u?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-red-600 mb-4",children:u}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Retry"})]}):s.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-500 mb-4",children:"No agents found"}),l.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Create your first AI agent to get started"}),l.jsx("button",{onClick:()=>window.location.href="/create",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Create Agent"})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"My Agents"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage and configure your AI agents."})]}),l.jsx("div",{className:"mt-4 flex md:ml-4 md:mt-0",children:l.jsx("button",{onClick:()=>window.location.href="/create",className:"inline-flex items-center gap-x-2 rounded-md bg-blue-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600",children:"Create New Agent"})})]}),l.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:s.map($=>l.jsxs("div",{className:`bg-white rounded-lg shadow border border-gray-200 p-6 cursor-pointer transition-all duration-200 hover:shadow-md ${(n==null?void 0:n.id)===$.id?"ring-2 ring-blue-500":""}`,onClick:()=>w($),children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:$.name}),l.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:$.description})]}),l.jsx("span",{className:`ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${$.status==="Active"?"bg-green-100 text-green-800":$.status==="Inactive"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:$.status})]}),l.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:l.jsxs("span",{children:["Created: ",new Date($.created).toLocaleDateString()]})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:W=>{W.stopPropagation(),k($)},className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[l.jsx(Px,{className:"h-3 w-3 mr-1"}),"View"]}),l.jsx("button",{onClick:W=>{W.stopPropagation(),M($.id,$.status)},className:`inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded focus:outline-none focus:ring-2 focus:ring-offset-2 ${$.status==="Active"?"text-orange-700 bg-orange-100 hover:bg-orange-200 focus:ring-orange-500":"text-green-700 bg-green-100 hover:bg-green-200 focus:ring-green-500"}`,children:$.status==="Active"?l.jsxs(l.Fragment,{children:[l.jsx(X5,{className:"h-3 w-3 mr-1"}),"Pause"]}):l.jsxs(l.Fragment,{children:[l.jsx(Lf,{className:"h-3 w-3 mr-1"}),"Activate"]})})]}),l.jsxs("button",{onClick:W=>{W.stopPropagation(),B($.id)},className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[l.jsx(Ox,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]},$.id))}),s.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-500 mb-4",children:"No agents found"}),l.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Create your first AI agent to get started"}),l.jsx("button",{onClick:()=>window.location.href="/create",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Create Agent"})]}),_&&l.jsx(B6,{agent:_,onClose:j,onEdit:$=>N($),onUpdate:b})]})},Jx=({sessionToken:e,agent:r})=>{const[n,s]=K.useState([]),[o,d]=K.useState(""),[f,u]=K.useState(!1),g=K.useRef(null);K.useEffect(()=>{s([{id:"welcome",content:r.config.appearance.welcomeMessage,sender:"agent",timestamp:new Date,agentName:r.name}])},[r]),K.useEffect(()=>{var k;(k=g.current)==null||k.scrollIntoView({behavior:"smooth"})},[n]);const _=async k=>{if(k.preventDefault(),!o.trim()||f)return;const j={id:Date.now().toString(),content:o,sender:"user",timestamp:new Date};s(b=>[...b,j]),d(""),u(!0);try{let b;if(r.name.includes("Demo Agent")||r.id==="demo"||r.id.startsWith("agent_")){const $=[`Thanks for your message: "${o}". This is a demo response from ${r.name}.`,`I understand you're asking about "${o}". In demo mode, I can show you how the chat interface works!`,`Hello! You said: "${o}". This embed widget is working correctly in demo mode.`,`Great question about "${o}"! This demonstrates the chat functionality of the embed widget.`,`I received your message: "${o}". The embed widget is functioning properly with customizable themes and responses.`];await new Promise(W=>setTimeout(W,1e3+Math.random()*1e3)),b=$[Math.floor(Math.random()*$.length)]}else b=await _t.processChat(r.id,o,e||"");const B={id:(Date.now()+1).toString(),content:b,sender:"agent",timestamp:new Date,agentName:r.name};s($=>[...$,B])}catch(b){console.error("Failed to get response:",b);const M={id:(Date.now()+1).toString(),content:`I'm currently in demo mode. Your message "${o}" was received, but I can't connect to the full AI service right now. This shows how error handling works in the embed widget!`,sender:"agent",timestamp:new Date,agentName:r.name,isError:!1};s(B=>[...B,M])}finally{u(!1)}},N=k=>k.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),w=k=>{const j={blue:"bg-blue-500",green:"bg-green-500",purple:"bg-purple-500",orange:"bg-orange-500"};return j[k]||j.blue};return l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 h-[600px] flex flex-col",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`w-10 h-10 ${w(r.config.appearance.theme)} rounded-full flex items-center justify-center`,children:l.jsx("span",{className:"text-white font-medium text-sm",children:r.name.charAt(0).toUpperCase()})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r.name}),l.jsx("p",{className:"text-sm text-gray-500",children:r.description})]})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[n.map(k=>l.jsx("div",{className:`flex ${k.sender==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${k.sender==="user"?"bg-primary-600 text-white":k.isError?"bg-red-100 text-red-800":"bg-gray-100 text-gray-900"}`,children:[l.jsx("p",{className:"text-sm",children:k.content}),l.jsxs("div",{className:`flex items-center justify-between mt-2 text-xs ${k.sender==="user"?"text-primary-100":k.isError?"text-red-600":"text-gray-500"}`,children:[k.sender==="agent"&&k.agentName&&l.jsx("span",{className:"mr-2",children:k.agentName}),N(k.timestamp)]})]})},k.id)),f&&l.jsx("div",{className:"flex justify-start",children:l.jsx("div",{className:"bg-gray-100 text-gray-900 px-4 py-2 rounded-lg",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("div",{className:"animate-bounce space-x-1",children:[l.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),l.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),l.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),l.jsx("span",{className:"text-sm",children:"Agent is typing..."})]})})}),l.jsx("div",{ref:g})]}),l.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:l.jsxs("form",{onSubmit:_,className:"flex space-x-3",children:[l.jsx("input",{type:"text",value:o,onChange:k=>d(k.target.value),placeholder:"Type your message...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:f}),l.jsx("button",{type:"submit",disabled:!o.trim()||f,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l.jsx(Q5,{className:"h-5 w-5"})})]})})]})})},P6=({sessionToken:e,identity:r})=>{const[n,s]=K.useState(null),[o,d]=K.useState(null),[f,u]=K.useState(!0),[g,_]=K.useState(null),[N,w]=K.useState(!1),[k,j]=K.useState(""),[b,M]=K.useState(!1),[B,$]=K.useState(!1),[W,J]=K.useState(null);K.useEffect(()=>{ue(),F()},[r]);const ue=async()=>{try{u(!0),_(null);const[H,ce,ge]=await Promise.allSettled([_t.getUserBalance(),_t.getUsageHistory(50),_t.getUserAgents()]),E=H.status==="fulfilled"?H.value:null,I=ce.status==="fulfilled"?ce.value:[],Z=ge.status==="fulfilled"?ge.value:[],ne=new Date,fe=new Date;fe.setMonth(fe.getMonth()-1);const se=I.filter(Ce=>{const be=new Date(Ce.timestamp);return be.getMonth()===ne.getMonth()&&be.getFullYear()===ne.getFullYear()}),_e=I.filter(Ce=>{const be=new Date(Ce.timestamp);return be.getMonth()===fe.getMonth()&&be.getFullYear()===fe.getFullYear()}),Ee=se.reduce((Ce,be)=>Ce+be.tokens,0),G=_e.reduce((Ce,be)=>Ce+be.tokens,0),de=se.reduce((Ce,be)=>Ce+be.cost,0),Re=_e.reduce((Ce,be)=>Ce+be.cost,0),O={userId:r!=null&&r.getPrincipal()&&typeof r.getPrincipal().toString=="function"?r.getPrincipal().toString():"unknown",tier:(E==null?void 0:E.currentTier)||"Base",balance:(E==null?void 0:E.balance)||0,currency:"USD",joinDate:new Date().toISOString(),totalAgents:Z.length,totalConversations:Z.reduce((Ce,be)=>{var me;return Ce+(((me=be.analytics)==null?void 0:me.totalConversations)||0)},0),totalMessages:Z.reduce((Ce,be)=>{var me;return Ce+(((me=be.analytics)==null?void 0:me.totalMessages)||0)},0)},Pe={currentMonth:{messages:se.length,tokensUsed:Ee,cost:de},lastMonth:{messages:_e.length,tokensUsed:G,cost:Re},billing:I.slice(0,10).map(Ce=>({date:new Date(Ce.timestamp).toISOString().split("T")[0],amount:Ce.cost,description:`${Ce.operation} - ${Ce.agentId}`}))};s(O),d(Pe)}catch(H){console.error("Failed to load profile:",H),_("Failed to load profile data. Please try again.");const ce={userId:r!=null&&r.getPrincipal()&&typeof r.getPrincipal().toString=="function"?r.getPrincipal().toString():"unknown",tier:"Base",balance:0,currency:"USD",joinDate:new Date().toISOString(),totalAgents:0,totalConversations:0,totalMessages:0};s(ce),d({currentMonth:{messages:0,tokensUsed:0,cost:0},lastMonth:{messages:0,tokensUsed:0,cost:0},billing:[]})}finally{u(!1)}},F=async()=>{try{const H=await _t.getMetricsCollectorHealth();J(H)}catch(H){console.error("Failed to load system health:",H)}},re=async()=>{if(!k||isNaN(Number(k))){_("Please enter a valid amount");return}const H=Number(k);if(H<=0){_("Amount must be greater than 0");return}try{M(!0),_(null),await _t.addBalance(H),$(!0),j(""),await ue(),setTimeout(()=>{$(!1),w(!1)},3e3)}catch(ce){console.error("Failed to add balance:",ce),_(ce instanceof Error?ce.message:"Failed to add balance")}finally{M(!1)}},le=H=>!H||typeof H!="string"?"Unknown":H.length>20?H.slice(0,10)+"..."+H.slice(-10):H,z=H=>{const ce={Base:"bg-gray-100 text-gray-800",Standard:"bg-blue-100 text-blue-800",Professional:"bg-purple-100 text-purple-800",Enterprise:"bg-green-100 text-green-800"};return ce[H]||ce.Base},q=H=>{const ce={Base:["Basic chat functionality","Up to 1,000 messages/month","Standard support"],Standard:["Advanced chat features","Up to 10,000 messages/month","Priority support","Custom agents"],Professional:["All Standard features","Up to 100,000 messages/month","API access","Advanced analytics"],Enterprise:["All Professional features","Unlimited messages","Dedicated support","Custom integrations"]};return ce[H]||ce.Base};return f?l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded-md w-1/4 mb-6"}),l.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((H,ce)=>l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"})]},ce))})]})}):n?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"User Profile"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your account, balance, and view detailed usage statistics."})]}),l.jsx("div",{className:"mt-4 flex space-x-3 md:ml-4 md:mt-0",children:l.jsxs("button",{onClick:()=>w(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[l.jsx(Mx,{className:"h-4 w-4 mr-2"}),"Add Balance"]})})]}),g&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(Ec,{className:"h-5 w-5 text-red-400"}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm text-red-800",children:g})})]})}),B&&l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(Kf,{className:"h-5 w-5 text-green-400"}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm text-green-800",children:"Balance added successfully!"})})]})}),l.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Account Information"}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"User ID"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900 font-mono break-all",children:le(n.userId)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Account Tier"}),l.jsx("div",{className:"mt-1",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${z(n.tier)}`,children:n.tier})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Balance"}),l.jsxs("p",{className:"mt-1 text-lg font-semibold text-green-600",children:["$",n.balance.toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Member Since"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(n.joinDate).toLocaleDateString()})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Agents"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n.totalAgents})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Messages"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n.totalMessages.toLocaleString()})]})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsx("div",{className:"bg-white px-4 py-6 shadow rounded-lg border border-gray-200",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0 bg-blue-50 p-3 rounded-lg",children:l.jsx(Ng,{className:"h-6 w-6 text-blue-600"})}),l.jsx("div",{className:"ml-5 w-0 flex-1",children:l.jsxs("dl",{children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Agents"}),l.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:n.totalAgents})]})})]})}),l.jsx("div",{className:"bg-white px-4 py-6 shadow rounded-lg border border-gray-200",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0 bg-green-50 p-3 rounded-lg",children:l.jsx(Wf,{className:"h-6 w-6 text-green-600"})}),l.jsx("div",{className:"ml-5 w-0 flex-1",children:l.jsxs("dl",{children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Conversations"}),l.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:n.totalConversations.toLocaleString()})]})})]})}),l.jsx("div",{className:"bg-white px-4 py-6 shadow rounded-lg border border-gray-200",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0 bg-purple-50 p-3 rounded-lg",children:l.jsx(Ks,{className:"h-6 w-6 text-purple-600"})}),l.jsx("div",{className:"ml-5 w-0 flex-1",children:l.jsxs("dl",{children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Messages"}),l.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:n.totalMessages.toLocaleString()})]})})]})}),l.jsx("div",{className:"bg-white px-4 py-6 shadow rounded-lg border border-gray-200",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0 bg-green-50 p-3 rounded-lg",children:l.jsx(bf,{className:"h-6 w-6 text-green-600"})}),l.jsx("div",{className:"ml-5 w-0 flex-1",children:l.jsxs("dl",{children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Balance"}),l.jsxs("dd",{className:"text-2xl font-semibold text-gray-900",children:["$",n.balance.toFixed(2)]})]})})]})})]}),l.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:[n.tier," Tier Benefits"]}),l.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:q(n.tier).map((H,ce)=>l.jsxs("div",{className:"flex items-start",children:[l.jsx(Kf,{className:"h-5 w-5 text-green-500 mt-0.5 mr-3 flex-shrink-0"}),l.jsx("span",{className:"text-sm text-gray-700",children:H})]},ce))})]})}),o&&l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[l.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Current Month Usage"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ks,{className:"h-5 w-5 text-gray-400 mr-2"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Messages"})]}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.currentMonth.messages.toLocaleString()})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Nc,{className:"h-5 w-5 text-gray-400 mr-2"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Tokens Used"})]}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.currentMonth.tokensUsed.toLocaleString()})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(bf,{className:"h-5 w-5 text-gray-400 mr-2"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Cost"})]}),l.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",o.currentMonth.cost.toFixed(4)]})]})]})]})}),l.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Last Month Usage"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ks,{className:"h-5 w-5 text-gray-400 mr-2"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Messages"})]}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.lastMonth.messages.toLocaleString()})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Nc,{className:"h-5 w-5 text-gray-400 mr-2"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Tokens Used"})]}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.lastMonth.tokensUsed.toLocaleString()})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(bf,{className:"h-5 w-5 text-gray-400 mr-2"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Cost"})]}),l.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",o.lastMonth.cost.toFixed(4)]})]})]})]})})]}),W&&l.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Status"}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"System Status"}),l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${W.status==="healthy"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:W.status})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"Total Users"}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:W.totalUsers.toLocaleString()})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"Total Transactions"}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:W.totalTransactions.toLocaleString()})]})]})]})}),o&&o.billing.length>0&&l.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Transactions"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.billing.map((H,ce)=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(H.date).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:H.description}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",H.amount.toFixed(4)]})]},ce))})]})})]})}),N&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:l.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:l.jsxs("div",{className:"mt-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add Balance"}),l.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Ux,{className:"h-6 w-6"})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (USD)"}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:k,onChange:H=>j(H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter amount"})]}),l.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[l.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),l.jsx("button",{onClick:re,disabled:b,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Adding...":"Add Balance"})]})]})})})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ng,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Profile not available"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Unable to load user profile data."})]})},M6=({agent:e,canisterId:r})=>{const[n,s]=K.useState(""),[o,d]=K.useState("generator"),[f,u]=K.useState(null),[g,_]=K.useState("preview"),[N,w]=K.useState({width:"400px",height:"600px",theme:"light",position:"bottom-right",primaryColor:"#4F46E5",borderRadius:"12px",showHeader:!0,showPoweredBy:!0,minimizable:!0,autoOpen:!1,welcomeMessage:"",placeholder:"Type your message..."});K.useEffect(()=>{e&&k()},[e,N]);const k=()=>{if(!e)return;const $=`
<!-- CanistChat Embed Widget -->
<div id="canistchat-widget-${e.id}"></div>
<script>
(function() {
  // CanistChat Widget Configuration
  const config = {
    agentId: '${e.id}',
    canisterId: '${r}',
    theme: '${N.theme}',
    width: '${N.width}',
    height: '${N.height}',
    position: '${N.position}',
    primaryColor: '${N.primaryColor}',
    borderRadius: '${N.borderRadius}',
    showHeader: ${N.showHeader},
    showPoweredBy: ${N.showPoweredBy},
    minimizable: ${N.minimizable},
    autoOpen: ${N.autoOpen},
    title: '${e.name}',
    subtitle: 'AI Assistant',
    welcomeMessage: '${N.welcomeMessage||`Hello! I'm ${e.name}. How can I help you today?`}',
    placeholder: '${N.placeholder}'
  };

  // Create widget container
  const container = document.getElementById('canistchat-widget-' + config.agentId);
  if (!container) {
    console.error('CanistChat: Widget container not found');
    return;
  }

  // Create main widget wrapper
  const widgetWrapper = document.createElement('div');
  widgetWrapper.style.position = config.position === 'inline' ? 'relative' : 'fixed';
  widgetWrapper.style.zIndex = '9999';
  widgetWrapper.style.fontFamily = '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif';

  // Position widget if floating
  if (config.position !== 'inline') {
    switch(config.position) {
      case 'bottom-right':
        widgetWrapper.style.bottom = '20px';
        widgetWrapper.style.right = '20px';
        break;
      case 'bottom-left':
        widgetWrapper.style.bottom = '20px';
        widgetWrapper.style.left = '20px';
        break;
      case 'top-right':
        widgetWrapper.style.top = '20px';
        widgetWrapper.style.right = '20px';
        break;
      case 'top-left':
        widgetWrapper.style.top = '20px';
        widgetWrapper.style.left = '20px';
        break;
    }
  }

  // Create iframe for secure embedding
  const iframe = document.createElement('iframe');
  const embedUrl = new URL('https://${r}.ic0.app/embed');
  embedUrl.searchParams.set('agent', config.agentId);
  embedUrl.searchParams.set('theme', config.theme);
  embedUrl.searchParams.set('color', encodeURIComponent(config.primaryColor));
  embedUrl.searchParams.set('welcome', encodeURIComponent(config.welcomeMessage));
  embedUrl.searchParams.set('placeholder', encodeURIComponent(config.placeholder));
  
  iframe.src = embedUrl.toString();
  iframe.style.width = config.width;
  iframe.style.height = config.height;
  iframe.style.border = 'none';
  iframe.style.borderRadius = config.borderRadius;
  iframe.style.boxShadow = '0 4px 20px rgba(0,0,0,0.15)';
  iframe.style.transition = 'all 0.3s ease';
  iframe.allow = 'encrypted-media';
  iframe.title = config.title + ' - AI Assistant';
  iframe.loading = 'lazy';

  // Add minimize/maximize functionality
  let isMinimized = !config.autoOpen;
  if (config.minimizable && config.position !== 'inline') {
    const toggleBtn = document.createElement('button');
    toggleBtn.innerHTML = isMinimized ? '' : '';
    toggleBtn.style.position = 'absolute';
    toggleBtn.style.top = '10px';
    toggleBtn.style.right = '10px';
    toggleBtn.style.background = config.primaryColor;
    toggleBtn.style.color = 'white';
    toggleBtn.style.border = 'none';
    toggleBtn.style.borderRadius = '50%';
    toggleBtn.style.width = '40px';
    toggleBtn.style.height = '40px';
    toggleBtn.style.cursor = 'pointer';
    toggleBtn.style.fontSize = '16px';
    toggleBtn.style.zIndex = '10000';
    toggleBtn.style.boxShadow = '0 2px 10px rgba(0,0,0,0.2)';
    toggleBtn.style.transition = 'all 0.3s ease';
    
    toggleBtn.onmouseover = function() {
      toggleBtn.style.transform = 'scale(1.1)';
    };
    toggleBtn.onmouseout = function() {
      toggleBtn.style.transform = 'scale(1)';
    };
    
    toggleBtn.onclick = function() {
      if (isMinimized) {
        iframe.style.height = config.height;
        iframe.style.opacity = '1';
        iframe.style.transform = 'scale(1)';
        toggleBtn.innerHTML = '';
        widgetWrapper.appendChild(iframe);
      } else {
        iframe.style.height = '0px';
        iframe.style.opacity = '0';
        iframe.style.transform = 'scale(0.8)';
        toggleBtn.innerHTML = '';
        if (iframe.parentNode) {
          iframe.parentNode.removeChild(iframe);
        }
      }
      isMinimized = !isMinimized;
    };
    
    widgetWrapper.appendChild(toggleBtn);
    
    // Start minimized if autoOpen is false
    if (!config.autoOpen) {
      iframe.style.height = '0px';
      iframe.style.opacity = '0';
      iframe.style.transform = 'scale(0.8)';
    } else {
      widgetWrapper.appendChild(iframe);
    }
  } else {
    widgetWrapper.appendChild(iframe);
  }

  container.appendChild(widgetWrapper);

  // Add responsive behavior
  const handleResize = () => {
    if (window.innerWidth < 768 && config.position !== 'inline') {
      iframe.style.width = 'calc(100vw - 40px)';
      iframe.style.height = 'calc(100vh - 100px)';
      widgetWrapper.style.bottom = '10px';
      widgetWrapper.style.right = '10px';
      widgetWrapper.style.left = '10px';
    } else {
      iframe.style.width = config.width;
      iframe.style.height = config.height;
    }
  };
  
  window.addEventListener('resize', handleResize);
  handleResize();

  console.log('CanistChat widget loaded successfully');
})();
<\/script>`.trim();s($)},j=async($,W)=>{try{await navigator.clipboard.writeText($),u(W),setTimeout(()=>u(null),2e3)}catch(J){console.error("Failed to copy to clipboard:",J);const ue=document.createElement("textarea");ue.value=$,document.body.appendChild(ue),ue.select(),document.execCommand("copy"),document.body.removeChild(ue),u(W),setTimeout(()=>u(null),2e3)}},b=()=>e?`import React from 'react';

const CanistChatWidget = () => {
  return (
    <iframe
      src="https://${r}.ic0.app/embed?agent=${encodeURIComponent(e.id)}&theme=${N.theme}&color=${encodeURIComponent(N.primaryColor)}"
      width="${N.width}"
      height="${N.height}"
      style={{
        border: 'none',
        borderRadius: '${N.borderRadius}',
        boxShadow: '0 4px 20px rgba(0,0,0,0.15)'
      }}
      allow="encrypted-media"
      title="${e.name} - AI Assistant"
    />
  );
};

export default CanistChatWidget;`:"",M=()=>e?`<!-- Add this shortcode to any page or post -->
[canistchat agent="${e.id}" theme="${N.theme}" color="${N.primaryColor}" width="${N.width}" height="${N.height}"]

<!-- Or add this to your theme's functions.php file -->
function canistchat_shortcode($atts) {
    $atts = shortcode_atts(array(
        'agent' => '${e.id}',
        'theme' => '${N.theme}',
        'color' => '${N.primaryColor}',
        'width' => '${N.width}',
        'height' => '${N.height}'
    ), $atts);
    
    return '<iframe src="https://${r}.ic0.app/embed?agent=' . esc_attr($atts['agent']) . '&theme=' . esc_attr($atts['theme']) . '&color=' . urlencode($atts['color']) . '" width="' . esc_attr($atts['width']) . '" height="' . esc_attr($atts['height']) . '" style="border: none; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.15);" allow="encrypted-media" title="AI Assistant"></iframe>';
    }
add_shortcode('canistchat', 'canistchat_shortcode');`:"",B=()=>{if(!e)return;const $=`https://${r}.ic0.app/embed?agent=${encodeURIComponent(e.id)}&theme=${N.theme}&color=${encodeURIComponent(N.primaryColor)}`;window.open($,"_blank","width=500,height=700,scrollbars=yes,resizable=yes")};return e?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Embed Widget Generator"}),l.jsxs("p",{className:"text-gray-600",children:["Generate embed code and integration instructions for ",l.jsx("strong",{children:e.name})]})]}),l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"-mb-px flex",children:[l.jsxs("button",{onClick:()=>d("generator"),className:`px-6 py-3 text-sm font-medium border-b-2 ${o==="generator"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(R5,{className:"w-4 h-4 inline mr-2"}),"Generator"]}),l.jsxs("button",{onClick:()=>d("instructions"),className:`px-6 py-3 text-sm font-medium border-b-2 ${o==="instructions"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(Y5,{className:"w-4 h-4 inline mr-2"}),"Instructions"]}),l.jsxs("button",{onClick:()=>d("testing"),className:`px-6 py-3 text-sm font-medium border-b-2 ${o==="testing"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(Lf,{className:"w-4 h-4 inline mr-2"}),"Testing"]})]})}),l.jsxs("div",{className:"p-6",children:[o==="generator"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Customization Options"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Width"}),l.jsx("input",{type:"text",value:N.width,onChange:$=>w({...N,width:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"400px"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Height"}),l.jsx("input",{type:"text",value:N.height,onChange:$=>w({...N,height:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"600px"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),l.jsxs("select",{value:N.theme,onChange:$=>w({...N,theme:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"light",children:"Light"}),l.jsx("option",{value:"dark",children:"Dark"}),l.jsx("option",{value:"auto",children:"Auto"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position"}),l.jsxs("select",{value:N.position,onChange:$=>w({...N,position:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"inline",children:"Inline"}),l.jsx("option",{value:"bottom-right",children:"Bottom Right"}),l.jsx("option",{value:"bottom-left",children:"Bottom Left"}),l.jsx("option",{value:"top-right",children:"Top Right"}),l.jsx("option",{value:"top-left",children:"Top Left"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color"}),l.jsx("input",{type:"color",value:N.primaryColor,onChange:$=>w({...N,primaryColor:$.target.value}),className:"w-full h-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Border Radius"}),l.jsx("input",{type:"text",value:N.borderRadius,onChange:$=>w({...N,borderRadius:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"12px"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Welcome Message"}),l.jsx("input",{type:"text",value:N.welcomeMessage,onChange:$=>w({...N,welcomeMessage:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Hello! I'm ${e.name}. How can I help you today?`})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Input Placeholder"}),l.jsx("input",{type:"text",value:N.placeholder,onChange:$=>w({...N,placeholder:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Type your message..."})]})]}),l.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:N.showHeader,onChange:$=>w({...N,showHeader:$.target.checked}),className:"mr-2"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Show Header"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:N.showPoweredBy,onChange:$=>w({...N,showPoweredBy:$.target.checked}),className:"mr-2"}),l.jsx("span",{className:"text-sm text-gray-700",children:'Show "Powered by"'})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:N.minimizable,onChange:$=>w({...N,minimizable:$.target.checked}),className:"mr-2"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Minimizable"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:N.autoOpen,onChange:$=>w({...N,autoOpen:$.target.checked}),className:"mr-2"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Auto Open"})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Preview"}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-6 border-2 border-dashed border-gray-300",children:l.jsx("div",{className:"flex items-center justify-center",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg border overflow-hidden",style:{width:N.width,height:"300px",borderRadius:N.borderRadius,maxWidth:"100%"},children:[N.showHeader&&l.jsx("div",{className:"p-4 text-white",style:{backgroundColor:N.primaryColor},children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center mr-3",children:l.jsx("span",{className:"text-sm",children:""})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:e.name}),l.jsx("p",{className:"text-sm opacity-90",children:"AI Assistant"})]})]})}),l.jsxs("div",{className:`p-4 flex-1 ${N.theme==="dark"?"bg-gray-800 text-white":"bg-white"}`,children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"bg-gray-100 rounded-lg p-3 max-w-xs",children:l.jsx("p",{className:"text-sm",children:N.welcomeMessage||`Hello! I'm ${e.name}. How can I help you today?`})}),l.jsx("div",{className:"flex justify-end",children:l.jsx("div",{className:"bg-blue-500 text-white rounded-lg p-3 max-w-xs",children:l.jsx("p",{className:"text-sm",children:"Hello! Can you help me?"})})})]}),l.jsx("div",{className:"mt-4 pt-4 border-t",children:l.jsx("input",{type:"text",placeholder:N.placeholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",disabled:!0})})]})]})})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Generated Embed Code"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:()=>j(n,"html"),className:"inline-flex items-center px-3 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx(V5,{className:"w-4 h-4 mr-2"}),f==="html"?"Copied!":"Copy HTML"]}),l.jsxs("button",{onClick:B,className:"inline-flex items-center px-3 py-2 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:[l.jsx(Px,{className:"w-4 h-4 mr-2"}),"Test Widget"]})]})]}),l.jsx("textarea",{value:n,readOnly:!0,className:"w-full h-40 px-3 py-2 border border-gray-300 rounded-md bg-gray-50 font-mono text-sm focus:outline-none",placeholder:"Embed code will appear here..."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("h5",{className:"font-medium text-gray-900",children:"React Component"}),l.jsx("button",{onClick:()=>j(b(),"react"),className:"text-sm text-blue-600 hover:text-blue-700",children:f==="react"?"Copied!":"Copy"})]}),l.jsx("textarea",{value:b(),readOnly:!0,className:"w-full h-32 px-3 py-2 border border-gray-300 rounded-md bg-gray-50 font-mono text-xs"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("h5",{className:"font-medium text-gray-900",children:"WordPress Shortcode"}),l.jsx("button",{onClick:()=>j(M(),"wordpress"),className:"text-sm text-blue-600 hover:text-blue-700",children:f==="wordpress"?"Copied!":"Copy"})]}),l.jsx("textarea",{value:M(),readOnly:!0,className:"w-full h-32 px-3 py-2 border border-gray-300 rounded-md bg-gray-50 font-mono text-xs"})]})]})]}),o==="instructions"&&l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[l.jsx(Kf,{className:"w-5 h-5 text-green-500 mr-2"}),"Quick Start Guide"]}),l.jsx("div",{className:"bg-green-50 rounded-lg p-6",children:l.jsxs("ol",{className:"space-y-3 text-sm",children:[l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-green-600 text-white rounded-full flex items-center justify-center text-xs mr-3 mt-0.5",children:"1"}),l.jsxs("div",{children:[l.jsx("strong",{children:"Copy the embed code"})," from the Generator tab above"]})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-green-600 text-white rounded-full flex items-center justify-center text-xs mr-3 mt-0.5",children:"2"}),l.jsxs("div",{children:[l.jsx("strong",{children:"Paste it into your website's HTML"})," where you want the chat widget to appear"]})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-green-600 text-white rounded-full flex items-center justify-center text-xs mr-3 mt-0.5",children:"3"}),l.jsxs("div",{children:[l.jsx("strong",{children:"Save and publish"})," your page - the widget will automatically load and connect to your agent"]})]})]})})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Platform-Specific Instructions"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx(K5,{className:"w-6 h-6 text-blue-600 mr-2"}),l.jsx("h5",{className:"font-medium",children:"WordPress"})]}),l.jsxs("ol",{className:"text-sm space-y-2 text-gray-600",children:[l.jsx("li",{children:"1. Go to your WordPress admin panel"}),l.jsx("li",{children:"2. Edit the page/post where you want the widget"}),l.jsx("li",{children:'3. Switch to "Text" or "HTML" mode'}),l.jsx("li",{children:"4. Paste the embed code"}),l.jsx("li",{children:"5. Update/publish the page"})]})]}),l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx(M5,{className:"w-6 h-6 text-green-600 mr-2"}),l.jsx("h5",{className:"font-medium",children:"Shopify"})]}),l.jsxs("ol",{className:"text-sm space-y-2 text-gray-600",children:[l.jsx("li",{children:"1. Go to Online Store  Themes"}),l.jsx("li",{children:'2. Click "Actions"  "Edit code"'}),l.jsx("li",{children:"3. Find your theme.liquid file"}),l.jsx("li",{children:"4. Paste the code before </body>"}),l.jsx("li",{children:"5. Save the file"})]})]}),l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx($5,{className:"w-6 h-6 text-purple-600 mr-2"}),l.jsx("h5",{className:"font-medium",children:"Squarespace"})]}),l.jsxs("ol",{className:"text-sm space-y-2 text-gray-600",children:[l.jsx("li",{children:"1. Go to Settings  Advanced  Code Injection"}),l.jsx("li",{children:'2. Paste the code in "Footer"'}),l.jsx("li",{children:"3. Or use a Code Block on specific pages"}),l.jsx("li",{children:"4. Save and publish"})]})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Advanced Configuration"}),l.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[l.jsx("h5",{className:"font-medium text-blue-900 mb-3",children:"Customization Options"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("h6",{className:"font-medium text-blue-800 mb-2",children:"Position Options"}),l.jsxs("ul",{className:"space-y-1 text-blue-700",children:[l.jsxs("li",{children:[" ",l.jsx("code",{children:"inline"})," - Embedded in page content"]}),l.jsxs("li",{children:[" ",l.jsx("code",{children:"bottom-right"})," - Floating bottom right"]}),l.jsxs("li",{children:[" ",l.jsx("code",{children:"bottom-left"})," - Floating bottom left"]}),l.jsxs("li",{children:[" ",l.jsx("code",{children:"top-right"})," - Floating top right"]}),l.jsxs("li",{children:[" ",l.jsx("code",{children:"top-left"})," - Floating top left"]})]})]}),l.jsxs("div",{children:[l.jsx("h6",{className:"font-medium text-blue-800 mb-2",children:"Theme Options"}),l.jsxs("ul",{className:"space-y-1 text-blue-700",children:[l.jsxs("li",{children:[" ",l.jsx("code",{children:"light"})," - Light theme"]}),l.jsxs("li",{children:[" ",l.jsx("code",{children:"dark"})," - Dark theme"]}),l.jsxs("li",{children:[" ",l.jsx("code",{children:"auto"})," - Matches system preference"]})]})]})]})]})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[l.jsx(Ec,{className:"w-5 h-5 text-yellow-500 mr-2"}),"Troubleshooting"]}),l.jsx("div",{className:"bg-yellow-50 rounded-lg p-6",children:l.jsxs("div",{className:"space-y-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("h6",{className:"font-medium text-yellow-800 mb-1",children:"Widget not appearing?"}),l.jsx("p",{className:"text-yellow-700",children:"Check that the container div ID matches the agent ID in the script."})]}),l.jsxs("div",{children:[l.jsx("h6",{className:"font-medium text-yellow-800 mb-1",children:"Widget not loading?"}),l.jsx("p",{className:"text-yellow-700",children:"Ensure your website allows iframe content and check browser console for errors."})]}),l.jsxs("div",{children:[l.jsx("h6",{className:"font-medium text-yellow-800 mb-1",children:"Styling issues?"}),l.jsx("p",{className:"text-yellow-700",children:"The widget uses iframe isolation, so your site's CSS won't affect it. Customize using the options above."})]})]})})]})]}),o==="testing"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Test Your Widget"}),l.jsxs("div",{className:"flex space-x-4 mb-6",children:[l.jsx("button",{onClick:()=>_("preview"),className:`px-4 py-2 rounded-md text-sm font-medium ${g==="preview"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Preview Mode"}),l.jsx("button",{onClick:()=>_("live"),className:`px-4 py-2 rounded-md text-sm font-medium ${g==="live"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Live Test"})]})]}),g==="preview"&&l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Widget Preview"}),l.jsx("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:l.jsx("div",{className:"mx-auto",style:{width:N.width,maxWidth:"100%"},children:l.jsx("iframe",{src:`/embed?agent=${encodeURIComponent(e.id)}&theme=${N.theme}&color=${encodeURIComponent(N.primaryColor)}`,width:"100%",height:N.height,style:{border:"none",borderRadius:N.borderRadius,boxShadow:"0 4px 20px rgba(0,0,0,0.15)"},title:`${e.name} - AI Assistant Preview`})})})]}),g==="live"&&l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Live Testing"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("button",{onClick:B,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:[l.jsx(Lf,{className:"w-4 h-4 mr-2"}),"Open Widget in New Window"]}),l.jsx("p",{className:"text-sm text-gray-600",children:"This will open your widget in a new window so you can test the full functionality, including chat interactions and responsiveness."})]})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Testing Checklist"}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"flex items-start",children:[l.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),l.jsx("span",{className:"text-sm",children:"Widget loads correctly"})]}),l.jsxs("label",{className:"flex items-start",children:[l.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),l.jsx("span",{className:"text-sm",children:"Chat interface is responsive"})]}),l.jsxs("label",{className:"flex items-start",children:[l.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),l.jsx("span",{className:"text-sm",children:"Messages send and receive properly"})]}),l.jsxs("label",{className:"flex items-start",children:[l.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),l.jsx("span",{className:"text-sm",children:"Styling matches your preferences"})]}),l.jsxs("label",{className:"flex items-start",children:[l.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),l.jsx("span",{className:"text-sm",children:"Widget works on mobile devices"})]}),l.jsxs("label",{className:"flex items-start",children:[l.jsx("input",{type:"checkbox",className:"mt-1 mr-3"}),l.jsx("span",{className:"text-sm",children:"Minimize/maximize functionality works (if enabled)"})]})]})})]})]})]})]}):l.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[l.jsx(C5,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Embed Widget Generator"}),l.jsx("p",{className:"text-gray-500",children:"Select an agent to generate embed code and integration instructions"})]})},O6=({sessionToken:e,selectedAgent:r})=>{const[n,s]=K.useState({overview:{totalMessages:0,totalConversations:0,averageResponseTime:0,successRate:0,totalTokensUsed:0},agentPerformance:[],usageHistory:[],userBalance:null}),[o,d]=K.useState(!0),[f,u]=K.useState("7d"),[g,_]=K.useState("messages"),[N,w]=K.useState(null);K.useEffect(()=>{(async()=>{var M,B,$;if(e)try{d(!0),w(null);const W=await _t.getComprehensiveAnalytics();console.log("Analytics data loaded:",W),console.log("Data structure check:",{hasOverview:!!W.overview,overviewKeys:W.overview?Object.keys(W.overview):[],totalMessages:(M=W.overview)==null?void 0:M.totalMessages,totalConversations:(B=W.overview)==null?void 0:B.totalConversations,averageResponseTime:($=W.overview)==null?void 0:$.averageResponseTime}),s(W)}catch(W){console.error("Error loading analytics data:",W),w("Failed to load analytics data. Please try again."),s({overview:{totalMessages:0,totalConversations:0,averageResponseTime:0,successRate:0,totalTokensUsed:0},agentPerformance:[],usageHistory:[],userBalance:null})}finally{d(!1)}})()},[e]);const k=[{name:"Total Messages",value:n.overview.totalMessages.toLocaleString(),change:n.overview.totalMessages>0?"+12.5%":"0%",changeType:n.overview.totalMessages>0?"increase":"neutral",icon:Ks,color:"text-blue-600",bgColor:"bg-blue-50"},{name:"Total Conversations",value:n.overview.totalConversations.toLocaleString(),change:n.overview.totalConversations>0?"+8.3%":"0%",changeType:n.overview.totalConversations>0?"increase":"neutral",icon:bg,color:"text-green-600",bgColor:"bg-green-50"},{name:"Avg Response Time",value:`${n.overview.averageResponseTime.toFixed(1)}s`,change:n.overview.averageResponseTime>0?"-15.2%":"0%",changeType:n.overview.averageResponseTime>0?"decrease":"neutral",icon:A5,color:"text-purple-600",bgColor:"bg-purple-50"},{name:"Success Rate",value:`${n.overview.successRate.toFixed(1)}%`,change:n.overview.successRate>95?"+2.1%":"0%",changeType:n.overview.successRate>95?"increase":"neutral",icon:Wf,color:"text-orange-600",bgColor:"bg-orange-50"}],j=[{value:"7d",label:"7 Days"},{value:"30d",label:"30 Days"},{value:"90d",label:"90 Days"},{value:"1y",label:"1 Year"}];return o?l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded-md w-1/4 mb-6"}),l.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((b,M)=>l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"})]},M))})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Analytics"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comprehensive insights into your AI agent performance and usage patterns."})]}),l.jsx("div",{className:"mt-4 flex space-x-3 md:ml-4 md:mt-0",children:l.jsx("select",{value:f,onChange:b=>u(b.target.value),className:"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:j.map(b=>l.jsx("option",{value:b.value,children:b.label},b.value))})})]}),N&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(Ec,{className:"h-5 w-5 text-red-400"}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm text-red-800",children:N})})]})}),l.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:k.map(b=>l.jsx("div",{className:"bg-white px-4 py-6 shadow rounded-lg border border-gray-200",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`flex-shrink-0 ${b.bgColor} p-3 rounded-lg`,children:l.jsx(b.icon,{className:`h-6 w-6 ${b.color}`})}),l.jsx("div",{className:"ml-5 w-0 flex-1",children:l.jsxs("dl",{children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:b.name}),l.jsxs("dd",{className:"flex items-baseline",children:[l.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:b.value}),b.changeType!=="neutral"&&l.jsxs("div",{className:`ml-2 flex items-baseline text-sm font-semibold ${b.changeType==="increase"?"text-green-600":"text-red-600"}`,children:[b.changeType==="increase"?l.jsx(v5,{className:"h-4 w-4 flex-shrink-0"}):l.jsx(g5,{className:"h-4 w-4 flex-shrink-0"}),l.jsxs("span",{className:"sr-only",children:[b.changeType==="increase"?"Increased":"Decreased"," by"]}),b.change]})]})]})})]})},b.name))}),n.userBalance&&l.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Account Balance"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0 bg-green-50 p-3 rounded-lg",children:l.jsx(F5,{className:"h-6 w-6 text-green-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Current Balance"}),l.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",n.userBalance.balance.toFixed(2)]})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0 bg-blue-50 p-3 rounded-lg",children:l.jsx(Nc,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Current Tier"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:n.userBalance.currentTier})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0 bg-purple-50 p-3 rounded-lg",children:l.jsx(Ks,{className:"h-6 w-6 text-purple-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Monthly Usage"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:n.userBalance.monthlyUsage.toLocaleString()})]})]})]})]})}),l.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Agent Performance"}),n.agentPerformance.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Messages"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Conversations"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tokens Used"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Response Time"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Satisfaction"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.agentPerformance.map(b=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.agentName}),l.jsx("div",{className:"text-sm text-gray-500",children:b.agentId})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${b.status==="Active"?"bg-green-100 text-green-800":b.status==="Inactive"?"bg-gray-100 text-gray-800":b.status==="Suspended"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:b.status})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.messages.toLocaleString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.conversations.toLocaleString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.tokensUsed.toLocaleString()}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[b.avgResponseTime.toFixed(1),"s"]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(_g,{className:"h-4 w-4 text-yellow-400 mr-1"}),l.jsx("span",{className:"text-sm text-gray-900",children:b.satisfaction.toFixed(1)})]})})]},b.agentId))})]})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Wf,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No performance data available"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start using your agents to see performance metrics."})]})]})}),l.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Usage History"}),n.usageHistory.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Operation"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tokens"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.usageHistory.slice(0,10).map(b=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(b.timestamp).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.agentId}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.operation}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.tokens.toLocaleString()}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",b.cost.toFixed(4)]})]},b.id))})]})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Ks,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No usage history available"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Usage data will appear here as you interact with your agents."})]})]})}),l.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Key Insights"}),n.overview.totalMessages>0||n.agentPerformance.length>0?l.jsxs("div",{className:"space-y-4",children:[n.overview.totalMessages>0&&l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(x5,{className:"h-5 w-5 text-green-500"})}),l.jsx("div",{className:"ml-3",children:l.jsxs("p",{className:"text-sm text-gray-900",children:[l.jsxs("strong",{children:["Total of ",n.overview.totalMessages.toLocaleString()," messages processed"]})," across all your agents. Your AI assistants are actively helping users with their queries."]})})]}),n.overview.totalConversations>0&&l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(bg,{className:"h-5 w-5 text-blue-500"})}),l.jsx("div",{className:"ml-3",children:l.jsxs("p",{className:"text-sm text-gray-900",children:[l.jsxs("strong",{children:[n.overview.totalConversations.toLocaleString()," conversations initiated"]})," with your agents. Users are engaging meaningfully with your AI assistants."]})})]}),n.overview.totalTokensUsed>0&&l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(Nc,{className:"h-5 w-5 text-purple-500"})}),l.jsx("div",{className:"ml-3",children:l.jsxs("p",{className:"text-sm text-gray-900",children:[l.jsxs("strong",{children:[n.overview.totalTokensUsed.toLocaleString()," tokens consumed"]})," for AI processing. This represents the computational resources used by your agents."]})})]}),n.agentPerformance.length>0&&l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(_g,{className:"h-5 w-5 text-yellow-500"})}),l.jsx("div",{className:"ml-3",children:l.jsxs("p",{className:"text-sm text-gray-900",children:[l.jsxs("strong",{children:[n.agentPerformance.length," active agents"]})," in your system. Consider optimizing high-performing agents and improving underperforming ones."]})})]})]}):l.jsxs("div",{className:"text-center py-6",children:[l.jsx(Ec,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No data available"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start using your agents to generate analytics insights."})]})]})})]})};var U6={};const F6=({sessionToken:e,selectedAgent:r,onSelectAgent:n,onNavigate:s,identity:o,onLogout:d,activeView:f="dashboard"})=>{const[u,g]=K.useState({totalAgents:0,activeAgents:0,totalConversations:0,totalMessages:0,monthlyGrowth:{agents:0,conversations:0,messages:0}}),[_,N]=K.useState([]),[w,k]=K.useState(!0),[j,b]=K.useState({agentManager:"Unknown",llmProcessor:"Unknown",contextManager:"Unknown",productionAPIs:"Unknown"}),[M,B]=K.useState(null),[$,W]=K.useState(""),[J]=K.useState(3),ue=le=>{W(le),console.log("Search query:",le)},F=()=>{d&&d()},re=()=>{switch(f){case"dashboard":return l.jsxs("div",{className:"space-y-8",children:[l.jsx("div",{className:"mb-10",children:l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent mb-3",children:"Welcome Back!"}),l.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Here's what's happening with your AI agents today."})]}),l.jsx("div",{className:"hidden md:flex items-center space-x-4",children:l.jsxs("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg rounded-2xl px-6 py-3 border border-white/20 dark:border-gray-700/50",children:[l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Current Time"}),l.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})})]})}),M&&l.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4 mb-6",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Connection Issue"}),l.jsx("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:l.jsx("p",{children:M})})]})]})}),l.jsx(b6,{metrics:u,systemStatus:j}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-5 gap-8",children:[l.jsx("div",{className:"xl:col-span-3",children:l.jsx(_6,{onNavigate:s,selectedAgent:r})}),l.jsx("div",{className:"xl:col-span-2",children:l.jsx(N6,{agents:_,onSelectAgent:n,onNavigate:s})})]})]});case"agents":return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"My Agents"})}),l.jsx(R6,{onSelectAgent:n,selectedAgent:r,sessionToken:e})]});case"create":return l.jsx("main",{className:"flex-1 p-8",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsx("div",{className:"mb-8",children:l.jsxs(lr,{variant:"ghost",className:"mb-4 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white",children:[l.jsx(d4,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})})})});case"chat":return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Chat"})}),r?l.jsx(Jx,{agent:r,sessionToken:e}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-lg mb-2",children:"No Agent Selected"}),l.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Please select an agent to start chatting."})]})]});case"analytics":return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Analytics"})}),l.jsx(O6,{sessionToken:e,selectedAgent:r})]});case"embed":return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Embed Widget"})}),r?l.jsx(M6,{agent:r,canisterId:U6.REACT_APP_AGENT_MANAGER_CANISTER_ID||"bkyz2-fmaaa-aaaaa-qaaaq-cai"}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-lg mb-2",children:"No Agent Selected"}),l.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Please select an agent to generate embed code."})]})]});case"profile":return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Profile"})}),l.jsx(P6,{sessionToken:e,identity:o})]});case"billing":return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Billing & Payments"})}),l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-lg mb-2",children:"Coming Soon"}),l.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Billing and payment management features will be available soon."})]})]});default:return l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-lg mb-2",children:"View Not Found"}),l.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"The requested view could not be found."})]})}};return K.useEffect(()=>{(async()=>{if(!e){console.log("No session token, skipping dashboard data fetch");return}k(!0),B(null);try{const z=await _t.testCanisterAccess();console.log("Canister access test:",z);const q=await _t.getUserAgents();console.log("Fetched agents:",q);const H=q.filter(se=>"Active"in se.status).length;let ce=0,ge=0;for(const se of q)se.analytics&&(ce+=se.analytics.totalConversations,ge+=se.analytics.totalMessages);const E={agents:Math.max(0,Math.floor(q.length*.1)),conversations:Math.max(0,Math.floor(ce*.15)),messages:Math.max(0,Math.floor(ge*.12))},I={totalAgents:q.length,activeAgents:H,totalConversations:ce,totalMessages:ge,monthlyGrowth:E},Z=await _t.getSystemStatus();console.log("System status data:",Z);const fe=q.sort((se,_e)=>Number(_e.created)-Number(se.created)).slice(0,5);g(I),N(fe),b(Z),B(null)}catch(z){console.error("Error fetching dashboard data:",z),B("Failed to load dashboard data. Please check your connection and try again."),g({totalAgents:0,activeAgents:0,totalConversations:0,totalMessages:0,monthlyGrowth:{agents:0,conversations:0,messages:0}}),b({agentManager:"Error",llmProcessor:"Error",contextManager:"Error",productionAPIs:"Error"})}finally{k(!1)}})()},[e]),w?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-purple-900/10 flex w-full",children:[l.jsx(Ef,{onNavigate:s,activeView:f,selectedAgent:r}),l.jsxs("div",{className:"flex-1 flex flex-col ml-64",children:[l.jsx(Nf,{identity:o,sessionToken:e,onLogout:F,searchQuery:$,onSearchChange:ue,notifications:J}),l.jsx("main",{className:"flex-1 p-8",children:l.jsxs("div",{className:"flex items-center justify-center h-64",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),l.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading dashboard..."})]})})]})]}):e?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-purple-900/10 flex w-full",children:[l.jsx(Ef,{onNavigate:s,activeView:f,selectedAgent:r}),l.jsxs("div",{className:"flex-1 flex flex-col ml-64",children:[l.jsx(Nf,{identity:o,sessionToken:e,onLogout:F,searchQuery:$,onSearchChange:ue,notifications:J}),l.jsx("main",{className:"flex-1 p-8",children:re()})]})]}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-purple-900/10 flex w-full",children:[l.jsx(Ef,{onNavigate:s,activeView:f,selectedAgent:r}),l.jsxs("div",{className:"flex-1 flex flex-col ml-64",children:[l.jsx(Nf,{identity:o,sessionToken:e,onLogout:F,searchQuery:$,onSearchChange:ue,notifications:J}),l.jsx("main",{className:"flex-1 p-8",children:l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-lg mb-2",children:"Authentication Required"}),l.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Please log in with Internet Identity to access the dashboard."})]})})})]})]})},I6=({isMenuOpen:e,setIsMenuOpen:r,handleLogin:n})=>l.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 backdrop-blur-md bg-white/70 dark:bg-black/70 border-b border-white/20 dark:border-white/10",children:l.jsxs("div",{className:"container mx-auto px-4 py-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:l.jsx(uo,{className:"w-5 h-5 text-white"})}),l.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"NeoChat"})]}),l.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[l.jsx("a",{href:"#features",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Features"}),l.jsx("a",{href:"#how-it-works",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"How it Works"}),l.jsx("a",{href:"#pricing",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Pricing"}),l.jsx(Df,{}),l.jsx(lr,{onClick:n,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg backdrop-blur-sm",children:"Launch App"})]}),l.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[l.jsx(Df,{}),l.jsx(lr,{variant:"ghost",size:"icon",className:"backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10",onClick:()=>r(!e),children:e?l.jsx(T4,{className:"w-6 h-6"}):l.jsx(v4,{className:"w-6 h-6"})})]})]}),e&&l.jsx("div",{className:"md:hidden mt-4 pb-4 border-t border-white/20 dark:border-white/10 pt-4 backdrop-blur-md bg-white/50 dark:bg-black/50 rounded-lg",children:l.jsxs("nav",{className:"flex flex-col space-y-4",children:[l.jsx("a",{href:"#features",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Features"}),l.jsx("a",{href:"#how-it-works",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"How it Works"}),l.jsx("a",{href:"#pricing",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Pricing"}),l.jsx(lr,{onClick:n,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 w-full shadow-lg",children:"Launch App"})]})})]})}),$6=({handleLogin:e})=>l.jsxs("section",{className:"pt-32 pb-20 bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 rounded-full bg-gradient-to-br from-blue-400/30 to-purple-400/30 blur-3xl"}),l.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 rounded-full bg-gradient-to-br from-purple-400/30 to-pink-400/30 blur-3xl"})]}),l.jsx("div",{className:"container mx-auto px-4 relative z-10",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsxs("div",{className:"flex items-center space-x-2 backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10 px-4 py-2 rounded-full shadow-lg",children:[l.jsx(Zf,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),l.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:"Powered by Internet Computer Protocol"})]})}),l.jsxs("h1",{className:"text-5xl md:text-6xl font-bold mb-6 leading-tight text-gray-900 dark:text-white",children:["Deploy"," ",l.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"AI Agents"}),l.jsx("br",{}),"On-Chain"]}),l.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-8 max-w-2xl mx-auto",children:"Create, customize, and deploy intelligent AI support agents directly on the blockchain. No servers, no middlemen, just pure decentralized AI power."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[l.jsxs(lr,{onClick:e,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-lg px-8 py-6 shadow-xl backdrop-blur-sm",children:["Create Your Agent",l.jsx(y0,{className:"w-5 h-5 ml-2"})]}),l.jsx(lr,{variant:"outline",className:"text-lg px-8 py-6 backdrop-blur-md bg-white/10 dark:bg-black/10 border-white/30 dark:border-white/20 hover:bg-white/20 dark:hover:bg-white/10 shadow-lg",children:"Watch Demo"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-16",children:[l.jsxs("div",{className:"flex flex-col items-center text-center p-6 rounded-xl backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center mb-4 shadow-lg",children:l.jsx(S4,{className:"w-6 h-6 text-white"})}),l.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:"Fully Decentralized"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"No centralized servers or APIs. Your AI agents run entirely on-chain."})]}),l.jsxs("div",{className:"flex flex-col items-center text-center p-6 rounded-xl backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center mb-4 shadow-lg",children:l.jsx(Hx,{className:"w-6 h-6 text-white"})}),l.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:"Lightning Fast"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Powered by ICP's high-performance canisters for instant responses."})]}),l.jsxs("div",{className:"flex flex-col items-center text-center p-6 rounded-xl backdrop-blur-md bg-white/20 dark:bg-black/20 border border-white/30 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center mb-4 shadow-lg",children:l.jsx(Zf,{className:"w-6 h-6 text-white"})}),l.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:"Easy Integration"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Embed anywhere with our simple SDK and customizable widgets."})]})]})]})})]}),z6=()=>{const e=[{icon:uo,title:"AI Agent Builder",description:"Create custom AI agents with unique personalities, knowledge bases, and conversation styles using our intuitive wizard.",gradient:"from-blue-500 to-blue-600"},{icon:p4,title:"On-Chain Storage",description:"All agent configurations and conversation logs stored securely on ICP canisters with full encryption.",gradient:"from-purple-500 to-purple-600"},{icon:Ix,title:"Easy Embedding",description:"Deploy your AI agents anywhere with our JavaScript SDK and customizable web components.",gradient:"from-green-500 to-green-600"},{icon:x4,title:"Internet Identity",description:"Secure authentication and agent ownership through ICP's decentralized identity system.",gradient:"from-red-500 to-red-600"},{icon:y4,title:"Chain Fusion",description:"Connect to external data sources and other blockchains using HTTPS outcalls and EVM RPC integration.",gradient:"from-yellow-500 to-yellow-600"},{icon:zx,title:"Usage Analytics",description:"Track performance metrics, usage patterns, and optimize your AI agents with detailed analytics.",gradient:"from-indigo-500 to-indigo-600"}];return l.jsxs("section",{id:"features",className:"py-20 bg-white dark:bg-gray-900 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:"absolute top-20 right-20 w-64 h-64 rounded-full bg-gradient-to-br from-blue-400/20 to-purple-400/20 blur-3xl"}),l.jsx("div",{className:"absolute bottom-20 left-20 w-64 h-64 rounded-full bg-gradient-to-br from-purple-400/20 to-pink-400/20 blur-3xl"})]}),l.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("h2",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-white",children:["Powerful Features for"," ",l.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Decentralized AI"})]}),l.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Everything you need to create, deploy, and manage intelligent AI agents on the blockchain."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((r,n)=>l.jsx(wi,{className:"backdrop-blur-md bg-white/50 dark:bg-black/30 border border-white/30 dark:border-white/10 hover:bg-white/60 dark:hover:bg-black/40 hover:shadow-xl transition-all duration-300 group",children:l.jsxs(vi,{className:"p-6",children:[l.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${r.gradient} rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg`,children:l.jsx(r.icon,{className:"w-6 h-6 text-white"})}),l.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-900 dark:text-white",children:r.title}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:r.description})]})},n))})]})]})},V6=()=>{const e=[{icon:N4,title:"Design Your Agent",description:"Use our intuitive wizard to define your AI agent's personality, knowledge base, and conversation style.",color:"blue"},{icon:$x,title:"Configure & Train",description:"Fine-tune your agent's responses, upload training data, and connect to external knowledge sources.",color:"purple"},{icon:E4,title:"Deploy On-Chain",description:"Launch your AI agent on ICP canisters and embed it anywhere with our simple integration code.",color:"green"}];return l.jsxs("section",{id:"how-it-works",className:"py-20 bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-800 dark:to-blue-900 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:"absolute top-32 left-32 w-48 h-48 rounded-full bg-gradient-to-br from-blue-400/30 to-purple-400/30 blur-3xl"}),l.jsx("div",{className:"absolute bottom-32 right-32 w-48 h-48 rounded-full bg-gradient-to-br from-purple-400/30 to-pink-400/30 blur-3xl"})]}),l.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-white",children:"How It Works"}),l.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Create and deploy your AI agent in three simple steps"})]}),l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 relative",children:e.map((r,n)=>l.jsxs("div",{className:"relative",children:[l.jsx(wi,{className:"backdrop-blur-md bg-white/60 dark:bg-black/40 border border-white/30 dark:border-white/10 hover:shadow-xl transition-all duration-300 hover:bg-white/70 dark:hover:bg-black/50",children:l.jsxs(vi,{className:"p-8 text-center",children:[l.jsx("div",{className:`w-16 h-16 mx-auto mb-6 rounded-full flex items-center justify-center shadow-lg
                      ${r.color==="blue"?"bg-gradient-to-br from-blue-500 to-blue-600":""}
                      ${r.color==="purple"?"bg-gradient-to-br from-purple-500 to-purple-600":""}
                      ${r.color==="green"?"bg-gradient-to-br from-green-500 to-green-600":""}
                    `,children:l.jsx(r.icon,{className:"w-8 h-8 text-white"})}),l.jsxs("div",{className:"text-lg font-bold mb-2 text-gray-800 dark:text-gray-200",children:["Step ",n+1]}),l.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:r.title}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:r.description})]})}),n<e.length-1&&l.jsx("div",{className:"hidden md:block absolute top-1/2 right-0 transform translate-x-1/2 -translate-y-1/2 z-10",children:l.jsx("div",{className:"w-8 h-8 rounded-full backdrop-blur-md bg-white/50 dark:bg-black/50 border border-white/30 dark:border-white/10 flex items-center justify-center shadow-lg",children:l.jsx(y0,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})})})]},n))})})]})]})},H6=Wx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Tg({className:e,variant:r,...n}){return l.jsx("div",{className:On(H6({variant:r}),e),...n})}const q6=()=>{const e=[{name:"Community",price:"Free",period:"",description:"Perfect for trying out NeoChat and small personal projects.",features:["100 messages per month","Basic AI models","Community support","Public agent gallery","Basic customization"],limits:{messages:"100",agents:"3",storage:"100MB",support:"Community"},popular:!1,buttonText:"Get Started",buttonVariant:"outline"},{name:"Base",price:"$9.99",period:"/month",description:"Great for individuals and small teams getting started with AI chat.",features:["1,000 messages per month","Standard AI models","Email support","Private agents","Advanced customization"],limits:{messages:"1,000",agents:"10",storage:"1GB",support:"Email"},popular:!1,buttonText:"Upgrade to Base",buttonVariant:"default"},{name:"Pro",price:"$29.99",period:"/month",description:"Perfect for growing businesses and teams that need advanced features.",features:["5,000 messages per month","Premium AI models","Priority support","API access","Advanced analytics"],limits:{messages:"5,000",agents:"50",storage:"10GB",support:"Priority"},popular:!0,buttonText:"Upgrade to Pro",buttonVariant:"default"},{name:"Enterprise",price:"Custom",period:"",description:"Tailored solutions for large organizations with specific requirements.",features:["Unlimited messages","All AI models","Dedicated support","Custom features","SLA guarantees"],limits:{messages:"Unlimited",agents:"Unlimited",storage:"Unlimited",support:"Dedicated"},popular:!1,buttonText:"Contact Sales",buttonVariant:"outline"}];return l.jsx("section",{id:"pricing",className:"py-24 px-4 bg-white dark:bg-gray-900",children:l.jsxs("div",{className:"container mx-auto max-w-7xl",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-6",children:"Choose Your Plan"}),l.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:"Select the perfect plan for your needs. Upgrade or downgrade anytime."}),l.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-8",children:[l.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Monthly"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(lr,{variant:"outline",size:"sm",className:"text-sm",children:"Yearly"}),l.jsx(Tg,{className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300",children:"Save 20%"})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((r,n)=>l.jsxs(wi,{className:`relative bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-lg hover:shadow-xl transition-all duration-300 ${r.popular?"border-2 border-purple-500 dark:border-purple-400 scale-105":""}`,children:[r.popular&&l.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:l.jsx(Tg,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-3 py-1",children:"Most Popular"})}),l.jsxs(Kc,{className:"text-center pb-6",children:[l.jsx(Lc,{className:"text-xl font-bold text-gray-900 dark:text-white",children:r.name}),l.jsxs("div",{className:"mt-4",children:[l.jsx("span",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:r.price}),l.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:r.period})]}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:r.description})]}),l.jsxs(vi,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Features"}),l.jsx("div",{className:"space-y-3",children:r.features.map((s,o)=>l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(f4,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:s})]},o))})]}),l.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Plan Limits"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Messages:"}),l.jsx("br",{}),l.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:r.limits.messages})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Agents:"}),l.jsx("br",{}),l.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:r.limits.agents})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Storage:"}),l.jsx("br",{}),l.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:r.limits.storage})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Support:"}),l.jsx("br",{}),l.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:r.limits.support})]})]})]}),l.jsx(lr,{variant:r.buttonVariant,className:`w-full mt-6 ${r.popular?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white":r.buttonVariant==="default"?"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white":""}`,children:r.buttonText})]})]},r.name))}),l.jsxs("div",{className:"mt-16 text-center",children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-8",children:"Frequently Asked Questions"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"text-left",children:[l.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Can I change my plan anytime?"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Yes, you can upgrade or downgrade your plan at any time. Changes will be prorated."})]}),l.jsxs("div",{className:"text-left",children:[l.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"What happens if I exceed my message limit?"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"You'll be charged $0.02 per additional message. We'll notify you when approaching your limit."})]})]})]})]})})},G6=()=>l.jsxs("footer",{className:"bg-gray-900 dark:bg-black text-white py-16 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:"absolute top-10 right-10 w-32 h-32 rounded-full bg-gradient-to-br from-blue-400/20 to-purple-400/20 blur-2xl"}),l.jsx("div",{className:"absolute bottom-10 left-10 w-32 h-32 rounded-full bg-gradient-to-br from-purple-400/20 to-pink-400/20 blur-2xl"})]}),l.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"md:col-span-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:l.jsx(uo,{className:"w-5 h-5 text-white"})}),l.jsx("span",{className:"text-xl font-bold",children:"NeoChat"})]}),l.jsx("p",{className:"text-gray-400 mb-4",children:"Deploy AI agents on the Internet Computer Protocol. Decentralized, secure, and powerful."}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("div",{className:"p-2 rounded-lg backdrop-blur-md bg-white/10 border border-white/20 hover:bg-white/20 cursor-pointer transition-all duration-300",children:l.jsx(g4,{className:"w-5 h-5 text-gray-400 hover:text-white transition-colors"})}),l.jsx("div",{className:"p-2 rounded-lg backdrop-blur-md bg-white/10 border border-white/20 hover:bg-white/20 cursor-pointer transition-all duration-300",children:l.jsx(A4,{className:"w-5 h-5 text-gray-400 hover:text-white transition-colors"})}),l.jsx("div",{className:"p-2 rounded-lg backdrop-blur-md bg-white/10 border border-white/20 hover:bg-white/20 cursor-pointer transition-all duration-300",children:l.jsx(b4,{className:"w-5 h-5 text-gray-400 hover:text-white transition-colors"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-4",children:"Product"}),l.jsxs("ul",{className:"space-y-2 text-gray-400",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Features"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Pricing"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Documentation"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"API Reference"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-4",children:"Company"}),l.jsxs("ul",{className:"space-y-2 text-gray-400",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"About"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Blog"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Careers"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-4",children:"Resources"}),l.jsxs("ul",{className:"space-y-2 text-gray-400",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Help Center"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Community"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Status"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"})})]})]})]}),l.jsx("div",{className:"border-t border-gray-800 dark:border-gray-700 mt-12 pt-8 text-center text-gray-400",children:l.jsx("p",{children:" 2024 NeoChat. All rights reserved. Built on Internet Computer Protocol."})})]})]}),W6=({handleLogin:e})=>{const[r,n]=K.useState(!1);return l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsx(I6,{isMenuOpen:r,setIsMenuOpen:n,handleLogin:e}),l.jsx($6,{handleLogin:e}),l.jsx(z6,{}),l.jsx(V6,{}),l.jsx(q6,{}),l.jsx(G6,{})]})};var Sf={};function K6(){console.log("Environment variables:",{REACT_APP_II_URL:Sf.REACT_APP_II_URL,REACT_APP_AGENT_MANAGER_CANISTER_ID:Sf.REACT_APP_AGENT_MANAGER_CANISTER_ID,REACT_APP_METRICS_COLLECTOR_CANISTER_ID:Sf.REACT_APP_METRICS_COLLECTOR_CANISTER_ID,DFX_NETWORK:"local"});const[e,r]=K.useState("dashboard"),[n,s]=K.useState(!1),[o,d]=K.useState(null),[f,u]=K.useState(null),[g,_]=K.useState(null),[N,w]=K.useState(null),[k,j]=K.useState(!1),[b,M]=K.useState(""),[B,$]=K.useState(3);K.useEffect(()=>{(async()=>{try{console.log("Initializing authentication...");const F=await p5.create();d(F),await new Promise(le=>setTimeout(le,100));const re=await F.isAuthenticated();if(console.log("AuthClient.isAuthenticated() returned:",re),re){const le=F.getIdentity(),q=le.getPrincipal().toText(),H=q==="2vxsx-fae";if(console.log("Identity principal:",q),console.log("Is anonymous:",H),H)console.log("Clearing anonymous authentication"),await F.logout(),s(!1),u(null),_(null),await _t.setIdentity(null);else{console.log("Setting authenticated state with real identity"),s(!0),u(le),await _t.setIdentity(le);const ce="session_"+q.replace(/[^a-zA-Z0-9]/g,"_");_(ce)}}else console.log("Not authenticated, setting unauthenticated state"),s(!1),u(null),_(null),await _t.setIdentity(null)}catch(F){console.error("Error initializing auth:",F),s(!1),u(null),_(null),await _t.setIdentity(null)}})()},[]);const W=async()=>{if(o)try{const ue="http://rdmx6-jaaaa-aaaaa-aaadq-cai.localhost:4943";console.log("Using Internet Identity URL:",ue),await o.login({identityProvider:ue,onSuccess:async()=>{s(!0);const F=o.getIdentity();u(F),await _t.setIdentity(F);const z="session_"+F.getPrincipal().toText().replace(/[^a-zA-Z0-9]/g,"_");_(z)}})}catch(ue){console.error("Login failed:",ue),s(!1)}},J=async()=>{o&&(await o.logout(),s(!1),u(null),_(null),w(null),r("dashboard"),await _t.setIdentity(null))};return n?l.jsx(F6,{sessionToken:g,selectedAgent:N,onSelectAgent:w,onNavigate:r,identity:f,onLogout:J,activeView:e}):l.jsx(W6,{handleLogin:W})}const L6=()=>{const[e,r]=K.useState(null),[n,s]=K.useState(!0),[o,d]=K.useState(null),f=new URLSearchParams(window.location.search),u=f.get("agent"),g=f.get("theme")||"light",_=f.get("color")||"#4F46E5",N=f.get("welcome")||"";return f.get("placeholder"),K.useEffect(()=>{(async()=>{if(!u){d("No agent ID provided"),s(!1);return}try{console.log("Waiting for canister service to initialize..."),await _t.waitForReady(),console.log("Canister service ready, loading agent:",u);const k=await _t.getAgentPublic(u),j={id:k.id,name:k.name,description:k.description,status:"Active"in k.status?"Active":"Inactive"in k.status?"Inactive":"Draft",created:new Date(Number(k.created)/1e6).toISOString(),lastUpdated:new Date().toISOString(),avatar:Array.isArray(k.config.appearance.avatar)&&k.config.appearance.avatar.length>0?k.config.appearance.avatar[0]:"default",config:{personality:{traits:k.config.personality.traits,tone:k.config.personality.tone,responseStyle:k.config.personality.style},knowledgeBase:{documents:k.config.knowledgeBase.map(b=>b.content),sources:[],context:k.config.knowledgeBase.map(b=>b.content).join(`
`)},behavior:{maxResponseLength:"Long"in k.config.behavior.responseLength?500:200,conversationMemory:!0,escalationRules:[]},appearance:{avatar:(Array.isArray(k.config.appearance.avatar)&&k.config.appearance.avatar.length>0?k.config.appearance.avatar[0]:"default")||"default",theme:g||k.config.appearance.primaryColor||"#3b82f6",welcomeMessage:N||`Hello! I'm ${k.name}. How can I help you today?`}}};console.log("Agent loaded successfully:",j),r(j)}catch(k){console.error("Failed to load agent:",k),k instanceof Error?d(`Failed to load agent: ${k.message}`):d("Failed to load agent. Please check the agent ID and try again."),console.log("Creating demo agent for testing...");const j={id:u||"demo",name:`Demo Agent (${u||"demo"})`,description:"This is a demo agent for testing embed widgets",status:"Active",created:new Date().toISOString(),lastUpdated:new Date().toISOString(),avatar:"default",config:{personality:{traits:["helpful","friendly","knowledgeable"],tone:"professional",responseStyle:"conversational"},knowledgeBase:{documents:["Demo knowledge base for testing"],sources:[],context:"This is a demo agent created for testing embed widgets when real agents are not available."},behavior:{maxResponseLength:300,conversationMemory:!0,escalationRules:[]},appearance:{avatar:"default",theme:g,welcomeMessage:N||`Hello! I'm ${u||"Demo Agent"}. This is a demo mode for testing embed widgets.`}}};r(j),d("Demo mode: Real agent not available. Showing demo functionality.")}finally{s(!1)}})()},[u,N]),K.useEffect(()=>{const w=document.createElement("style");return w.textContent=`
      :root {
        --primary-color: ${_};
      }
      
      body {
        margin: 0;
        padding: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        overflow: hidden;
      }
      
      .embed-container {
        height: 100vh;
        display: flex;
        flex-direction: column;
        background: ${g==="dark"?"#1F2937":"#FFFFFF"};
      }
      
      .embed-header {
        background: var(--primary-color);
        color: white;
        padding: 12px 16px;
        display: flex;
        align-items: center;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        flex-shrink: 0;
      }
      
      .embed-avatar {
        width: 32px;
        height: 32px;
        background: rgba(255,255,255,0.2);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 12px;
        font-size: 14px;
      }
      
      .embed-info h3 {
        margin: 0;
        font-size: 14px;
        font-weight: 600;
      }
      
      .embed-info p {
        margin: 0;
        font-size: 12px;
        opacity: 0.9;
      }
      
      .embed-chat {
        flex: 1;
        overflow: hidden;
      }
      
      .embed-footer {
        padding: 8px 16px;
        text-align: center;
        border-top: 1px solid ${g==="dark"?"#374151":"#E5E7EB"};
        background: ${g==="dark"?"#111827":"#F9FAFB"};
        flex-shrink: 0;
      }
      
      .embed-footer p {
        margin: 0;
        font-size: 10px;
        color: ${g==="dark"?"#9CA3AF":"#6B7280"};
      }
      
      .embed-footer a {
        color: var(--primary-color);
        text-decoration: none;
        font-weight: 500;
      }
      
      .embed-footer a:hover {
        text-decoration: underline;
      }
      
      .embed-loading {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
        background: ${g==="dark"?"#1F2937":"#F9FAFB"};
        color: ${g==="dark"?"#E5E7EB":"#374151"};
      }
      
      .embed-error {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
        background: ${g==="dark"?"#1F2937":"#F9FAFB"};
        color: ${g==="dark"?"#E5E7EB":"#374151"};
        text-align: center;
        padding: 20px;
      }
      
      .spinner {
        animation: spin 1s linear infinite;
        width: 24px;
        height: 24px;
        border: 2px solid transparent;
        border-top: 2px solid var(--primary-color);
        border-radius: 50%;
        margin-right: 12px;
      }
      
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      
      .error-icon {
        width: 48px;
        height: 48px;
        margin-bottom: 16px;
        color: #EF4444;
      }
      
      @media (max-width: 768px) {
        .embed-header {
          padding: 8px 12px;
        }
        
        .embed-avatar {
          width: 28px;
          height: 28px;
          margin-right: 8px;
        }
        
        .embed-info h3 {
          font-size: 13px;
        }
        
        .embed-info p {
          font-size: 11px;
        }
        
        .embed-footer {
          padding: 6px 12px;
        }
      }
    `,document.head.appendChild(w),()=>{document.head.removeChild(w)}},[g,_]),n?l.jsxs("div",{className:"embed-loading",children:[l.jsx("div",{className:"spinner"}),l.jsx("span",{children:"Loading CanistChat..."})]}):o||!e?l.jsx("div",{className:"embed-error",children:l.jsxs("div",{children:[l.jsx("svg",{className:"error-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),l.jsx("h2",{style:{fontSize:"18px",fontWeight:"600",margin:"0 0 8px 0"},children:"Chat Unavailable"}),l.jsx("p",{style:{margin:"0",fontSize:"14px",opacity:"0.8"},children:o||"Agent not found"}),l.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"12px",opacity:"0.6"},children:"Please check the widget configuration and try again."})]})}):l.jsxs("div",{className:"embed-container",children:[n&&l.jsx("div",{className:"loading-state",children:l.jsxs("div",{className:"flex items-center justify-center h-64",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading agent..."})]})}),o&&!e&&l.jsx("div",{className:"error-state",children:l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Agent Not Available"}),l.jsx("p",{className:"text-gray-600 mb-4",children:o}),l.jsxs("div",{className:"text-sm text-gray-500",children:[l.jsx("p",{children:"Please check:"}),l.jsxs("ul",{className:"mt-2 text-left",children:[l.jsx("li",{children:" Agent ID is correct"}),l.jsx("li",{children:" Agent is active and accessible"}),l.jsx("li",{children:" Network connection is stable"})]})]})]})})}),e&&l.jsxs("div",{className:"embed-chat h-full flex flex-col",children:[o&&o.includes("Demo mode")&&l.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3 mb-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),l.jsx("div",{className:"ml-3",children:l.jsxs("p",{className:"text-sm text-yellow-700",children:[l.jsx("strong",{children:"Demo Mode:"})," This widget is running in demonstration mode. Real agent functionality may not be available."]})})]})}),l.jsx("div",{className:"flex-1 min-h-0",children:l.jsx(Jx,{agent:e,sessionToken:null})})]})]})},e1=document.getElementById("root");if(!e1)throw new Error("Root element not found");const Y6=Jw.createRoot(e1);Y6.render(l.jsx(Cg.StrictMode,{children:l.jsx(y6,{children:l.jsx(Vv,{children:l.jsxs(Iv,{children:[l.jsx(Af,{path:"/embed",element:l.jsx(L6,{})}),l.jsx(Af,{path:"/*",element:l.jsx(K6,{})})]})})})}));
